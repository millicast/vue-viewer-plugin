(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["millicast-vue-viewer-plugin"]=t(require("vue")):e["millicast-vue-viewer-plugin"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="fb15")}({"001d":function(e,t,r){},"00b4":function(e,t,r){"use strict";r("ac1f");var n=r("23e7"),o=r("c65b"),i=r("1626"),s=r("825a"),a=r("577e"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=/./.test;n({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=s(this),r=a(e),n=t.exec;if(!i(n))return o(l,t,r);var c=o(n,t,r);return null!==c&&(s(c),!0)}})},"00ee":function(e,t,r){"use strict";var n=r("b622"),o=n("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},"01b4":function(e,t,r){"use strict";var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null},r=this.tail;r?r.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return null===t&&(this.tail=null),e.item}}},e.exports=n},"0223":function(e,t,r){"use strict";r("09bc")},"0366":function(e,t,r){"use strict";var n=r("4625"),o=r("59ed"),i=r("40d5"),s=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},"03ef":function(e,t,r){},"04d1":function(e,t,r){"use strict";var n=r("342f"),o=n.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},"04f8":function(e,t,r){"use strict";var n=r("2d00"),o=r("d039"),i=r("da84"),s=i.String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},"057f":function(e,t,r){"use strict";var n=r("c6b6"),o=r("fc6a"),i=r("241c").f,s=r("f36a"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return i(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"===n(e)?c(e):i(o(e))}},"06cf":function(e,t,r){"use strict";var n=r("83ab"),o=r("c65b"),i=r("d1e7"),s=r("5c6c"),a=r("fc6a"),c=r("a04b"),l=r("1a2d"),u=r("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=n?d:function(e,t){if(e=a(e),t=c(t),u)try{return d(e,t)}catch(r){}if(l(e,t))return s(!o(i.f,e,t),e[t])}},"07ac":function(e,t,r){"use strict";var n=r("23e7"),o=r("6f53").values;n({target:"Object",stat:!0},{values:function(e){return o(e)}})},"07fa":function(e,t,r){"use strict";var n=r("50c4");e.exports=function(e){return n(e.length)}},"083a":function(e,t,r){"use strict";var n=r("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw new o("Cannot delete property "+n(t)+" of "+n(e))}},"09bc":function(e,t,r){},"0b0b":function(e,t,r){},"0b42":function(e,t,r){"use strict";var n=r("e8b5"),o=r("68ee"),i=r("861d"),s=r("b622"),a=s("species"),c=Array;e.exports=function(e){var t;return n(e)&&(t=e.constructor,o(t)&&(t===c||n(t.prototype))?t=void 0:i(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?c:t}},"0b43":function(e,t,r){"use strict";var n=r("04f8");e.exports=n&&!!Symbol["for"]&&!!Symbol.keyFor},"0c47":function(e,t,r){"use strict";var n=r("da84"),o=r("d44e");o(n.JSON,"JSON",!0)},"0cb2":function(e,t,r){"use strict";var n=r("e330"),o=r("7b0b"),i=Math.floor,s=n("".charAt),a=n("".replace),c=n("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,r,n,d,f){var p=r+e.length,h=n.length,m=u;return void 0!==d&&(d=o(d),m=l),a(f,m,(function(o,a){var l;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,r);case"'":return c(t,p);case"<":l=d[c(a,1,-1)];break;default:var u=+a;if(0===u)return o;if(u>h){var f=i(u/10);return 0===f?o:f<=h?void 0===n[f-1]?s(a,1):n[f-1]+s(a,1):o}l=n[u-1]}return void 0===l?"":l}))}},"0ccb":function(e,t,r){"use strict";var n=r("e330"),o=r("50c4"),i=r("577e"),s=r("1148"),a=r("1d80"),c=n(s),l=n("".slice),u=Math.ceil,d=function(e){return function(t,r,n){var s,d,f=i(a(t)),p=o(r),h=f.length,m=void 0===n?" ":i(n);return p<=h||""===m?f:(s=p-h,d=c(m,u(s/m.length)),d.length>s&&(d=l(d,0,s)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},"0cfb":function(e,t,r){"use strict";var n=r("83ab"),o=r("d039"),i=r("cc12");e.exports=!n&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0d26":function(e,t,r){"use strict";var n=r("e330"),o=Error,i=n("".replace),s=function(e){return String(new o(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=i(e,a,"");return e}},"0d51":function(e,t,r){"use strict";var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"107c":function(e,t,r){"use strict";var n=r("d039"),o=r("da84"),i=o.RegExp;e.exports=n((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1148:function(e,t,r){"use strict";var n=r("5926"),o=r("577e"),i=r("1d80"),s=RangeError;e.exports=function(e){var t=o(i(this)),r="",a=n(e);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(r+=t);return r}},"12a8":function(e,t,r){"use strict";var n=r("23e7"),o=r("83ab"),i=r("eb1d"),s=r("59ed"),a=r("7b0b"),c=r("9bf2");o&&n({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){c.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"131a":function(e,t,r){"use strict";var n=r("23e7"),o=r("d2bb");n({target:"Object",stat:!0},{setPrototypeOf:o})},"13d2":function(e,t,r){"use strict";var n=r("e330"),o=r("d039"),i=r("1626"),s=r("1a2d"),a=r("83ab"),c=r("5e77").CONFIGURABLE,l=r("8925"),u=r("69f3"),d=u.enforce,f=u.get,p=String,h=Object.defineProperty,m=n("".slice),g=n("".replace),v=n([].join),b=a&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,r){"Symbol("===m(p(t),0,7)&&(t="["+g(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),b&&r&&s(r,"arity")&&e.length!==r.arity&&h(e,"length",{value:r.arity});try{r&&s(r,"constructor")&&r.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var n=d(e);return s(n,"source")||(n.source=v(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return i(this)&&f(this).source||l(this)}),"toString")},"13d5":function(e,t,r){"use strict";var n=r("23e7"),o=r("d58f").left,i=r("a640"),s=r("2d00"),a=r("605d"),c=!a&&s>79&&s<83,l=c||!i("reduce");n({target:"Array",proto:!0,forced:l},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},"14c3":function(e,t,r){"use strict";var n=r("c65b"),o=r("825a"),i=r("1626"),s=r("c6b6"),a=r("9263"),c=TypeError;e.exports=function(e,t){var r=e.exec;if(i(r)){var l=n(r,e,t);return null!==l&&o(l),l}if("RegExp"===s(e))return n(a,e,t);throw new c("RegExp#exec called on incompatible receiver")}},"14d9":function(e,t,r){"use strict";var n=r("23e7"),o=r("7b0b"),i=r("07fa"),s=r("3a34"),a=r("3511"),c=r("d039"),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=l||!u();n({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=o(this),r=i(t),n=arguments.length;a(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return s(t,r),r}})},"14e5":function(e,t,r){"use strict";var n=r("23e7"),o=r("c65b"),i=r("59ed"),s=r("f069"),a=r("e667"),c=r("2266"),l=r("5eed");n({target:"Promise",stat:!0,forced:l},{all:function(e){var t=this,r=s.f(t),n=r.resolve,l=r.reject,u=a((function(){var r=i(t.resolve),s=[],a=0,u=1;c(e,(function(e){var i=a++,c=!1;u++,o(r,t,e).then((function(e){c||(c=!0,s[i]=e,--u||n(s))}),l)})),--u||n(s)}));return u.error&&l(u.value),r.promise}})},"157a":function(e,t,r){"use strict";var n=r("da84"),o=r("83ab"),i=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!o)return n[e];var t=i(n,e);return t&&t.value}},"159b":function(e,t,r){"use strict";var n=r("da84"),o=r("fdbc"),i=r("785a"),s=r("17c2"),a=r("9112"),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var l in o)o[l]&&c(n[l]&&n[l].prototype);c(i)},1626:function(e,t,r){"use strict";var n="object"==typeof document&&document.all;e.exports="undefined"==typeof n&&void 0!==n?function(e){return"function"==typeof e||e===n}:function(e){return"function"==typeof e}},1787:function(e,t,r){"use strict";var n=r("861d");e.exports=function(e){return n(e)||null===e}},"17c2":function(e,t,r){"use strict";var n=r("b727").forEach,o=r("a640"),i=o("forEach");e.exports=i?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t,r){"use strict";var n=r("3a9b"),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw new o("Incorrect invocation")}},"1a2d":function(e,t,r){"use strict";var n=r("e330"),o=r("7b0b"),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},"1be4":function(e,t,r){"use strict";var n=r("d066");e.exports=n("document","documentElement")},"1c7e":function(e,t,r){"use strict";var n=r("b622"),o=n("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(c){return!1}var r=!1;try{var n={};n[o]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(c){}return r}},"1cdc":function(e,t,r){"use strict";var n=r("342f");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},"1d80":function(e,t,r){"use strict";var n=r("7234"),o=TypeError;e.exports=function(e){if(n(e))throw new o("Can't call method on "+e);return e}},"1dde":function(e,t,r){"use strict";var n=r("d039"),o=r("b622"),i=r("2d00"),s=o("species");e.exports=function(e){return i>=51||!n((function(){var t=[],r=t.constructor={};return r[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,r){"use strict";var n=r("0366"),o=r("c65b"),i=r("825a"),s=r("0d51"),a=r("e95a"),c=r("07fa"),l=r("3a9b"),u=r("9a1f"),d=r("35a1"),f=r("2a62"),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,r){var g,v,b,y,w,S,O,x=r&&r.that,E=!(!r||!r.AS_ENTRIES),_=!(!r||!r.IS_RECORD),j=!(!r||!r.IS_ITERATOR),C=!(!r||!r.INTERRUPTED),k=n(t,x),I=function(e){return g&&f(g,"normal",e),new h(!0,e)},T=function(e){return E?(i(e),C?k(e[0],e[1],I):k(e[0],e[1])):C?k(e,I):k(e)};if(_)g=e.iterator;else if(j)g=e;else{if(v=d(e),!v)throw new p(s(e)+" is not iterable");if(a(v)){for(b=0,y=c(e);y>b;b++)if(w=T(e[b]),w&&l(m,w))return w;return new h(!1)}g=u(e,v)}S=_?e.next:g.next;while(!(O=o(S,g)).done){try{w=T(O.value)}catch(P){f(g,"throw",P)}if("object"==typeof w&&w&&l(m,w))return w}return new h(!1)}},"23cb":function(e,t,r){"use strict";var n=r("5926"),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},"23dc":function(e,t,r){"use strict";var n=r("d44e");n(Math,"Math",!0)},"23e7":function(e,t,r){"use strict";var n=r("da84"),o=r("06cf").f,i=r("9112"),s=r("cb2d"),a=r("6374"),c=r("e893"),l=r("94ca");e.exports=function(e,t){var r,u,d,f,p,h,m=e.target,g=e.global,v=e.stat;if(u=g?n:v?n[m]||a(m,{}):n[m]&&n[m].prototype,u)for(d in t){if(p=t[d],e.dontCallGetSet?(h=o(u,d),f=h&&h.value):f=u[d],r=l(g?d:m+(v?".":"#")+d,e.forced),!r&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),s(u,d,p,e)}}},"241c":function(e,t,r){"use strict";var n=r("ca84"),o=r("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},2532:function(e,t,r){"use strict";var n=r("23e7"),o=r("e330"),i=r("5a34"),s=r("1d80"),a=r("577e"),c=r("ab13"),l=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,r){"use strict";var n=r("5e77").PROPER,o=r("cb2d"),i=r("825a"),s=r("577e"),a=r("d039"),c=r("90d8"),l="toString",u=RegExp.prototype,d=u[l],f=a((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),p=n&&d.name!==l;(f||p)&&o(u,l,(function(){var e=i(this),t=s(e.source),r=s(c(e));return"/"+t+"/"+r}),{unsafe:!0})},2626:function(e,t,r){"use strict";var n=r("d066"),o=r("edd0"),i=r("b622"),s=r("83ab"),a=i("species");e.exports=function(e){var t=n(e);s&&t&&!t[a]&&o(t,a,{configurable:!0,get:function(){return this}})}},"26e9":function(e,t,r){"use strict";var n=r("23e7"),o=r("e330"),i=r("e8b5"),s=o([].reverse),a=[1,2];n({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),s(this)}})},"2a62":function(e,t,r){"use strict";var n=r("c65b"),o=r("825a"),i=r("dc4a");e.exports=function(e,t,r){var s,a;o(e);try{if(s=i(e,"return"),!s){if("throw"===t)throw r;return r}s=n(s,e)}catch(c){a=!0,s=c}if("throw"===t)throw r;if(a)throw s;return o(s),r}},"2ad6":function(e,t,r){"use strict";var n,o;(function(i,s){n=s,o="function"===typeof n?n.call(t,r,t,e):n,void 0===o||(e.exports=o)})("undefined"!==typeof window&&window,(function(){if("undefined"===typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},r=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function n(e,t){var r=Object.prototype.toString.call(e),n="[object Array]"===r||"[object NodeList]"===r||"[object HTMLCollection]"===r||"[object Object]"===r||"undefined"!==typeof jQuery&&e instanceof jQuery||"undefined"!==typeof Elements&&e instanceof Elements,o=0,i=e.length;if(n)for(;o<i;o++)t(e[o]);else t(e)}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function i(e,t){Object.keys(t).forEach((function(r){e.style[r]=t[r]}))}var s=function(e,a){var c=0;function l(){var e,t,r=[];this.add=function(e){r.push(e)},this.call=function(n){for(e=0,t=r.length;e<t;e++)r[e].call(this,n)},this.remove=function(n){var o=[];for(e=0,t=r.length;e<t;e++)r[e]!==n&&o.push(r[e]);r=o},this.length=function(){return r.length}}function u(e,r){if(e)if(e.resizedAttached)e.resizedAttached.add(r);else{e.resizedAttached=new l,e.resizedAttached.add(r),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var n={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},s={position:"absolute",left:"0px",top:"0px",transition:"0s"};i(e.resizeSensor,n);var a=document.createElement("div");a.className="resize-sensor-expand",i(a,n);var u=document.createElement("div");i(u,s),a.appendChild(u);var d=document.createElement("div");d.className="resize-sensor-shrink",i(d,n);var f=document.createElement("div");i(f,s),i(f,{width:"200%",height:"200%"}),d.appendChild(f),e.resizeSensor.appendChild(a),e.resizeSensor.appendChild(d),e.appendChild(e.resizeSensor);var p=window.getComputedStyle(e),h=p?p.getPropertyValue("position"):null;"absolute"!==h&&"relative"!==h&&"fixed"!==h&&"sticky"!==h&&(e.style.position="relative");var m=!1,g=0,v=o(e),b=0,y=0,w=!0;c=0;var S=function(){var t=e.offsetWidth,r=e.offsetHeight;u.style.width=t+10+"px",u.style.height=r+10+"px",a.scrollLeft=t+10,a.scrollTop=r+10,d.scrollLeft=t+10,d.scrollTop=r+10},O=function(){if(w){var r=0===e.offsetWidth&&0===e.offsetHeight;if(r)return void(c||(c=t((function(){c=0,O()}))));w=!1}S()};e.resizeSensor.resetSensor=O;var x=function(){g=0,m&&(b=v.width,y=v.height,e.resizedAttached&&e.resizedAttached.call(v))},E=function(){v=o(e),m=v.width!==b||v.height!==y,m&&!g&&(g=t(x)),O()},_=function(e,t,r){e.attachEvent?e.attachEvent("on"+t,r):e.addEventListener(t,r)};_(a,"scroll",E),_(d,"scroll",E),c=t((function(){c=0,O()}))}}n(e,(function(e){u(e,a)})),this.detach=function(t){c||(r(c),c=0),s.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(s.reset=function(e){n(e,(function(e){e.resizeSensor.resetSensor()}))},s.detach=function(e,t){n(e,(function(e){e&&(e.resizedAttached&&"function"===typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!==typeof MutationObserver){var a=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var r=e[t].addedNodes,n=0;n<r.length;n++)r[n].resizeSensor&&s.reset(r[n])}));document.addEventListener("DOMContentLoaded",(function(e){a.observe(document.body,{childList:!0,subtree:!0})}))}return s}))},"2ba4":function(e,t,r){"use strict";var n=r("40d5"),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?s.bind(i):function(){return s.apply(i,arguments)})},"2cf4":function(e,t,r){"use strict";var n,o,i,s,a=r("da84"),c=r("2ba4"),l=r("0366"),u=r("1626"),d=r("1a2d"),f=r("d039"),p=r("1be4"),h=r("f36a"),m=r("cc12"),g=r("d6d6"),v=r("1cdc"),b=r("605d"),y=a.setImmediate,w=a.clearImmediate,S=a.process,O=a.Dispatch,x=a.Function,E=a.MessageChannel,_=a.String,j=0,C={},k="onreadystatechange";f((function(){n=a.location}));var I=function(e){if(d(C,e)){var t=C[e];delete C[e],t()}},T=function(e){return function(){I(e)}},P=function(e){I(e.data)},A=function(e){a.postMessage(_(e),n.protocol+"//"+n.host)};y&&w||(y=function(e){g(arguments.length,1);var t=u(e)?e:x(e),r=h(arguments,1);return C[++j]=function(){c(t,void 0,r)},o(j),j},w=function(e){delete C[e]},b?o=function(e){S.nextTick(T(e))}:O&&O.now?o=function(e){O.now(T(e))}:E&&!v?(i=new E,s=i.port2,i.port1.onmessage=P,o=l(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&n&&"file:"!==n.protocol&&!f(A)?(o=A,a.addEventListener("message",P,!1)):o=k in m("script")?function(e){p.appendChild(m("script"))[k]=function(){p.removeChild(this),I(e)}}:function(e){setTimeout(T(e),0)}),e.exports={set:y,clear:w}},"2d00":function(e,t,r){"use strict";var n,o,i=r("da84"),s=r("342f"),a=i.process,c=i.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(n=u.split("."),o=n[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&s&&(n=s.match(/Edge\/(\d+)/),(!n||n[1]>=74)&&(n=s.match(/Chrome\/(\d+)/),n&&(o=+n[1]))),e.exports=o},"306f":function(e,t,r){"use strict";r("ae33")},3143:function(e,t,r){"use strict";r("0b0b")},3410:function(e,t,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("7b0b"),s=r("e163"),a=r("e177"),c=o((function(){s(1)}));n({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(e){return s(i(e))}})},"342f":function(e,t,r){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3511:function(e,t,r){"use strict";var n=TypeError,o=9007199254740991;e.exports=function(e){if(e>o)throw n("Maximum allowed index exceeded");return e}},3529:function(e,t,r){"use strict";var n=r("23e7"),o=r("c65b"),i=r("59ed"),s=r("f069"),a=r("e667"),c=r("2266"),l=r("5eed");n({target:"Promise",stat:!0,forced:l},{race:function(e){var t=this,r=s.f(t),n=r.reject,l=a((function(){var s=i(t.resolve);c(e,(function(e){o(s,t,e).then(r.resolve,n)}))}));return l.error&&n(l.value),r.promise}})},"358f":function(e,t,r){},"35a1":function(e,t,r){"use strict";var n=r("f5df"),o=r("dc4a"),i=r("7234"),s=r("3f8c"),a=r("b622"),c=a("iterator");e.exports=function(e){if(!i(e))return o(e,c)||o(e,"@@iterator")||s[n(e)]}},"37e8":function(e,t,r){"use strict";var n=r("83ab"),o=r("aed9"),i=r("9bf2"),s=r("825a"),a=r("fc6a"),c=r("df75");t.f=n&&!o?Object.defineProperties:function(e,t){s(e);var r,n=a(t),o=c(t),l=o.length,u=0;while(l>u)i.f(e,r=o[u++],n[r]);return e}},"3a34":function(e,t,r){"use strict";var n=r("83ab"),o=r("e8b5"),i=TypeError,s=Object.getOwnPropertyDescriptor,a=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!s(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,r){"use strict";var n=r("e330");e.exports=n({}.isPrototypeOf)},"3b0c":function(e,t,r){"use strict";r("4c3d")},"3bbe":function(e,t,r){"use strict";var n=r("1787"),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},"3bca":function(e,t,r){},"3c34":function(e,t,r){"use strict";r("e4ca")},"3c65":function(e,t,r){"use strict";var n=r("23e7"),o=r("7b0b"),i=r("07fa"),s=r("3a34"),a=r("083a"),c=r("3511"),l=1!==[].unshift(0),u=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},d=l||!u();n({target:"Array",proto:!0,arity:1,forced:d},{unshift:function(e){var t=o(this),r=i(t),n=arguments.length;if(n){c(r+n);var l=r;while(l--){var u=l+n;l in t?t[u]=t[l]:a(t,u)}for(var d=0;d<n;d++)t[d]=arguments[d]}return s(t,r+n)}})},"3ca3":function(e,t,r){"use strict";var n=r("6547").charAt,o=r("577e"),i=r("69f3"),s=r("c6d2"),a=r("4754"),c="String Iterator",l=i.set,u=i.getterFor(c);s(String,"String",(function(e){l(this,{type:c,string:o(e),index:0})}),(function(){var e,t=u(this),r=t.string,o=t.index;return o>=r.length?a(void 0,!0):(e=n(r,o),t.index+=e.length,a(e,!1))}))},"3f8c":function(e,t,r){"use strict";e.exports={}},"408a":function(e,t,r){"use strict";var n=r("e330");e.exports=n(1..valueOf)},"40d5":function(e,t,r){"use strict";var n=r("d039");e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4160:function(e,t,r){"use strict";var n=r("23e7"),o=r("17c2");n({target:"Array",proto:!0,forced:[].forEach!==o},{forEach:o})},"428f":function(e,t,r){"use strict";var n=r("da84");e.exports=n},4362:function(e,t,r){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=r("df7c")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,r){"use strict";var n=r("e330"),o=r("d039"),i=r("c6b6"),s=Object,a=n("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?a(e,""):s(e)}:s},"44d2":function(e,t,r){"use strict";var n=r("b622"),o=r("7c73"),i=r("9bf2").f,s=n("unscopables"),a=Array.prototype;void 0===a[s]&&i(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,r){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(r){}}},"44e7":function(e,t,r){"use strict";var n=r("861d"),o=r("c6b6"),i=r("b622"),s=i("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===o(e))}},"45fc":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").some,i=r("a640"),s=i("some");n({target:"Array",proto:!0,forced:!s},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},4625:function(e,t,r){"use strict";var n=r("c6b6"),o=r("e330");e.exports=function(e){if("Function"===n(e))return o(e)}},"466d":function(e,t,r){"use strict";var n=r("c65b"),o=r("d784"),i=r("825a"),s=r("7234"),a=r("50c4"),c=r("577e"),l=r("1d80"),u=r("dc4a"),d=r("8aa5"),f=r("14c3");o("match",(function(e,t,r){return[function(t){var r=l(this),o=s(t)?void 0:u(t,e);return o?n(o,t,r):new RegExp(t)[e](c(r))},function(e){var n=i(this),o=c(e),s=r(t,n,o);if(s.done)return s.value;if(!n.global)return f(n,o);var l=n.unicode;n.lastIndex=0;var u,p=[],h=0;while(null!==(u=f(n,o))){var m=c(u[0]);p[h]=m,""===m&&(n.lastIndex=d(o,a(n.lastIndex),l)),h++}return 0===h?null:p}]}))},4738:function(e,t,r){"use strict";var n=r("da84"),o=r("d256"),i=r("1626"),s=r("94ca"),a=r("8925"),c=r("b622"),l=r("6069"),u=r("6c59"),d=r("c430"),f=r("2d00"),p=o&&o.prototype,h=c("species"),m=!1,g=i(n.PromiseRejectionEvent),v=s("Promise",(function(){var e=a(o),t=e!==String(o);if(!t&&66===f)return!0;if(d&&(!p["catch"]||!p["finally"]))return!0;if(!f||f<51||!/native code/.test(e)){var r=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))},i=r.constructor={};if(i[h]=n,m=r.then((function(){}))instanceof n,!m)return!0}return!t&&(l||u)&&!g}));e.exports={CONSTRUCTOR:v,REJECTION_EVENT:g,SUBCLASSING:m}},4754:function(e,t,r){"use strict";e.exports=function(e,t){return{value:e,done:t}}},4840:function(e,t,r){"use strict";var n=r("825a"),o=r("5087"),i=r("7234"),s=r("b622"),a=s("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||i(r=n(s)[a])?t:o(r)}},"485a":function(e,t,r){"use strict";var n=r("c65b"),o=r("1626"),i=r("861d"),s=TypeError;e.exports=function(e,t){var r,a;if("string"===t&&o(r=e.toString)&&!i(a=n(r,e)))return a;if(o(r=e.valueOf)&&!i(a=n(r,e)))return a;if("string"!==t&&o(r=e.toString)&&!i(a=n(r,e)))return a;throw new s("Can't convert object to primitive value")}},"4c3d":function(e,t,r){},"4c45":function(e,t,r){"use strict";r("df7e")},"4cb6":function(e,t,r){"use strict";r("358f")},"4d64":function(e,t,r){"use strict";var n=r("fc6a"),o=r("23cb"),i=r("07fa"),s=function(e){return function(t,r,s){var a,c=n(t),l=i(c),u=o(s,l);if(e&&r!==r){while(l>u)if(a=c[u++],a!==a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===r)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").filter,i=r("1dde"),s=i("filter");n({target:"Array",proto:!0,forced:!s},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,r){"use strict";var n=r("0366"),o=r("c65b"),i=r("7b0b"),s=r("9bdd"),a=r("e95a"),c=r("68ee"),l=r("07fa"),u=r("8418"),d=r("9a1f"),f=r("35a1"),p=Array;e.exports=function(e){var t=i(e),r=c(this),h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m;g&&(m=n(m,h>2?arguments[2]:void 0));var v,b,y,w,S,O,x=f(t),E=0;if(!x||this===p&&a(x))for(v=l(t),b=r?new this(v):p(v);v>E;E++)O=g?m(t[E],E):t[E],u(b,E,O);else for(w=d(t,x),S=w.next,b=r?new this:[];!(y=o(S,w)).done;E++)O=g?s(w,m,[y.value,E],!0):y.value,u(b,E,O);return b.length=E,b}},"4e82":function(e,t,r){"use strict";var n=r("23e7"),o=r("e330"),i=r("59ed"),s=r("7b0b"),a=r("07fa"),c=r("083a"),l=r("577e"),u=r("d039"),d=r("addb"),f=r("a640"),p=r("04d1"),h=r("d998"),m=r("2d00"),g=r("512c"),v=[],b=o(v.sort),y=o(v.push),w=u((function(){v.sort(void 0)})),S=u((function(){v.sort(null)})),O=f("sort"),x=!u((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(g)return g<603;var e,t,r,n,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:t+n,v:r})}for(v.sort((function(e,t){return t.v-e.v})),n=0;n<v.length;n++)t=v[n].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),E=w||!S||!O||!x,_=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:l(t)>l(r)?1:-1}};n({target:"Array",proto:!0,forced:E},{sort:function(e){void 0!==e&&i(e);var t=s(this);if(x)return void 0===e?b(t):b(t,e);var r,n,o=[],l=a(t);for(n=0;n<l;n++)n in t&&y(o,t[n]);d(o,_(e)),r=a(o),n=0;while(n<r)t[n]=o[n++];while(n<l)c(t,n++);return t}})},"4fad":function(e,t,r){"use strict";var n=r("23e7"),o=r("6f53").entries;n({target:"Object",stat:!0},{entries:function(e){return o(e)}})},5087:function(e,t,r){"use strict";var n=r("68ee"),o=r("0d51"),i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not a constructor")}},"50c4":function(e,t,r){"use strict";var n=r("5926"),o=Math.min;e.exports=function(e){var t=n(e);return t>0?o(t,9007199254740991):0}},"512c":function(e,t,r){"use strict";var n=r("342f"),o=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},5134:function(e,t,r){"use strict";(function(e){let n,o;function i(){var t;return void 0!==n||("undefined"!==typeof window&&window.performance?(n=!0,o=window.performance):"undefined"!==typeof e&&(null===(t=e.perf_hooks)||void 0===t?void 0:t.performance)?(n=!0,o=e.perf_hooks.performance):n=!1),n}function s(){return i()?o.now():Date.now()}r.d(t,"a",(function(){return s}))}).call(this,r("c8ba"))},"51eb":function(e,t,r){"use strict";var n=r("825a"),o=r("485a"),i=TypeError;e.exports=function(e){if(n(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new i("Incorrect hint");return o(this,e)}},5319:function(e,t,r){"use strict";var n=r("2ba4"),o=r("c65b"),i=r("e330"),s=r("d784"),a=r("d039"),c=r("825a"),l=r("1626"),u=r("7234"),d=r("5926"),f=r("50c4"),p=r("577e"),h=r("1d80"),m=r("8aa5"),g=r("dc4a"),v=r("0cb2"),b=r("14c3"),y=r("b622"),w=y("replace"),S=Math.max,O=Math.min,x=i([].concat),E=i([].push),_=i("".indexOf),j=i("".slice),C=function(e){return void 0===e?e:String(e)},k=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),T=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,r){var i=I?"$":"$0";return[function(e,r){var n=h(this),i=u(e)?void 0:g(e,w);return i?o(i,e,n,r):o(t,p(n),e,r)},function(e,o){var s=c(this),a=p(e);if("string"==typeof o&&-1===_(o,i)&&-1===_(o,"$<")){var u=r(t,s,a,o);if(u.done)return u.value}var h=l(o);h||(o=p(o));var g,y=s.global;y&&(g=s.unicode,s.lastIndex=0);var w,k=[];while(1){if(w=b(s,a),null===w)break;if(E(k,w),!y)break;var I=p(w[0]);""===I&&(s.lastIndex=m(a,f(s.lastIndex),g))}for(var T="",P=0,A=0;A<k.length;A++){w=k[A];for(var R,V=p(w[0]),N=S(O(d(w.index),a.length),0),L=[],D=1;D<w.length;D++)E(L,C(w[D]));var M=w.groups;if(h){var B=x([V],L,N,a);void 0!==M&&E(B,M),R=p(n(o,void 0,B))}else R=v(V,a,N,L,M,o);N>=P&&(T+=j(a,P,N)+R,P=N+V.length)}return T+j(a,P)}]}),!T||!k||I)},5646:function(e,t,r){},5692:function(e,t,r){"use strict";var n=r("c430"),o=r("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,r){"use strict";var n=r("d066"),o=r("e330"),i=r("241c"),s=r("7418"),a=r("825a"),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(a(e)),r=s.f;return r?c(t,r(e)):t}},"577e":function(e,t,r){"use strict";var n=r("f5df"),o=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},"57b9":function(e,t,r){"use strict";var n=r("c65b"),o=r("d066"),i=r("b622"),s=r("cb2d");e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,r=t&&t.valueOf,a=i("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return n(r,this)}),{arity:1})}},5899:function(e,t,r){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,r){"use strict";var n=r("e330"),o=r("1d80"),i=r("577e"),s=r("5899"),a=n("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(e){return function(t){var r=i(o(t));return 1&e&&(r=a(r,c,"")),2&e&&(r=a(r,l,"$1")),r}};e.exports={start:u(1),end:u(2),trim:u(3)}},5926:function(e,t,r){"use strict";var n=r("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:n(t)}},5982:function(e,t,r){},"59ed":function(e,t,r){"use strict";var n=r("1626"),o=r("0d51"),i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not a function")}},"5a34":function(e,t,r){"use strict";var n=r("44e7"),o=TypeError;e.exports=function(e){if(n(e))throw new o("The method doesn't accept regular expressions");return e}},"5a47":function(e,t,r){"use strict";var n=r("23e7"),o=r("04f8"),i=r("d039"),s=r("7418"),a=r("7b0b"),c=!o||i((function(){s.f(1)}));n({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"5c6c":function(e,t,r){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,r){"use strict";var n=r("83ab"),o=r("1a2d"),i=Function.prototype,s=n&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,l=a&&(!n||n&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},"5e7e":function(e,t,r){"use strict";var n,o,i,s,a=r("23e7"),c=r("c430"),l=r("605d"),u=r("da84"),d=r("c65b"),f=r("cb2d"),p=r("d2bb"),h=r("d44e"),m=r("2626"),g=r("59ed"),v=r("1626"),b=r("861d"),y=r("19aa"),w=r("4840"),S=r("2cf4").set,O=r("b575"),x=r("44de"),E=r("e667"),_=r("01b4"),j=r("69f3"),C=r("d256"),k=r("4738"),I=r("f069"),T="Promise",P=k.CONSTRUCTOR,A=k.REJECTION_EVENT,R=k.SUBCLASSING,V=j.getterFor(T),N=j.set,L=C&&C.prototype,D=C,M=L,B=u.TypeError,$=u.document,F=u.process,U=I.f,z=U,q=!!($&&$.createEvent&&u.dispatchEvent),G="unhandledrejection",H="rejectionhandled",W=0,Q=1,Y=2,K=1,X=2,J=function(e){var t;return!(!b(e)||!v(t=e.then))&&t},Z=function(e,t){var r,n,o,i=t.value,s=t.state===Q,a=s?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(s||(t.rejection===X&&oe(t),t.rejection=K),!0===a?r=i:(u&&u.enter(),r=a(i),u&&(u.exit(),o=!0)),r===e.promise?l(new B("Promise-chain cycle")):(n=J(r))?d(n,r,c,l):c(r)):l(i)}catch(f){u&&!o&&u.exit(),l(f)}},ee=function(e,t){e.notified||(e.notified=!0,O((function(){var r,n=e.reactions;while(r=n.get())Z(r,e);e.notified=!1,t&&!e.rejection&&re(e)})))},te=function(e,t,r){var n,o;q?(n=$.createEvent("Event"),n.promise=t,n.reason=r,n.initEvent(e,!1,!0),u.dispatchEvent(n)):n={promise:t,reason:r},!A&&(o=u["on"+e])?o(n):e===G&&x("Unhandled promise rejection",r)},re=function(e){d(S,u,(function(){var t,r=e.facade,n=e.value,o=ne(e);if(o&&(t=E((function(){l?F.emit("unhandledRejection",n,r):te(G,r,n)})),e.rejection=l||ne(e)?X:K,t.error))throw t.value}))},ne=function(e){return e.rejection!==K&&!e.parent},oe=function(e){d(S,u,(function(){var t=e.facade;l?F.emit("rejectionHandled",t):te(H,t,e.value)}))},ie=function(e,t,r){return function(n){e(t,n,r)}},se=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=Y,ee(e,!0))},ae=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw new B("Promise can't be resolved itself");var n=J(t);n?O((function(){var r={done:!1};try{d(n,t,ie(ae,r,e),ie(se,r,e))}catch(o){se(r,o,e)}})):(e.value=t,e.state=Q,ee(e,!1))}catch(o){se({done:!1},o,e)}}};if(P&&(D=function(e){y(this,M),g(e),d(n,this);var t=V(this);try{e(ie(ae,t),ie(se,t))}catch(r){se(t,r)}},M=D.prototype,n=function(e){N(this,{type:T,done:!1,notified:!1,parent:!1,reactions:new _,rejection:!1,state:W,value:void 0})},n.prototype=f(M,"then",(function(e,t){var r=V(this),n=U(w(this,D));return r.parent=!0,n.ok=!v(e)||e,n.fail=v(t)&&t,n.domain=l?F.domain:void 0,r.state===W?r.reactions.add(n):O((function(){Z(n,r)})),n.promise})),o=function(){var e=new n,t=V(e);this.promise=e,this.resolve=ie(ae,t),this.reject=ie(se,t)},I.f=U=function(e){return e===D||e===i?new o(e):z(e)},!c&&v(C)&&L!==Object.prototype)){s=L.then,R||f(L,"then",(function(e,t){var r=this;return new D((function(e,t){d(s,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(ce){}p&&p(L,M)}a({global:!0,constructor:!0,wrap:!0,forced:P},{Promise:D}),h(D,T,!1,!0),m(T)},"5eed":function(e,t,r){"use strict";var n=r("d256"),o=r("1c7e"),i=r("4738").CONSTRUCTOR;e.exports=i||!o((function(e){n.all(e).then(void 0,(function(){}))}))},"605d":function(e,t,r){"use strict";var n=r("da84"),o=r("c6b6");e.exports="process"===o(n.process)},6069:function(e,t,r){"use strict";var n=r("6c59"),o=r("605d");e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},"60da":function(e,t,r){"use strict";var n=r("83ab"),o=r("e330"),i=r("c65b"),s=r("d039"),a=r("df75"),c=r("7418"),l=r("d1e7"),u=r("7b0b"),d=r("44ad"),f=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!f||s((function(){if(n&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},r=Symbol("assign detection"),o="abcdefghijklmnopqrst";return e[r]=7,o.split("").forEach((function(e){t[e]=e})),7!==f({},e)[r]||a(f({},t)).join("")!==o}))?function(e,t){var r=u(e),o=arguments.length,s=1,f=c.f,p=l.f;while(o>s){var m,g=d(arguments[s++]),v=f?h(a(g),f(g)):a(g),b=v.length,y=0;while(b>y)m=v[y++],n&&!i(p,g,m)||(r[m]=g[m])}return r}:f},6374:function(e,t,r){"use strict";var n=r("da84"),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},"64e5":function(e,t,r){"use strict";var n=r("e330"),o=r("d039"),i=r("0ccb").start,s=RangeError,a=isFinite,c=Math.abs,l=Date.prototype,u=l.toISOString,d=n(l.getTime),f=n(l.getUTCDate),p=n(l.getUTCFullYear),h=n(l.getUTCHours),m=n(l.getUTCMilliseconds),g=n(l.getUTCMinutes),v=n(l.getUTCMonth),b=n(l.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!==u.call(new Date(-50000000000001))}))||!o((function(){u.call(new Date(NaN))}))?function(){if(!a(d(this)))throw new s("Invalid time value");var e=this,t=p(e),r=m(e),n=t<0?"-":t>9999?"+":"";return n+i(c(t),n?6:4,0)+"-"+i(v(e)+1,2,0)+"-"+i(f(e),2,0)+"T"+i(h(e),2,0)+":"+i(g(e),2,0)+":"+i(b(e),2,0)+"."+i(r,3,0)+"Z"}:u},6547:function(e,t,r){"use strict";var n=r("e330"),o=r("5926"),i=r("577e"),s=r("1d80"),a=n("".charAt),c=n("".charCodeAt),l=n("".slice),u=function(e){return function(t,r){var n,u,d=i(s(t)),f=o(r),p=d.length;return f<0||f>=p?e?"":void 0:(n=c(d,f),n<55296||n>56319||f+1===p||(u=c(d,f+1))<56320||u>57343?e?a(d,f):n:e?l(d,f,f+2):u-56320+(n-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(e,t,r){"use strict";var n=r("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"68ee":function(e,t,r){"use strict";var n=r("e330"),o=r("d039"),i=r("1626"),s=r("f5df"),a=r("d066"),c=r("8925"),l=function(){},u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=n(d.exec),p=!d.test(l),h=function(e){if(!i(e))return!1;try{return u(l,[],e),!0}catch(t){return!1}},m=function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,c(e))}catch(t){return!0}};m.sham=!0,e.exports=!u||o((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?m:h},"69f3":function(e,t,r){"use strict";var n,o,i,s=r("cdce"),a=r("da84"),c=r("861d"),l=r("9112"),u=r("1a2d"),d=r("c6cd"),f=r("f772"),p=r("d012"),h="Object already initialized",m=a.TypeError,g=a.WeakMap,v=function(e){return i(e)?o(e):n(e,{})},b=function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return r}};if(s||d.state){var y=d.state||(d.state=new g);y.get=y.get,y.has=y.has,y.set=y.set,n=function(e,t){if(y.has(e))throw new m(h);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var w=f("state");p[w]=!0,n=function(e,t){if(u(e,w))throw new m(h);return t.facade=e,l(e,w,t),t},o=function(e){return u(e,w)?e[w]:{}},i=function(e){return u(e,w)}}e.exports={set:n,get:o,has:i,enforce:v,getterFor:b}},"6a15":function(e,t,r){"use strict";r("b638")},"6b0d":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const r=e.__vccOpts||e;for(const[n,o]of t)r[n]=o;return r}},"6c59":function(e,t,r){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},"6f19":function(e,t,r){"use strict";var n=r("9112"),o=r("0d26"),i=r("b980"),s=Error.captureStackTrace;e.exports=function(e,t,r,a){i&&(s?s(e,t):n(e,"stack",o(r,a)))}},"6f53":function(e,t,r){"use strict";var n=r("83ab"),o=r("d039"),i=r("e330"),s=r("e163"),a=r("df75"),c=r("fc6a"),l=r("d1e7").f,u=i(l),d=i([].push),f=n&&o((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),p=function(e){return function(t){var r,o=c(t),i=a(o),l=f&&null===s(o),p=i.length,h=0,m=[];while(p>h)r=i[h++],n&&!(l?r in o:u(o,r))||d(m,e?[r,o[r]]:o[r]);return m}};e.exports={entries:p(!0),values:p(!1)}},7149:function(e,t,r){"use strict";var n=r("23e7"),o=r("d066"),i=r("c430"),s=r("d256"),a=r("4738").CONSTRUCTOR,c=r("cdf9"),l=o("Promise"),u=i&&!a;n({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return c(u&&this===l?s:this,e)}})},7156:function(e,t,r){"use strict";var n=r("1626"),o=r("861d"),i=r("d2bb");e.exports=function(e,t,r){var s,a;return i&&n(s=t.constructor)&&s!==r&&o(a=s.prototype)&&a!==r.prototype&&i(e,a),e}},7234:function(e,t,r){"use strict";e.exports=function(e){return null===e||void 0===e}},7282:function(e,t,r){"use strict";var n=r("e330"),o=r("59ed");e.exports=function(e,t,r){try{return n(o(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(i){}}},7418:function(e,t,r){"use strict";t.f=Object.getOwnPropertySymbols},7442:function(e,t,r){"use strict";r("f45e")},"778f":function(e,t,r){"use strict";r("dd24")},"77ce":function(e,t,r){},7839:function(e,t,r){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,r){"use strict";var n=r("cc12"),o=n("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},"7b0b":function(e,t,r){"use strict";var n=r("1d80"),o=Object;e.exports=function(e){return o(n(e))}},"7c73":function(e,t,r){"use strict";var n,o=r("825a"),i=r("37e8"),s=r("7839"),a=r("d012"),c=r("1be4"),l=r("cc12"),u=r("f772"),d=">",f="<",p="prototype",h="script",m=u("IE_PROTO"),g=function(){},v=function(e){return f+h+d+e+f+"/"+h+d},b=function(e){e.write(v("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=l("iframe"),r="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(r),e=t.contentWindow.document,e.open(),e.write(v("document.F=Object")),e.close(),e.F},w=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&n?b(n):y():b(n);var e=s.length;while(e--)delete w[p][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(g[p]=o(e),r=new g,g[p]=null,r[m]=e):r=w(),void 0===t?r:i.f(r,t)}},"7db0":function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").find,i=r("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},8172:function(e,t,r){"use strict";var n=r("e065"),o=r("57b9");n("toPrimitive"),o()},"825a":function(e,t,r){"use strict";var n=r("861d"),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not an object")}},"83ab":function(e,t,r){"use strict";var n=r("d039");e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,r){"use strict";var n=r("a04b"),o=r("9bf2"),i=r("5c6c");e.exports=function(e,t,r){var s=n(t);s in e?o.f(e,s,i(0,r)):e[s]=r}},"861d":function(e,t,r){"use strict";var n=r("1626");e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},"87d4":function(e,t,r){e.exports={ResizeSensor:r("2ad6"),ElementQueries:r("ae72")}},8925:function(e,t,r){"use strict";var n=r("e330"),o=r("1626"),i=r("c6cd"),s=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},"8aa5":function(e,t,r){"use strict";var n=r("6547").charAt;e.exports=function(e,t,r){return t+(r?n(e,t).length:1)}},"8bbf":function(t,r){t.exports=e},"90d8":function(e,t,r){"use strict";var n=r("c65b"),o=r("1a2d"),i=r("3a9b"),s=r("ad6d"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!i(a,e)?t:n(s,e)}},"90e3":function(e,t,r){"use strict";var n=r("e330"),o=0,i=Math.random(),s=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},9112:function(e,t,r){"use strict";var n=r("83ab"),o=r("9bf2"),i=r("5c6c");e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},9224:function(e){e.exports=JSON.parse('{"a":"1.4.2"}')},9263:function(e,t,r){"use strict";var n=r("c65b"),o=r("e330"),i=r("577e"),s=r("ad6d"),a=r("9f7f"),c=r("5692"),l=r("7c73"),u=r("69f3").get,d=r("fce3"),f=r("107c"),p=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,g=o("".charAt),v=o("".indexOf),b=o("".replace),y=o("".slice),w=function(){var e=/a/,t=/b*/g;return n(h,e,"a"),n(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),S=a.BROKEN_CARET,O=void 0!==/()??/.exec("")[1],x=w||O||S||d||f;x&&(m=function(e){var t,r,o,a,c,d,f,x=this,E=u(x),_=i(e),j=E.raw;if(j)return j.lastIndex=x.lastIndex,t=n(m,j,_),x.lastIndex=j.lastIndex,t;var C=E.groups,k=S&&x.sticky,I=n(s,x),T=x.source,P=0,A=_;if(k&&(I=b(I,"y",""),-1===v(I,"g")&&(I+="g"),A=y(_,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==g(_,x.lastIndex-1))&&(T="(?: "+T+")",A=" "+A,P++),r=new RegExp("^(?:"+T+")",I)),O&&(r=new RegExp("^"+T+"$(?!\\s)",I)),w&&(o=x.lastIndex),a=n(h,k?r:x,A),k?a?(a.input=y(a.input,P),a[0]=y(a[0],P),a.index=x.lastIndex,x.lastIndex+=a[0].length):x.lastIndex=0:w&&a&&(x.lastIndex=x.global?a.index+a[0].length:o),O&&a&&a.length>1&&n(p,a[0],r,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&C)for(a.groups=d=l(null),c=0;c<C.length;c++)f=C[c],d[f[0]]=a[f[1]];return a}),e.exports=m},"944a":function(e,t,r){"use strict";var n=r("d066"),o=r("e065"),i=r("d44e");o("toStringTag"),i(n("Symbol"),"Symbol")},"94ca":function(e,t,r){"use strict";var n=r("d039"),o=r("1626"),i=/#|\.prototype\./,s=function(e,t){var r=c[a(e)];return r===u||r!==l&&(o(t)?n(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},"97de":function(e,t,r){},"99af":function(e,t,r){"use strict";var n=r("23e7"),o=r("d039"),i=r("e8b5"),s=r("861d"),a=r("7b0b"),c=r("07fa"),l=r("3511"),u=r("8418"),d=r("65f0"),f=r("1dde"),p=r("b622"),h=r("2d00"),m=p("isConcatSpreadable"),g=h>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),v=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)},b=!g||!f("concat");n({target:"Array",proto:!0,arity:1,forced:b},{concat:function(e){var t,r,n,o,i,s=a(this),f=d(s,0),p=0;for(t=-1,n=arguments.length;t<n;t++)if(i=-1===t?s:arguments[t],v(i))for(o=c(i),l(p+o),r=0;r<o;r++,p++)r in i&&u(f,p,i[r]);else l(p+1),u(f,p++,i);return f.length=p,f}})},"9a1f":function(e,t,r){"use strict";var n=r("c65b"),o=r("59ed"),i=r("825a"),s=r("0d51"),a=r("35a1"),c=TypeError;e.exports=function(e,t){var r=arguments.length<2?a(e):t;if(o(r))return i(n(r,e));throw new c(s(e)+" is not iterable")}},"9bdd":function(e,t,r){"use strict";var n=r("825a"),o=r("2a62");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(s){o(e,"throw",s)}}},"9bf2":function(e,t,r){"use strict";var n=r("83ab"),o=r("0cfb"),i=r("aed9"),s=r("825a"),a=r("a04b"),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=n?i?function(e,t,r){if(s(e),t=a(t),s(r),"function"===typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=u(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:d in r?r[d]:n[d],writable:!1})}return l(e,t,r)}:l:function(e,t,r){if(s(e),t=a(t),s(r),o)try{return l(e,t,r)}catch(n){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},"9f7f":function(e,t,r){"use strict";var n=r("d039"),o=r("da84"),i=o.RegExp,s=n((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=s||n((function(){return!i("a","y").sticky})),c=s||n((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:s}},a04b:function(e,t,r){"use strict";var n=r("c04e"),o=r("d9b5");e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},a15b:function(e,t,r){"use strict";var n=r("23e7"),o=r("e330"),i=r("44ad"),s=r("fc6a"),a=r("a640"),c=o([].join),l=i!==Object,u=l||!a("join",",");n({target:"Array",proto:!0,forced:u},{join:function(e){return c(s(this),void 0===e?",":e)}})},a42f:function(e,t,r){"use strict";r("03ef")},a434:function(e,t,r){"use strict";var n=r("23e7"),o=r("7b0b"),i=r("23cb"),s=r("5926"),a=r("07fa"),c=r("3a34"),l=r("3511"),u=r("65f0"),d=r("8418"),f=r("083a"),p=r("1dde"),h=p("splice"),m=Math.max,g=Math.min;n({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var r,n,p,h,v,b,y=o(this),w=a(y),S=i(e,w),O=arguments.length;for(0===O?r=n=0:1===O?(r=0,n=w-S):(r=O-2,n=g(m(s(t),0),w-S)),l(w+r-n),p=u(y,n),h=0;h<n;h++)v=S+h,v in y&&d(p,h,y[v]);if(p.length=n,r<n){for(h=S;h<w-n;h++)v=h+n,b=h+r,v in y?y[b]=y[v]:f(y,b);for(h=w;h>w-n+r;h--)f(y,h-1)}else if(r>n)for(h=w-n;h>S;h--)v=h+n-1,b=h+r-1,v in y?y[b]=y[v]:f(y,b);for(h=0;h<r;h++)y[h+S]=arguments[h+2];return c(y,w-n+r),p}})},a4b4:function(e,t,r){"use strict";var n=r("342f");e.exports=/web0s(?!.*chrome)/i.test(n)},a4d3:function(e,t,r){"use strict";r("d9f5"),r("b4f8"),r("c513"),r("e9c4"),r("5a47")},a630:function(e,t,r){"use strict";var n=r("23e7"),o=r("4df4"),i=r("1c7e"),s=!i((function(e){Array.from(e)}));n({target:"Array",stat:!0,forced:s},{from:o})},a640:function(e,t,r){"use strict";var n=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&n((function(){r.call(null,t||function(){return 1},1)}))}},a706:function(e,t,r){"use strict";r("001d")},a9e3:function(e,t,r){"use strict";var n=r("23e7"),o=r("c430"),i=r("83ab"),s=r("da84"),a=r("428f"),c=r("e330"),l=r("94ca"),u=r("1a2d"),d=r("7156"),f=r("3a9b"),p=r("d9b5"),h=r("c04e"),m=r("d039"),g=r("241c").f,v=r("06cf").f,b=r("9bf2").f,y=r("408a"),w=r("58a8").trim,S="Number",O=s[S],x=a[S],E=O.prototype,_=s.TypeError,j=c("".slice),C=c("".charCodeAt),k=function(e){var t=h(e,"number");return"bigint"==typeof t?t:I(t)},I=function(e){var t,r,n,o,i,s,a,c,l=h(e,"number");if(p(l))throw new _("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=w(l),t=C(l,0),43===t||45===t){if(r=C(l,2),88===r||120===r)return NaN}else if(48===t){switch(C(l,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+l}for(i=j(l,2),s=i.length,a=0;a<s;a++)if(c=C(i,a),c<48||c>o)return NaN;return parseInt(i,n)}return+l},T=l(S,!O(" 0o1")||!O("0b1")||O("+0x1")),P=function(e){return f(E,e)&&m((function(){y(e)}))},A=function(e){var t=arguments.length<1?0:O(k(e));return P(this)?d(Object(t),this,A):t};A.prototype=E,T&&!o&&(E.constructor=A),n({global:!0,constructor:!0,wrap:!0,forced:T},{Number:A});var R=function(e,t){for(var r,n=i?g(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;n.length>o;o++)u(t,r=n[o])&&!u(e,r)&&b(e,r,v(t,r))};o&&x&&R(a[S],x),(T||o)&&R(a[S],O)},aa1f:function(e,t,r){"use strict";var n=r("83ab"),o=r("d039"),i=r("825a"),s=r("e391"),a=Error.prototype.toString,c=o((function(){if(n){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==a.call(e))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));e.exports=c?function(){var e=i(this),t=s(e.name,"Error"),r=s(e.message);return t?r?t+": "+r:t:r}:a},ab13:function(e,t,r){"use strict";var n=r("b622"),o=n("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(r){try{return t[o]=!1,"/./"[e](t)}catch(n){}}return!1}},ab36:function(e,t,r){"use strict";var n=r("861d"),o=r("9112");e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},ab8b:function(e,t,r){},abc5:function(e,t,r){"use strict";(function(e){function n(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"c",(function(){return i}));const i="function"===typeof Proxy}).call(this,r("c8ba"))},ac1f:function(e,t,r){"use strict";var n=r("23e7"),o=r("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},accc:function(e,t,r){"use strict";var n=r("23e7"),o=r("64e5");n({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},ad6d:function(e,t,r){"use strict";var n=r("825a");e.exports=function(){var e=n(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},addb:function(e,t,r){"use strict";var n=r("f36a"),o=Math.floor,i=function(e,t){var r=e.length;if(r<8){var s,a,c=1;while(c<r){a=c,s=e[c];while(a&&t(e[a-1],s)>0)e[a]=e[--a];a!==c++&&(e[a]=s)}}else{var l=o(r/2),u=i(n(e,0,l),t),d=i(n(e,l),t),f=u.length,p=d.length,h=0,m=0;while(h<f||m<p)e[h+m]=h<f&&m<p?t(u[h],d[m])<=0?u[h++]:d[m++]:h<f?u[h++]:d[m++]}return e};e.exports=i},ae33:function(e,t,r){},ae72:function(e,t,r){"use strict";var n,o,i;(function(s,a){o=[r("2ad6")],n=a,i="function"===typeof n?n.apply(t,o):n,void 0===i||(e.exports=i)})("undefined"!==typeof window&&window,(function(e){var t=function(){var t,r={},n=[];function o(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function s(e,t){var r=t.split(/\d/),n=r[r.length-1];switch(t=parseFloat(t),n){case"px":return t;case"em":return t*o(e);case"rem":return t*o();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var i=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100,a=Math["vmin"===n?"min":"max"];return t*a(i,s);default:return t}}function a(e,t){var n,o,a,c,l,u,d,f;this.element=e;var p=["min-width","min-height","max-width","max-height"];this.call=function(){for(n in a=i(this.element),u={},r[t])r[t].hasOwnProperty(n)&&(o=r[t][n],c=s(this.element,o.value),l="width"===o.property?a.width:a.height,f=o.mode+"-"+o.property,d="","min"===o.mode&&l>=c&&(d+=o.value),"max"===o.mode&&l<=c&&(d+=o.value),u[f]||(u[f]=""),d&&-1===(" "+u[f]+" ").indexOf(" "+d+" ")&&(u[f]+=" "+d));for(var e in p)p.hasOwnProperty(e)&&(u[p[e]]?this.element.setAttribute(p[e],u[p[e]].substr(1)):this.element.removeAttribute(p[e]))}}function c(t,r){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,r)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()})))}function l(e,o,i,s){if("undefined"===typeof r[e]){r[e]=[];var a=n.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+a+"px;}",n.push(e)}r[e].push({mode:o,property:i,value:s})}function u(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"===typeof $$||(t=$$),t||"undefined"===typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function d(e){var t=u(e);for(var n in r)if(r.hasOwnProperty(n))for(var o=t(n,e),i=0,s=o.length;i<s;i++)c(o[i],n)}function f(t){var r=[],n=[],o=[],i=0,s=-1,a=[];for(var c in t.children)if(t.children.hasOwnProperty(c)&&t.children[c].tagName&&"img"===t.children[c].tagName.toLowerCase()){r.push(t.children[c]);var l=t.children[c].getAttribute("min-width")||t.children[c].getAttribute("data-min-width"),u=t.children[c].getAttribute("data-src")||t.children[c].getAttribute("url");o.push(u);var d={minWidth:l};n.push(d),l?t.children[c].style.display="none":(i=r.length-1,t.children[c].style.display="block")}function f(){var e,c=!1;for(e in r)r.hasOwnProperty(e)&&n[e].minWidth&&t.offsetWidth>n[e].minWidth&&(c=e);if(c||(c=i),s!==c)if(a[c])r[s].style.display="none",r[c].style.display="block",s=c;else{var l=new Image;l.onload=function(){r[c].src=o[c],r[s].style.display="none",r[c].style.display="block",a[c]=!0,s=c},l.src=o[c]}else r[c].src=o[c]}s=i,t.resizeSensorInstance=new e(t,f),f()}function p(){for(var e=u(),t=e("[data-responsive-image],[responsive-image]"),r=0,n=t.length;r<n;r++)f(t[r])}var h=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function g(e){var t,r,n,o;e=e.replace(/'/g,'"');while(null!==(t=h.exec(e))){r=t[1]+t[3],n=t[2];while(null!==(o=m.exec(n)))l(r,o[1],o[2],o[3])}}function v(e){var t="";if(e)if("string"===typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||g(e);else for(var r=0,n=e.length;r<n;r++)1===e[r].type?(t=e[r].selectorText||e[r].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?g(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||g(t)):4===e[r].type?v(e[r].cssRules||e[r].rules):3===e[r].type&&e[r].styleSheet.hasOwnProperty("cssRules")&&v(e[r].styleSheet.cssRules)}var b=!1;this.init=function(){var r="animationstart";"undefined"!==typeof document.documentElement.style["webkitAnimationName"]?r="webkitAnimationStart":"undefined"!==typeof document.documentElement.style["MozAnimationName"]?r="mozanimationstart":"undefined"!==typeof document.documentElement.style["OAnimationName"]&&(r="oanimationstart"),document.body.addEventListener(r,(function(t){var r=t.target,o=r&&window.getComputedStyle(r,null),i=o&&o.getPropertyValue("animation-name"),s=i&&-1!==i.indexOf("element-queries");if(s){r.elementQueriesSensor=new e(r,(function(){r.elementQueriesSetupInformation&&r.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(r.resizeSensor,null),l=a.getPropertyValue("min-width");l=parseInt(l.replace("px","")),c(t.target,n[l])}})),b||(t=document.createElement("style"),t.type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),b=!0);for(var o=0,i=document.styleSheets.length;o<i;o++)try{document.styleSheets[o].href&&0===document.styleSheets[o].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[o].href),v(document.styleSheets[o].cssRules||document.styleSheets[o].rules||document.styleSheets[o].cssText)}catch(s){}p()},this.findElementQueriesElements=function(e){d(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var r=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){r(t.init)},t}))},ae93:function(e,t,r){"use strict";var n,o,i,s=r("d039"),a=r("1626"),c=r("861d"),l=r("7c73"),u=r("e163"),d=r("cb2d"),f=r("b622"),p=r("c430"),h=f("iterator"),m=!1;[].keys&&(i=[].keys(),"next"in i?(o=u(u(i)),o!==Object.prototype&&(n=o)):m=!0);var g=!c(n)||s((function(){var e={};return n[h].call(e)!==e}));g?n={}:p&&(n=l(n)),a(n[h])||d(n,h,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:m}},aeb0:function(e,t,r){"use strict";var n=r("9bf2").f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},aed9:function(e,t,r){"use strict";var n=r("83ab"),o=r("d039");e.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(e,t,r){"use strict";var n=r("00ee"),o=r("f5df");e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},b3ad:function(e,t,r){"use strict";r("77ce")},b42e:function(e,t,r){"use strict";var n=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?o:n)(t)}},b4f8:function(e,t,r){"use strict";var n=r("23e7"),o=r("d066"),i=r("1a2d"),s=r("577e"),a=r("5692"),c=r("0b43"),l=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(i(l,t))return l[t];var r=o("Symbol")(t);return l[t]=r,u[r]=t,r}})},b575:function(e,t,r){"use strict";var n,o,i,s,a,c=r("da84"),l=r("157a"),u=r("0366"),d=r("2cf4").set,f=r("01b4"),p=r("1cdc"),h=r("d4c3"),m=r("a4b4"),g=r("605d"),v=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,w=c.Promise,S=l("queueMicrotask");if(!S){var O=new f,x=function(){var e,t;g&&(e=y.domain)&&e.exit();while(t=O.get())try{t()}catch(r){throw O.head&&n(),r}e&&e.enter()};p||g||m||!v||!b?!h&&w&&w.resolve?(s=w.resolve(void 0),s.constructor=w,a=u(s.then,s),n=function(){a(x)}):g?n=function(){y.nextTick(x)}:(d=u(d,c),n=function(){d(x)}):(o=!0,i=b.createTextNode(""),new v(x).observe(i,{characterData:!0}),n=function(){i.data=o=!o}),S=function(e){O.head||n(),O.add(e)}}e.exports=S},b622:function(e,t,r){"use strict";var n=r("da84"),o=r("5692"),i=r("1a2d"),s=r("90e3"),a=r("04f8"),c=r("fdbf"),l=n.Symbol,u=o("wks"),d=c?l["for"]||l:l&&l.withoutSetter||s;e.exports=function(e){return i(u,e)||(u[e]=a&&i(l,e)?l[e]:d("Symbol."+e)),u[e]}},b636:function(e,t,r){"use strict";var n=r("e065");n("asyncIterator")},b638:function(e,t,r){},b64b:function(e,t,r){"use strict";var n=r("23e7"),o=r("7b0b"),i=r("df75"),s=r("d039"),a=s((function(){i(1)}));n({target:"Object",stat:!0,forced:a},{keys:function(e){return i(o(e))}})},b727:function(e,t,r){"use strict";var n=r("0366"),o=r("e330"),i=r("44ad"),s=r("7b0b"),a=r("07fa"),c=r("65f0"),l=o([].push),u=function(e){var t=1===e,r=2===e,o=3===e,u=4===e,d=6===e,f=7===e,p=5===e||d;return function(h,m,g,v){for(var b,y,w=s(h),S=i(w),O=a(S),x=n(m,g),E=0,_=v||c,j=t?_(h,O):r||f?_(h,0):void 0;O>E;E++)if((p||E in S)&&(b=S[E],y=x(b,E,w),e))if(t)j[E]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return E;case 2:l(j,b)}else switch(e){case 4:return!1;case 7:l(j,b)}return d?-1:o||u?u:j}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},b980:function(e,t,r){"use strict";var n=r("d039"),o=r("5c6c");e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},c03e:function(e,t,r){"use strict";r("e444")},c04e:function(e,t,r){"use strict";var n=r("c65b"),o=r("861d"),i=r("d9b5"),s=r("dc4a"),a=r("485a"),c=r("b622"),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,c=s(e,u);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||i(r))return r;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c1f9:function(e,t,r){"use strict";var n=r("23e7"),o=r("2266"),i=r("8418");n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,r){i(t,e,r)}),{AS_ENTRIES:!0}),t}})},c20d:function(e,t,r){"use strict";var n=r("da84"),o=r("d039"),i=r("e330"),s=r("577e"),a=r("58a8").trim,c=r("5899"),l=n.parseInt,u=n.Symbol,d=u&&u.iterator,f=/^[+-]?0x/i,p=i(f.exec),h=8!==l(c+"08")||22!==l(c+"0x16")||d&&!o((function(){l(Object(d))}));e.exports=h?function(e,t){var r=a(s(e));return l(r,t>>>0||(p(f,r)?16:10))}:l},c430:function(e,t,r){"use strict";e.exports=!1},c513:function(e,t,r){"use strict";var n=r("23e7"),o=r("1a2d"),i=r("d9b5"),s=r("0d51"),a=r("5692"),c=r("0b43"),l=a("symbol-to-string-registry");n({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw new TypeError(s(e)+" is not a symbol");if(o(l,e))return l[e]}})},c65b:function(e,t,r){"use strict";var n=r("40d5"),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},c6b6:function(e,t,r){"use strict";var n=r("e330"),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},c6cd:function(e,t,r){"use strict";var n=r("da84"),o=r("6374"),i="__core-js_shared__",s=n[i]||o(i,{});e.exports=s},c6d2:function(e,t,r){"use strict";var n=r("23e7"),o=r("c65b"),i=r("c430"),s=r("5e77"),a=r("1626"),c=r("dcc3"),l=r("e163"),u=r("d2bb"),d=r("d44e"),f=r("9112"),p=r("cb2d"),h=r("b622"),m=r("3f8c"),g=r("ae93"),v=s.PROPER,b=s.CONFIGURABLE,y=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,S=h("iterator"),O="keys",x="values",E="entries",_=function(){return this};e.exports=function(e,t,r,s,h,g,j){c(r,t,s);var C,k,I,T=function(e){if(e===h&&N)return N;if(!w&&e&&e in R)return R[e];switch(e){case O:return function(){return new r(this,e)};case x:return function(){return new r(this,e)};case E:return function(){return new r(this,e)}}return function(){return new r(this)}},P=t+" Iterator",A=!1,R=e.prototype,V=R[S]||R["@@iterator"]||h&&R[h],N=!w&&V||T(h),L="Array"===t&&R.entries||V;if(L&&(C=l(L.call(new e)),C!==Object.prototype&&C.next&&(i||l(C)===y||(u?u(C,y):a(C[S])||p(C,S,_)),d(C,P,!0,!0),i&&(m[P]=_))),v&&h===x&&V&&V.name!==x&&(!i&&b?f(R,"name",x):(A=!0,N=function(){return o(V,this)})),h)if(k={values:T(x),keys:g?N:T(O),entries:T(E)},j)for(I in k)(w||A||!(I in R))&&p(R,I,k[I]);else n({target:t,proto:!0,forced:w||A},k);return i&&!j||R[S]===N||p(R,S,N,{name:h}),m[t]=N,k}},c740:function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").findIndex,i=r("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},c7df:function(e,t,r){"use strict";r("5646")},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},c975:function(e,t,r){"use strict";var n=r("23e7"),o=r("4625"),i=r("4d64").indexOf,s=r("a640"),a=o([].indexOf),c=!!a&&1/a([1],1,-0)<0,l=c||!s("indexOf");n({target:"Array",proto:!0,forced:l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?a(this,e,t)||0:i(this,e,t)}})},ca84:function(e,t,r){"use strict";var n=r("e330"),o=r("1a2d"),i=r("fc6a"),s=r("4d64").indexOf,a=r("d012"),c=n([].push);e.exports=function(e,t){var r,n=i(e),l=0,u=[];for(r in n)!o(a,r)&&o(n,r)&&c(u,r);while(t.length>l)o(n,r=t[l++])&&(~s(u,r)||c(u,r));return u}},caad:function(e,t,r){"use strict";var n=r("23e7"),o=r("4d64").includes,i=r("d039"),s=r("44d2"),a=i((function(){return!Array(1).includes()}));n({target:"Array",proto:!0,forced:a},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cb2d:function(e,t,r){"use strict";var n=r("1626"),o=r("9bf2"),i=r("13d2"),s=r("6374");e.exports=function(e,t,r,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(n(r)&&i(r,l,a),a.global)c?e[t]=r:s(t,r);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cc12:function(e,t,r){"use strict";var n=r("da84"),o=r("861d"),i=n.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},cc98:function(e,t,r){"use strict";var n=r("23e7"),o=r("c430"),i=r("4738").CONSTRUCTOR,s=r("d256"),a=r("d066"),c=r("1626"),l=r("cb2d"),u=s&&s.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(s)){var d=a("Promise").prototype["catch"];u["catch"]!==d&&l(u,"catch",d,{unsafe:!0})}},cca6:function(e,t,r){"use strict";var n=r("23e7"),o=r("60da");n({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},cd74:function(e,t,r){},cdce:function(e,t,r){"use strict";var n=r("da84"),o=r("1626"),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},cdf9:function(e,t,r){"use strict";var n=r("825a"),o=r("861d"),i=r("f069");e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e),s=r.resolve;return s(t),r.promise}},d012:function(e,t,r){"use strict";e.exports={}},d039:function(e,t,r){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,r){"use strict";var n=r("da84"),o=r("1626"),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},d1e7:function(e,t,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:n},d256:function(e,t,r){"use strict";var n=r("da84");e.exports=n.Promise},d28b:function(e,t,r){"use strict";var n=r("e065");n("iterator")},d2bb:function(e,t,r){"use strict";var n=r("7282"),o=r("825a"),i=r("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{e=n(Object.prototype,"__proto__","set"),e(r,[]),t=r instanceof Array}catch(s){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},d3b7:function(e,t,r){"use strict";var n=r("00ee"),o=r("cb2d"),i=r("b041");n||o(Object.prototype,"toString",i,{unsafe:!0})},d401:function(e,t,r){"use strict";var n=r("cb2d"),o=r("aa1f"),i=Error.prototype;i.toString!==o&&n(i,"toString",o)},d44e:function(e,t,r){"use strict";var n=r("9bf2").f,o=r("1a2d"),i=r("b622"),s=i("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,s)&&n(e,s,{configurable:!0,value:t})}},d4c3:function(e,t,r){"use strict";var n=r("342f");e.exports=/ipad|iphone|ipod/i.test(n)&&"undefined"!=typeof Pebble},d58f:function(e,t,r){"use strict";var n=r("59ed"),o=r("7b0b"),i=r("44ad"),s=r("07fa"),a=TypeError,c=function(e){return function(t,r,c,l){var u=o(t),d=i(u),f=s(u);n(r);var p=e?f-1:0,h=e?-1:1;if(c<2)while(1){if(p in d){l=d[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw new a("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in d&&(l=r(l,d[p],p,u));return l}};e.exports={left:c(!1),right:c(!0)}},d6d6:function(e,t,r){"use strict";var n=TypeError;e.exports=function(e,t){if(e<t)throw new n("Not enough arguments");return e}},d745:function(e,t,r){"use strict";r("97de")},d784:function(e,t,r){"use strict";r("ac1f");var n=r("c65b"),o=r("cb2d"),i=r("9263"),s=r("d039"),a=r("b622"),c=r("9112"),l=a("species"),u=RegExp.prototype;e.exports=function(e,t,r,d){var f=a(e),p=!s((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),h=p&&!s((function(){var t=!1,r=/a/;return"split"===e&&(r={},r.constructor={},r.constructor[l]=function(){return r},r.flags="",r[f]=/./[f]),r.exec=function(){return t=!0,null},r[f](""),!t}));if(!p||!h||r){var m=/./[f],g=t(f,""[e],(function(e,t,r,o,s){var a=t.exec;return a===i||a===u.exec?p&&!s?{done:!0,value:n(m,t,r,o)}:{done:!0,value:n(e,r,t,o)}:{done:!1}}));o(String.prototype,e,g[0]),o(u,f,g[1])}d&&c(u[f],"sham",!0)}},d81d:function(e,t,r){"use strict";var n=r("23e7"),o=r("b727").map,i=r("1dde"),s=i("map");n({target:"Array",proto:!0,forced:!s},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d8d3:function(e,t,r){"use strict";r("3bca")},d998:function(e,t,r){"use strict";var n=r("342f");e.exports=/MSIE|Trident/.test(n)},d9b5:function(e,t,r){"use strict";var n=r("d066"),o=r("1626"),i=r("3a9b"),s=r("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,a(e))}},d9e2:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("2ba4"),s=r("e5cb"),a="WebAssembly",c=o[a],l=7!==new Error("e",{cause:7}).cause,u=function(e,t){var r={};r[e]=s(e,t,l),n({global:!0,constructor:!0,arity:1,forced:l},r)},d=function(e,t){if(c&&c[e]){var r={};r[e]=s(a+"."+e,t,l),n({target:a,stat:!0,constructor:!0,arity:1,forced:l},r)}};u("Error",(function(e){return function(t){return i(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),u("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},d9f5:function(e,t,r){"use strict";var n=r("23e7"),o=r("da84"),i=r("c65b"),s=r("e330"),a=r("c430"),c=r("83ab"),l=r("04f8"),u=r("d039"),d=r("1a2d"),f=r("3a9b"),p=r("825a"),h=r("fc6a"),m=r("a04b"),g=r("577e"),v=r("5c6c"),b=r("7c73"),y=r("df75"),w=r("241c"),S=r("057f"),O=r("7418"),x=r("06cf"),E=r("9bf2"),_=r("37e8"),j=r("d1e7"),C=r("cb2d"),k=r("edd0"),I=r("5692"),T=r("f772"),P=r("d012"),A=r("90e3"),R=r("b622"),V=r("e538"),N=r("e065"),L=r("57b9"),D=r("d44e"),M=r("69f3"),B=r("b727").forEach,$=T("hidden"),F="Symbol",U="prototype",z=M.set,q=M.getterFor(F),G=Object[U],H=o.Symbol,W=H&&H[U],Q=o.RangeError,Y=o.TypeError,K=o.QObject,X=x.f,J=E.f,Z=S.f,ee=j.f,te=s([].push),re=I("symbols"),ne=I("op-symbols"),oe=I("wks"),ie=!K||!K[U]||!K[U].findChild,se=function(e,t,r){var n=X(G,t);n&&delete G[t],J(e,t,r),n&&e!==G&&J(G,t,n)},ae=c&&u((function(){return 7!==b(J({},"a",{get:function(){return J(this,"a",{value:7}).a}})).a}))?se:J,ce=function(e,t){var r=re[e]=b(W);return z(r,{type:F,tag:e,description:t}),c||(r.description=t),r},le=function(e,t,r){e===G&&le(ne,t,r),p(e);var n=m(t);return p(r),d(re,n)?(r.enumerable?(d(e,$)&&e[$][n]&&(e[$][n]=!1),r=b(r,{enumerable:v(0,!1)})):(d(e,$)||J(e,$,v(1,b(null))),e[$][n]=!0),ae(e,n,r)):J(e,n,r)},ue=function(e,t){p(e);var r=h(t),n=y(r).concat(me(r));return B(n,(function(t){c&&!i(fe,r,t)||le(e,t,r[t])})),e},de=function(e,t){return void 0===t?b(e):ue(b(e),t)},fe=function(e){var t=m(e),r=i(ee,this,t);return!(this===G&&d(re,t)&&!d(ne,t))&&(!(r||!d(this,t)||!d(re,t)||d(this,$)&&this[$][t])||r)},pe=function(e,t){var r=h(e),n=m(t);if(r!==G||!d(re,n)||d(ne,n)){var o=X(r,n);return!o||!d(re,n)||d(r,$)&&r[$][n]||(o.enumerable=!0),o}},he=function(e){var t=Z(h(e)),r=[];return B(t,(function(e){d(re,e)||d(P,e)||te(r,e)})),r},me=function(e){var t=e===G,r=Z(t?ne:h(e)),n=[];return B(r,(function(e){!d(re,e)||t&&!d(G,e)||te(n,re[e])})),n};l||(H=function(){if(f(W,this))throw new Y("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?g(arguments[0]):void 0,t=A(e),r=function(e){var n=void 0===this?o:this;n===G&&i(r,ne,e),d(n,$)&&d(n[$],t)&&(n[$][t]=!1);var s=v(1,e);try{ae(n,t,s)}catch(a){if(!(a instanceof Q))throw a;se(n,t,s)}};return c&&ie&&ae(G,t,{configurable:!0,set:r}),ce(t,e)},W=H[U],C(W,"toString",(function(){return q(this).tag})),C(H,"withoutSetter",(function(e){return ce(A(e),e)})),j.f=fe,E.f=le,_.f=ue,x.f=pe,w.f=S.f=he,O.f=me,V.f=function(e){return ce(R(e),e)},c&&(k(W,"description",{configurable:!0,get:function(){return q(this).description}}),a||C(G,"propertyIsEnumerable",fe,{unsafe:!0}))),n({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:H}),B(y(oe),(function(e){N(e)})),n({target:F,stat:!0,forced:!l},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),n({target:"Object",stat:!0,forced:!l,sham:!c},{create:de,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:pe}),n({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he}),L(),D(H,F),P[$]=!0},da1f:function(e,t,r){"use strict";r("5982")},da84:function(e,t,r){"use strict";(function(t){var r=function(e){return e&&e.Math===Math&&e};e.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof t&&t)||r("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,r("c8ba"))},da96:function(e,t,r){},dc4a:function(e,t,r){"use strict";var n=r("59ed"),o=r("7234");e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},dcc3:function(e,t,r){"use strict";var n=r("ae93").IteratorPrototype,o=r("7c73"),i=r("5c6c"),s=r("d44e"),a=r("3f8c"),c=function(){return this};e.exports=function(e,t,r,l){var u=t+" Iterator";return e.prototype=o(n,{next:i(+!l,r)}),s(e,u,!1,!0),a[u]=c,e}},dd24:function(e,t,r){},ddb0:function(e,t,r){"use strict";var n=r("da84"),o=r("fdbc"),i=r("785a"),s=r("e260"),a=r("9112"),c=r("d44e"),l=r("b622"),u=l("iterator"),d=s.values,f=function(e,t){if(e){if(e[u]!==d)try{a(e,u,d)}catch(n){e[u]=d}if(c(e,t,!0),o[t])for(var r in s)if(e[r]!==s[r])try{a(e,r,s[r])}catch(n){e[r]=s[r]}}};for(var p in o)f(n[p]&&n[p].prototype,p);f(i,"DOMTokenList")},df75:function(e,t,r){"use strict";var n=r("ca84"),o=r("7839");e.exports=Object.keys||function(e){return n(e,o)}},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var o=e[n];"."===o?e.splice(n,1):".."===o?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}function n(e){"string"!==typeof e&&(e+="");var t,r=0,n=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){r=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":e.slice(r,n)}function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,n="/"===s.charAt(0))}return t=r(o(t.split("/"),(function(e){return!!e})),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),s="/"===i(e,-1);return e=r(o(e.split("/"),(function(e){return!!e})),!n).join("/"),e||n||(e="."),e&&s&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var o=n(e.split("/")),i=n(r.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var l=[];for(c=a;c<o.length;c++)l.push("..");return l=l.concat(i.slice(a)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),r=47===t,n=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!o){n=i;break}}else o=!1;return-1===n?r?"/":".":r&&1===n?"/":e.slice(0,n)},t.basename=function(e,t){var r=n(e);return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,r=0,n=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===n&&(o=!1,n=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){r=s+1;break}}return-1===t||-1===n||0===i||1===i&&t===n-1&&t===r+1?"":e.slice(t,n)};var i="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("4362"))},df7e:function(e,t,r){},e014:function(e,t,r){(function(e,r){!function(e,r){r(t)}(0,(function(t){"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function o(e){var t=function(e,t){if("object"!==n(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!==n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===n(t)?t:String(t)}function i(e,t,r){return(t=o(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function a(e){var t={exports:{}};return e(t,t.exports),t.exports}var c,l,u=function(e){return e&&e.Math==Math&&e},d=u("object"==typeof globalThis&&globalThis)||u("object"==typeof window&&window)||u("object"==typeof self&&self)||u("object"==typeof s&&s)||function(){return this}()||Function("return this")(),f=function(e){try{return!!e()}catch(e){return!0}},p=!f((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=!f((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),m=Function.prototype.call,g=h?m.bind(m):function(){return m.apply(m,arguments)},v={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,y=b&&!v.call({1:2},1)?function(e){var t=b(this,e);return!!t&&t.enumerable}:v,w={f:y},S=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},O=Function.prototype,x=O.call,E=h&&O.bind.bind(x,x),_=h?E:function(e){return function(){return x.apply(e,arguments)}},j=_({}.toString),C=_("".slice),k=function(e){return C(j(e),8,-1)},I=Object,T=_("".split),P=f((function(){return!I("z").propertyIsEnumerable(0)}))?function(e){return"String"==k(e)?T(e,""):I(e)}:I,A=function(e){return null==e},R=TypeError,V=function(e){if(A(e))throw R("Can't call method on "+e);return e},N=function(e){return P(V(e))},L="object"==typeof document&&document.all,D={all:L,IS_HTMLDDA:void 0===L&&void 0!==L},M=D.all,B=D.IS_HTMLDDA?function(e){return"function"==typeof e||e===M}:function(e){return"function"==typeof e},F=D.all,U=D.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:B(e)||e===F}:function(e){return"object"==typeof e?null!==e:B(e)},z=function(e){return B(e)?e:void 0},q=function(e,t){return arguments.length<2?z(d[e]):d[e]&&d[e][t]},G=_({}.isPrototypeOf),H=q("navigator","userAgent")||"",W=d.process,Q=d.Deno,Y=W&&W.versions||Q&&Q.version,K=Y&&Y.v8;K&&(l=(c=K.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!l&&H&&(!(c=H.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=H.match(/Chrome\/(\d+)/))&&(l=+c[1]);var X=l,J=!!Object.getOwnPropertySymbols&&!f((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&X&&X<41})),Z=J&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ee=Object,te=Z?function(e){return"symbol"==typeof e}:function(e){var t=q("Symbol");return B(t)&&G(t.prototype,ee(e))},re=String,ne=function(e){try{return re(e)}catch(e){return"Object"}},oe=TypeError,ie=function(e){if(B(e))return e;throw oe(ne(e)+" is not a function")},se=function(e,t){var r=e[t];return A(r)?void 0:ie(r)},ae=TypeError,ce=Object.defineProperty,le=function(e,t){try{ce(d,e,{value:t,configurable:!0,writable:!0})}catch(o){d[e]=t}return t},ue="__core-js_shared__",de=d[ue]||le(ue,{}),fe=a((function(e){(e.exports=function(e,t){return de[e]||(de[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),pe=Object,he=function(e){return pe(V(e))},me=_({}.hasOwnProperty),ge=Object.hasOwn||function(e,t){return me(he(e),t)},ve=0,be=Math.random(),ye=_(1..toString),we=function(e){return"Symbol("+(void 0===e?"":e)+")_"+ye(++ve+be,36)},Se=fe("wks"),Oe=d.Symbol,xe=Oe&&Oe.for,Ee=Z?Oe:Oe&&Oe.withoutSetter||we,_e=function(e){if(!ge(Se,e)||!J&&"string"!=typeof Se[e]){var t="Symbol."+e;J&&ge(Oe,e)?Se[e]=Oe[e]:Se[e]=Z&&xe?xe(t):Ee(t)}return Se[e]},je=TypeError,Ce=_e("toPrimitive"),ke=function(e,t){if(!U(e)||te(e))return e;var r,n=se(e,Ce);if(n){if(void 0===t&&(t="default"),r=g(n,e,t),!U(r)||te(r))return r;throw je("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var r,n;if("string"===t&&B(r=e.toString)&&!U(n=g(r,e)))return n;if(B(r=e.valueOf)&&!U(n=g(r,e)))return n;if("string"!==t&&B(r=e.toString)&&!U(n=g(r,e)))return n;throw ae("Can't convert object to primitive value")}(e,t)},Ie=function(e){var t=ke(e,"string");return te(t)?t:t+""},Te=d.document,Pe=U(Te)&&U(Te.createElement),Ae=function(e){return Pe?Te.createElement(e):{}},Re=!p&&!f((function(){return 7!=Object.defineProperty(Ae("div"),"a",{get:function(){return 7}}).a})),Ve=Object.getOwnPropertyDescriptor,Ne={f:p?Ve:function(e,t){if(e=N(e),t=Ie(t),Re)try{return Ve(e,t)}catch(e){}if(ge(e,t))return S(!g(w.f,e,t),e[t])}},Le=p&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),De=String,Me=TypeError,Be=function(e){if(U(e))return e;throw Me(De(e)+" is not an object")},$e=TypeError,Fe=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,ze="enumerable",qe="configurable",Ge="writable",He={f:p?Le?function(e,t,r){if(Be(e),t=Ie(t),Be(r),"function"==typeof e&&"prototype"===t&&"value"in r&&Ge in r&&!r[Ge]){var n=Ue(e,t);n&&n[Ge]&&(e[t]=r.value,r={configurable:qe in r?r[qe]:n[qe],enumerable:ze in r?r[ze]:n[ze],writable:!1})}return Fe(e,t,r)}:Fe:function(e,t,r){if(Be(e),t=Ie(t),Be(r),Re)try{return Fe(e,t,r)}catch(e){}if("get"in r||"set"in r)throw $e("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},We=p?function(e,t,r){return He.f(e,t,S(1,r))}:function(e,t,r){return e[t]=r,e},Qe=Function.prototype,Ye=p&&Object.getOwnPropertyDescriptor,Ke=ge(Qe,"name"),Xe={EXISTS:Ke,PROPER:Ke&&"something"===function(){}.name,CONFIGURABLE:Ke&&(!p||p&&Ye(Qe,"name").configurable)},Je=_(Function.toString);B(de.inspectSource)||(de.inspectSource=function(e){return Je(e)});var Ze,et,tt,rt=de.inspectSource,nt=d.WeakMap,ot=B(nt)&&/native code/.test(String(nt)),it=fe("keys"),st=function(e){return it[e]||(it[e]=we(e))},at={},ct="Object already initialized",lt=d.TypeError,ut=d.WeakMap;if(ot||de.state){var dt=de.state||(de.state=new ut);dt.get=dt.get,dt.has=dt.has,dt.set=dt.set,Ze=function(e,t){if(dt.has(e))throw lt(ct);return t.facade=e,dt.set(e,t),t},et=function(e){return dt.get(e)||{}},tt=function(e){return dt.has(e)}}else{var ft=st("state");at[ft]=!0,Ze=function(e,t){if(ge(e,ft))throw lt(ct);return t.facade=e,We(e,ft,t),t},et=function(e){return ge(e,ft)?e[ft]:{}},tt=function(e){return ge(e,ft)}}var pt={set:Ze,get:et,has:tt,enforce:function(e){return tt(e)?et(e):Ze(e,{})},getterFor:function(e){return function(t){var r;if(!U(t)||(r=et(t)).type!==e)throw lt("Incompatible receiver, "+e+" required");return r}}},ht=a((function(e){var t=Xe.CONFIGURABLE,r=pt.enforce,n=pt.get,o=Object.defineProperty,i=p&&!f((function(){return 8!==o((function(){}),"length",{value:8}).length})),s=String(String).split("String"),a=e.exports=function(e,n,a){"Symbol("===String(n).slice(0,7)&&(n="["+String(n).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(n="get "+n),a&&a.setter&&(n="set "+n),(!ge(e,"name")||t&&e.name!==n)&&(p?o(e,"name",{value:n,configurable:!0}):e.name=n),i&&a&&ge(a,"arity")&&e.length!==a.arity&&o(e,"length",{value:a.arity});try{a&&ge(a,"constructor")&&a.constructor?p&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var c=r(e);return ge(c,"source")||(c.source=s.join("string"==typeof n?n:"")),e};Function.prototype.toString=a((function(){return B(this)&&n(this).source||rt(this)}),"toString")})),mt=function(e,t,r,n){n||(n={});var o=n.enumerable,i=void 0!==n.name?n.name:t;if(B(r)&&ht(r,i,n),n.global)o?e[t]=r:le(t,r);else{try{n.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=r:He.f(e,t,{value:r,enumerable:!1,configurable:!n.nonConfigurable,writable:!n.nonWritable})}return e},gt=Math.ceil,vt=Math.floor,bt=Math.trunc||function(e){var t=+e;return(t>0?vt:gt)(t)},yt=function(e){var t=+e;return t!=t||0===t?0:bt(t)},wt=Math.max,St=Math.min,Ot=Math.min,xt=function(e){return e>0?Ot(yt(e),9007199254740991):0},Et=function(e){return xt(e.length)},_t=function(e){return function(t,r,n){var o,i=N(t),s=Et(i),a=function(e,t){var r=yt(e);return r<0?wt(r+t,0):St(r,t)}(n,s);if(e&&r!=r){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===r)return e||a||0;return!e&&-1}},jt={includes:_t(!0),indexOf:_t(!1)},Ct=jt.indexOf,kt=_([].push),It=function(e,t){var r,n=N(e),o=0,i=[];for(r in n)!ge(at,r)&&ge(n,r)&&kt(i,r);for(;t.length>o;)ge(n,r=t[o++])&&(~Ct(i,r)||kt(i,r));return i},Tt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Pt=Tt.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(e){return It(e,Pt)}},Rt={f:Object.getOwnPropertySymbols},Vt=_([].concat),Nt=q("Reflect","ownKeys")||function(e){var t=At.f(Be(e)),r=Rt.f;return r?Vt(t,r(e)):t},Lt=function(e,t,r){for(var n=Nt(t),o=He.f,i=Ne.f,s=0;s<n.length;s++){var a=n[s];ge(e,a)||r&&ge(r,a)||o(e,a,i(t,a))}},Dt=/#|\.prototype\./,Mt=function(e,t){var r=$t[Bt(e)];return r==Ut||r!=Ft&&(B(t)?f(t):!!t)},Bt=Mt.normalize=function(e){return String(e).replace(Dt,".").toLowerCase()},$t=Mt.data={},Ft=Mt.NATIVE="N",Ut=Mt.POLYFILL="P",zt=Mt,qt=Ne.f,Gt=function(e,t){var r,n,o,i,s,a=e.target,c=e.global,l=e.stat;if(r=c?d:l?d[a]||le(a,{}):(d[a]||{}).prototype)for(n in t){if(i=t[n],o=e.dontCallGetSet?(s=qt(r,n))&&s.value:r[n],!zt(c?n:a+(l?".":"#")+n,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;Lt(i,o)}(e.sham||o&&o.sham)&&We(i,"sham",!0),mt(r,n,i,e)}},Ht=Function.prototype,Wt=Ht.apply,Qt=Ht.call,Yt="object"==typeof Reflect&&Reflect.apply||(h?Qt.bind(Wt):function(){return Qt.apply(Wt,arguments)}),Kt=Array.isArray||function(e){return"Array"==k(e)},Xt=_([].slice),Jt=q("JSON","stringify"),Zt=_(/./.exec),er=_("".charAt),tr=_("".charCodeAt),rr=_("".replace),nr=_(1..toString),or=/[\uD800-\uDFFF]/g,ir=/^[\uD800-\uDBFF]$/,sr=/^[\uDC00-\uDFFF]$/,ar=!J||f((function(){var e=q("Symbol")();return"[null]"!=Jt([e])||"{}"!=Jt({a:e})||"{}"!=Jt(Object(e))})),cr=f((function(){return'"\\udf06\\ud834"'!==Jt("\udf06\ud834")||'"\\udead"'!==Jt("\udead")})),lr=function(e,t){var r=Xt(arguments),n=t;if((U(t)||void 0!==e)&&!te(e))return Kt(t)||(t=function(e,t){if(B(n)&&(t=g(n,this,e,t)),!te(t))return t}),r[1]=t,Yt(Jt,null,r)},ur=function(e,t,r){var n=er(r,t-1),o=er(r,t+1);return Zt(ir,e)&&!Zt(sr,o)||Zt(sr,e)&&!Zt(ir,n)?"\\u"+nr(tr(e,0),16):e};Jt&&Gt({target:"JSON",stat:!0,arity:3,forced:ar||cr},{stringify:function(e,t,r){var n=Xt(arguments),o=Yt(ar?lr:Jt,null,n);return cr&&"string"==typeof o?rr(o,or,ur):o}});var dr,fr={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},pr=Ae("span").classList,hr=pr&&pr.constructor&&pr.constructor.prototype,mr=hr===Object.prototype?void 0:hr,gr=Object.keys||function(e){return It(e,Tt)},vr=p&&!Le?Object.defineProperties:function(e,t){Be(e);for(var r,n=N(t),o=gr(t),i=o.length,s=0;i>s;)He.f(e,r=o[s++],n[r]);return e},br={f:vr},yr=q("document","documentElement"),wr="prototype",Sr="script",Or=st("IE_PROTO"),xr=function(){},Er=function(e){return"<"+Sr+">"+e+"</"+Sr+">"},_r=function(e){e.write(Er("")),e.close();var t=e.parentWindow.Object;return e=null,t},jr=function(){try{dr=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;jr="undefined"!=typeof document?document.domain&&dr?_r(dr):(t=Ae("iframe"),r="java"+Sr+":",t.style.display="none",yr.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(Er("document.F=Object")),e.close(),e.F):_r(dr);for(var n=Tt.length;n--;)delete jr[wr][Tt[n]];return jr()};at[Or]=!0;var Cr=Object.create||function(e,t){var r;return null!==e?(xr[wr]=Be(e),r=new xr,xr[wr]=null,r[Or]=e):r=jr(),void 0===t?r:br.f(r,t)},kr=He.f,Ir=_e("unscopables"),Tr=Array.prototype;null==Tr[Ir]&&kr(Tr,Ir,{configurable:!0,value:Cr(null)});var Pr,Ar,Rr,Vr=function(e){Tr[Ir][e]=!0},Nr={},Lr=!f((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Dr=st("IE_PROTO"),Mr=Object,Br=Mr.prototype,$r=Lr?Mr.getPrototypeOf:function(e){var t=he(e);if(ge(t,Dr))return t[Dr];var r=t.constructor;return B(r)&&t instanceof r?r.prototype:t instanceof Mr?Br:null},Fr=_e("iterator"),Ur=!1;[].keys&&("next"in(Rr=[].keys())?(Ar=$r($r(Rr)))!==Object.prototype&&(Pr=Ar):Ur=!0);var zr=!U(Pr)||f((function(){var e={};return Pr[Fr].call(e)!==e}));zr&&(Pr={}),B(Pr[Fr])||mt(Pr,Fr,(function(){return this}));var qr={IteratorPrototype:Pr,BUGGY_SAFARI_ITERATORS:Ur},Gr=He.f,Hr=_e("toStringTag"),Wr=function(e,t,r){e&&!r&&(e=e.prototype),e&&!ge(e,Hr)&&Gr(e,Hr,{configurable:!0,value:t})},Qr=qr.IteratorPrototype,Yr=function(){return this},Kr=function(e,t,r,n){var o=t+" Iterator";return e.prototype=Cr(Qr,{next:S(+!n,r)}),Wr(e,o,!1),Nr[o]=Yr,e},Xr=String,Jr=TypeError,Zr=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=_(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return Be(r),function(e){if("object"==typeof e||B(e))return e;throw Jr("Can't set "+Xr(e)+" as a prototype")}(n),t?e(r,n):r.__proto__=n,r}}():void 0),en=Xe.PROPER,tn=Xe.CONFIGURABLE,rn=qr.IteratorPrototype,nn=qr.BUGGY_SAFARI_ITERATORS,on=_e("iterator"),sn="keys",an="values",cn="entries",ln=function(){return this},un=function(e,t){return{value:e,done:t}},dn=He.f,fn="Array Iterator",pn=pt.set,hn=pt.getterFor(fn),mn=function(e,t,r,n,o,i,s){Kr(r,t,n);var a,c,l,u=function(e){if(e===o&&m)return m;if(!nn&&e in p)return p[e];switch(e){case sn:case an:case cn:return function(){return new r(this,e)}}return function(){return new r(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[on]||p["@@iterator"]||o&&p[o],m=!nn&&h||u(o),v="Array"==t&&p.entries||h;if(v&&(a=$r(v.call(new e)))!==Object.prototype&&a.next&&($r(a)!==rn&&(Zr?Zr(a,rn):B(a[on])||mt(a,on,ln)),Wr(a,d,!0)),en&&o==an&&h&&h.name!==an&&(tn?We(p,"name",an):(f=!0,m=function(){return g(h,this)})),o)if(c={values:u(an),keys:i?m:u(sn),entries:u(cn)},s)for(l in c)(nn||f||!(l in p))&&mt(p,l,c[l]);else Gt({target:t,proto:!0,forced:nn||f},c);return p[on]!==m&&mt(p,on,m,{name:o}),Nr[t]=m,c}(Array,"Array",(function(e,t){pn(this,{type:fn,target:N(e),index:0,kind:t})}),(function(){var e=hn(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,un(void 0,!0)):un("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values"),gn=Nr.Arguments=Nr.Array;if(Vr("keys"),Vr("values"),Vr("entries"),p&&"values"!==gn.name)try{dn(gn,"name",{value:"values"})}catch(t){}var vn=_e("iterator"),bn=_e("toStringTag"),yn=mn.values,wn=function(e,t){if(e){if(e[vn]!==yn)try{We(e,vn,yn)}catch(t){e[vn]=yn}if(e[bn]||We(e,bn,t),fr[t])for(var r in mn)if(e[r]!==mn[r])try{We(e,r,mn[r])}catch(t){e[r]=mn[r]}}};for(var Sn in fr)wn(d[Sn]&&d[Sn].prototype,Sn);wn(mr,"DOMTokenList");var On,xn=a((function(e){!function(t){var r,n={VERSION:"1.6.1"},o={},i=function(e,t){return function(){return t.apply(e,arguments)}},s=function(){var e,t,r=arguments,n=r[0];for(t=1;t<r.length;t++)for(e in r[t])!(e in n)&&r[t].hasOwnProperty(e)&&(n[e]=r[t][e]);return n},a=function(e,t){return{value:e,name:t}};n.TRACE=a(1,"TRACE"),n.DEBUG=a(2,"DEBUG"),n.INFO=a(3,"INFO"),n.TIME=a(4,"TIME"),n.WARN=a(5,"WARN"),n.ERROR=a(8,"ERROR"),n.OFF=a(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(n.TRACE,arguments)},debug:function(){this.invoke(n.DEBUG,arguments)},info:function(){this.invoke(n.INFO,arguments)},warn:function(){this.invoke(n.WARN,arguments)},error:function(){this.invoke(n.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(n.TIME,[e,"end"])},invoke:function(e,t){r&&this.enabledFor(e)&&r(t,s({level:e},this.context))}};var l,u=new c({filterLevel:n.OFF});(l=n).enabledFor=i(u,u.enabledFor),l.trace=i(u,u.trace),l.debug=i(u,u.debug),l.time=i(u,u.time),l.timeEnd=i(u,u.timeEnd),l.info=i(u,u.info),l.warn=i(u,u.warn),l.error=i(u,u.error),l.log=l.info,n.setHandler=function(e){r=e},n.setLevel=function(e){for(var t in u.setLevel(e),o)o.hasOwnProperty(t)&&o[t].setLevel(e)},n.getLevel=function(){return u.getLevel()},n.get=function(e){return o[e]||(o[e]=new c(s({name:e},u.context)))},n.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},r=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(o,i){o=Array.prototype.slice.call(o);var s,a=console.log;i.level===n.TIME?(s=(i.name?"["+i.name+"] ":"")+o[0],"start"===o[1]?console.time?console.time(s):t[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):r(a,[s+": "+((new Date).getTime()-t[s])+"ms"])):(i.level===n.WARN&&console.warn?a=console.warn:i.level===n.ERROR&&console.error?a=console.error:i.level===n.INFO&&console.info?a=console.info:i.level===n.DEBUG&&console.debug?a=console.debug:i.level===n.TRACE&&console.trace&&(a=console.trace),e.formatter(o,i),r(a,o))}},n.useDefaults=function(e){n.setLevel(e&&e.defaultLevel||n.DEBUG),n.setHandler(n.createDefaultHandler(e))},n.setDefaults=n.useDefaults,e.exports?e.exports=n:(n._prevLogger=t.Logger,n.noConflict=function(){return t.Logger=n._prevLogger,n},t.Logger=n)}(s)})),En="0.1.44";const _n=(null===(On=window)||void 0===On||null===(On=On.navigator)||void 0===On?void 0:On.userAgent)||"No user agent available";let jn="",Cn="",kn="",In="",Tn="",Pn="";const An=[],Rn={initAccountId:e=>{jn=""===jn?e:jn},initStreamName:e=>{Cn=""===Cn?e:Cn},initSubscriberId:e=>{kn=""===kn?e:kn},initStreamViewId:e=>{In=""===In?e:In},initFeedId:e=>{Tn=""===Tn?e:Tn},setConnectionState:e=>{Pn=e},addStats:e=>{5===An.length&&An.shift(),An.push(e)},get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5;(!Number.isInteger(e)||e>5||e<=0)&&(e=5);const t={version:En,timestamp:Date.now(),userAgent:_n,accountId:jn,streamName:Cn,subscriberId:kn,connection:Pn,stats:An.slice(-e)};return""!==Tn?t.feedId=Tn:""!==In&&(t.streamViewId=In),t}};function Vn(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Nn(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Vn(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vn(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}xn.useDefaults({defaultLevel:xn.TRACE});const Ln=(e,t)=>{e.unshift("[".concat(t.name||"Global","] ").concat((new Date).toISOString()," - ").concat(t.level.name," -"))},Dn=(e,t)=>t?e.value>=Un[t].value:e.value>=Fn.value,Mn=xn.createDefaultHandler({formatter:Ln});xn.setHandler((e,t)=>{((e,t)=>{e=(e=Array.prototype.slice.call(e)).map(e=>"object"==typeof e?JSON.stringify(e):e),Ln(e,t),0!==Bn?($n.push(e.join(" ")),$n.length>=Bn&&($n=$n.slice(-Bn))):$n=[]})(e,t),Dn(t.level,t.name)&&Mn(e,t);for(const{handler:r,level:n}of zn)t.level.value>=n.value&&r(e,t)});let Bn=1e4,$n=[],Fn=xn.OFF;const Un={},zn=[],qn=Nn(Nn({},xn),{},{enabledFor:Dn,getHistory:()=>$n,getHistoryMaxSize:()=>Bn,setHistoryMaxSize:e=>{Bn=e},setLevel:e=>{Fn=e;for(const t in Un)Un[t]=e},getLevel:()=>Fn,get:e=>{Un[e]||(Un[e]=Fn);const t=xn.get(e);return t.setLevel=t=>{Un[e]=t},t.getLevel=()=>Un[e],t},setHandler:(e,t)=>{zn.push({handler:e,level:t})},diagnose:Rn.get,VERSION:En});var Gn="process"==k(d.process),Hn=_e("species"),Wn=function(e){var t=q(e),r=He.f;p&&t&&!t[Hn]&&r(t,Hn,{configurable:!0,get:function(){return this}})},Qn=TypeError,Yn={};Yn[_e("toStringTag")]="z";var Kn="[object z]"===String(Yn),Xn=_e("toStringTag"),Jn=Object,Zn="Arguments"==k(function(){return arguments}()),eo=Kn?k:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=Jn(e),Xn))?r:Zn?k(t):"Object"==(n=k(t))&&B(t.callee)?"Arguments":n},to=function(){},ro=[],no=q("Reflect","construct"),oo=/^\s*(?:class|function)\b/,io=_(oo.exec),so=!oo.exec(to),ao=function(e){if(!B(e))return!1;try{return no(to,ro,e),!0}catch(e){return!1}},co=function(e){if(!B(e))return!1;switch(eo(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return so||!!io(oo,rt(e))}catch(e){return!0}};co.sham=!0;var lo,uo,fo,po,ho=!no||f((function(){var e;return ao(ao.call)||!ao(Object)||!ao((function(){e=!0}))||e}))?co:ao,mo=TypeError,go=_e("species"),vo=function(e,t){var r,n=Be(e).constructor;return void 0===n||A(r=Be(n)[go])?t:function(e){if(ho(e))return e;throw mo(ne(e)+" is not a constructor")}(r)},bo=function(e){if("Function"===k(e))return _(e)},yo=bo(bo.bind),wo=function(e,t){return ie(e),void 0===t?e:h?yo(e,t):function(){return e.apply(t,arguments)}},So=TypeError,Oo=function(e,t){if(e<t)throw So("Not enough arguments");return e},xo=/(?:ipad|iphone|ipod).*applewebkit/i.test(H),Eo=d.setImmediate,_o=d.clearImmediate,jo=d.process,Co=d.Dispatch,ko=d.Function,Io=d.MessageChannel,To=d.String,Po=0,Ao={},Ro="onreadystatechange";try{lo=d.location}catch(t){}var Vo=function(e){if(ge(Ao,e)){var t=Ao[e];delete Ao[e],t()}},No=function(e){return function(){Vo(e)}},Lo=function(e){Vo(e.data)},Do=function(e){d.postMessage(To(e),lo.protocol+"//"+lo.host)};Eo&&_o||(Eo=function(e){Oo(arguments.length,1);var t=B(e)?e:ko(e),r=Xt(arguments,1);return Ao[++Po]=function(){Yt(t,void 0,r)},uo(Po),Po},_o=function(e){delete Ao[e]},Gn?uo=function(e){jo.nextTick(No(e))}:Co&&Co.now?uo=function(e){Co.now(No(e))}:Io&&!xo?(po=(fo=new Io).port2,fo.port1.onmessage=Lo,uo=wo(po.postMessage,po)):d.addEventListener&&B(d.postMessage)&&!d.importScripts&&lo&&"file:"!==lo.protocol&&!f(Do)?(uo=Do,d.addEventListener("message",Lo,!1)):uo=Ro in Ae("script")?function(e){yr.appendChild(Ae("script"))[Ro]=function(){yr.removeChild(this),Vo(e)}}:function(e){setTimeout(No(e),0)});var Mo,Bo,$o,Fo,Uo,zo,qo,Go,Ho={set:Eo,clear:_o},Wo=/ipad|iphone|ipod/i.test(H)&&void 0!==d.Pebble,Qo=/web0s(?!.*chrome)/i.test(H),Yo=Ne.f,Ko=Ho.set,Xo=d.MutationObserver||d.WebKitMutationObserver,Jo=d.document,Zo=d.process,ei=d.Promise,ti=Yo(d,"queueMicrotask"),ri=ti&&ti.value;ri||(Mo=function(){var e,t;for(Gn&&(e=Zo.domain)&&e.exit();Bo;){t=Bo.fn,Bo=Bo.next;try{t()}catch(e){throw Bo?Fo():$o=void 0,e}}$o=void 0,e&&e.enter()},xo||Gn||Qo||!Xo||!Jo?!Wo&&ei&&ei.resolve?((qo=ei.resolve(void 0)).constructor=ei,Go=wo(qo.then,qo),Fo=function(){Go(Mo)}):Gn?Fo=function(){Zo.nextTick(Mo)}:(Ko=wo(Ko,d),Fo=function(){Ko(Mo)}):(Uo=!0,zo=Jo.createTextNode(""),new Xo(Mo).observe(zo,{characterData:!0}),Fo=function(){zo.data=Uo=!Uo}));var ni=ri||function(e){var t={fn:e,next:void 0};$o&&($o.next=t),Bo||(Bo=t,Fo()),$o=t},oi=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},ii=function(){this.head=null,this.tail=null};ii.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var si=ii,ai=d.Promise,ci="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,li=!ci&&!Gn&&"object"==typeof window&&"object"==typeof document;ai&&ai.prototype;var ui,di,fi,pi=_e("species"),hi=!1,mi=B(d.PromiseRejectionEvent),gi=zt("Promise",(function(){var e=rt(ai),t=e!==String(ai);if(!t&&66===X)return!0;if(!X||X<51||!/native code/.test(e)){var r=new ai((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[pi]=n,!(hi=r.then((function(){}))instanceof n))return!0}return!t&&(li||ci)&&!mi})),vi={CONSTRUCTOR:gi,REJECTION_EVENT:mi,SUBCLASSING:hi},bi=TypeError,yi=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw bi("Bad Promise constructor");t=e,r=n})),this.resolve=ie(t),this.reject=ie(r)},wi={f:function(e){return new yi(e)}},Si=Ho.set,Oi="Promise",xi=vi.CONSTRUCTOR,Ei=vi.REJECTION_EVENT,_i=vi.SUBCLASSING,ji=pt.getterFor(Oi),Ci=pt.set,ki=ai&&ai.prototype,Ii=ai,Ti=ki,Pi=d.TypeError,Ai=d.document,Ri=d.process,Vi=wi.f,Ni=Vi,Li=!!(Ai&&Ai.createEvent&&d.dispatchEvent),Di="unhandledrejection",Mi=function(e){var t;return!(!U(e)||!B(t=e.then))&&t},Bi=function(e,t){var r,n,o,i=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(s||(2===t.rejection&&qi(t),t.rejection=1),!0===a?r=i:(u&&u.enter(),r=a(i),u&&(u.exit(),o=!0)),r===e.promise?l(Pi("Promise-chain cycle")):(n=Mi(r))?g(n,r,c,l):c(r)):l(i)}catch(e){u&&!o&&u.exit(),l(e)}},$i=function(e,t){e.notified||(e.notified=!0,ni((function(){for(var r,n=e.reactions;r=n.get();)Bi(r,e);e.notified=!1,t&&!e.rejection&&Ui(e)})))},Fi=function(e,t,r){var n,o;Li?((n=Ai.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),d.dispatchEvent(n)):n={promise:t,reason:r},!Ei&&(o=d["on"+e])?o(n):e===Di&&function(e,t){var r=d.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}("Unhandled promise rejection",r)},Ui=function(e){g(Si,d,(function(){var t,r=e.facade,n=e.value;if(zi(e)&&(t=oi((function(){Gn?Ri.emit("unhandledRejection",n,r):Fi(Di,r,n)})),e.rejection=Gn||zi(e)?2:1,t.error))throw t.value}))},zi=function(e){return 1!==e.rejection&&!e.parent},qi=function(e){g(Si,d,(function(){var t=e.facade;Gn?Ri.emit("rejectionHandled",t):Fi("rejectionhandled",t,e.value)}))},Gi=function(e,t,r){return function(n){e(t,n,r)}},Hi=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,$i(e,!0))},Wi=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw Pi("Promise can't be resolved itself");var n=Mi(t);n?ni((function(){var r={done:!1};try{g(n,t,Gi(Wi,r,e),Gi(Hi,r,e))}catch(t){Hi(r,t,e)}})):(e.value=t,e.state=1,$i(e,!1))}catch(t){Hi({done:!1},t,e)}}};if(xi&&(Ti=(Ii=function(e){!function(e,t){if(G(t,e))return e;throw Qn("Incorrect invocation")}(this,Ti),ie(e),g(ui,this);var t=ji(this);try{e(Gi(Wi,t),Gi(Hi,t))}catch(e){Hi(t,e)}}).prototype,(ui=function(e){Ci(this,{type:Oi,done:!1,notified:!1,parent:!1,reactions:new si,rejection:!1,state:0,value:void 0})}).prototype=mt(Ti,"then",(function(e,t){var r=ji(this),n=Vi(vo(this,Ii));return r.parent=!0,n.ok=!B(e)||e,n.fail=B(t)&&t,n.domain=Gn?Ri.domain:void 0,0==r.state?r.reactions.add(n):ni((function(){Bi(n,r)})),n.promise})),di=function(){var e=new ui,t=ji(e);this.promise=e,this.resolve=Gi(Wi,t),this.reject=Gi(Hi,t)},wi.f=Vi=function(e){return e===Ii||void 0===e?new di(e):Ni(e)},B(ai)&&ki!==Object.prototype)){fi=ki.then,_i||mt(ki,"then",(function(e,t){var r=this;return new Ii((function(e,t){g(fi,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete ki.constructor}catch(t){}Zr&&Zr(ki,Ti)}Gt({global:!0,constructor:!0,wrap:!0,forced:xi},{Promise:Ii}),Wr(Ii,Oi,!1),Wn(Oi);var Qi=_e("iterator"),Yi=Array.prototype,Ki=_e("iterator"),Xi=function(e){if(!A(e))return se(e,Ki)||se(e,"@@iterator")||Nr[eo(e)]},Ji=TypeError,Zi=function(e,t,r){var n,o;Be(e);try{if(!(n=se(e,"return"))){if("throw"===t)throw r;return r}n=g(n,e)}catch(e){o=!0,n=e}if("throw"===t)throw r;if(o)throw n;return Be(n),r},es=TypeError,ts=function(e,t){this.stopped=e,this.result=t},rs=ts.prototype,ns=function(e,t,r){var n,o,i,s,a,c,l,u,d=r&&r.that,f=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_RECORD),h=!(!r||!r.IS_ITERATOR),m=!(!r||!r.INTERRUPTED),v=wo(t,d),b=function(e){return n&&Zi(n,"normal",e),new ts(!0,e)},y=function(e){return f?(Be(e),m?v(e[0],e[1],b):v(e[0],e[1])):m?v(e,b):v(e)};if(p)n=e.iterator;else if(h)n=e;else{if(!(o=Xi(e)))throw es(ne(e)+" is not iterable");if(void 0!==(u=o)&&(Nr.Array===u||Yi[Qi]===u)){for(i=0,s=Et(e);s>i;i++)if((a=y(e[i]))&&G(rs,a))return a;return new ts(!1)}n=function(e,t){var r=arguments.length<2?Xi(e):t;if(ie(r))return Be(g(r,e));throw Ji(ne(e)+" is not iterable")}(e,o)}for(c=p?e.next:n.next;!(l=g(c,n)).done;){try{a=y(l.value)}catch(e){Zi(n,"throw",e)}if("object"==typeof a&&a&&G(rs,a))return a}return new ts(!1)},os=_e("iterator"),is=!1;try{var ss=0,as={next:function(){return{done:!!ss++}},return:function(){is=!0}};as[os]=function(){return this},Array.from(as,(function(){throw 2}))}catch(t){}var cs=vi.CONSTRUCTOR||!function(e,t){if(!t&&!is)return!1;var r=!1;try{var n={};n[os]=function(){return{next:function(){return{done:r=!0}}}},e(n)}catch(e){}return r}((function(e){ai.all(e).then(void 0,(function(){}))}));Gt({target:"Promise",stat:!0,forced:cs},{all:function(e){var t=this,r=wi.f(t),n=r.resolve,o=r.reject,i=oi((function(){var r=ie(t.resolve),i=[],s=0,a=1;ns(e,(function(e){var c=s++,l=!1;a++,g(r,t,e).then((function(e){l||(l=!0,i[c]=e,--a||n(i))}),o)})),--a||n(i)}));return i.error&&o(i.value),r.promise}});var ls=vi.CONSTRUCTOR,us=ai&&ai.prototype;if(Gt({target:"Promise",proto:!0,forced:ls,real:!0},{catch:function(e){return this.then(void 0,e)}}),B(ai)){var ds=q("Promise").prototype.catch;us.catch!==ds&&mt(us,"catch",ds,{unsafe:!0})}Gt({target:"Promise",stat:!0,forced:cs},{race:function(e){var t=this,r=wi.f(t),n=r.reject,o=oi((function(){var o=ie(t.resolve);ns(e,(function(e){g(o,t,e).then(r.resolve,n)}))}));return o.error&&n(o.value),r.promise}}),Gt({target:"Promise",stat:!0,forced:vi.CONSTRUCTOR},{reject:function(e){var t=wi.f(this);return g(t.reject,void 0,e),t.promise}});var fs=vi.CONSTRUCTOR;q("Promise"),Gt({target:"Promise",stat:!0,forced:fs},{resolve:function(e){return function(e,t){if(Be(e),U(t)&&t.constructor===e)return t;var r=wi.f(e);return(0,r.resolve)(t),r.promise}(this,e)}});var ps=He.f,hs=function(e,t,r){r in e||ps(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})},ms=function(e,t,r){var n,o;return Zr&&B(n=t.constructor)&&n!==r&&U(o=n.prototype)&&o!==r.prototype&&Zr(e,o),e},gs=String,vs=function(e){if("Symbol"===eo(e))throw TypeError("Cannot convert a Symbol value to a string");return gs(e)},bs=function(e,t){return void 0===e?arguments.length<2?"":t:vs(e)},ys=function(e,t){U(t)&&"cause"in t&&We(e,"cause",t.cause)},ws=Error,Ss=_("".replace),Os=String(ws("zxcasd").stack),xs=/\n\s*at [^:]*:[^\n]*/,Es=xs.test(Os),_s=function(e,t){if(Es&&"string"==typeof e&&!ws.prepareStackTrace)for(;t--;)e=Ss(e,xs,"");return e},js=!f((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",S(1,7)),7!==e.stack)})),Cs=function(e,t,r,n){var o="stackTraceLimit",i=n?2:1,s=e.split("."),a=s[s.length-1],c=q.apply(null,s);if(c){var l=c.prototype;if(ge(l,"cause")&&delete l.cause,!r)return c;var u=q("Error"),d=t((function(e,t){var r=bs(n?t:e,void 0),o=n?new c(e):new c;return void 0!==r&&We(o,"message",r),js&&We(o,"stack",_s(o.stack,2)),this&&G(l,this)&&ms(o,this,d),arguments.length>i&&ys(o,arguments[i]),o}));d.prototype=l,"Error"!==a?Zr?Zr(d,u):Lt(d,u,{name:!0}):p&&o in c&&(hs(d,c,o),hs(d,c,"prepareStackTrace")),Lt(d,c);try{l.name!==a&&We(l,"name",a),l.constructor=d}catch(e){}return d}},ks="WebAssembly",Is=d[ks],Ts=7!==Error("e",{cause:7}).cause,Ps=function(e,t){var r={};r[e]=Cs(e,t,Ts),Gt({global:!0,constructor:!0,arity:1,forced:Ts},r)},As=function(e,t){if(Is&&Is[e]){var r={};r[e]=Cs(ks+"."+e,t,Ts),Gt({target:ks,stat:!0,constructor:!0,arity:1,forced:Ts},r)}};Ps("Error",(function(e){return function(t){return Yt(e,this,arguments)}})),Ps("EvalError",(function(e){return function(t){return Yt(e,this,arguments)}})),Ps("RangeError",(function(e){return function(t){return Yt(e,this,arguments)}})),Ps("ReferenceError",(function(e){return function(t){return Yt(e,this,arguments)}})),Ps("SyntaxError",(function(e){return function(t){return Yt(e,this,arguments)}})),Ps("TypeError",(function(e){return function(t){return Yt(e,this,arguments)}})),Ps("URIError",(function(e){return function(t){return Yt(e,this,arguments)}})),As("CompileError",(function(e){return function(t){return Yt(e,this,arguments)}})),As("LinkError",(function(e){return function(t){return Yt(e,this,arguments)}})),As("RuntimeError",(function(e){return function(t){return Yt(e,this,arguments)}}));var Rs=_e("match"),Vs=function(e){var t;return U(e)&&(void 0!==(t=e[Rs])?!!t:"RegExp"==k(e))},Ns=function(){var e=Be(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Ls=RegExp.prototype,Ds=function(e){var t=e.flags;return void 0!==t||"flags"in Ls||ge(e,"flags")||!G(Ls,e)?t:g(Ns,e)},Ms=d.RegExp,Bs=f((function(){var e=Ms("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),$s=Bs||f((function(){return!Ms("a","y").sticky})),Fs={BROKEN_CARET:Bs||f((function(){var e=Ms("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:$s,UNSUPPORTED_Y:Bs},Us=d.RegExp,zs=f((function(){var e=Us(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),qs=d.RegExp,Gs=f((function(){var e=qs("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Hs=At.f,Ws=pt.enforce,Qs=_e("match"),Ys=d.RegExp,Ks=Ys.prototype,Xs=d.SyntaxError,Js=_(Ks.exec),Zs=_("".charAt),ea=_("".replace),ta=_("".indexOf),ra=_("".slice),na=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,oa=/a/g,ia=/a/g,sa=new Ys(oa)!==oa,aa=Fs.MISSED_STICKY,ca=Fs.UNSUPPORTED_Y,la=p&&(!sa||aa||zs||Gs||f((function(){return ia[Qs]=!1,Ys(oa)!=oa||Ys(ia)==ia||"/a/i"!=Ys(oa,"i")})));if(zt("RegExp",la)){for(var ua=function(e,t){var r,n,o,i,s,a,c=G(Ks,this),l=Vs(e),u=void 0===t,d=[],f=e;if(!c&&l&&u&&e.constructor===ua)return e;if((l||G(Ks,e))&&(e=e.source,u&&(t=Ds(f))),e=void 0===e?"":vs(e),t=void 0===t?"":vs(t),f=e,zs&&"dotAll"in oa&&(n=!!t&&ta(t,"s")>-1)&&(t=ea(t,/s/g,"")),r=t,aa&&"sticky"in oa&&(o=!!t&&ta(t,"y")>-1)&&ca&&(t=ea(t,/y/g,"")),Gs&&(i=function(e){for(var t,r=e.length,n=0,o="",i=[],s={},a=!1,c=!1,l=0,u="";n<=r;n++){if("\\"===(t=Zs(e,n)))t+=Zs(e,++n);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:Js(na,ra(e,n+1))&&(n+=2,c=!0),o+=t,l++;continue;case">"===t&&c:if(""===u||ge(s,u))throw new Xs("Invalid capture group name");s[u]=!0,i[i.length]=[u,l],c=!1,u="";continue}c?u+=t:o+=t}return[o,i]}(e),e=i[0],d=i[1]),s=ms(Ys(e,t),c?this:Ks,ua),(n||o||d.length)&&(a=Ws(s),n&&(a.dotAll=!0,a.raw=ua(function(e){for(var t,r=e.length,n=0,o="",i=!1;n<=r;n++)"\\"!==(t=Zs(e,n))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+Zs(e,++n);return o}(e),r)),o&&(a.sticky=!0),d.length&&(a.groups=d)),e!==f)try{We(s,"source",""===f?"(?:)":f)}catch(e){}return s},da=Hs(Ys),fa=0;da.length>fa;)hs(ua,Ys,da[fa++]);Ks.constructor=ua,ua.prototype=Ks,mt(d,"RegExp",ua,{constructor:!0})}Wn("RegExp");var pa,ha,ma,ga=pt.get,va=RegExp.prototype,ba=TypeError;p&&zs&&(pa=va,ha="dotAll",(ma={configurable:!0,get:function(){if(this!==va){if("RegExp"===k(this))return!!ga(this).dotAll;throw ba("Incompatible receiver, RegExp required")}}}).get&&ht(ma.get,ha,{getter:!0}),ma.set&&ht(ma.set,ha,{setter:!0}),He.f(pa,ha,ma));var ya=pt.get,wa=fe("native-string-replace",String.prototype.replace),Sa=RegExp.prototype.exec,Oa=Sa,xa=_("".charAt),Ea=_("".indexOf),_a=_("".replace),ja=_("".slice),Ca=function(){var e=/a/,t=/b*/g;return g(Sa,e,"a"),g(Sa,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ka=Fs.BROKEN_CARET,Ia=void 0!==/()??/.exec("")[1];(Ca||Ia||ka||zs||Gs)&&(Oa=function(e){var t,r,n,o,i,s,a,c=this,l=ya(c),u=vs(e),d=l.raw;if(d)return d.lastIndex=c.lastIndex,t=g(Oa,d,u),c.lastIndex=d.lastIndex,t;var f=l.groups,p=ka&&c.sticky,h=g(Ns,c),m=c.source,v=0,b=u;if(p&&(h=_a(h,"y",""),-1===Ea(h,"g")&&(h+="g"),b=ja(u,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==xa(u,c.lastIndex-1))&&(m="(?: "+m+")",b=" "+b,v++),r=new RegExp("^(?:"+m+")",h)),Ia&&(r=new RegExp("^"+m+"$(?!\\s)",h)),Ca&&(n=c.lastIndex),o=g(Sa,p?r:c,b),p?o?(o.input=ja(o.input,v),o[0]=ja(o[0],v),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:Ca&&o&&(c.lastIndex=c.global?o.index+o[0].length:n),Ia&&o&&o.length>1&&g(wa,o[0],r,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&f)for(o.groups=s=Cr(null),i=0;i<f.length;i++)s[(a=f[i])[0]]=o[a[1]];return o});var Ta=Oa;Gt({target:"RegExp",proto:!0,forced:/./.exec!==Ta},{exec:Ta});var Pa=jt.includes,Aa=f((function(){return!Array(1).includes()}));Gt({target:"Array",proto:!0,forced:Aa},{includes:function(e){return Pa(this,e,arguments.length>1?arguments[1]:void 0)}}),Vr("includes");var Ra,Va="object"==typeof Reflect?Reflect:null,Na=Va&&"function"==typeof Va.apply?Va.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};Ra=Va&&"function"==typeof Va.ownKeys?Va.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var La=Number.isNaN||function(e){return e!=e};function Da(){Da.init.call(this)}var Ma=Da,Ba=function(e,t){return new Promise((function(r,n){function o(r){e.removeListener(t,i),n(r)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),r([].slice.call(arguments))}Ya(e,t,i,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&Ya(e,"error",t,r)}(e,o,{once:!0})}))};Da.EventEmitter=Da,Da.prototype._events=void 0,Da.prototype._eventsCount=0,Da.prototype._maxListeners=void 0;var $a=10;function Fa(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Ua(e){return void 0===e._maxListeners?Da.defaultMaxListeners:e._maxListeners}function za(e,t,r,n){var o,i,s,a;if(Fa(r),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),i=e._events),s=i[t]),void 0===s)s=i[t]=r,++e._eventsCount;else if("function"==typeof s?s=i[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(o=Ua(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function qa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Ga(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},o=qa.bind(n);return o.listener=r,n.wrapFn=o,o}function Ha(e,t,r){var n=e._events;if(void 0===n)return[];var o=n[t];return void 0===o?[]:"function"==typeof o?r?[o.listener||o]:[o]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(o):Qa(o,o.length)}function Wa(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function Qa(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function Ya(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){n.once&&e.removeEventListener(t,o),r(i)}))}}Object.defineProperty(Da,"defaultMaxListeners",{enumerable:!0,get:function(){return $a},set:function(e){if("number"!=typeof e||e<0||La(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");$a=e}}),Da.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Da.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||La(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Da.prototype.getMaxListeners=function(){return Ua(this)},Da.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var n="error"===e,o=this._events;if(void 0!==o)n=n&&void 0===o.error;else if(!n)return!1;if(n){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)Na(a,this,t);else{var c=a.length,l=Qa(a,c);for(r=0;r<c;++r)Na(l[r],this,t)}return!0},Da.prototype.addListener=function(e,t){return za(this,e,t,!1)},Da.prototype.on=Da.prototype.addListener,Da.prototype.prependListener=function(e,t){return za(this,e,t,!0)},Da.prototype.once=function(e,t){return Fa(t),this.on(e,Ga(this,e,t)),this},Da.prototype.prependOnceListener=function(e,t){return Fa(t),this.prependListener(e,Ga(this,e,t)),this},Da.prototype.removeListener=function(e,t){var r,n,o,i,s;if(Fa(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(o=-1,i=r.length-1;i>=0;i--)if(r[i]===t||r[i].listener===t){s=r[i].listener,o=i;break}if(o<0)return this;0===o?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,o),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},Da.prototype.off=Da.prototype.removeListener,Da.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var o,i=Object.keys(r);for(n=0;n<i.length;++n)"removeListener"!==(o=i[n])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},Da.prototype.listeners=function(e){return Ha(this,e,!0)},Da.prototype.rawListeners=function(e){return Ha(this,e,!1)},Da.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Wa.call(e,t)},Da.prototype.listenerCount=Wa,Da.prototype.eventNames=function(){return this._eventsCount>0?Ra(this._events):[]},Ma.once=Ba;var Ka=Za,Xa=function(e,t){var r=new Ja;return Za(e,r,t),r},Ja=Ma.EventEmitter;function Za(e,t,r){Array.isArray(r)||(r=[r]);var n=[];return r.forEach((function(r){var o=function(){var e=[].slice.call(arguments);e.unshift(r),t.emit.apply(t,e)};n.push(o),e.on(r,o)})),function(){r.forEach((function(t,r){e.removeListener(t,n[r])}))}}function ec(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function tc(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ec(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ec(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}Ka.filter=Xa;const rc=qn.get("PeerConnectionStats"),nc="stats";class oc extends Ma{constructor(e){super(),this.peer=e,this.stats=null,this.emitInterval=null,this.previousStats=null}init(){rc.info("Initializing peer connection stats"),this.emitInterval=setInterval(async()=>{const e=await this.peer.getStats();this.parseStats(e),Rn.addStats(this.stats),this.emit(nc,this.stats)},1e3)}parseStats(e){this.previousStats=this.stats;const t={audio:{inbounds:[],outbounds:[]},video:{inbounds:[],outbounds:[]},raw:e};for(const r of e.values())switch(r.type){case"outbound-rtp":ic(r,this.previousStats,t);break;case"inbound-rtp":sc(r,this.previousStats,t);break;case"candidate-pair":r.nominated&&ac(r,t)}this.stats=t}stop(){rc.info("Stopping peer connection stats"),clearInterval(this.emitInterval)}}const ic=(e,t,r)=>{var n,o;const i=cc(e),s=lc(e.codecId,r.raw),a=uc(e,i);a.totalBytesSent=e.bytesSent,a.id=e.id,a.mid=e.mid;const c=t?null!==(n=null===(o=t[i].outbounds.find(e=>e.id===a.id))||void 0===o?void 0:o.totalBytesSent)&&void 0!==n?n:0:null;a.bitrate=c?8*(e.bytesSent-c):0,"video"===i&&(a.qualityLimitationReason=e.qualityLimitationReason),r[i].outbounds.push(tc(tc({},s),a))},sc=(e,t,r)=>{let n=cc(e);const o=lc(e.codecId,r.raw);["audio","video"].includes(n)||(n=e.id.includes("Video")?"video":"audio");const i=uc(e,n);if(i.totalBytesReceived=e.bytesReceived,i.totalPacketsReceived=e.packetsReceived,i.totalPacketsLost=e.packetsLost,i.jitter=e.jitter,i.id=e.id,i.mid=e.mid,i.trackIdentifier=e.trackIdentifier,i.bitrate=0,i.packetsLostRatioPerSecond=0,i.packetsLostDeltaPerSecond=0,t){const r=t[n].inbounds.find(e=>e.id===i.id);if(r){const t=r.totalBytesReceived;i.bitrate=8*(e.bytesReceived-t),i.packetsLostRatioPerSecond=dc(i,r),i.packetsLostDeltaPerSecond=fc(i,r)}}r[n].inbounds.push(tc(tc({},o),i))},ac=(e,t)=>{t.totalRoundTripTime=e.totalRoundTripTime,t.currentRoundTripTime=e.currentRoundTripTime,t.availableOutgoingBitrate=e.availableOutgoingBitrate,t.candidateType=t.raw.get(e.localCandidateId).candidateType},cc=e=>e.mediaType||e.kind,lc=(e,t)=>{var r;const{mimeType:n}=e&&null!==(r=t.get(e))&&void 0!==r?r:{};return{mimeType:n}},uc=(e,t)=>{const r={};return"video"===t&&(r.framesPerSecond=e.framesPerSecond,r.frameHeight=e.frameHeight,r.frameWidth=e.frameWidth),r.timestamp=e.timestamp,r},dc=(e,t)=>fc(e,t)/(e.totalPacketsReceived-t.totalPacketsReceived),fc=(e,t)=>e.totalPacketsLost-t.totalPacketsLost;var pc=_e("species"),hc=RegExp.prototype,mc=_("".charAt),gc=_("".charCodeAt),vc=_("".slice),bc=function(e){return function(t,r){var n,o,i=vs(V(t)),s=yt(r),a=i.length;return s<0||s>=a?e?"":void 0:(n=gc(i,s))<55296||n>56319||s+1===a||(o=gc(i,s+1))<56320||o>57343?e?mc(i,s):n:e?vc(i,s,s+2):o-56320+(n-55296<<10)+65536}},yc={codeAt:bc(!1),charAt:bc(!0)}.charAt,wc=function(e,t,r){return t+(r?yc(e,t).length:1)},Sc=Math.floor,Oc=_("".charAt),xc=_("".replace),Ec=_("".slice),_c=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,jc=/\$([$&'`]|\d{1,2})/g,Cc=function(e,t,r,n,o,i){var s=r+e.length,a=n.length,c=jc;return void 0!==o&&(o=he(o),c=_c),xc(i,c,(function(i,c){var l;switch(Oc(c,0)){case"$":return"$";case"&":return e;case"`":return Ec(t,0,r);case"'":return Ec(t,s);case"<":l=o[Ec(c,1,-1)];break;default:var u=+c;if(0===u)return i;if(u>a){var d=Sc(u/10);return 0===d?i:d<=a?void 0===n[d-1]?Oc(c,1):n[d-1]+Oc(c,1):i}l=n[u-1]}return void 0===l?"":l}))},kc=TypeError,Ic=function(e,t){var r=e.exec;if(B(r)){var n=g(r,e,t);return null!==n&&Be(n),n}if("RegExp"===k(e))return g(Ta,e,t);throw kc("RegExp#exec called on incompatible receiver")},Tc=_e("replace"),Pc=Math.max,Ac=Math.min,Rc=_([].concat),Vc=_([].push),Nc=_("".indexOf),Lc=_("".slice),Dc="$0"==="a".replace(/./,"$0"),Mc=!!/./[Tc]&&""===/./[Tc]("a","$0");!function(e,t,r,n){var o=_e(e),i=!f((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=i&&!f((function(){var t=!1,r=/a/;return"split"===e&&((r={}).constructor={},r.constructor[pc]=function(){return r},r.flags="",r[o]=/./[o]),r.exec=function(){return t=!0,null},r[o](""),!t}));if(!i||!s||r){var a=bo(/./[o]),c=t(o,""[e],(function(e,t,r,n,o){var s=bo(e),c=t.exec;return c===Ta||c===hc.exec?i&&!o?{done:!0,value:a(t,r,n)}:{done:!0,value:s(r,t,n)}:{done:!1}}));mt(String.prototype,e,c[0]),mt(hc,o,c[1])}n&&We(hc[o],"sham",!0)}("replace",(function(e,t,r){var n=Mc?"$":"$0";return[function(e,r){var n=V(this),o=A(e)?void 0:se(e,Tc);return o?g(o,e,n,r):g(t,vs(n),e,r)},function(e,o){var i=Be(this),s=vs(e);if("string"==typeof o&&-1===Nc(o,n)&&-1===Nc(o,"$<")){var a=r(t,i,s,o);if(a.done)return a.value}var c=B(o);c||(o=vs(o));var l=i.global;if(l){var u=i.unicode;i.lastIndex=0}for(var d=[];;){var f=Ic(i,s);if(null===f)break;if(Vc(d,f),!l)break;""===vs(f[0])&&(i.lastIndex=wc(s,xt(i.lastIndex),u))}for(var p,h="",m=0,g=0;g<d.length;g++){for(var v=vs((f=d[g])[0]),b=Pc(Ac(yt(f.index),s.length),0),y=[],w=1;w<f.length;w++)Vc(y,void 0===(p=f[w])?p:String(p));var S=f.groups;if(c){var O=Rc([v],y,b,s);void 0!==S&&Vc(O,S);var x=vs(Yt(o,void 0,O))}else x=Cc(v,s,b,y,S,o);b>=m&&(h+=Lc(s,m,b)+x,m=b+v.length)}return h+Lc(s,m)}]}),!!f((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!Dc||Mc);var Bc,$c="\t\n\v\f\r                　\u2028\u2029\ufeff",Fc=_("".replace),Uc="["+$c+"]",zc=RegExp("^"+Uc+Uc+"*"),qc=RegExp(Uc+Uc+"*$"),Gc=function(e){return function(t){var r=vs(V(t));return 1&e&&(r=Fc(r,zc,"")),2&e&&(r=Fc(r,qc,"")),r}},Hc={start:Gc(1),end:Gc(2),trim:Gc(3)},Wc=Xe.PROPER,Qc=Hc.trim;Gt({target:"String",proto:!0,forced:(Bc="trim",f((function(){return!!$c[Bc]()||"​᠎"!=="​᠎"[Bc]()||Wc&&$c[Bc].name!==Bc})))},{trim:function(){return Qc(this)}});var Yc=_e("matchAll"),Kc="RegExp String",Xc=Kc+" Iterator",Jc=pt.set,Zc=pt.getterFor(Xc),el=RegExp.prototype,tl=TypeError,rl=bo("".indexOf),nl=bo("".matchAll),ol=!!nl&&!f((function(){nl("a",/./)})),il=Kr((function(e,t,r,n){Jc(this,{type:Xc,regexp:e,string:t,global:r,unicode:n,done:!1})}),Kc,(function(){var e=Zc(this);if(e.done)return un(void 0,!0);var t=e.regexp,r=e.string,n=Ic(t,r);return null===n?(e.done=!0,un(void 0,!0)):e.global?(""===vs(n[0])&&(t.lastIndex=wc(r,xt(t.lastIndex),e.unicode)),un(n,!1)):(e.done=!0,un(n,!1))})),sl=function(e){var t,r,n,o=Be(this),i=vs(e),s=vo(o,RegExp),a=vs(Ds(o));return t=new s(s===RegExp?o.source:o,a),r=!!~rl(a,"g"),n=!!~rl(a,"u"),t.lastIndex=xt(o.lastIndex),new il(t,i,r,n)};Gt({target:"String",proto:!0,forced:ol},{matchAll:function(e){var t,r,n,o=V(this);if(A(e)){if(ol)return nl(o,e)}else{if(Vs(e)&&(t=vs(V(Ds(e))),!~rl(t,"g")))throw tl("`.matchAll` does not allow non-global regexes");if(ol)return nl(o,e);if(n=se(e,Yc))return g(n,e,o)}return r=vs(o),new RegExp(e,"g")[Yc](r)}}),Yc in el||mt(el,Yc,sl);var al=_([].reverse),cl=[1,2];Gt({target:"Array",proto:!0,forced:String(cl)===String(cl.reverse())},{reverse:function(){return Kt(this)&&(this.length=this.length),al(this)}});var ll=a((function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))})),ul=a((function(e,t){var r=function(e){return String(Number(e))===e?Number(e):e},n=function(e,t,n){var o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:o?t[e.name]:t;!function(e,t,n,o){if(o&&!n)t[o]=r(e[1]);else for(var i=0;i<n.length;i+=1)null!=e[i+1]&&(t[n[i]]=r(e[i+1]))}(n.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],i=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),i=r[r.length-1]);for(var s=0;s<(ll[t]||[]).length;s+=1){var a=ll[t][s];if(a.reg.test(o))return n(a,i,o)}})),t.media=r,t};var i=function(e,t){var n=t.split(/=(.+)/,2);return 2===n.length?e[n[0]]=r(n[1]):1===n.length&&t.length>1&&(e[n[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(i,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],n=e.split(" ").map(r),o=0;o<n.length;o+=3)t.push({component:n[o],ip:n[o+1],port:n[o+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(i,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,n=!1;return"~"!==e[0]?t=r(e):(t=r(e.substring(1,e.length)),n=!0),{scid:t,paused:n}}))}))}})),dl=/%[sdv%]/g,fl=function(e){var t=1,r=arguments,n=r.length;return e.replace(dl,(function(e){if(t>=n)return e;var o=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}}))},pl=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var i=t.names[o];t.name?n.push(r[t.name][i]):n.push(r[t.names[o]])}else n.push(r[t.name]);return fl.apply(null,n)},hl=["v","o","s","i","u","e","p","c","b","t","r","z","a"],ml=["i","c","b","a"],gl={write:function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||hl,n=t.innerOrder||ml,o=[];return r.forEach((function(t){ll[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(pl(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(pl(t,r,e))}))}))})),e.media.forEach((function(e){o.push(pl("m",ll.m[0],e)),n.forEach((function(t){ll[t].forEach((function(r){r.name in e&&null!=e[r.name]?o.push(pl(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){o.push(pl(t,r,e))}))}))}))})),o.join("\r\n")+"\r\n"},parse:ul.parse,parseParams:ul.parseParams,parseFmtpConfig:ul.parseFmtpConfig,parsePayloads:ul.parsePayloads,parseRemoteCandidates:ul.parseRemoteCandidates,parseImageAttributes:ul.parseImageAttributes,parseSimulcastStreamList:ul.parseSimulcastStreamList};class vl{constructor(e,t,r,n,o,i,s,a,c){this.foundation=e,this.componentId=t,this.transport=r,this.priority=n,this.address=o,this.port=i,this.type=s,this.relAddr=a,this.relPort=c}equals(e){return e.foundation===this.foundation&&e.componentId===this.componentId&&e.transport===this.transport&&e.priority===this.priority&&e.address===this.address&&e.port===this.port&&e.type===this.type&&e.relAddr===this.relAddr&&e.relPort===this.relPort}clone(){return new vl(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)}plain(){const e={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(e.relAddr=this.relAddr),this.relPort&&(e.relPort=this.relPort),e}getFoundation(){return this.foundation}getComponentId(){return this.componentId}getTransport(){return this.transport}getPriority(){return this.priority}getAddress(){return this.address}getPort(){return this.port}getType(){return this.type}getRelAddr(){return this.relAddr}getRelPort(){return this.relPort}}vl.expand=function(e){return new vl(e.foundation,e.componentId,e.transport,e.priority,e.address,e.port,e.type,e.relAddr,e.relPort)};var bl=vl;class yl{constructor(e,t){this.id=e,this.params=t||[]}clone(){return new yl(this.id,this.params)}plain(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}}getId(){return this.id}getParams(){return this.params}}yl.expand=function(e){return new yl(e.id,e.params)};var wl=yl;class Sl{constructor(e,t,r){this.codec=e,this.type=t,this.params={},this.rtcpfbs=new Set,r&&this.addParams(r)}clone(){const e=new Sl(this.codec,this.type,this.params);this.hasRTX()&&e.setRTX(this.getRTX());for(const t of this.rtcpfbs)e.addRTCPFeedback(t.clone());return this.hasChannels()&&e.setChannels(this.getChannels()),e}plain(){const e={codec:this.codec,type:this.type};this.rtx&&(e.rtx=this.rtx),this.channels&&(e.channels=this.channels),Object.keys(this.params).length&&(e.params=this.params);for(const t of this.rtcpfbs)e.rtcpfbs||(e.rtcpfbs=[]),e.rtcpfbs.push(t.plain());return e}setRTX(e){this.rtx=e}getType(){return this.type}setType(e){this.type=e}getCodec(){return this.codec}getParams(){return this.params}addParams(e){for(const t in e)this.params[t]=e[t]}addParam(e,t){this.params[e]=t}hasParam(e){return this.params.hasOwnProperty(e)}getParam(e,t){return this.hasParam(e)?this.params[e]:""+t}hasRTX(){return this.rtx}getRTX(){return this.rtx}hasChannels(){return this.channels}getChannels(){return this.channels}setChannels(e){this.channels=e}addRTCPFeedback(e){this.rtcpfbs.add(e)}getRTCPFeedbacks(){return this.rtcpfbs}}Sl.expand=function(e){const t=new Sl(e.codec,e.type,e.params);e.rtx&&t.setRTX(e.rtx),e.channels&&t.setChannels(e.channels);for(let r=0;e.rtcpfbs&&r<e.rtcpfbs.length;++r){const n=wl.expand(e.rtcpfbs[r]);t.addRTCPFeedback(n)}return t},Sl.MapFromNames=function(e,t,r){const n=new Map;let o=96;for(let i=0;i<e.length;++i){let s;const a=e[i].split(";"),c=a[0].toLowerCase().trim();s="pcmu"===c?0:"pcma"===c?8:++o;const l=new Sl(c,s);"opus"===c?l.setChannels(2):"multiopus"===c&&l.setChannels(6),t&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&l.setRTX(++o);for(let e=0;r&&e<r.length;++e)l.addRTCPFeedback(new wl(r[e].id,r[e].params));for(let e=1;e<a.length;++e){let t=a[e].split("=");l.addParam(t[0].trim(),t[1].trim())}n.set(l.getCodec().toLowerCase(),l)}return n};var Ol=Sl,xl=function e(){var t=this;if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(e){t[e]=Symbol.for("MEDOOZE_SEMANTIC_SDP_"+e)}))};const El=xl("ACTIVE","PASSIVE","ACTPASS","INACTIVE");El.byValue=function(e){switch(e){case El.ACTIVE:case El.PASSIVE:case El.ACTPASS:case El.INACTIVE:return e}return El[e.toUpperCase()]},El.toString=function(e){switch(e){case El.ACTIVE:return"active";case El.PASSIVE:return"passive";case El.ACTPASS:return"actpass";case El.INACTIVE:return"inactive"}},El.reverse=function(e){switch(e){case El.ACTIVE:return El.PASSIVE;case El.PASSIVE:return El.ACTIVE;case El.ACTPASS:return El.PASSIVE;case El.INACTIVE:return El.INACTIVE}};var _l=El;class jl{constructor(e,t,r){this.setup=e,this.hash=t,this.fingerprint=r}clone(){return new jl(this.setup,this.hash,this.fingerprint)}plain(){return{setup:_l.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}}getFingerprint(){return this.fingerprint}getHash(){return this.hash}getSetup(){return this.setup}setSetup(e){this.setup=e}}jl.expand=function(e){return new jl(e.setup?_l.byValue(e.setup):_l.ACTPASS,e.hash,e.fingerprint)};var Cl=jl;class kl{constructor(e,t,r,n){this.tag=e,this.suite=t,this.keyParams=r,this.sessionParams=n}clone(){return new kl(this.tag,this.suite,this.keyParams,this.sessionParams)}plain(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}}getSessionParams(){return this.sessionParams}getKeyParams(){return this.keyParams}getSuite(){return this.suite}getTag(){return this.tag}}kl.expand=function(e){return new kl(e.tag,e.suite,e.keyParams,e.sessionParams)};for(var Il=kl,Tl=function(e){var t=Bl(e),r=t[0],n=t[1];return 3*(r+n)/4-n},Pl=function(e){var t,r,n=Bl(e),o=n[0],i=n[1],s=new Nl(function(e,t,r){return 3*(t+r)/4-r}(0,o,i)),a=0,c=i>0?o-4:o;for(r=0;r<c;r+=4)t=Vl[e.charCodeAt(r)]<<18|Vl[e.charCodeAt(r+1)]<<12|Vl[e.charCodeAt(r+2)]<<6|Vl[e.charCodeAt(r+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===i&&(t=Vl[e.charCodeAt(r)]<<2|Vl[e.charCodeAt(r+1)]>>4,s[a++]=255&t),1===i&&(t=Vl[e.charCodeAt(r)]<<10|Vl[e.charCodeAt(r+1)]<<4|Vl[e.charCodeAt(r+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},Al=function(e){for(var t,r=e.length,n=r%3,o=[],i=16383,s=0,a=r-n;s<a;s+=i)o.push($l(e,s,s+i>a?a:s+i));return 1===n?(t=e[r-1],o.push(Rl[t>>2]+Rl[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],o.push(Rl[t>>10]+Rl[t>>4&63]+Rl[t<<2&63]+"=")),o.join("")},Rl=[],Vl=[],Nl="undefined"!=typeof Uint8Array?Uint8Array:Array,Ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Dl=0,Ml=Ll.length;Dl<Ml;++Dl)Rl[Dl]=Ll[Dl],Vl[Ll.charCodeAt(Dl)]=Dl;function Bl(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function $l(e,t,r){for(var n,o,i=[],s=t;s<r;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(Rl[(o=n)>>18&63]+Rl[o>>12&63]+Rl[o>>6&63]+Rl[63&o]);return i.join("")}Vl["-".charCodeAt(0)]=62,Vl["_".charCodeAt(0)]=63;var Fl={byteLength:Tl,toByteArray:Pl,fromByteArray:Al},Ul=function(e,t,r,n,o){var i,s,a=8*o-n-1,c=(1<<a)-1,l=c>>1,u=-7,d=r?o-1:0,f=r?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-u)-1,p>>=-u,u+=a;u>0;i=256*i+e[t+d],d+=f,u-=8);for(s=i&(1<<-u)-1,i>>=-u,u+=n;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===i)i=1-l;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,n),i-=l}return(p?-1:1)*s*Math.pow(2,i-n)},zl=function(e,t,r,n,o,i){var s,a,c,l=8*i-o-1,u=(1<<l)-1,d=u>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[r+p]=255&a,p+=h,a/=256,o-=8);for(s=s<<o|a,l+=o;l>0;e[r+p]=255&s,p+=h,s/=256,l-=8);e[r+p-h]|=128*m},ql=a((function(e,t){const r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50;const n=2147483647;function o(e){if(e>n)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,r)}function s(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|f(e,t);let n=o(r);const s=n.write(e,t);return s!==r&&(n=n.slice(0,s)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){const t=new Uint8Array(e);return u(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return u(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return u(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return i.from(n,t,r);const s=function(e){if(i.isBuffer(e)){const t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||W(e.length)?o(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return a(e),o(e<0?0:0|d(e))}function l(e){const t=e.length<0?0:0|d(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function u(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,i.prototype),n}function d(e){if(e>=n)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return q(e).length;default:if(o)return n?-1:z(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return C(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return _(this,t,r);case"latin1":case"binary":return j(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function h(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,o){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),W(r=+r)&&(r=o?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(o)return-1;r=e.length-1}else if(r<0){if(!o)return-1;r=0}if("string"==typeof t&&(t=i.from(t,n)),i.isBuffer(t))return 0===t.length?-1:g(e,t,r,n,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):g(e,[t],r,n,o);throw new TypeError("val must be string, number or Buffer")}function g(e,t,r,n,o){let i,s=1,a=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,r/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let n=-1;for(i=r;i<a;i++)if(l(e,i)===l(t,-1===n?0:i-n)){if(-1===n&&(n=i),i-n+1===c)return n*s}else-1!==n&&(i-=i-n),n=-1}else for(r+c>a&&(r=a-c),i=r;i>=0;i--){let r=!0;for(let n=0;n<c;n++)if(l(e,i+n)!==l(t,n)){r=!1;break}if(r)return i}return-1}function v(e,t,r,n){r=Number(r)||0;const o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;const i=t.length;let s;for(n>i/2&&(n=i/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(W(n))return s;e[r+s]=n}return s}function b(e,t,r,n){return G(z(t,e.length-r),e,r,n)}function y(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function w(e,t,r,n){return G(q(t),e,r,n)}function S(e,t,r,n){return G(function(e,t){let r,n,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,o=r%256,i.push(o),i.push(n);return i}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?Fl.fromByteArray(e):Fl.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let o=t;for(;o<r;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=r){let r,n,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:r=e[o+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(i=c));break;case 3:r=e[o+1],n=e[o+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:r=e[o+1],n=e[o+2],a=e[o+3],128==(192&r)&&128==(192&n)&&128==(192&a)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,n.push(i>>>10&1023|55296),i=56320|1023&i),n.push(i),o+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=E));return r}(n)}t.kMaxLength=n,i.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,r){return s(e,t,r)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,r){return function(e,t,r){return a(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(H(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let o=0,i=Math.min(r,n);o<i;++o)if(e[o]!==t[o]){r=e[o],n=t[o];break}return r<n?-1:n<r?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=i.allocUnsafe(t);let o=0;for(r=0;r<e.length;++r){let t=e[r];if(H(t,Uint8Array))o+t.length>n.length?(i.isBuffer(t)||(t=i.from(t)),t.copy(n,o)):Uint8Array.prototype.set.call(n,t,o);else{if(!i.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,o)}o+=t.length}return n},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h(this,t,t+1);return this},i.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},i.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},i.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},r&&(i.prototype[r]=i.prototype.inspect),i.prototype.compare=function(e,t,r,n,o){if(H(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===o&&(o=this.length),t<0||r>e.length||n<0||o>this.length)throw new RangeError("out of range index");if(n>=o&&t>=r)return 0;if(n>=o)return-1;if(t>=r)return 1;if(this===e)return 0;let s=(o>>>=0)-(n>>>=0),a=(r>>>=0)-(t>>>=0);const c=Math.min(s,a),l=this.slice(n,o),u=e.slice(t,r);for(let i=0;i<c;++i)if(l[i]!==u[i]){s=l[i],a=u[i];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},i.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},i.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},i.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const o=this.length-t;if((void 0===r||r>o)&&(r=o),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let i=!1;for(;;)switch(n){case"hex":return v(this,e,t,r);case"utf8":case"utf-8":return b(this,e,t,r);case"ascii":case"latin1":case"binary":return y(this,e,t,r);case"base64":return w(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(i)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function _(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(127&e[o]);return n}function j(e,t,r){let n="";r=Math.min(e.length,r);for(let o=t;o<r;++o)n+=String.fromCharCode(e[o]);return n}function C(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let o="";for(let i=t;i<r;++i)o+=Q[e[i]];return o}function k(e,t,r){const n=e.slice(t,r);let o="";for(let i=0;i<n.length-1;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function I(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function T(e,t,r,n,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function P(e,t,r,n,o){B(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i,i>>=8,e[r++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function A(e,t,r,n,o){B(t,n,o,e,r,7);let i=Number(t&BigInt(4294967295));e[r+7]=i,i>>=8,e[r+6]=i,i>>=8,e[r+5]=i,i>>=8,e[r+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function R(e,t,r,n,o,i){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function V(e,t,r,n,o){return t=+t,r>>>=0,o||R(e,0,r,4),zl(e,t,r,n,23,4),r+4}function N(e,t,r,n,o){return t=+t,r>>>=0,o||R(e,0,r,8),zl(e,t,r,n,52,8),r+8}i.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,i.prototype),n},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return n},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=this[e+--t],o=1;for(;t>0&&(o*=256);)n+=this[e+--t]*o;return n},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=Y((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(o)<<BigInt(32))})),i.prototype.readBigUInt64BE=Y((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(o)})),i.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=this[e],o=1,i=0;for(;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},i.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||I(e,t,this.length);let n=t,o=1,i=this[e+--n];for(;n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=Y((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),i.prototype.readBigInt64BE=Y((function(e){$(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||F(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),i.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),Ul(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),Ul(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),Ul(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),Ul(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||T(this,e,t,r,Math.pow(2,8*r)-1,0);let o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||T(this,e,t,r,Math.pow(2,8*r)-1,0);let o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigUInt64LE=Y((function(e,t=0){return P(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=Y((function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);T(this,e,t,r,n-1,-n)}let o=0,i=1,s=0;for(this[t]=255&e;++o<r&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},i.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);T(this,e,t,r,n-1,-n)}let o=r-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+r},i.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||T(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigInt64LE=Y((function(e,t=0){return P(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=Y((function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(e,t,r){return V(this,e,t,!0,r)},i.prototype.writeFloatBE=function(e,t,r){return V(this,e,t,!1,r)},i.prototype.writeDoubleLE=function(e,t,r){return N(this,e,t,!0,r)},i.prototype.writeDoubleBE=function(e,t,r){return N(this,e,t,!1,r)},i.prototype.copy=function(e,t,r,n){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const o=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),o},i.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!i.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let o;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(o=t;o<r;++o)this[o]=e;else{const s=i.isBuffer(e)?e:i.from(e,n),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<r-t;++o)this[o+t]=s[o%a]}return this};const L={};function D(e,t,r){L[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function M(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function B(e,t,r,n,o,i){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(i+1)}${n}`:`>= -(2${n} ** ${8*(i+1)-1}${n}) and < 2 ** ${8*(i+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new L.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,r){$(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||F(t,e.length-(r+1))}(n,o,i)}function $(e,t){if("number"!=typeof e)throw new L.ERR_INVALID_ARG_TYPE(t,"number",e)}function F(e,t,r){if(Math.floor(e)!==e)throw $(e,r),new L.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new L.ERR_BUFFER_OUT_OF_BOUNDS;throw new L.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,o=r;return Number.isInteger(r)&&Math.abs(r)>2**32?o=M(String(r)):"bigint"==typeof r&&(o=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(o=M(o)),o+="n"),n+=` It must be ${t}. Received ${o}`,n}),RangeError);const U=/[^+/0-9A-Za-z-_]/g;function z(e,t){let r;t=t||1/0;const n=e.length;let o=null;const i=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=65536+(o-55296<<10|r-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function q(e){return Fl.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let o;for(o=0;o<n&&!(o+r>=t.length||o>=e.length);++o)t[o+r]=e[o];return o}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let o=0;o<16;++o)t[n+o]=e[r]+e[o]}return t}();function Y(e){return"undefined"==typeof BigInt?K:e}function K(){throw new Error("BigInt not supported")}})),Gl=a((function(e,t){var r=ql.Buffer;function n(e,t){for(var r in e)t[r]=e[r]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=ql:(n(ql,t),t.Buffer=o),n(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=r(e);return void 0!==t?"string"==typeof n?o.fill(t,n):o.fill(t):o.fill(0),o},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return ql.SlowBuffer(e)}})),Hl=a((function(e){var t=65536,n=4294967295,o=Gl.Buffer,i=s.crypto||s.msCrypto;i&&i.getRandomValues?e.exports=function(e,s){if(e>n)throw new RangeError("requested too many random bytes");var a=o.allocUnsafe(e);if(e>0)if(e>t)for(var c=0;c<e;c+=t)i.getRandomValues(a.slice(c,c+t));else i.getRandomValues(a);return"function"==typeof s?r.nextTick((function(){s(null,a)})):a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}));class Wl{constructor(e,t){this.ufrag=e,this.pwd=t,this.lite=!1,this.endOfCandidates=!1}clone(){const e=new Wl(this.ufrag,this.pwd);return e.setLite(this.lite),e.setEndOfCandidates(this.endOfCandidates),e}plain(){const e={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(e.lite=this.lite),this.endOfCandidates&&(e.endOfCandidates=this.endOfCandidates),e}getUfrag(){return this.ufrag}getPwd(){return this.pwd}isLite(){return this.lite}setLite(e){this.lite=e}isEndOfCandidates(){return this.endOfCandidates}setEndOfCandidates(e){this.endOfCandidates=e}}Wl.generate=function(e){const t=new Wl,r=Hl(8),n=Hl(24);return t.ufrag=r.toString("hex"),t.pwd=n.toString("hex"),t.lite=e,t},Wl.expand=function(e){const t=new Wl(e.ufrag,e.pwd);return t.setLite(e.lite),t.setEndOfCandidates(e.endOfCandidates),t};var Ql=Wl;const Yl=xl("SEND","RECV");Yl.byValue=function(e){return Yl[e.toUpperCase()]},Yl.toString=function(e){switch(e){case Yl.SEND:return"send";case Yl.RECV:return"recv"}},Yl.reverse=function(e){switch(e){case Yl.SEND:return Yl.RECV;case Yl.RECV:return Yl.SEND}};var Kl=Yl;class Xl{constructor(e,t){this.id=e,this.direction=t,this.formats=[],this.params=new Map}clone(){var e=new Xl(this.id,this.direction);return e.setFormats(this.formats),e.setParams(this.params),e}plain(){var e={id:this.id,direction:Kl.toString(this.direction)};for(var[t,r]of(this.formats&&(e.formats=this.formats),this.params.entries()))e.params||(e.params={}),e.params[t]=r;return e}getId(){return this.id}getDirection(){return this.direction}setDirection(e){this.direction=e}getFormats(){return this.formats}setFormats(e){this.formats=[];for(let t=0;t<e.length;++t)this.formats.push(parseInt(e[t]))}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}getDirection(){return this.direction}setDirection(e){this.direction=e}}Xl.expand=function(e){const t=new Xl(e.id,Kl.byValue(e.direction));for(let r in e.params)t.addParam(r,e.params[r]);return e.formats&&t.setFormats(e.formats),t};var Jl=Xl;class Zl{constructor(e,t){this.paused=t,this.id=e}clone(){return new Zl(this.id,this.paused)}plain(){return{id:this.id,paused:this.paused}}isPaused(){return this.paused}getId(){return this.id}}Zl.expand=function(e){return new Zl(e.id,e.paused)};var eu=Zl;class tu{constructor(){this.send=[],this.recv=[]}clone(){const e=new tu;for(let t=0;t<this.send.length;++t){let r=[];for(let e=0;t<this.send[e].length;++t)r.push(this.send[t][e].clone());e.addSimulcastAlternativeStreams(Kl.SEND,r)}for(let t=0;t<this.recv.length;++t){let r=[];for(let e=0;t<this.recv[e].length;++t)r.push(this.recv[t][e].clone());e.addSimulcastAlternativeStreams(Kl.RECV,r)}return e}plain(){const e={send:[],recv:[]};for(let t=0;t<this.send.length;++t){let r=[];for(let e=0;e<this.send[t].length;++e)r.push(this.send[t][e].plain());e.send.push(r)}for(let t=0;t<this.recv.length;++t){let r=[];for(let e=0;e<this.recv[t].length;++e)r.push(this.recv[t][e].plain());e.recv.push(r)}return e}addSimulcastAlternativeStreams(e,t){return e===Kl.SEND?this.send.push(t):this.recv.push(t)}addSimulcastStream(e,t){return e===Kl.SEND?this.send.push([t]):this.recv.push([t])}getSimulcastStreams(e){return e===Kl.SEND?this.send:this.recv}}tu.expand=function(e){const t=new tu;for(let r=0;r<e.send.length;++r){let n=[];for(let t=0;t<e.send[r].length;++t)n.push(eu.expand(e.send[r][t]));t.addSimulcastAlternativeStreams(Kl.SEND,n)}for(let r=0;r<e.recv.length;++r){let n=[];for(let t=0;t<e.recv[r].length;++t)n.push(eu.expand(e.recv[r][t]));t.addSimulcastAlternativeStreams(Kl.RECV,n)}return t};var ru=tu;const nu=xl("SENDRECV","SENDONLY","RECVONLY","INACTIVE");nu.byValue=function(e){return nu[e.toUpperCase()]},nu.toString=function(e){switch(e){case nu.SENDRECV:return"sendrecv";case nu.SENDONLY:return"sendonly";case nu.RECVONLY:return"recvonly";case nu.INACTIVE:return"inactive"}},nu.reverse=function(e){switch(e){case nu.SENDRECV:return nu.SENDRECV;case nu.SENDONLY:return nu.RECVONLY;case nu.RECVONLY:return nu.SENDONLY;case nu.INACTIVE:return nu.INACTIVE}};var ou=nu;class iu{constructor(e,t){this.port=e,this.maxMessageSize=t}clone(){return new iu(this.port,this.maxMessageSize)}plain(){return{port:this.port,maxMessageSize:this.maxMessageSize}}getPort(){return this.port}getMaxMessageSize(){return this.maxMessageSize}}iu.expand=function(e){return new iu(e.port,e.maxMessageSize)};var su=iu;class au{constructor(e,t){this.id=e,this.type=t,this.direction=ou.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}clone(){const e=new au(this.id,this.type);e.setDirection(this.direction),e.setBitrate(this.bitrate);for(const t of this.codecs.values())e.addCodec(t.clone());for(const[t,r]of this.extensions.entries())e.addExtension(t,r);for(const t of this.rids.values())e.addRID(t.clone());return this.simulcast&&e.setSimulcast(this.simulcast.clone()),this.control&&e.setControl(this.control),this.dataChannel&&e.setDatachannel(this.dataChannel.clone()),e}plain(){const e={id:this.id,type:this.type,direction:ou.toString(this.direction),codecs:[]};this.dataChannel&&(e.dataChannel=this.dataChannel.plain()),this.bitrate&&(e.bitrate=this.bitrate);for(const t of this.codecs.values())e.codecs.push(t.plain());for(const[t,r]of this.extensions.entries())e.extensions||(e.extensions={}),e.extensions[t]=r;for(const t of this.rids.values())e.rids||(e.rids=[]),e.rids.push(t.plain());return this.simulcast&&(e.simulcast=this.simulcast.plain()),this.control&&(e.control=this.control),e}getType(){return this.type}getId(){return this.id}setId(e){this.id=e}addExtension(e,t){this.extensions.set(e,t)}addRID(e){this.rids.set(e.getId(),e)}addCodec(e){this.codecs.set(e.getType(),e)}setCodecs(e){this.codecs=e}getCodecForType(e){return this.codecs.get(e)}getCodec(e){for(const t of this.codecs.values())if(t.getCodec().toLowerCase()===e.toLowerCase())return t;return null}hasCodec(e){return null!==this.getCodec(e)}getCodecs(){return this.codecs}hasRTX(){for(const e of this.codecs.values())if(e.hasRTX())return!0;return!1}getExtensions(){return this.extensions}getRIDs(){return this.rids}getRID(e){return this.rids.get(e)}getBitrate(){return this.bitrate}setBitrate(e){this.bitrate=e}getDirection(){return this.direction}setDirection(e){this.direction=e}hasControl(){return!!this.control}getControl(){return this.control}setControl(e){this.control=e}hasDataChannel(){return!!this.dataChannel}getDataChannel(){return this.dataChannel}setDataChannel(e){this.dataChannel=e}answer(e){const t=new au(this.id,this.type);if(e){if(t.setDirection(ou.reverse(this.direction)),e.codecs){let r;r=Array.isArray(e.codecs)?Ol.MapFromNames(e.codecs,e.rtx,e.rtcpfbs):e.codecs;for(let e of this.codecs.values())if(r.has(e.getCodec().toLowerCase())){const n=r.get(e.getCodec().toLowerCase());if("h264"===n.getCodec()&&n.hasParam("packetization-mode")&&n.getParam("packetization-mode")!=e.getParam("packetization-mode","0"))continue;if("h264"===n.getCodec()&&n.hasParam("profile-level-id")&&e.hasParam("profile-level-id")&&n.getParam("profile-level-id")!=e.getParam("profile-level-id"))continue;if("multiopus"===n.getCodec()&&n.hasParam("num_streams")&&e.hasParam("num_streams")&&n.getParam("num_streams")!=e.getParam("num_streams"))continue;const o=n.clone();o.setType(e.getType()),o.hasRTX()&&o.setRTX(e.getRTX()),e.hasChannels()&&o.setChannels(e.getChannels()),o.addParams(e.getParams()),t.addCodec(o)}}const n=new Set(e.extensions);for(let[e,r]of this.extensions)n.has(r)&&t.addExtension(e,r);if(e.simulcast&&this.simulcast){const e=new ru,n=this.simulcast.getSimulcastStreams(Kl.SEND);if(n)for(let t=0;t<n.length;++t){var r=[];for(let e=0;e<n[t].length;++e)r.push(n[t][e].clone());e.addSimulcastAlternativeStreams(Kl.RECV,r)}const o=this.simulcast.getSimulcastStreams(Kl.RECV);if(o)for(let t=0;t<o.length;++t){r=[];for(let e=0;e<o[t].length;++e)r.push(o[t][e].clone());e.addSimulcastAlternativeStreams(Kl.SEND,r)}for(const r of this.rids.values()){const e=r.clone();e.setDirection(Kl.reverse(r.getDirection())),t.addRID(e)}t.setSimulcast(e)}if(e.dataChannel&&this.dataChannel){const r=new su(this.dataChannel.getPort(),e.dataChannel.maxMessageSize?e.dataChannel.maxMessageSize:this.dataChannel.getMaxMessageSize());t.setDataChannel(r)}}else t.setDirection(ou.INACTIVE);return t}getSimulcast(){return this.simulcast}setSimulcast(e){this.simulcast=e}}au.create=function(e,t){const r=new au(e,e);return t?t.codecs&&(Array.isArray(t.codecs)?r.setCodecs(Ol.MapFromNames(t.codecs,t.rtx,t.rtcpfbs)):r.setCodecs(t.codecs)):r.setDirection(ou.INACTIVE),r},au.expand=function(e){const t=new au(e.id,e.type);if(e.direction&&t.setDirection(ou.byValue(e.direction)),t.setBitrate(e.bitrate),e.dataChannel){const r=su.expand(e.dataChannel);r&&t.setDataChannel(r)}for(let r in e.extensions)t.addExtension(r,e.extensions[r]);for(let r=0;e.codecs&&r<e.codecs.length;++r){const n=Ol.expand(e.codecs[r]);n&&t.addCodec(n)}for(let r=0;e.rids&&r<e.rids.length;++r){const n=Jl.expand(e.rids[r]);t.addRID(n)}return e.simulcast&&t.setSimulcast(ru.expand(e.simulcast)),e.control&&t.setControl(e.control),t};var cu=au;class lu{constructor(e,t){this.semantics=e,this.ssrcs=[];for(let r=0;r<t.length;++r)this.ssrcs.push(parseInt(t[r]))}clone(){return new lu(this.semantics,this.ssrcs)}plain(){const e={semantics:this.semantics,ssrcs:[]};for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);return e}getSemantics(){return this.semantics}getSSRCs(){return this.ssrcs}}lu.expand=function(e){return new lu(e.semantics,e.ssrcs)};var uu=lu;class du{constructor(e){this.ssrc=e}clone(){const e=new du(this.ssrc);e.setCName(this.cname),e.setStreamId(this.streamId),e.setTrackId(this.trackId)}plain(){const e={ssrc:this.ssrc};return this.cname&&(e.cname=this.cname),this.streamId&&(e.streamId=this.streamId),this.trackId&&(e.trackid=this.trackId),e}getCName(){return this.cname}setCName(e){this.cname=e}getStreamId(){return this.streamId}setStreamId(e){this.streamId=e}getTrackId(){return this.trackId}setTrackId(e){this.trackId=e}getSSRC(){return this.ssrc}}du.expand=function(e){const t=new du(e.ssrc);return t.setCName(e.cname),t.setStreamId(e.streamId),t.setTrackId(e.trackId),t};var fu=du;class pu{constructor(e,t){this.id=e,this.paused=t,this.codecs=new Map,this.params=new Map}clone(){var e=new pu(this.id,this.paused);for(let t of this.codecs.values())e.addCodec(t.clone());return e.setParams(this.params),e}plain(){var e={id:this.id,paused:this.paused,codecs:{},params:{}};for(var[t,r]of this.codecs.entries())e.codecs[t]=r.plain();for(var[t,n]of this.params.entries())e.params[t]=n;return e}getId(){return this.id}getCodecs(){return this.codecs}addCodec(e){this.codecs.set(e.getType(),e)}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}isPaused(){return this.paused}}pu.expand=function(e){const t=new pu(e.id,e.paused);for(let r in e.codecs)t.addCodec(Ol.expand(e.codecs[r]));for(let r in e.params)t.addParam(r,e.params[r]);return t};var hu=pu;class mu{constructor(e,t){this.media=e,this.id=t,this.ssrcs=[],this.groups=[],this.encodings=[]}clone(){const e=new mu(this.media,this.id);this.mediaId&&e.setMediaId(this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.addSSRC(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.addSourceGroup(this.groups[t].clone());for(let t=0;t<this.encodings.length;++t){const r=[];for(let e=0;e<this.encodings[t].length;++e)r.push(this.encodings[t][e].clone());e.addAlternativeEncodings(r)}return e}plain(){const e={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(e.mediaId=this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.groups||(e.groups=[]),e.groups.push(this.groups[t].plain());for(let t=0;t<this.encodings.length;++t){const r=[];for(let e=0;e<this.encodings[t].length;++e)r.push(this.encodings[t][e].plain());r.length&&(e.encodings||(e.encodings=[]),e.encodings.push(r))}return e}getMedia(){return this.media}setMediaId(e){this.mediaId=e}getMediaId(){return this.mediaId}getId(){return this.id}addSSRC(e){this.ssrcs.push(e)}getSSRCs(){return this.ssrcs}addSourceGroup(e){this.groups.push(e)}getSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return t;return null}getSourceGroups(){return this.groups}hasSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return!0;return!1}getEncodings(){return this.encodings}addEncoding(e){this.encodings.push([e])}addAlternativeEncodings(e){this.encodings.push(e)}setEncodings(e){this.encodings=e}}mu.expand=function(e){const t=new mu(e.media,e.id);e.mediaId&&t.setMediaId(e.mediaId);for(let r=0;e.ssrcs&&r<e.ssrcs.length;++r)t.addSSRC(e.ssrcs[r]);for(let r=0;e.groups&&r<e.groups.length;++r)t.addSourceGroup(uu.expand(e.groups[r]));for(let r=0;e.encodings&&r<e.encodings.length;++r){const n=[];for(let t=0;t<e.encodings[r].length;++t)n.push(hu.expand(e.encodings[r][t]));t.addAlternativeEncodings(n)}return t};var gu=mu;class vu{constructor(e){this.id=e,this.tracks=new Map}clone(){const e=new vu(this.id);for(const t of this.tracks.values())e.addTrack(t.clone());return e}plain(){const e={id:this.id,tracks:[]};for(const t of this.tracks.values())e.tracks.push(t.plain());return e}getId(){return this.id}addTrack(e){this.tracks.set(e.getId(),e)}removeTrack(e){return this.tracks.delete(e.getId())}removeTrackById(e){return this.tracks.delete(e)}getFirstTrack(e){for(let t of this.tracks.values())if(t.getMedia().toLowerCase()===e.toLowerCase())return t;return null}getTracks(){return this.tracks}removeAllTracks(){this.tracks.clear()}getTrack(e){return this.tracks.get(e)}}vu.expand=function(e){const t=new vu(e.id,e.paused);for(let r=0;r<e.tracks.length;++r){const n=gu.expand(e.tracks[r]);n&&t.addTrack(n)}return t};var bu=vu;class yu{constructor(e){this.version=e||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}clone(){const e=new yu(this.version);for(let t=0;t<this.medias.length;++t)e.addMedia(this.medias[t].clone());for(const t of this.streams.values())e.addStream(t.clone());for(let t=0;t<this.candidates.length;++t)e.addCandidate(this.candidates[t].clone());return e.setICE(this.ice.clone()),this.dtls&&e.setDTLS(this.dtls.clone()),this.crypto&&e.setCrypto(this.crypto.clone()),e.setExmapAllowMixed(this.extmapAllowMixed),e}plain(){const e={version:this.version,streams:[],medias:[],candidates:[]};for(let t=0;t<this.medias.length;++t)e.medias.push(this.medias[t].plain());for(const t of this.streams.values())e.streams.push(t.plain());for(let t=0;t<this.candidates.length;++t)e.candidates.push(this.candidates[t].plain());return this.ice&&(e.ice=this.ice.plain()),this.dtls&&(e.dtls=this.dtls.plain()),this.crypto&&(e.crypto=this.crypto.plain()),this.extmapAllowMixed||(e.extmapAllowMixedNotSupported=!this.extmapAllowMixed),e}unify(){const e=new yu(this.version);for(let r=0;r<this.medias.length;++r)e.addMedia(this.medias[r].clone());const t={audio:e.getMediasByType("audio"),video:e.getMediasByType("video")};for(const r of this.streams.values()){const n=r.clone();for(const r of n.getTracks().values()){let n=t[r.getMedia()].pop();n||(n=this.getMedia(r.getMedia()).clone(),n.setId(r.getId()),e.addMedia(n)),r.setMediaId(n.getId())}e.addStream(n)}for(let r=0;r<this.candidates.length;++r)e.addCandidate(this.candidates[r].clone());return this.ice&&e.setICE(this.ice.clone()),this.dtls&&e.setDTLS(this.dtls.clone()),this.crypto&&e.setCrypto(this.crypto.clone()),e}setVersion(e){this.version=e}addMedia(e){this.medias.push(e)}getMedia(e){for(let t in this.medias){let r=this.medias[t];if(r.getType().toLowerCase()===e.toLowerCase())return r}return null}getMediasByType(e){var t=[];for(let r in this.medias){let n=this.medias[r];n.getType().toLowerCase()===e.toLowerCase()&&t.push(n)}return t}getMediaById(e){for(let t in this.medias){let r=this.medias[t];if(r.getId().toLowerCase()===e.toLowerCase())return r}return null}replaceMedia(e){for(let t in this.medias)if(this.medias[t].getId()==e.getId())return this.medias[t]=e,!0;return!1}getMedias(){return this.medias}getVersion(){return this.version}getDTLS(){return this.dtls}setDTLS(e){this.dtls=e}hasCrypto(){return!!this.crypto}getCrypto(){return this.crypto}setCrypto(e){this.crypto=e}hasICE(){return!!this.ice}getICE(){return this.ice}setICE(e){this.ice=e}addCandidate(e){for(let t=0;t<this.candidates.length;++t)if(this.candidates[t].equals(e))return;this.candidates.push(e)}addCandidates(e){for(let t=0;t<e.length;++t)this.addCandidate(e[t])}getCandidates(){return this.candidates}getStream(e){return this.streams.get(e)}getStreams(){return this.streams}getFirstStream(){for(let e of this.streams.values())return e;return null}addStream(e){this.streams.set(e.getId(),e)}removeStream(e){return this.streams.delete(e.getId())}removeAllStreams(){this.streams.clear()}getTrackByMediaId(e){for(let t of this.streams.values())for(let[r,n]of t.getTracks())if(n.getMediaId()==e)return n;return null}getStreamByMediaId(e){for(let t of this.streams.values())for(let[r,n]of t.getTracks())if(n.getMediaId()==e)return t;return null}getExtmapAllowMixed(){return this.extmapAllowMixed}setExtmapAllowMixed(e){this.extmapAllowMixed=e}answer(e){const t=new yu;e.ice&&(e.ice instanceof Ql?t.setICE(e.ice.clone()):t.setICE(Ql.expand(e.ice))),e.dtls&&(e.dtls instanceof Cl?t.setDTLS(e.dtls):t.setDTLS(Cl.expand(e.dtls))),e.crypto&&(e.crypto instanceof Il?t.setCrypto(e.crypto):t.setCrypto(Il.expand(e.crypto)));for(let r=0;e.candidates&&r<e.candidates.length;++r)e.candidates[r]instanceof bl?t.addCandidate(e.candidates[r].clone()):t.addCandidate(bl.expand(e.candidates[r]));for(const r of this.medias){const n=e&&e.capabilities&&e.capabilities[r.getType()];t.addMedia(r.answer(n))}return t.setExtmapAllowMixed(this.extmapAllowMixed),t}toString(){let e={version:0,media:[]};e.version=0,e.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},e.name="semantic-sdp",e.connection={version:4,ip:"0.0.0.0"},e.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),e.msidSemantic={semantic:"WMS",token:"*"},e.groups=[],this.extmapAllowMixed&&(e.extmapAllowMixed="extmap-allow-mixed");let t={type:"BUNDLE",mids:[]};for(let r in this.medias){let n=this.medias[r],o={type:n.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};o.direction=ou.toString(n.getDirection()),this.extmapAllowMixed&&(o.extmapAllowMixed="extmap-allow-mixed"),o.mid=n.getId(),t.mids.push(n.getId()),n.hasControl()&&(o.control=n.getControl()),n.getBitrate()>0&&(o.bandwidth.push({type:"AS",limit:n.getBitrate()}),o.bandwidth.push({type:"TIAS",limit:1e3*n.getBitrate()}));let i=this.getCandidates();for(let e=0;e<i.length;++e){let t=i[e];o.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()})}if(this.getICE()&&(o.iceUfrag=this.getICE().getUfrag(),o.icePwd=this.getICE().getPwd()),["audio","video"].includes(n.getType().toLowerCase())){o.rtcpMux="rtcp-mux",o.rtcpRsize="rtcp-rsize",this.getDTLS()?(o.protocol="UDP/TLS/RTP/SAVPF",o.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},o.setup=_l.toString(this.getDTLS().getSetup())):this.getCrypto()?(o.protocol="RTP/SAVPF",o.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):o.protocol="RTP/AVP";for(let r of n.getCodecs().values()){"video"===n.getType().toLowerCase()?o.rtp.push({payload:r.getType(),codec:r.getCodec().toUpperCase(),rate:9e4}):"opus"===r.getCodec().toLowerCase()||"multiopus"===r.getCodec().toLowerCase()?o.rtp.push({payload:r.getType(),codec:r.getCodec(),rate:48e3,encoding:r.getChannels()}):o.rtp.push({payload:r.getType(),codec:r.getCodec(),rate:8e3});for(const t of r.getRTCPFeedbacks())o.rtcpFb.push({payload:r.getType(),type:t.getId(),subtype:t.getParams().join(" ")});r.hasRTX()&&(o.rtp.push({payload:r.getRTX(),codec:"rtx",rate:9e4}),o.fmtp.push({payload:r.getRTX(),config:"apt="+r.getType()}));const e=r.getParams();if(Object.keys(e).length){const t={payload:r.getType(),config:""};for(const r in e)t.config.length&&(t.config+=";"),e.hasOwnProperty(r)?t.config+=r+"="+e[r]:t.config+=r;o.fmtp.push(t)}}const e=[];for(let r=0;r<o.rtp.length;++r)e.push(o.rtp[r].payload);o.payloads=e.join(" ");for(let[r,i]of n.getExtensions().entries())o.ext.push({value:r,uri:i});for(let r of n.getRIDs().values()){let e={id:r.getId(),direction:Kl.toString(r.getDirection()),params:""};r.getFormats().length&&(e.params="pt="+r.getFormats().join(","));for(let[t,n]of r.getParams().entries())e.params+=(e.params.length?";":"")+t+"="+n;o.rids.push(e)}const t=n.getSimulcast();if(t){let e=1;o.simulcast={};const r=t.getSimulcastStreams(Kl.SEND),n=t.getSimulcastStreams(Kl.RECV);if(r&&r.length){let t="";for(let e=0;e<r.length;++e){let n="";for(let t=0;t<r[e].length;++t)n+=(n.length?",":"")+(r[e][t].isPaused()?"~":"")+r[e][t].getId();t+=(t.length?";":"")+n}o.simulcast["dir"+e]="send",o.simulcast["list"+e]=t,e++}if(n&&n.length){let t=[];for(let e=0;e<n.length;++e){let r="";for(let t=0;t<n[e].length;++t)r+=(r.length?",":"")+(n[e][t].isPaused()?"~":"")+n[e][t].getId();t+=(t.length?";":"")+r}o.simulcast["dir"+e]="recv",o.simulcast["list"+e]=t,e++}}}else if(n.hasDataChannel()){o.protocol="UDP/DTLS/SCTP",o.payloads="webrtc-datachannel";const e=n.getDataChannel();o.sctpPort=e.getPort(),o.maxMessageSize=e.getMaxMessageSize()}e.media.push(o)}for(let r of this.streams.values())for(let t of r.getTracks().values())for(let n in e.media){let o=e.media[n];if(t.getMediaId()){if(t.getMediaId()==o.mid){let e=t.getSourceGroups();for(let t in e){let r=e[t];o.ssrcGroups.push({semantics:r.getSemantics(),ssrcs:r.getSSRCs().join(" ")})}let n=t.getSSRCs();for(let i in n)o.ssrcs.push({id:n[i],attribute:"cname",value:r.getId()}),o.ssrcs.push({id:n[i],attribute:"msid",value:r.getId()+" "+t.getId()});o.msid=r.getId()+" "+t.getId();break}}else if(o.type.toLowerCase()===t.getMedia().toLowerCase()){let e=t.getSourceGroups();for(let t in e){let r=e[t];o.ssrcGroups.push({semantics:r.getSemantics(),ssrcs:r.getSSRCs().join(" ")})}let n=t.getSSRCs();for(let i in n)o.ssrcs.push({id:n[i],attribute:"cname",value:r.getId()}),o.ssrcs.push({id:n[i],attribute:"msid",value:r.getId()+" "+t.getId()});break}}return t.mids=t.mids.join(" "),e.groups.push(t),gl.write(e)}toIceFragmentString(){let e={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),this.getICE()&&(e.iceUfrag=this.getICE().getUfrag(),e.icePwd=this.getICE().getPwd());for(const t of this.getCandidates())e.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()});return gl.write(e).slice(10)}}yu.create=function(e){const t=new yu;e.ice&&(e.ice instanceof Ql?t.setICE(e.ice.clone()):t.setICE(Ql.expand(e.ice))),e.dtls&&(e.dtls instanceof Cl?t.setDTLS(e.dtls):t.setDTLS(Cl.expand(e.dtls))),e.crypto&&(e.crypto instanceof Il?t.setCrypto(e.crypto):t.setCrypto(Il.expand(e.crypto)));for(let o=0;e.candidates&&o<e.candidates.length;++o)e.candidates[o]instanceof bl?t.addCandidate(e.candidates[o].clone()):t.addCandidate(bl.expand(e.candidates[o]));let r=96,n=1;for(let o in e.capabilities){const i=cu.create(o,e.capabilities[o]);for(const[e,t]of i.getCodecs())t.getType()>=96&&t.setType(r++),t.getRTX()&&t.setRTX(r++);if(e.capabilities[o].extensions)for(let t of e.capabilities[o].extensions)15===n&&n++,i.addExtension(n++,t);t.addMedia(i)}return t},yu.expand=function(e){const t=new yu(e.version);for(let r=0;e.medias&&r<e.medias.length;++r){const n=cu.expand(e.medias[r]);n&&t.addMedia(n)}for(let r=0;e.streams&&r<e.streams.length;++r){const n=bu.expand(e.streams[r]);n&&t.addStream(n)}for(let r=0;e.candidates&&r<e.candidates.length;++r){const n=bl.expand(e.candidates[r]);n&&t.addCandidate(n)}return e.ice&&t.setICE(Ql.expand(e.ice)),e.dtls&&t.setDTLS(Cl.expand(e.dtls)),e.crypto&&t.setCrypto(Cl.expand(e.crypto)),e.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!e.extmapAllowMixedNotSupported),t},yu.process=function(e){return yu.parse(e)},yu.parse=function(e){const t=gl.parse(e),r=new yu;if(r.setVersion(t.version),t.iceUfrag&&t.icePwd){const e=String(t.iceUfrag),n=String(t.icePwd),o=new Ql(e,n);o.setLite("ice-lite"==t.icelite),o.setEndOfCandidates("end-of-candidates"==t.endOfCandidates),r.setICE(o)}for(let n in t.media){const e=t.media[n],o=e.type,i=e.mid?e.mid.toString():n,s=new cu(i,o);if(e.iceUfrag&&e.icePwd){const n=String(e.iceUfrag),o=String(e.icePwd),i=new Ql(n,o);i.setLite("ice-lite"==t.icelite),i.setEndOfCandidates("end-of-candidates"==e.endOfCandidates),r.setICE(i)}for(let t=0;e.candidates&&t<e.candidates.length;++t){const n=e.candidates[t],o=new bl(n.foundation,n.component,n.transport,n.priority,n.ip,n.port,n.type,n.raddr,n.rport);r.addCandidate(o)}const a=e.fingerprint||t.fingerprint;if(a){const t=a.type,n=a.hash;let o=_l.ACTPASS;e.setup&&(o=_l.byValue(e.setup)),r.setDTLS(new Cl(o,t,n))}if(e.crypto){const t=e.crypto[0];r.setCrypto(new Il(t.id,t.suite,t.config,t.sessionConfig))}let c=ou.SENDRECV;e.direction&&(c=ou.byValue(e.direction),s.setDirection(c)),e.control&&s.setControl(e.control),r.setExtmapAllowMixed("extmap-allow-mixed"==e.extmapAllowMixed||"extmap-allow-mixed"==t.extmapAllowMixed);const l=new Map;for(let t in e.rtp){const r=e.rtp[t],n=r.payload,o=r.codec;if("RED"===o.toUpperCase()||"ULPFEC"===o.toUpperCase())continue;let i={};for(let t in e.fmtp){const r=e.fmtp[t];if(r.payload===n){const e=r.config.split(";");for(let t in e){const r=e[t].split("="),n=r[0].trim(),o=r.splice(1).join("=").trim();i[n]=o}}}if("RTX"===o.toUpperCase())l.set(parseInt(i.apt),n);else{const e=new Ol(o,n,i);r.encoding>1&&e.setChannels(r.encoding),s.addCodec(e)}}for(let t of l.entries()){const e=s.getCodecForType(t[0]);e&&e.setRTX(t[1])}for(let t=0;e.rtcpFb&&t<e.rtcpFb.length;++t){const r=s.getCodecForType(e.rtcpFb[t].payload);if(r){const n=e.rtcpFb[t].type,o=e.rtcpFb[t].subtype?e.rtcpFb[t].subtype.split(" "):null;r.addRTCPFeedback(new wl(n,o))}}const u=e.ext;for(let t in u){const e=u[t];s.addExtension(e.value,e.uri)}const d=e.rids;for(let t in d){const e=d[t],r=new Jl(e.id,Kl.byValue(e.direction));let n=[];const o=new Map;if(e.params){const t=gl.parseParams(e.params);for(let e in t)"pt"===e?n=t[e].split(","):o.set(e,t[e]);r.setFormats(n),r.setParams(o)}s.addRID(r)}const f=[];if(e.simulcast){const t=new ru;if(e.simulcast.dir1){const r=Kl.byValue(e.simulcast.dir1),n=gl.parseSimulcastStreamList(e.simulcast.list1);for(let e=0;e<n.length;++e){const o=[];for(let t=0;t<n[e].length;++t)o.push(new eu(n[e][t].scid,n[e][t].paused));t.addSimulcastAlternativeStreams(r,o)}}if(e.simulcast.dir2){const r=Kl.byValue(e.simulcast.dir2),n=gl.parseSimulcastStreamList(e.simulcast.list2);for(let e=0;e<n.length;++e){const o=[];for(let t=0;t<n[e].length;++t)o.push(new eu(n[e][t].scid,n[e][t].paused));t.addSimulcastAlternativeStreams(r,o)}}for(let e of t.getSimulcastStreams(Kl.SEND)){const t=[];for(let r=0;r<e.length;r++){const n=new hu(e[r].getId(),e[r].isPaused()),o=s.getRID(n.getId());if(o){const e=o.getFormats();for(let t=0;e&&t<e.length;++t){const r=s.getCodecForType(e[t]);r&&n.addCodec(r)}n.setParams(o.getParams()),t.push(n)}}t.length&&f.push(t)}s.setSimulcast(t)}const p=new Map;if(e.ssrcs)for(let t in e.ssrcs){let n=e.ssrcs[t],s=n.id,a=n.attribute,c=n.value,l=p.get(s);if(l||(l=new fu(s),p.set(l.getSSRC(),l)),"cname"===a.toLowerCase())l.setCName(c);else if("msid"===a.toLowerCase()){let e=c.split(" "),t=e[0],n=e[1];l.setStreamId(t),l.setTrackId(n);let a=r.getStream(t);a||(a=new bu(t),r.addStream(a));let u=a.getTrack(n);u||(u=new gu(o,n),u.setMediaId(i),u.setEncodings(f),a.addTrack(u)),u.addSSRC(s)}}if(e.msid){let t=e.msid.split(" "),n=t[0],s=t[1],a=r.getStream(n);a||(a=new bu(n),r.addStream(a));let c=a.getTrack(s);c||(c=new gu(o,s),c.setMediaId(i),c.setEncodings(f),a.addTrack(c));for(let[e,r]of p.entries())r.getStreamId()||(r.setStreamId(n),r.setTrackId(s),c.addSSRC(e))}for(let[t,n]of p.entries())if(!n.getStreamId()){let e=n.getCName(),s=i;n.setStreamId(e),n.setTrackId(s);let a=r.getStream(e);a||(a=new bu(e),r.addStream(a));let c=a.getTrack(s);c||(c=new gu(o,s),c.setMediaId(i),c.setEncodings(f),a.addTrack(c)),c.addSSRC(t)}if(e.ssrcGroups)for(let t in e.ssrcGroups){let n=e.ssrcGroups[t],o=n.ssrcs.split(" "),i=new uu(n.semantics,o),s=p.get(parseInt(o[0]));s&&r.getStream(s.getStreamId()).getTrack(s.getTrackId()).addSourceGroup(i)}if("application"==e.type&&"webrtc-datachannel"==e.payloads){const t=new su(e.sctpPort,e.maxMessageSize);s.setDataChannel(t)}r.addMedia(s)}return r};var wu={SDPInfo:yu,CandidateInfo:bl,CodecInfo:Ol,DTLSInfo:Cl,CryptoInfo:Il,ICEInfo:Ql,MediaInfo:cu,Setup:_l,SourceGroupInfo:uu,SourceInfo:fu,StreamInfo:bu,TrackInfo:gu,RTCPFeedbackInfo:wl,TrackEncodingInfo:hu,Direction:ou},Su=a((function(e,t){!function(r,n){var o="function",i="undefined",s="object",a="string",c="model",l="name",u="type",d="vendor",f="version",p="architecture",h="console",m="mobile",g="tablet",v="smarttv",b="wearable",y="embedded",w="Amazon",S="Apple",O="ASUS",x="BlackBerry",E="Browser",_="Chrome",j="Firefox",C="Google",k="Huawei",I="LG",T="Microsoft",P="Motorola",A="Opera",R="Samsung",V="Sharp",N="Sony",L="Xiaomi",D="Zebra",M="Facebook",B=function(e){for(var t={},r=0;r<e.length;r++)t[e[r].toUpperCase()]=e[r];return t},$=function(e,t){return typeof e===a&&-1!==F(t).indexOf(F(e))},F=function(e){return e.toLowerCase()},U=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,350)},z=function(e,t){for(var r,i,a,c,l,u,d=0;d<t.length&&!l;){var f=t[d],p=t[d+1];for(r=i=0;r<f.length&&!l;)if(l=f[r++].exec(e))for(a=0;a<p.length;a++)u=l[++i],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,u):this[c[0]]=c[1]:3===c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=u?u.replace(c[1],c[2]):n:this[c[0]]=u?c[1].call(this,u,c[2]):n:4===c.length&&(this[c[0]]=u?c[3].call(this,u.replace(c[1],c[2])):n):this[c]=u||n;d+=2}},q=function(e,t){for(var r in t)if(typeof t[r]===s&&t[r].length>0){for(var o=0;o<t[r].length;o++)if($(t[r][o],e))return"?"===r?n:r}else if($(t[r],e))return"?"===r?n:r;return e},G={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},H={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[l,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[l,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[l,f],[/opios[\/ ]+([\w\.]+)/i],[f,[l,A+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[l,A]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[l,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[l,"UC"+E]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[l,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[l,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[l,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[l,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[l,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[l,/(.+)/,"$1 Secure "+E],f],[/\bfocus\/([\w\.]+)/i],[f,[l,j+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[l,A+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[l,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[l,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[l,A+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[l,"MIUI "+E]],[/fxios\/([-\w\.]+)/i],[f,[l,j]],[/\bqihu|(qi?ho?o?|360)browser/i],[[l,"360 "+E]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[l,/(.+)/,"$1 "+E],f],[/(comodo_dragon)\/([\w\.]+)/i],[[l,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[l,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[l],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[l,M],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[l,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[l,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[l,_+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[l,_+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[l,"Android "+E]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[l,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[l,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,l],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[l,[f,q,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[l,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[l,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[l,j+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[l,f],[/(cobalt)\/([\w\.]+)/i],[l,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,F]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",F]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,F]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,R],[u,g]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,R],[u,m]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,S],[u,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,S],[u,g]],[/(macintosh);/i],[c,[d,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,k],[u,g]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[d,k],[u,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,L],[u,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,L],[u,g]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[u,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[u,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[u,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,P],[u,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,P],[u,g]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,I],[u,g]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,I],[u,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[u,g]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[u,m]],[/(pixel c)\b/i],[c,[d,C],[u,g]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,C],[u,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,N],[u,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,N],[u,g]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[u,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,w],[u,g]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,w],[u,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[u,g]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,x],[u,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,O],[u,g]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,O],[u,m]],[/(nexus 9)/i],[c,[d,"HTC"],[u,g]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[u,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[u,g]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[u,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,V],[u,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[u,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[u,g]],[/(surface duo)/i],[c,[d,T],[u,g]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[u,m]],[/(u304aa)/i],[c,[d,"AT&T"],[u,m]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[u,m]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[u,g]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[u,g]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[u,g]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[u,g]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[u,g]],[/\b(k88) b/i],[c,[d,"ZTE"],[u,g]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[u,m]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[u,m]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[u,g]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[u,g]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[u,g]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[u,g]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[u,g]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[u,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[u,m]],[/\b(ph-1) /i],[c,[d,"Essential"],[u,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[u,g]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[u,g]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[u,g]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[u,g]],[/(sprint) (\w+)/i],[d,c,[u,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,T],[u,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,D],[u,g]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,D],[u,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[u,h]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[u,h]],[/(playstation [345portablevi]+)/i],[c,[d,N],[u,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,T],[u,h]],[/smart-tv.+(samsung)/i],[d,[u,v]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,R],[u,v]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,I],[u,v]],[/(apple) ?tv/i],[d,[c,S+" TV"],[u,v]],[/crkey/i],[[c,_+"cast"],[d,C],[u,v]],[/droid.+aft(\w)( bui|\))/i],[c,[d,w],[u,v]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[d,V],[u,v]],[/(bravia[\w ]+)( bui|\))/i],[c,[d,N],[u,v]],[/(mitv-\w{5}) bui/i],[c,[d,L],[u,v]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,U],[c,U],[u,v]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[u,v]],[/((pebble))app/i],[d,c,[u,b]],[/droid.+; (glass) \d/i],[c,[d,C],[u,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,D],[u,b]],[/(quest( 2)?)/i],[c,[d,M],[u,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[u,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[u,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[u,g]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[u,g]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[u,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[l,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[l,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[l,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,l]],os:[[/microsoft (windows) (vista|xp)/i],[l,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[l,[f,q,G]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[l,"Windows"],[f,q,G]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[l,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[l,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,l],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[l,f],[/\(bb(10);/i],[f,[l,x]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[l,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[l,j+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[l,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[l,_+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[l,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[l,f],[/(sunos) ?([\w\.\d]*)/i],[[l,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[l,f]]},W=function(e,t){if(typeof e===s&&(t=e,e=n),!(this instanceof W))return new W(e,t).getResult();var o=e||(typeof r!==i&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:""),h=t?function(e,t){var r={};for(var n in e)t[n]&&t[n].length%2==0?r[n]=t[n].concat(e[n]):r[n]=e[n];return r}(H,t):H;return this.getBrowser=function(){var e={};return e[l]=n,e[f]=n,z.call(e,o,h.browser),e.major=function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:n}(e.version),e},this.getCPU=function(){var e={};return e[p]=n,z.call(e,o,h.cpu),e},this.getDevice=function(){var e={};return e[d]=n,e[c]=n,e[u]=n,z.call(e,o,h.device),e},this.getEngine=function(){var e={};return e[l]=n,e[f]=n,z.call(e,o,h.engine),e},this.getOS=function(){var e={};return e[l]=n,e[f]=n,z.call(e,o,h.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===a&&e.length>350?U(e,350):e,this},this.setUA(o),this};W.VERSION="0.7.33",W.BROWSER=B([l,f,"major"]),W.CPU=B([p]),W.DEVICE=B([c,d,u,h,m,v,g,b,y]),W.ENGINE=W.OS=B([l,f]),e.exports&&(t=e.exports=W),t.UAParser=W;var Q=typeof r!==i&&(r.jQuery||r.Zepto);if(Q&&!Q.ua){var Y=new W;Q.ua=Y.getResult(),Q.ua.get=function(){return Y.getUA()},Q.ua.set=function(e){Y.setUA(e);var t=Y.getResult();for(var r in t)Q.ua[r]=t[r]}}}("object"==typeof window?window:s)}));const Ou=["iOS"];class xu extends Su{constructor(){super(window.navigator.userAgent)}isChrome(){const e=this.getBrowser();if(!e.name)return!1;const t=this.getOS();let r=!0;return r=!new RegExp(Ou.join("|"),"i").test(t.name),e.name.match(/Chrome/i)&&r}isFirefox(){const e=this.getBrowser();return!!e.name&&e.name.match(/Firefox/i)}isOpera(){const e=this.getBrowser();return!!e.name&&e.name.match(/Opera/i)}isSafari(){const e=this.getBrowser();return!!e.name&&e.name.match(/Safari/i)}}const Eu=qn.get("SdpParser"),_u=Array.from({length:31},(e,t)=>t+35),ju=Array.from({length:32},(e,t)=>t+96),Cu=Array.from({length:14},(e,t)=>t+1),ku=Array.from({length:240},(e,t)=>t+16),Iu={setSimulcast(e,t){if(Eu.info("Setting simulcast. Codec: ",t),!(new xu).isChrome())return Eu.warn("Simulcast is only available in Google Chrome browser"),e;if("h264"!==t&&"vp8"!==t)return Eu.warn("Simulcast is only available in h264 and vp8 codecs"),e;try{const t=/m=video[\s\S]*?a=ssrc:(\d*) msid:([\s\S]+?)\r\n/,r=/m=video[\s\S]*?a=ssrc:(\d*) cname:([\s\S]+?)\r\n/.exec(e),n=r[1],o=r[2],i=t.exec(e)[2],s=2,a=[n];for(let c=0;c<s;++c){const t=100+2*c,r=t+1;a.push(t),e+="a=ssrc-group:FID "+t+" "+r+"\r\na=ssrc:"+t+" cname:"+o+"\r\na=ssrc:"+t+" msid:"+i+"\r\na=ssrc:"+r+" cname:"+o+"\r\na=ssrc:"+r+" msid:"+i+"\r\n"}return e+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",Eu.info("Simulcast setted"),Eu.debug("Simulcast SDP: ",e),e}catch(e){throw Eu.error("Error setting SDP for simulcast: ",e),e}},setStereo:e=>(Eu.info("Replacing SDP response for support stereo"),e=e.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),Eu.info("Replaced SDP response for support stereo"),Eu.debug("New SDP value: ",e),e),setDTX:e=>(Eu.info("Replacing SDP response for support dtx"),e=e.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),Eu.info("Replaced SDP response for support dtx"),Eu.debug("New SDP value: ",e),e),setAbsoluteCaptureTime(e){const t="a=extmap:"+Iu.getAvailableHeaderExtensionIdRange(e)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return e=e.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(e,r,n)=>r+t+n),Eu.info("Replaced SDP response for setting absolute capture time"),Eu.debug("New SDP value: ",e),e},setDependencyDescriptor(e){const t="a=extmap:"+Iu.getAvailableHeaderExtensionIdRange(e)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return e=e.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(e,r,n)=>r+t+n),Eu.info("Replaced SDP response for setting depency descriptor"),Eu.debug("New SDP value: ",e),e},setVideoBitrate(e,t){if(t<1)Eu.info("Remove bitrate restrictions"),e=e.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{const r=wu.SDPInfo.parse(e),n=r.getMedia("video");Eu.info("Setting video bitrate"),n.setBitrate(t),e=r.toString()}return e},removeSdpLine:(e,t)=>(Eu.debug("SDP before trimming: ",e),e=e.split("\n").filter(e=>e.trim()!==t).join("\n"),Eu.debug("SDP trimmed result: ",e),e),adaptCodecName(e,t,r){if(!e)return e;const n=new RegExp("".concat(t),"i");return e.replace(n,r)},setMultiopus(e,t){if(!(new xu).isFirefox()&&(!t||Tu(t)))if(e.includes("multiopus/48000/6"))Eu.info("Multiopus already setted");else{Eu.info("Setting multiopus");const t=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(e)[0],r=Iu.getAvailablePayloadTypeRange(e)[0],n=t.replace("\r\n"," ")+r+"\r\na=rtpmap:"+r+" multiopus/48000/6\r\na=fmtp:"+r+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";e=e.replace(t,n),Eu.info("Multiopus offer created"),Eu.debug("SDP parsed for multioups: ",e)}return e},getAvailablePayloadTypeRange(e){const t=e.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm);let r=ju.concat(_u);for(const n of t){const e=n[1].split(" ").map(e=>parseInt(e));r=r.filter(t=>!e.includes(t))}return r},getAvailableHeaderExtensionIdRange(e){const t=e.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm);let r=Cu.concat(ku);for(const n of t){const e=n[1].split(" ").map(e=>parseInt(e));r=r.filter(t=>!e.includes(t))}return r},renegotiate(e,t){const r=wu.SDPInfo.parse(e),n=wu.SDPInfo.parse(t);for(const o of r.getMedias()){let e=n.getMediaById(o.getId());if(!e){e=new wu.MediaInfo(o.getId(),o.getType()),e.setDirection(wu.Direction.reverse(o.getDirection()));const t=n.getMedia(o.getType());if(t){e.setCodecs(t.getCodecs());for(const[r,n]of t.getExtensions())e.addExtension(r,n)}n.addMedia(e)}}return n.toString()},updateMissingVideoExtensions(e,t){var r;const n=wu.SDPInfo.parse(e),o=null===(r=wu.SDPInfo.parse(t).getMediasByType("video")[0])||void 0===r?void 0:r.getExtensions();if(o||o.length){for(const t of n.getMediasByType("video")){const r=t.getExtensions();o.forEach((n,o)=>{if(!r.get(o)){const r=t.getId(),i="a=extmap:"+o+" "+n+"\r\n",s=new RegExp("(a=mid:"+r+"\r\n(?:.*\r\n)*?)","g");e=e.replace(s,(e,t,r)=>t+i)}})}return e}}},Tu=e=>e.getAudioTracks().some(e=>e.getSettings().channelCount>2),Pu={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},Au={OPUS:"opus",MULTIOPUS:"multiopus"};function Ru(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vu(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ru(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ru(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Nu=qn.get("PeerConnection"),Lu={track:"track",connectionStateChange:"connectionStateChange"},Du={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0};class Mu extends Ma{constructor(){super(),this.sessionDescription=null,this.peer=null,this.peerConnectionStats=null}async createRTCPeer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Nu.info("Creating new RTCPeerConnection"),Nu.debug("RTC configuration provided by user: ",e),this.peer=Fu(this,e)}getRTCPeer(){return Nu.info("Getting RTC Peer"),this.peer}async closeRTCPeer(){var e;Nu.info("Closing RTCPeerConnection"),null===(e=this.peer)||void 0===e||e.close(),this.peer=null,this.stopStats(),this.emit(Lu.connectionStateChange,"closed")}async setRTCRemoteSDP(e){Nu.info("Setting RTC Remote SDP");const t={type:"answer",sdp:e};try{await this.peer.setRemoteDescription(t),Nu.info("RTC Remote SDP was set successfully."),Nu.debug("RTC Remote SDP new value: ",e)}catch(e){throw Nu.error("Error while setting RTC Remote SDP: ",e),e}}async getRTCLocalSDP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Du;Nu.info("Getting RTC Local SDP"),e=Vu(Vu({},Du),e),Nu.debug("Options: ",e);const t=$u(e.mediaStream);t?zu(this.peer,t,e):qu(this.peer,e),Nu.info("Creating peer offer");const r=await this.peer.createOffer();return Nu.info("Peer offer created"),Nu.debug("Peer offer response: ",r.sdp),this.sessionDescription=r,e.disableAudio||(e.stereo&&(this.sessionDescription.sdp=Iu.setStereo(this.sessionDescription.sdp)),e.dtx&&(this.sessionDescription.sdp=Iu.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=Iu.setMultiopus(this.sessionDescription.sdp,t)),!e.disableVideo&&e.simulcast&&(this.sessionDescription.sdp=Iu.setSimulcast(this.sessionDescription.sdp,e.codec)),e.absCaptureTime&&(this.sessionDescription.sdp=Iu.setAbsoluteCaptureTime(this.sessionDescription.sdp)),e.dependencyDescriptor&&(this.sessionDescription.sdp=Iu.setDependencyDescriptor(this.sessionDescription.sdp)),e.setSDPToPeer&&(await this.peer.setLocalDescription(this.sessionDescription),Nu.info("Peer local description set")),this.sessionDescription.sdp}async addRemoteTrack(e,t){try{let r=this.peer.addTransceiver(e,{direction:"recvonly",streams:t});return r=await Gu(r,t),r}catch(e){throw Nu.error("Error while adding the remote track: ",e),e}}updateBandwidthRestriction(e,t){return Nu.info("Updating bandwidth restriction, bitrate value: ",t),Nu.debug("SDP value: ",e),Iu.setVideoBitrate(e,t)}async updateBitrate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.peer)throw Nu.error("Cannot update bitrate. No peer found."),new Error("Cannot update bitrate. No peer found.");Nu.info("Updating bitrate to value: ",e),this.sessionDescription=await this.peer.createOffer(),await this.peer.setLocalDescription(this.sessionDescription);const t=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,e);await this.setRTCRemoteSDP(t),Nu.info("Bitrate restirctions updated: ","".concat(e>0?e:"unlimited"," kbps"))}getRTCPeerStatus(){if(Nu.info("Getting RTC peer status"),!this.peer)return null;const e=Hu(this.peer);return Nu.info("RTC peer status getted, value: ",e),e}replaceTrack(e){if(!this.peer)return void Nu.error("Could not change track if there is not an active connection.");const t=this.peer.getSenders().find(t=>t.track.kind===e.kind);t?t.replaceTrack(e):Nu.error("There is no ".concat(e.kind," track in active broadcast."))}static getCapabilities(e){const t=new xu;if(t.isFirefox())return(e=>"video"===e?{codecs:[{codec:"vp8",mimeType:"video/VP8"},{codec:"vp9",mimeType:"video/VP9"},{codec:"h264",mimeType:"video/H264"}],headerExtensions:[]}:"audio"===e?{codecs:[{codec:"opus",mimeType:"audio/opus",channels:2}],headerExtensions:[]}:null)(e);const r=RTCRtpSender.getCapabilities(e);if(r){const n={};let o=new RegExp("^video/(".concat(Object.values(Pu).join("|"),")x?$"),"i");"audio"===e&&(o=new RegExp("^audio/(".concat(Object.values(Au).join("|"),")$"),"i"),t.isChrome()&&(n.multiopus={mimeType:"audio/multiopus",channels:6}));for(const e of r.codecs){const t=e.mimeType.match(o);if(t){const r=t[1].toLowerCase();if(n[r]=Vu(Vu({},n[r]),{},{mimeType:e.mimeType}),e.scalabilityModes){let t=n[r].scalabilityModes||[];t=[...t,...e.scalabilityModes],n[r].scalabilityModes=[...new Set(t)]}e.channels&&(n[r].channels=e.channels)}}r.codecs=Object.keys(n).map(e=>Vu({codec:e},n[e]))}return r}getTracks(){var e;return null===(e=this.peer)||void 0===e||null===(e=e.getSenders())||void 0===e?void 0:e.map(e=>e.track)}initStats(){this.peerConnectionStats?Nu.warn("Cannot init peer stats: Already initialized"):this.peer?(this.peerConnectionStats=new oc(this.peer),this.peerConnectionStats.init(),Ka(this.peerConnectionStats,this,[nc])):Nu.warn("Cannot init peer stats: RTCPeerConnection not initialized")}stopStats(){var e;null===(e=this.peerConnectionStats)||void 0===e||e.stop(),this.peerConnectionStats=null}}const Bu=e=>(null==e?void 0:e.getAudioTracks().length)<=1&&(null==e?void 0:e.getVideoTracks().length)<=1,$u=e=>{if(!e)return null;if(e instanceof MediaStream&&Bu(e))return e;if(!(e instanceof MediaStream)){Nu.info("Creating MediaStream to add received tracks.");const t=new MediaStream;for(const r of e)t.addTrack(r);if(Bu(t))return t}throw Nu.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new Error("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Fu=(e,t)=>{const r=new RTCPeerConnection(t);return Uu(e,r),r},Uu=(e,t)=>{t.ontrack=t=>{Nu.info("New track from peer."),Nu.debug("Track event value: ",t),e.emit(Lu.track,t)},t.connectionState?t.onconnectionstatechange=r=>{Nu.info("Peer connection state change: ",t.connectionState),e.emit(Lu.connectionStateChange,t.connectionState)}:t.oniceconnectionstatechange=r=>{Nu.info("Peer ICE connection state change: ",t.iceConnectionState),e.emit(Lu.connectionStateChange,t.iceConnectionState)},t.onnegotiationneeded=async e=>{if(!t.remoteDescription)return;Nu.info("Peer onnegotiationneeded, updating local description");const r=await t.createOffer();Nu.info("Peer onnegotiationneeded, got local offer",r.sdp),r.sdp=Iu.updateMissingVideoExtensions(r.sdp,t.remoteDescription.sdp),await t.setLocalDescription(r);const n=Iu.renegotiate(r.sdp,t.remoteDescription.sdp);Nu.info("Peer onnegotiationneeded, updating remote description",n),await t.setRemoteDescription({type:"answer",sdp:n}),Nu.info("Peer onnegotiationneeded, renegotiation done")}},zu=(e,t,r)=>{Nu.info("Adding mediaStream tracks to RTCPeerConnection");for(const n of t.getTracks()){const o={streams:[t]};"audio"===n.kind&&(o.direction=r.disableAudio?"inactive":"sendonly"),"video"===n.kind&&(o.direction=r.disableVideo?"inactive":"sendonly",r.scalabilityMode&&(new xu).isChrome()?(Nu.debug("Video track with scalability mode: ".concat(r.scalabilityMode,".")),o.sendEncodings=[{scalabilityMode:r.scalabilityMode}]):r.scalabilityMode&&Nu.warn("SVC is only supported in Google Chrome")),e.addTransceiver(n,o),Nu.info("Track '".concat(n.label,"' added: "),"id: ".concat(n.id),"kind: ".concat(n.kind))}},qu=(e,t)=>{const r=new xu;if(!t.disableVideo){const t=e.addTransceiver("video",{direction:"recvonly"});r.isOpera()&&t.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter(e=>"video/H264"!==e.mimeType||e.sdpFmtpLine.includes("profile-level-id=4")))}t.disableAudio||e.addTransceiver("audio",{direction:"recvonly"});for(let n=0;n<t.multiplexedAudioTracks;n++)e.addTransceiver("audio",{direction:"recvonly"})},Gu=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((n,o)=>{if(e.mid){for(const r of t)r.addTrack(e.receiver.track);n(e)}else r>=10?o(new Error("Error, maximum number of retries has been reached")):(r++,setTimeout(()=>{Gu(e,t,r).then(n).catch(o)},50))})},Hu=e=>{var t;const r=null!==(t=e.connectionState)&&void 0!==t?t:e.iceConnectionState;switch(r){case"checking":return"connecting";case"completed":return"connected";default:return r}};class Wu extends Ma{constructor(e,t){super(),this.namespace=e,this.tm=t}cmd(e,t){return this.tm.cmd(e,t,this.namespace)}event(e,t){return this.tm.event(e,t,this.namespace)}close(){return this.tm.namespaces.delete(this.namespace)}}var Qu=class extends Ma{constructor(e){super(),this.maxId=0,this.namespaces=new Map,this.transactions=new Map,this.transport=e,this.listener=t=>{let r;try{r=JSON.parse(t.utf8Data||t.data||t)}catch(e){return}switch(r.type){case"cmd":const t={name:r.name,data:r.data,namespace:r.namespace,accept:t=>{e.send(JSON.stringify({type:"response",transId:r.transId,data:t}))},reject:t=>{e.send(JSON.stringify({type:"error",transId:r.transId,data:t}))}};if(t.namespace){const e=this.namespaces.get(t.namespace);e?e.emit("cmd",t):this.emit("cmd",t)}else this.emit("cmd",t);break;case"response":{const e=this.transactions.get(r.transId);if(!e)return;this.transactions.delete(r.transId),e.resolve(r.data);break}case"error":{const e=this.transactions.get(r.transId);if(!e)return;this.transactions.delete(r.transId),e.reject(r.data);break}case"event":const o={name:r.name,data:r.data,namespace:r.namespace};if(o.namespace){var n=this.namespaces.get(o.namespace);n?n.emit("event",o):this.emit("event",o)}else this.emit("event",o)}},this.transport.addListener?this.transport.addListener("message",this.listener):this.transport.addEventListener("message",this.listener)}cmd(e,t,r){return new Promise((n,o)=>{if(!e||0===e.length)throw new Error("Bad command name");const i={type:"cmd",transId:this.maxId++,name:e,data:t};r&&(i.namespace=r);const s=JSON.stringify(i);i.resolve=n,i.reject=o,this.transactions.set(i.transId,i);try{this.transport.send(s)}catch(e){throw this.transactions.delete(i.transId),e}})}event(e,t,r){if(!e||0===e.length)throw new Error("Bad event name");const n={type:"event",name:e,data:t};r&&(n.namespace=r);const o=JSON.stringify(n);this.transport.send(o)}namespace(e){let t=this.namespaces.get(e);return t||(t=new Wu(e,this),this.namespaces.set(e,t),t)}close(){for(const e of this.namespaces.values())e.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)}};const Yu=qn.get("Signaling"),Ku="wsConnectionSuccess",Xu="wsConnectionError",Ju="wsConnectionClose",Zu="broadcastEvent";class ed extends Ma{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{streamName:null,url:"ws://localhost:8080/"};super(),this.streamName=e.streamName,this.wsUrl=e.url,this.webSocket=null,this.transactionManager=null,this.serverId=null,this.clusterId=null,this.streamViewId=null}async connect(){var e;return Yu.info("Connecting to Signaling Server"),this.transactionManager&&(null===(e=this.webSocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN?(Yu.info("Connected to server: ",this.webSocket.url),Yu.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Ku,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new Promise((e,t)=>{this.webSocket=new WebSocket(this.wsUrl),this.transactionManager=new Qu(this.webSocket),this.webSocket.onopen=()=>{Yu.info("WebSocket opened"),this.transactionManager.on("event",e=>{this.emit(Zu,e)}),Yu.info("Connected to server: ",this.webSocket.url),Yu.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Ku,{ws:this.webSocket,tm:this.transactionManager}),e(this.webSocket)},this.webSocket.onerror=()=>{Yu.error("WebSocket not connected: ",this.webSocket.url),this.emit(Xu,this.webSocket.url),t(this.webSocket.url)},this.webSocket.onclose=()=>{this.webSocket=null,this.transactionManager=null,Yu.info("Connection closed with Signaling Server."),this.emit(Ju)}})}close(){var e;Yu.info("Closing connection with Signaling Server."),null===(e=this.webSocket)||void 0===e||e.close()}async subscribe(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Yu.info("Starting subscription to streamName: ",this.streamName),Yu.debug("Subcription local description: ",e);const o=td(t,r,n),i={sdp:e=Iu.adaptCodecName(e,"AV1X",Pu.AV1),streamId:this.streamName,pinnedSourceId:o.pinnedSourceId,excludedSourceIds:o.excludedSourceIds};o.vad&&(i.vad=!0),Array.isArray(o.events)&&(i.events=o.events),o.forcePlayoutDelay&&(i.forcePlayoutDelay=o.forcePlayoutDelay),o.layer&&(i.layer=o.layer);try{var s,a,c;await this.connect(),Yu.info("Sending view command");const e=await this.transactionManager.cmd("view",i),t=null===(s=(a=RTCRtpReceiver).getCapabilities)||void 0===s||null===(s=s.call(a,"video"))||void 0===s||null===(s=s.codecs)||void 0===s||null===(c=s.find)||void 0===c?void 0:c.call(s,e=>"video/AV1X"===e.mimeType);return e.sdp=t?Iu.adaptCodecName(e.sdp,Pu.AV1,"AV1X"):e.sdp,Yu.info("Command sent, subscriberId: ",e.subscriberId),Yu.debug("Command result: ",e),this.serverId=e.subscriberId,this.clusterId=e.clusterId,this.streamViewId=e.streamViewId,Rn.initStreamName(this.streamName),Rn.initSubscriberId(this.serverId),Rn.initStreamViewId(e.streamViewId),e.sdp}catch(e){throw Yu.error("Error sending view command, error: ",e),e}}async publish(e,t){var r,n;const o=rd(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);Yu.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(o.codec)),Yu.debug("Publishing local description: ",e);const i=null!==(r=null===(n=Mu.getCapabilities)||void 0===n||null===(n=n.call(Mu,"video"))||void 0===n||null===(n=n.codecs)||void 0===n?void 0:n.map(e=>e.codec))&&void 0!==r?r:[],s=Object.values(Pu);if(-1===s.indexOf(o.codec))throw Yu.error("Invalid codec ".concat(o.codec,". Possible values are: "),s),new Error("Invalid codec ".concat(o.codec,". Possible values are: ").concat(s));if(i.length>0&&-1===i.indexOf(o.codec))throw Yu.error("Unsupported codec ".concat(o.codec,". Possible values are: "),i),new Error("Unsupported codec ".concat(o.codec,". Possible values are: ").concat(i));o.codec===Pu.AV1&&(e=Iu.adaptCodecName(e,"AV1X",Pu.AV1));const a={name:this.streamName,sdp:e,codec:o.codec,sourceId:o.sourceId};if(o.priority){if(!(Number.isInteger(o.priority)&&o.priority>=-2147483648&&o.priority<=2147483647))throw new Error("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");a.priority=o.priority}null!==o.record&&(a.record=o.record),Array.isArray(o.events)&&(a.events=o.events);try{await this.connect(),Yu.info("Sending publish command");const e=await this.transactionManager.cmd("publish",a);if(o.codec===Pu.AV1){var c,l,u;const t=null===(c=(l=RTCRtpSender).getCapabilities)||void 0===c||null===(c=c.call(l,"video"))||void 0===c||null===(c=c.codecs)||void 0===c||null===(u=c.find)||void 0===u?void 0:u.call(c,e=>"video/AV1X"===e.mimeType);e.sdp=t?Iu.adaptCodecName(e.sdp,Pu.AV1,"AV1X"):e.sdp}return Yu.info("Command sent, publisherId: ",e.publisherId),Yu.debug("Command result: ",e),this.serverId=e.publisherId,this.clusterId=e.clusterId,Rn.initStreamName(this.streamName),Rn.initSubscriberId(this.serverId),Rn.initFeedId(e.feedId),e.sdp}catch(e){throw Yu.error("Error sending publish command, error: ",e),e}}async cmd(e,t){return Yu.info("Sending cmd: ".concat(e)),this.transactionManager.cmd(e,t)}}const td=(e,t,r)=>{let n="object"==typeof e?e:{};return 0===Object.keys(n).length&&(n={vad:e,pinnedSourceId:t,excludedSourceIds:r}),n},rd=(e,t,r)=>{let n="object"==typeof e?e:{};return 0===Object.keys(n).length&&(n={codec:null!=e?e:Pu.H264,record:t,sourceId:r}),n};class nd extends Error{constructor(e,t){super(e),this.name="FetchError",this.status=t}}function od(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function id(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?od(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):od(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const sd=qn.get("Director"),ad="WebRtc";let cd="",ld="https://director.millicast.com";const ud={setEndpoint:e=>{ld=e.replace(/\/$/,"")},getEndpoint:()=>ld,setLiveDomain:e=>{cd=e.replace(/\/$/,"")},getLiveDomain:()=>cd,getPublisher:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ad;const n=dd(e,t,r);sd.info("Getting publisher connection path for stream name: ",n.streamName);const o={streamName:n.streamName,streamType:n.streamType},i={"Content-Type":"application/json",Authorization:"Bearer ".concat(n.token)},s="".concat(ud.getEndpoint(),"/api/director/publish");try{const e=await fetch(s,{method:"POST",headers:i,body:JSON.stringify(o)});let t=await e.json();if("fail"===t.status)throw new nd(t.data.message,e.status);return t=pd(t),sd.debug("Getting publisher response: ",t),t.data}catch(e){throw sd.error("Error while getting publisher connection path. ",e),e}},getSubscriber:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const n=fd(e,t,r);Rn.initAccountId(n.streamAccountId),sd.info("Getting subscriber connection data for stream name: ".concat(n.streamName," and account id: ").concat(n.streamAccountId));const o={streamAccountId:n.streamAccountId,streamName:n.streamName};let i={"Content-Type":"application/json"};n.subscriberToken&&(i=id(id({},i),{},{Authorization:"Bearer ".concat(n.subscriberToken)}));const s="".concat(ud.getEndpoint(),"/api/director/subscribe");try{const e=await fetch(s,{method:"POST",headers:i,body:JSON.stringify(o)});let t=await e.json();if("fail"===t.status)throw new nd(t.data.message,e.status);return t=pd(t),sd.debug("Getting subscriber response: ",t),t.data}catch(e){throw sd.error("Error while getting subscriber connection path. ",e),e}}},dd=(e,t,r)=>{let n="object"==typeof e?e:{};return 0===Object.keys(n).length&&(n={token:e,streamName:t,streamType:r}),n},fd=(e,t,r)=>{let n="object"==typeof e?e:{};return 0===Object.keys(n).length&&(n={streamName:e,streamAccountId:t,subscriberToken:r}),n},pd=e=>{if(ud.getLiveDomain()){const t=/\/\/(.*?)\//,r=e.data.urls.map(e=>{const r=t.exec(e);return e.replace(r[1],ud.getLiveDomain())});e.data.urls=r}return e};function hd(e){this.message=e}hd.prototype=new Error,hd.prototype.name="InvalidCharacterError";var md="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new hd("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,n,o=0,i=0,s="";n=t.charAt(i++);~n&&(r=o%4?64*r+n:n,o++%4)?s+=String.fromCharCode(255&r>>(-2*o&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return s};function gd(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(md(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return md(t)}}function vd(e){this.message=e}vd.prototype=new Error,vd.prototype.name="InvalidTokenError";var bd=a((function(e,t){!function(r){if(null!=t&&"number"!=typeof t.nodeType)e.exports=r();else{var n=r(),o="undefined"!=typeof self?self:$.global;"function"!=typeof o.btoa&&(o.btoa=n.btoa),"function"!=typeof o.atob&&(o.atob=n.atob)}}((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(r){for(var n,o,i=String(r),s=0,a=e,c="";i.charAt(0|s)||(a="=",s%1);c+=a.charAt(63&n>>8-s%1*8)){if((o=i.charCodeAt(s+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");n=n<<8|o}return c},atob:function(r){var n=String(r).replace(/[=]+$/,"");if(n.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,c="";i=n.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?c+=String.fromCharCode(255&o>>(-2*s&6)):0)i=e.indexOf(i);return c}}}))})),yd=a((function(e,t){!function(t,r){e.exports=r()}(self,()=>{return e={7629:(e,t,r)=>{const n=r(375),o=r(8571),i=r(9474),s=r(1687),a=r(8652),c=r(8160),l=r(3292),u=r(6354),d=r(8901),f=r(9708),p=r(6914),h=r(2294),m=r(6133),g=r(1152),v=r(8863),b=r(2036),y={Base:class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new h.Ids,this._preferences=null,this._refs=new m.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return n("function"==typeof f.describe,"Manifest functionality disabled"),f.describe(this)}allow(...e){return c.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){n(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),n(!this._inRuleset(),"Cannot set alterations inside a ruleset");const t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(const r in e){const o=e[r];n("function"==typeof o,"Alteration adjuster for",r,"must be a function"),t.$_terms.alterations.push({target:r,adjuster:o})}return t.$_temp.ruleset=!1,t}artifact(e){return n(void 0!==e,"Artifact cannot be undefined"),n(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return n(!1===e||"string"==typeof e,"Invalid to value"),n(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return n(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){const t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return n(e,"Missing error"),n(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return n(void 0!==e,"Missing example"),c.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return"object"==typeof e&&(n(!t,"Cannot combine options with description"),t=e.description,e=e.method),n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(n("string"==typeof e,"id must be a non-empty string"),n(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return n(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return n(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){n(e.length,"Missing notes");for(const t of e)n(t&&"string"==typeof t,"Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return n("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){n(e,"Missing preferences"),n(void 0===e.context,"Cannot override context"),n(void 0===e.externals,"Cannot override externals"),n(void 0===e.warnings,"Cannot override warnings"),n(void 0===e.debug,"Cannot override debug"),c.checkPreferences(e);const t=this.clone();return t._preferences=c.preferences(t._preferences,e),t}presence(e){return n(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return n(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){const t=this.clone(),r=void 0!==e&&!e;return t._preferences=c.preferences(t._preferences,{convert:r}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){n(e.length,"Missing tags");for(const t of e)n(t&&"string"==typeof t,"Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return n(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){c.verifyFlat(e,"valid");const t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){const r=this.clone();r.$_terms.whens||(r.$_terms.whens=[]);const o=l.when(r,e,t);if(!["any","link"].includes(r.type)){const e=o.is?[o]:o.switch;for(const t of e)n(!t.then||"any"===t.then.type||t.then.type===r.type,"Cannot combine",r.type,"with",t.then&&t.then.type),n(!t.otherwise||"any"===t.otherwise.type||t.otherwise.type===r.type,"Cannot combine",r.type,"with",t.otherwise&&t.otherwise.type)}return r.$_terms.whens.push(o),r.$_mutateRebuild()}cache(e){n(!this._inRuleset(),"Cannot set caching inside a ruleset"),n(!this._cache,"Cannot override schema cache"),n(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");const t=this.clone();return t._cache=e||a.provider.provision(),t.$_temp.ruleset=!1,t}clone(){const e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){n(c.isSchema(e),"Invalid schema object"),n("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),n(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),n(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if("any"===this.type&&"any"!==e.type){const r=e.clone();for(const e of Object.keys(t))"type"!==e&&(r[e]=t[e]);t=r}t._ids.concat(e._ids),t._refs.register(e,m.toSibling),t._preferences=t._preferences?c.preferences(t._preferences,e._preferences):e._preferences,t._valids=b.merge(t._valids,e._valids,e._invalids),t._invalids=b.merge(t._invalids,e._invalids,e._valids);for(const r of e._singleRules.keys())t._singleRules.has(r)&&(t._rules=t._rules.filter(e=>e.keep||e.name!==r),t._singleRules.delete(r));for(const r of e._rules)e._definition.rules[r.method].multi||t._singleRules.set(r.name,r),t._rules.push(r);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const r=Object.assign({},e._flags);delete r.empty,s(t._flags,r)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const r=Object.assign({},e._flags);delete r.empty,s(t._flags,r)}else s(t._flags,e._flags);for(const r in e.$_terms){const n=e.$_terms[r];n?t.$_terms[r]?t.$_terms[r]=t.$_terms[r].concat(n):t.$_terms[r]=n.slice():t.$_terms[r]||(t.$_terms[r]=n)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return n(!e.base,"Cannot extend type with another base"),d.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){n(!this._inRuleset(),"Cannot fork inside a ruleset");let r=this;for(let n of[].concat(e))n=Array.isArray(n)?n:n.split("."),r=r._ids.fork(n,t,r);return r.$_temp.ruleset=!1,r}rule(e){const t=this._definition;c.assertOptions(e,Object.keys(t.modifiers)),n(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const r=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;n(r>=0&&r<this._rules.length,"Cannot apply rules to empty ruleset");const i=this.clone();for(let s=r;s<i._rules.length;++s){const r=i._rules[s],a=o(r);for(const o in e)t.modifiers[o](a,e[o]),n(a.name===r.name,"Cannot change rule name");i._rules[s]=a,i._singleRules.get(a.name)===r&&i._singleRules.set(a.name,a)}return i.$_temp.ruleset=!1,i.$_mutateRebuild()}get ruleset(){n(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),n(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(const{target:r,adjuster:o}of this.$_terms.alterations)e.includes(r)&&(t=o(t),n(c.isSchema(t),"Alteration adjuster for",r,"failed to return a schema object"));return t=t.$_modify({each:t=>t.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return g.location?g.location(this):this}validate(e,t){return v.entry(e,this,t)}validateAsync(e,t){return v.entryAsync(e,this,t)}$_addRule(e){"string"==typeof e&&(e={name:e}),n(e&&"object"==typeof e,"Invalid options"),n(e.name&&"string"==typeof e.name,"Invalid rule name");for(const s in e)n("_"!==s[0],"Cannot set private rule properties");const t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;const r=this._definition.rules[t.method],o=t.args;n(r,"Unknown rule",t.method);const i=this.clone();if(o){n(1===Object.keys(o).length||Object.keys(o).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(const e in o){let s=o[e];if(r.argsByName){const a=r.argsByName.get(e);if(a.ref&&c.isResolvable(s))t._resolve.push(e),i.$_mutateRegister(s);else if(a.normalize&&(s=a.normalize(s),o[e]=s),a.assert){const t=c.validateArg(s,e,a);n(!t,t,"or reference")}}void 0!==s?o[e]=s:delete o[e]}}return r.multi||(i._ruleRemove(t.name,{clone:!1}),i._singleRules.set(t.name,t)),!1===i.$_temp.ruleset&&(i.$_temp.ruleset=null),r.priority?i._rules.unshift(t):i._rules.push(t),i}$_compile(e,t){return l.schema(this.$_root,e,t)}$_createError(e,t,r,n,o,i={}){const s=!1!==i.flags?this._flags:{},a=i.messages?p.merge(this._definition.messages,i.messages):this._definition.messages;return new u.Report(e,t,r,s,a,n,o)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,r,n){(r=Object.assign({},r)).abortEarly=!0,r._externals=!1,t.snapshot();const o=!v.validate(e,this,t,r,n).errors;return t.restore(),o}$_modify(e){return c.assertOptions(e,["each","once","ref","schema"]),h.schema(this,e)||this}$_mutateRebuild(){return n(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(e,{source:t,name:r,path:n,key:o})=>{const i=this._definition[t][r]&&this._definition[t][r].register;!1!==i&&this.$_mutateRegister(e,{family:i,key:o})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:r}={}){this._refs.register(e,t),this._ids.register(e,{key:r})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,r={}){n("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");const o=this._definition.flags[e]||{};if(i(t,o.default)&&(t=void 0),i(t,this._flags[e]))return this;const s=!1!==r.clone?this.clone():this;return void 0!==t?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],"_"!==e[0]&&(s.$_temp.ruleset=!1),s}$_parent(e,...t){return this[e][c.symbols.parent].call(this,...t)}$_validate(e,t,r){return v.validate(e,this,t,r)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=o(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(const t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(const t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){const e=this.clone();e._reset();const t=e._definition.terms;for(const r in t){const n=t[r];e.$_terms[r]=n.init}return e.$_mutateRebuild()}_default(e,t,r={}){return c.assertOptions(r,"literal"),n(void 0!==t,"Missing",e,"value"),n("function"==typeof t||!r.literal,"Only function value supports literal option"),"function"==typeof t&&r.literal&&(t={[c.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,r){if(!this.$_terms.whens)return{schema:this};const n=[],o=[];for(let a=0;a<this.$_terms.whens.length;++a){const i=this.$_terms.whens[a];if(i.concat){n.push(i.concat),o.push(a+".concat");continue}const s=i.ref?i.ref.resolve(e,t,r):e,c=i.is?[i]:i.switch,l=o.length;for(let u=0;u<c.length;++u){const{is:l,then:d,otherwise:f}=c[u],p=`${a}${i.switch?"."+u:""}`;if(l.$_match(s,t.nest(l,p+".is"),r)){if(d){const i=t.localize([...t.path,p+".then"],t.ancestors,t.schemas),{schema:s,id:a}=d._generate(e,i,r);n.push(s),o.push(`${p}.then${a?`(${a})`:""}`);break}}else if(f){const i=t.localize([...t.path,p+".otherwise"],t.ancestors,t.schemas),{schema:s,id:a}=f._generate(e,i,r);n.push(s),o.push(`${p}.otherwise${a?`(${a})`:""}`);break}}if(i.break&&o.length>l)break}const i=o.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",i),!i)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[i])return{schema:this.$_temp.whens[i],id:i};let s=this;this._definition.generate&&(s=this._definition.generate(this,e,t,r));for(const a of n)s=s.concat(a);return this.$_root._tracer&&this.$_root._tracer._combine(s,[this,...n]),this.$_temp.whens[i]=s,{schema:s,id:i}}_inner(e,t,r={}){n(!this._inRuleset(),`Cannot set ${e} inside a ruleset`);const o=this.clone();return o.$_terms[e]&&!r.override||(o.$_terms[e]=[]),r.single?o.$_terms[e].push(t):o.$_terms[e].push(...t),o.$_temp.ruleset=!1,o}_inRuleset(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;const r=!1!==t.clone?this.clone():this;r._singleRules.delete(e);const n=[];for(let o=0;o<r._rules.length;++o){const t=r._rules[o];t.name!==e||t.keep?n.push(t):r._inRuleset()&&o<r.$_temp.ruleset&&--r.$_temp.ruleset}return r._rules=n,r}_values(e,t){c.verifyFlat(e,t.slice(1,-1));const r=this.clone(),o=e[0]===c.symbols.override;if(o&&(e=e.slice(1)),!r[t]&&e.length?r[t]=new b:o&&(r[t]=e.length?new b:null,r.$_mutateRebuild()),!r[t])return r;o&&r[t].override();for(const i of e){n(void 0!==i,"Cannot call allow/valid/invalid with undefined"),n(i!==c.symbols.override,"Override must be the first value");const e="_invalids"===t?"_valids":"_invalids";r[e]&&(r[e].remove(i),r[e].length||(n("_valids"===t||!r._flags.only,"Setting invalid value",i,"leaves schema rejecting all values due to previous valid rule"),r[e]=null)),r[t].add(i,r._refs)}return r}}};y.Base.prototype[c.symbols.any]={version:c.version,compile:l.compile,root:"$_root"},y.Base.prototype.isImmutable=!0,y.Base.prototype.deny=y.Base.prototype.invalid,y.Base.prototype.disallow=y.Base.prototype.invalid,y.Base.prototype.equal=y.Base.prototype.valid,y.Base.prototype.exist=y.Base.prototype.required,y.Base.prototype.not=y.Base.prototype.invalid,y.Base.prototype.options=y.Base.prototype.prefs,y.Base.prototype.preferences=y.Base.prototype.prefs,e.exports=new y.Base},8652:(e,t,r)=>{const n=r(375),o=r(8571),i=r(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:e=>new s.Cache(e)},s.Cache=class{constructor(e={}){i.assertOptions(e,["max"]),n(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||s.max,this._map=new Map,this._list=new s.List}get length(){return this._map.size}set(e,t){if(null!==e&&!s.supported.has(typeof e))return;let r=this._map.get(e);if(r)return r.value=t,void this._list.first(r);r=this._list.unshift({key:e,value:t}),this._map.set(e,r),this._compact()}get(e){const t=this._map.get(e);if(t)return this._list.first(t),o(t.value)}_compact(){if(this._map.size>this._max){const e=this._list.pop();this._map.delete(e.key)}}},s.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){const{next:t,prev:r}=e;return t.prev=r,r&&(r.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}},8160:(e,t,r)=>{const n=r(375),o=r(7916),i=r(5934);let s,a;const c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=i.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t,r="Options"){n(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");const o=Object.keys(e).filter(e=>!t.includes(e));n(0===o.length,`${r} contain unknown keys: ${o}`)},t.checkPreferences=function(e){a=a||r(3378);const t=a.preferences.validate(e);if(t.error)throw new o([t.error.details[0].message])},t.compare=function(e,t,r){switch(r){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return c.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e,r={}){const o=e&&e[t.symbols.any];return!!o&&(n(r.legacy||o.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,n){s=s||r(6914),e=e||{},n=n||{};const o=Object.assign({},e,n);return n.errors&&e.errors&&(o.errors=Object.assign({},e.errors,n.errors),o.errors.wrap=Object.assign({},e.errors.wrap,n.errors.wrap)),n.messages&&(o.messages=s.compile(n.messages,e.messages)),delete o[t.symbols.prefs],o},t.tryWithPath=function(e,t,r={}){try{return e()}catch(e){throw void 0!==e.path?e.path=t+"."+e.path:e.path=t,r.append&&(e.message=`${e.message} (${e.path})`),e}},t.validateArg=function(e,r,{assert:n,message:o}){if(t.isSchema(n)){const t=n.validate(e);if(!t.error)return;return t.error.message}if(!n(e))return r?`${r} ${o}`:o},t.verifyFlat=function(e,t){for(const r of e)n(!Array.isArray(r),"Method no longer accepts array arguments:",t)}},3292:(e,t,r)=>{const n=r(375),o=r(8160),i=r(6133),s={};t.schema=function(e,t,r={}){o.assertOptions(r,["appendPath","override"]);try{return s.schema(e,t,r)}catch(e){throw r.appendPath&&void 0!==e.path&&(e.message=`${e.message} (${e.path})`),e}},s.schema=function(e,t,r){n(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(n(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));const i=(t,...n)=>!1!==r.override?t.valid(e.override,...n):t.valid(...n);if(s.simple(t))return i(e,t);if("function"==typeof t)return e.custom(t);if(n("object"==typeof t,"Invalid schema content:",typeof t),o.isResolvable(t))return i(e,t);if(o.isSchema(t))return t;if(Array.isArray(t)){for(const r of t)if(!s.simple(r))return e.alternatives().try(...t);return i(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?i(e.date(),t):(n(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return i.isRef(e)?e:i.create(e,t)},t.compile=function(e,r,i={}){o.assertOptions(i,["legacy"]);const a=r&&r[o.symbols.any];if(a)return n(i.legacy||a.version===o.version,"Cannot mix different versions of joi schemas:",a.version,o.version),r;if("object"!=typeof r||!i.legacy)return t.schema(e,r,{appendPath:!0});const c=s.walk(r);return c?c.compile(c.root,r):t.schema(e,r,{appendPath:!0})},s.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){for(const t of e){const e=s.walk(t);if(e)return e}return null}const t=e[o.symbols.any];if(t)return{root:e[t.root],compile:t.compile};n(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const r in e){const t=s.walk(e[r]);if(t)return t}return null},s.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,r,a){if(void 0===a&&(n(r&&"object"==typeof r,"Missing options"),a=r,r=i.create(".")),Array.isArray(a)&&(a={switch:a}),o.assertOptions(a,["is","not","then","otherwise","switch","break"]),o.isSchema(r))return n(void 0===a.is,'"is" can not be used with a schema condition'),n(void 0===a.not,'"not" can not be used with a schema condition'),n(void 0===a.switch,'"switch" can not be used with a schema condition'),s.condition(e,{is:r,then:a.then,otherwise:a.otherwise,break:a.break});if(n(i.isRef(r)||"string"==typeof r,"Invalid condition:",r),n(void 0===a.not||void 0===a.is,'Cannot combine "is" with "not"'),void 0===a.switch){let c=a;void 0!==a.not&&(c={is:a.not,then:a.otherwise,otherwise:a.then,break:a.break});let l=void 0!==c.is?e.$_compile(c.is):e.$_root.invalid(null,!1,0,"").required();return n(void 0!==c.then||void 0!==c.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),n(void 0===c.break||void 0===c.then||void 0===c.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===a.is||i.isRef(a.is)||o.isSchema(a.is)||(l=l.required()),s.condition(e,{ref:t.ref(r),is:l,then:c.then,otherwise:c.otherwise,break:c.break})}n(Array.isArray(a.switch),'"switch" must be an array'),n(void 0===a.is,'Cannot combine "switch" with "is"'),n(void 0===a.not,'Cannot combine "switch" with "not"'),n(void 0===a.then,'Cannot combine "switch" with "then"');const c={ref:t.ref(r),switch:[],break:a.break};for(let t=0;t<a.switch.length;++t){const r=a.switch[t],s=t===a.switch.length-1;o.assertOptions(r,s?["is","then","otherwise"]:["is","then"]),n(void 0!==r.is,'Switch statement missing "is"'),n(void 0!==r.then,'Switch statement missing "then"');const l={is:e.$_compile(r.is),then:e.$_compile(r.then)};if(i.isRef(r.is)||o.isSchema(r.is)||(l.is=l.is.required()),s){n(void 0===a.otherwise||void 0===r.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');const t=void 0!==a.otherwise?a.otherwise:r.otherwise;void 0!==t&&(n(void 0===c.break,"Cannot specify both otherwise and break"),l.otherwise=e.$_compile(t))}c.switch.push(l)}return c},s.condition=function(e,t){for(const r of["then","otherwise"])void 0===t[r]?delete t[r]:t[r]=e.$_compile(t[r]);return t}},6354:(e,t,r)=>{const n=r(5688),o=r(8160),i=r(3328);t.Report=class{constructor(e,r,n,o,i,s,a){if(this.code=e,this.flags=o,this.messages=i,this.path=s.path,this.prefs=a,this.state=s,this.value=r,this.message=null,this.template=null,this.local=n||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const e=this.path[this.path.length-1];"object"!=typeof e&&(this.local.key=e)}}_setTemplate(e){if(this.template=e,!this.flags.label&&0===this.path.length){const e=this._template(this.template,"root");e&&(this.local.label=e)}}toString(){if(this.message)return this.message;const e=this.code;if(!this.prefs.errors.render)return this.code;const t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?`Error code "${e}" is not defined, your custom type is missing the correct messages definition`:(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,r){return t.template(this.value,e,r||this.code,this.state,this.prefs)}},t.path=function(e){let t="";for(const r of e)"object"!=typeof r&&("string"==typeof r?(t&&(t+="."),t+=r):t+=`[${r}]`);return t},t.template=function(e,t,r,n,s){if(!t)return;if(i.isTemplate(t))return"root"!==r?t:null;let a=s.errors.language;if(o.isResolvable(a)&&(a=a.resolve(e,n,s)),a&&t[a]){if(void 0!==t[a][r])return t[a][r];if(void 0!==t[a]["*"])return t[a]["*"]}return t[r]?t[r]:t["*"]},t.label=function(e,r,n,o){if(e.label)return e.label;if(!n.errors.label)return"";let i=r.path;return"key"===n.errors.label&&r.path.length>1&&(i=r.path.slice(-1)),t.path(i)||t.template(null,n.messages,"root",r,n)||o&&t.template(null,o,"root",r,n)||"value"},t.process=function(e,r,n){if(!e)return null;const{override:o,message:i,details:s}=t.details(e);if(o)return o;if(n.errors.stack)return new t.ValidationError(i,s,r);const a=Error.stackTraceLimit;Error.stackTraceLimit=0;const c=new t.ValidationError(i,s,r);return Error.stackTraceLimit=a,c},t.details=function(e,t={}){let r=[];const n=[];for(const o of e){if(o instanceof Error){if(!1!==t.override)return{override:o};const e=o.toString();r.push(e),n.push({message:e,type:"override",context:{error:o}});continue}const e=o.toString();r.push(e),n.push({message:e,path:o.path.filter(e=>"object"!=typeof e),type:o.code,context:o.local})}return r.length>1&&(r=[...new Set(r)]),{message:r.join(". "),details:n}},t.ValidationError=class extends Error{constructor(e,t,r){super(e),this._original=r,this.details=t}static isError(e){return e instanceof t.ValidationError}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=n.error},8901:(e,t,r)=>{const n=r(375),o=r(8571),i=r(8160),s=r(6914),a={};t.type=function(e,t){const r=Object.getPrototypeOf(e),c=o(r),l=e._assign(Object.create(c)),u=Object.assign({},t);delete u.base,c._definition=u;const d=r._definition||{};u.messages=s.merge(d.messages,u.messages),u.properties=Object.assign({},d.properties,u.properties),l.type=u.type,u.flags=Object.assign({},d.flags,u.flags);const f=Object.assign({},d.terms);if(u.terms)for(const o in u.terms){const e=u.terms[o];n(void 0===l.$_terms[o],"Invalid term override for",u.type,o),l.$_terms[o]=e.init,f[o]=e}u.terms=f,u.args||(u.args=d.args),u.prepare=a.prepare(u.prepare,d.prepare),u.coerce&&("function"==typeof u.coerce&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=a.coerce(u.coerce,d.coerce),u.validate=a.validate(u.validate,d.validate);const p=Object.assign({},d.rules);if(u.rules)for(const o in u.rules){const e=u.rules[o];n("object"==typeof e,"Invalid rule definition for",u.type,o);let t=e.method;if(void 0===t&&(t=function(){return this.$_addRule(o)}),t&&(n(!c[o],"Rule conflict in",u.type,o),c[o]=t),n(!p[o],"Rule conflict in",u.type,o),p[o]=e,e.alias){const t=[].concat(e.alias);for(const r of t)c[r]=e.method}e.args&&(e.argsByName=new Map,e.args=e.args.map(t=>("string"==typeof t&&(t={name:t}),n(!e.argsByName.has(t.name),"Duplicated argument name",t.name),i.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),e.argsByName.set(t.name,t),t)))}u.rules=p;const h=Object.assign({},d.modifiers);if(u.modifiers)for(const o in u.modifiers){n(!c[o],"Rule conflict in",u.type,o);const e=u.modifiers[o];n("function"==typeof e,"Invalid modifier definition for",u.type,o);const t=function(e){return this.rule({[o]:e})};c[o]=t,h[o]=e}if(u.modifiers=h,u.overrides){c._super=r,l.$_super={};for(const e in u.overrides)n(r[e],"Cannot override missing",e),u.overrides[e][i.symbols.parent]=r[e],l.$_super[e]=r[e].bind(l);Object.assign(c,u.overrides)}u.cast=Object.assign({},d.cast,u.cast);const m=Object.assign({},d.manifest,u.manifest);return m.build=a.build(u.manifest&&u.manifest.build,d.manifest&&d.manifest.build),u.manifest=m,u.rebuild=a.rebuild(u.rebuild,d.rebuild),l},a.build=function(e,t){return e&&t?function(r,n){return t(e(r,n),n)}:e||t},a.coerce=function(e,t){return e&&t?{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(r,n){let o;if((!t.from||t.from.includes(typeof r))&&(o=t.method(r,n),o)){if(o.errors||void 0===o.value)return o;r=o.value}if(!e.from||e.from.includes(typeof r)){const t=e.method(r,n);if(t)return t}return o}}:e||t},a.prepare=function(e,t){return e&&t?function(r,n){const o=e(r,n);if(o){if(o.errors||void 0===o.value)return o;r=o.value}return t(r,n)||o}:e||t},a.rebuild=function(e,t){return e&&t?function(r){t(r),e(r)}:e||t},a.validate=function(e,t){return e&&t?function(r,n){const o=t(r,n);if(o){if(o.errors&&(!Array.isArray(o.errors)||o.errors.length))return o;r=o.value}return e(r,n)||o}:e||t}},5107:(e,t,r)=>{const n=r(375),o=r(8571),i=r(8652),s=r(8160),a=r(3292),c=r(6354),l=r(8901),u=r(9708),d=r(6133),f=r(3328),p=r(1152);let h;const m={types:{alternatives:r(4946),any:r(8068),array:r(546),boolean:r(4937),date:r(7500),function:r(390),link:r(8785),number:r(3832),object:r(8966),string:r(7417),symbol:r(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const e={_types:new Set(Object.keys(m.types))};for(const t of e._types)e[t]=function(...e){return n(!e.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),m.generate(this,m.types[t],e)};for(const t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...e){return this.any()[t](...e)};Object.assign(e,m.methods);for(const t in m.aliases){const r=m.aliases[t];e[t]=e[r]}return e.x=e.expression,p.setup&&p.setup(e),e}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:i.provider,assert(e,t,...r){m.assert(e,t,!0,r)},attempt:(e,t,...r)=>m.assert(e,t,!1,r),build(e){return n("function"==typeof u.build,"Manifest functionality disabled"),u.build(this,e)},checkPreferences(e){s.checkPreferences(e)},compile(e,t){return a.compile(this,e,t)},defaults(e){n("function"==typeof e,"modifier must be a function");const t=Object.assign({},this);for(const r of t._types){const o=e(t[r]());n(s.isSchema(o),"modifier must return a valid schema object"),t[r]=function(...e){return m.generate(this,o,e)}}return t},expression:(...e)=>new f(...e),extend(...e){s.verifyFlat(e,"extend"),h=h||r(3378),n(e.length,"You need to provide at least one extension"),this.assert(e,h.extensions);const t=Object.assign({},this);t._types=new Set(t._types);for(let r of e){"function"==typeof r&&(r=r(t)),this.assert(r,h.extension);const e=m.expandExtension(r,t);for(const r of e){n(void 0===t[r.type]||t._types.has(r.type),"Cannot override name",r.type);const e=r.base||this.any(),o=l.type(e,r);t._types.add(r.type),t[r.type]=function(...e){return m.generate(this,o,e)}}}return t},isError:c.ValidationError.isError,isExpression:f.isTemplate,isRef:d.isRef,isSchema:s.isSchema,in:(...e)=>d.in(...e),override:s.symbols.override,ref:(...e)=>d.create(...e),types(){const e={};for(const t of this._types)e[t]=this[t]();for(const t in m.aliases)e[t]=this[t]();return e}},m.assert=function(e,t,r,n){const i=n[0]instanceof Error||"string"==typeof n[0]?n[0]:null,a=null!==i?n[1]:n[0],l=t.validate(e,s.preferences({errors:{stack:!0}},a||{}));let u=l.error;if(!u)return l.value;if(i instanceof Error)throw i;const d=r&&"function"==typeof u.annotate?u.annotate():u.message;throw u instanceof c.ValidationError==0&&(u=o(u)),u.message=i?`${i} ${d}`:d,u},m.generate=function(e,t,r){return n(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&r.length?t._definition.args(t,...r):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];const r=[];for(const n of t._types)if(e.type.test(n)){const o=Object.assign({},e);o.type=n,o.base=t[n](),r.push(o)}return r},e.exports=m.root()},6914:(e,t,r)=>{const n=r(375),o=r(8571),i=r(3328);t.compile=function(e,t){if("string"==typeof e)return n(!t,"Cannot set single message string"),new i(e);if(i.isTemplate(e))return n(!t,"Cannot set single message template"),e;n("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?o(t):{};for(let r in e){const o=e[r];if("root"===r||i.isTemplate(o)){t[r]=o;continue}if("string"==typeof o){t[r]=new i(o);continue}n("object"==typeof o&&!Array.isArray(o),"Invalid message for",r);const s=r;for(r in t[s]=t[s]||{},o){const e=o[r];"root"===r||i.isTemplate(e)?t[s][r]=e:(n("string"==typeof e,"Invalid message for",r,"in",s),t[s][r]=new i(e))}}return t},t.decompile=function(e){const t={};for(let r in e){const n=e[r];if("root"===r){t.root=n;continue}if(i.isTemplate(n)){t[r]=n.describe({compact:!0});continue}const o=r;for(r in t[o]={},n){const e=n[r];"root"!==r?t[o][r]=e.describe({compact:!0}):t[o].root=e}}return t},t.merge=function(e,r){if(!e)return t.compile(r);if(!r)return e;if("string"==typeof r)return new i(r);if(i.isTemplate(r))return r;const s=o(e);for(let t in r){const e=r[t];if("root"===t||i.isTemplate(e)){s[t]=e;continue}if("string"==typeof e){s[t]=new i(e);continue}n("object"==typeof e&&!Array.isArray(e),"Invalid message for",t);const o=t;for(t in s[o]=s[o]||{},e){const r=e[t];"root"===t||i.isTemplate(r)?s[o][t]=r:(n("string"==typeof r,"Invalid message for",t,"in",o),s[o][t]=new i(r))}}return s}},2294:(e,t,r)=>{const n=r(375),o=r(8160),i=r(6133),s={};t.Ids=s.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const e=new s.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(const[t,r]of e._byId.entries())n(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,r);for(const[t,r]of e._byKey.entries())n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,r)}fork(e,t,r){const i=this._collect(e);i.push({schema:r});const a=i.shift();let c={id:a.id,schema:t(a.schema)};n(o.isSchema(c.schema),"adjuster function failed to return a joi schema type");for(const n of i)c={id:n.id,schema:s.fork(n.schema,c.id,c.schema)};return c.schema}labels(e,t=[]){const r=e[0],n=this._get(r);if(!n)return[...t,...e].join(".");const o=e.slice(1);return t=[...t,n.schema._flags.label||r],o.length?n.schema._ids.labels(o,t):t.join(".")}reach(e,t=[]){const r=e[0],o=this._get(r);n(o,"Schema does not contain path",[...t,...e].join("."));const i=e.slice(1);return i.length?o.schema._ids.reach(i,[...t,r]):o.schema}register(e,{key:t}={}){if(!e||!o.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);const r=e._flags.id;if(r){const t=this._byId.get(r);n(!t||t.schema===e,"Cannot add different schemas with the same id:",r),n(!this._byKey.has(r),"Schema id conflicts with existing key:",r),this._byId.set(r,{schema:e,id:r})}t&&(n(!this._byKey.has(t),"Schema already contains key:",t),n(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],r=[]){const o=e[0],i=this._get(o);n(i,"Schema does not contain path",[...t,...e].join(".")),r=[i,...r];const s=e.slice(1);return s.length?i.schema._ids._collect(s,[...t,o],r):r}_get(e){return this._byId.get(e)||this._byKey.get(e)}},s.fork=function(e,r,n){const o=t.schema(e,{each:(e,{key:t})=>{if(r===(e._flags.id||t))return n},ref:!1});return o?o.$_mutateRebuild():e},t.schema=function(e,t){let r;for(const n in e._flags){if("_"===n[0])continue;const o=s.scan(e._flags[n],{source:"flags",name:n},t);void 0!==o&&(r=r||e.clone(),r._flags[n]=o)}for(let n=0;n<e._rules.length;++n){const o=e._rules[n],i=s.scan(o.args,{source:"rules",name:o.name},t);if(void 0!==i){r=r||e.clone();const t=Object.assign({},o);t.args=i,r._rules[n]=t,r._singleRules.get(o.name)===o&&r._singleRules.set(o.name,t)}}for(const n in e.$_terms){if("_"===n[0])continue;const o=s.scan(e.$_terms[n],{source:"terms",name:n},t);void 0!==o&&(r=r||e.clone(),r.$_terms[n]=o)}return r},s.scan=function(e,t,r,n,a){const c=n||[];if(null===e||"object"!=typeof e)return;let l;if(Array.isArray(e)){for(let n=0;n<e.length;++n){const o="terms"===t.source&&"keys"===t.name&&e[n].key,i=s.scan(e[n],t,r,[n,...c],o);void 0!==i&&(l=l||e.slice(),l[n]=i)}return l}if(!1!==r.schema&&o.isSchema(e)||!1!==r.ref&&i.isRef(e)){const n=r.each(e,{...t,path:c,key:a});if(n===e)return;return n}for(const o in e){if("_"===o[0])continue;const n=s.scan(e[o],t,r,[o,...c],a);void 0!==n&&(l=l||Object.assign({},e),l[o]=n)}return l}},6133:(e,t,r)=>{const n=r(375),o=r(8571),i=r(9621),s=r(8160);let a;const c={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e,t={}){n("string"==typeof e,"Invalid reference key:",e),s.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),n(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");const r=Object.assign({},c.defaults,t);delete r.prefix;const o=r.separator,i=c.context(e,o,t.prefix);if(r.type=i.type,e=i.key,"value"===r.type)if(i.root&&(n(!o||e[0]!==o,"Cannot specify relative path with root prefix"),r.ancestor="root",e||(e=null)),o&&o===e)e=null,r.ancestor=0;else if(void 0!==r.ancestor)n(!o||!e||e[0]!==o,"Cannot combine prefix with ancestor option");else{const[t,n]=c.ancestor(e,o);n&&""===(e=e.slice(n))&&(e=null),r.ancestor=t}return r.path=o?null===e?[]:e.split(o):[e],new c.Ref(r)},t.in=function(e,r={}){return t.create(e,{...r,in:!0})},t.isRef=function(e){return!!e&&!!e[s.symbols.ref]},c.Ref=class{constructor(e){n("object"==typeof e,"Invalid reference construction"),s.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),n([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),n(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),n(!e.map||Array.isArray(e.map),"options.map must be an array"),n(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,c.defaults,e),n("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,r,o,i={}){return n(!this.in||i.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(r.context,t,i):"local"===this.type?this._resolve(o,t,i):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,i):(n(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,i)):this._resolve(e,t,i)}_resolve(e,t,r){let n;if("value"===this.type&&t.mainstay.shadow&&!1!==r.shadow&&(n=t.mainstay.shadow.get(this.absolute(t))),void 0===n&&(n=i(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(n=this.adjust(n)),this.map){const e=this.map.get(n);void 0!==e&&(n=e)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,n),n}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new c.Ref(this)}describe(){const e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(const t of["adjust","iterables","render"])null!==this[t]&&void 0!==this[t]&&(e[t]=this[t]);return!1!==this.in&&(e.in=!0),{ref:e}}updateDisplay(){const e=null!==this.key?this.key:"";if("value"!==this.type)return void(this.display=`ref:${this.type}:${e}`);if(!this.separator)return void(this.display="ref:"+e);if(!this.ancestor)return void(this.display=`ref:${this.separator}${e}`);if("root"===this.ancestor)return void(this.display="ref:root:"+e);if(1===this.ancestor)return void(this.display="ref:"+(e||".."));const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${t}${e||""}`}},c.Ref.prototype[s.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},c.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new c.Ref(e)},c.context=function(e,t,r={}){if(e=e.trim(),r){const n=void 0===r.global?"$":r.global;if(n!==t&&e.startsWith(n))return{key:e.slice(n.length),type:"global"};const o=void 0===r.local?"#":r.local;if(o!==t&&e.startsWith(o))return{key:e.slice(o.length),type:"local"};const i=void 0===r.root?"/":r.root;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"value",root:!0}}return{key:e,type:"value"}},c.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let r=2;for(;e[r]===t;)++r;return[r-1,r]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(e,n){if(e)if(n=void 0===n?t.toParent:n,Array.isArray(e))for(const t of e)this.register(t,n);else if(s.isSchema(e))for(const t of e._refs.refs)t.ancestor-n>=0&&this.refs.push({ancestor:t.ancestor-n,root:t.root});else t.isRef(e)&&"value"===e.type&&e.ancestor-n>=0&&this.refs.push({ancestor:e.ancestor-n,root:e.root}),a=a||r(3328),a.isTemplate(e)&&this.register(e.refs(),n)}get length(){return this.refs.length}clone(){const e=new t.Manager;return e.refs=o(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}},3378:(e,t,r)=>{const n=r(5107),o={};o.wrap=n.string().min(1).max(2).allow(!1),t.preferences=n.object({allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),context:n.object(),convert:n.boolean(),dateFormat:n.valid("date","iso","string","time","utc"),debug:n.boolean(),errors:{escapeHtml:n.boolean(),label:n.valid("path","key",!1),language:[n.string(),n.object().ref()],render:n.boolean(),stack:n.boolean(),wrap:{label:o.wrap,array:o.wrap,string:o.wrap}},externals:n.boolean(),messages:n.object(),noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:n.valid("required","optional","forbidden"),skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()}).strict(),o.nameRx=/^[a-zA-Z0-9]\w*$/,o.rule=n.object({alias:n.array().items(n.string().pattern(o.nameRx)).single(),args:n.array().items(n.string(),n.object({name:n.string().pattern(o.nameRx).required(),ref:n.boolean(),assert:n.alternatives([n.function(),n.object().schema()]).conditional("ref",{is:!0,then:n.required()}),normalize:n.function(),message:n.string().when("assert",{is:n.function(),then:n.required()})})),convert:n.boolean(),manifest:n.boolean(),method:n.function().allow(!1),multi:n.boolean(),validate:n.function()}),t.extension=n.object({type:n.alternatives([n.string(),n.object().regex()]).required(),args:n.function(),cast:n.object().pattern(o.nameRx,n.object({from:n.function().maxArity(1).required(),to:n.function().minArity(1).maxArity(2).required()})),base:n.object().schema().when("type",{is:n.object().regex(),then:n.forbidden()}),coerce:[n.function().maxArity(3),n.object({method:n.function().maxArity(3).required(),from:n.array().items(n.string()).single()})],flags:n.object().pattern(o.nameRx,n.object({setter:n.string(),default:n.any()})),manifest:{build:n.function().arity(2)},messages:[n.object(),n.string()],modifiers:n.object().pattern(o.nameRx,n.function().minArity(1).maxArity(2)),overrides:n.object().pattern(o.nameRx,n.function()),prepare:n.function().maxArity(3),rebuild:n.function().arity(1),rules:n.object().pattern(o.nameRx,o.rule),terms:n.object().pattern(o.nameRx,n.object({init:n.array().allow(null).required(),manifest:n.object().pattern(/.+/,[n.valid("schema","single"),n.object({mapped:n.object({from:n.string().required(),to:n.string().required()}).required()})])})),validate:n.function().maxArity(3)}).strict(),t.extensions=n.array().items(n.object(),n.function().arity(1)).strict(),o.desc={buffer:n.object({buffer:n.string()}),func:n.object({function:n.function().required(),options:{literal:!0}}),override:n.object({override:!0}),ref:n.object({ref:n.object({type:n.valid("value","global","local"),path:n.array().required(),separator:n.string().length(1).allow(!1),ancestor:n.number().min(0).integer().allow("root"),map:n.array().items(n.array().length(2)).min(1),adjust:n.function(),iterables:n.boolean(),in:n.boolean(),render:n.boolean()}).required()}),regex:n.object({regex:n.string().min(3)}),special:n.object({special:n.valid("deep").required()}),template:n.object({template:n.string().required(),options:n.object()}),value:n.object({value:n.alternatives([n.object(),n.array()]).required()})},o.desc.entity=n.alternatives([n.array().items(n.link("...")),n.boolean(),n.function(),n.number(),n.string(),o.desc.buffer,o.desc.func,o.desc.ref,o.desc.regex,o.desc.special,o.desc.template,o.desc.value,n.link("/")]),o.desc.values=n.array().items(null,n.boolean(),n.function(),n.number().allow(1/0,-1/0),n.string().allow(""),n.symbol(),o.desc.buffer,o.desc.func,o.desc.override,o.desc.ref,o.desc.regex,o.desc.template,o.desc.value),o.desc.messages=n.object().pattern(/.+/,[n.string(),o.desc.template,n.object().pattern(/.+/,[n.string(),o.desc.template])]),t.description=n.object({type:n.string().required(),flags:n.object({cast:n.string(),default:n.any(),description:n.string(),empty:n.link("/"),failover:o.desc.entity,id:n.string(),label:n.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:n.boolean(),unit:n.string()}).unknown(),preferences:{allowUnknown:n.boolean(),abortEarly:n.boolean(),artifacts:n.boolean(),cache:n.boolean(),convert:n.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:n.boolean(),label:["path","key"],language:[n.string(),o.desc.ref],wrap:{label:o.wrap,array:o.wrap}},externals:n.boolean(),messages:o.desc.messages,noDefaults:n.boolean(),nonEnumerables:n.boolean(),presence:["required","optional","forbidden"],skipFunctions:n.boolean(),stripUnknown:n.object({arrays:n.boolean(),objects:n.boolean()}).or("arrays","objects").allow(!0,!1),warnings:n.boolean()},allow:o.desc.values,invalid:o.desc.values,rules:n.array().min(1).items({name:n.string().required(),args:n.object().min(1),keep:n.boolean(),message:[n.string(),o.desc.messages],warn:n.boolean()}),keys:n.object().pattern(/.*/,n.link("/")),link:o.desc.ref}).pattern(/^[a-z]\w*$/,n.any())},493:(e,t,r)=>{const n=r(8571),o=r(9621),i=r(8160),s={value:Symbol("value")};e.exports=s.State=class{constructor(e,t,r){this.path=e,this.ancestors=t,this.mainstay=r.mainstay,this.schemas=r.schemas,this.debug=null}localize(e,t=null,r=null){const n=new s.State(e,t,this);return r&&n.schemas&&(n.schemas=[s.schemas(r),...n.schemas]),n}nest(e,t){const r=new s.State(this.path,this.ancestors,this);return r.schemas=r.schemas&&[s.schemas(e),...r.schemas],r.debug=t,r}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new s.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=n(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},s.schemas=function(e){return i.isSchema(e)?{schema:e}:e},s.Shadow=class{constructor(){this._values=null}set(e,t,r){if(!e.length)return;if("strip"===r&&"number"==typeof e[e.length-1])return;this._values=this._values||new Map;let n=this._values;for(let o=0;o<e.length;++o){const t=e[o];let r=n.get(t);r||(r=new Map,n.set(t,r)),n=r}n[s.value]=t}get(e){const t=this.node(e);if(t)return t[s.value]}node(e){if(this._values)return o(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;const r=e.slice(0,-1),n=e[e.length-1],i=o(this._values,r,{iterables:!0});t?i.set(n,t):i&&i.delete(n)}}},3328:(e,t,r)=>{const n=r(375),o=r(8571),i=r(5277),s=r(1447),a=r(8160),c=r(6354),l=r(6133),u={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=u.Template=class{constructor(e,t){if(n("string"==typeof e,"Template source must be a string"),n(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,t){const{functions:e,...r}=t;this._settings=Object.keys(r).length?o(r):void 0,this._functions=e,this._functions&&(n(Object.keys(this._functions).every(e=>"string"==typeof e),"Functions keys must be strings"),n(Object.values(this._functions).every(e=>"function"==typeof e),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const e=u.encode(this.source),t=u.split(e);let r=!1;const n=[],o=t.shift();o&&n.push(o);for(const i of t){const e="{"!==i[0],t=e?"}":"}}",o=i.indexOf(t);if(-1===o||"{"===i[1]){n.push("{"+u.decode(i));continue}let s=i.slice(e?0:1,o);const a=":"===s[0];a&&(s=s.slice(1));const c=this._ref(u.decode(s),{raw:e,wrapped:a});n.push(c),"string"!=typeof c&&(r=!0);const l=i.slice(o+t.length);l&&n.push(u.decode(l))}r?this._template=n:this.rendered=n.join("")}static date(e,t){return u.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;const t={template:this.source};return this._settings&&(t.options=this._settings),this._functions&&(t.functions=this._functions),t}static build(e){return new u.Template(e.template,e.options||e.functions?{...e.options,functions:e.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[a.symbols.template]}refs(){if(!this._template)return;const e=[];for(const t of this._template)"string"!=typeof t&&e.push(...t.refs);return e}resolve(e,t,r,n){return this._template&&1===this._template.length?this._part(this._template[0],e,t,r,n,{}):this.render(e,t,r,n)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,r,n,o={}){if(!this.isDynamic())return this.rendered;const s=[];for(const a of this._template)if("string"==typeof a)s.push(a);else{const c=this._part(a,e,t,r,n,o),l=u.stringify(c,e,t,r,n,o);if(void 0!==l){const e=a.raw||!1===(o.errors&&o.errors.escapeHtml)?l:i(l);s.push(u.wrap(e,a.wrapped&&r.errors.wrap.label))}}return s.join("")}_ref(e,{raw:t,wrapped:r}){const n=[],o=e=>{const t=l.create(e,this._settings);return n.push(t),e=>{const r=t.resolve(...e);return void 0!==r?r:null}};try{const t=this._functions?{...u.functions,...this._functions}:u.functions;var i=new s.Parser(e,{reference:o,functions:t,constants:u.constants})}catch(t){throw t.message=`Invalid template variable "${e}" fails due to: ${t.message}`,t}if(i.single){if("reference"===i.single.type){const e=n[0];return{ref:e,raw:t,refs:n,wrapped:r||"local"===e.type&&"label"===e.key}}return u.stringify(i.single.value)}return{formula:i,raw:t,refs:n}}toString(){return this.source}},u.Template.prototype[a.symbols.template]=!0,u.Template.prototype.isImmutable=!0,u.encode=function(e){return e.replace(/\\(\{+)/g,(e,t)=>u.opens.slice(0,t.length)).replace(/\\(\}+)/g,(e,t)=>u.closes.slice(0,t.length))},u.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},u.split=function(e){const t=[];let r="";for(let n=0;n<e.length;++n){const o=e[n];if("{"===o){let o="";for(;n+1<e.length&&"{"===e[n+1];)o+="{",++n;t.push(r),r=o}else r+=o}return t.push(r),t},u.wrap=function(e,t){return t?1===t.length?`${t}${e}${t}`:`${t[0]}${e}${t[1]}`:e},u.stringify=function(e,t,r,n,o,i={}){const s=typeof e,a=n&&n.errors&&n.errors.wrap||{};let c=!1;if(l.isRef(e)&&e.render&&(c=e.in,e=e.resolve(t,r,n,o,{in:e.in,...i})),null===e)return"null";if("string"===s)return u.wrap(e,i.arrayItems&&a.string);if("number"===s||"function"===s||"symbol"===s)return e.toString();if("object"!==s)return JSON.stringify(e);if(e instanceof Date)return u.Template.date(e,n);if(e instanceof Map){const t=[];for(const[r,n]of e.entries())t.push(`${r.toString()} -> ${n.toString()}`);e=t}if(!Array.isArray(e))return e.toString();const d=[];for(const l of e)d.push(u.stringify(l,t,r,n,o,{arrayItems:!0,...i}));return u.wrap(d.join(", "),!c&&a.array)},u.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},u.functions={if:(e,t,r)=>e?t:r,length:e=>"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null,msg(e){const[t,r,n,o,i]=this,s=i.messages;if(!s)return"";const a=c.template(t,s[0],e,r,n)||c.template(t,s[1],e,r,n);return a?a.render(t,r,n,o,i):""},number:e=>"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}},4946:(e,t,r)=>{const n=r(375),o=r(1687),i=r(8068),s=r(8160),a=r(3292),c=r(6354),l=r(6133),u={};e.exports=i.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:l.toSibling}},args:(e,...t)=>1===t.length&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t),validate(e,t){const{schema:r,error:n,state:i,prefs:s}=t;if(r._flags.match){const t=[],a=[];for(let n=0;n<r.$_terms.matches.length;++n){const o=r.$_terms.matches[n],c=i.nest(o.schema,"match."+n);c.snapshot();const l=o.schema.$_validate(e,c,s);l.errors?(a.push(l.errors),c.restore()):(t.push(l.value),c.commit())}if(0===t.length)return{errors:n("alternatives.any",{details:a.map(e=>c.details(e,{override:!1}))})};if("one"===r._flags.match)return 1===t.length?{value:t[0]}:{errors:n("alternatives.one")};if(t.length!==r.$_terms.matches.length)return{errors:n("alternatives.all",{details:a.map(e=>c.details(e,{override:!1}))})};const l=e=>e.$_terms.matches.some(e=>"object"===e.schema.type||"alternatives"===e.schema.type&&l(e.schema));return l(r)?{value:t.reduce((e,t)=>o(e,t,{mergeArrays:!1}))}:{value:t[t.length-1]}}const a=[];for(let o=0;o<r.$_terms.matches.length;++o){const t=r.$_terms.matches[o];if(t.schema){const r=i.nest(t.schema,"match."+o);r.snapshot();const n=t.schema.$_validate(e,r,s);if(!n.errors)return r.commit(),n;r.restore(),a.push({schema:t.schema,reports:n.errors});continue}const n=t.ref?t.ref.resolve(e,i,s):e,c=t.is?[t]:t.switch;for(let r=0;r<c.length;++r){const a=c[r],{is:l,then:u,otherwise:d}=a,f=`match.${o}${t.switch?"."+r:""}`;if(l.$_match(n,i.nest(l,f+".is"),s)){if(u)return u.$_validate(e,i.nest(u,f+".then"),s)}else if(d)return d.$_validate(e,i.nest(d,f+".otherwise"),s)}}return u.errors(a,t)},rules:{conditional:{method(e,t){n(!this._flags._endedSwitch,"Unreachable condition"),n(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),n(void 0===t.break,"Cannot use break option with alternatives conditional");const r=this.clone(),o=a.when(r,e,t),i=o.is?[o]:o.switch;for(const n of i)if(n.then&&n.otherwise){r.$_setFlag("_endedSwitch",!0,{clone:!1});break}return r.$_terms.matches.push(o),r.$_mutateRebuild()}},match:{method(e){if(n(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e)for(const t of this.$_terms.matches)n(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){n(e.length,"Missing alternative schemas"),s.verifyFlat(e,"try"),n(!this._flags._endedSwitch,"Unreachable condition");const t=this.clone();for(const r of e)t.$_terms.matches.push({schema:t.$_compile(r)});return t.$_mutateRebuild()}}},overrides:{label(e){return this.$_parent("label",e).$_modify({each:(t,r)=>"is"!==r.path[0]&&"string"!=typeof t._flags.label?t.label(e):void 0,ref:!1})}},rebuild(e){e.$_modify({each:t=>{s.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,t){if(t.matches)for(const r of t.matches){const{schema:t,ref:n,is:o,not:i,then:s,otherwise:a}=r;e=t?e.try(t):n?e.conditional(n,{is:o,then:s,not:i,otherwise:a,switch:r.switch}):e.conditional(o,{then:s,otherwise:a})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),u.errors=function(e,{error:t,state:r}){if(!e.length)return{errors:t("alternatives.any")};if(1===e.length)return{errors:e[0].reports};const n=new Set,o=[];for(const{reports:i,schema:s}of e){if(i.length>1)return u.unmatched(e,t);const a=i[0];if(a instanceof c.Report==0)return u.unmatched(e,t);if(a.state.path.length!==r.path.length){o.push({type:s.type,report:a});continue}if("any.only"===a.code){for(const e of a.local.valids)n.add(e);continue}const[l,d]=a.code.split(".");"base"===d?n.add(l):o.push({type:s.type,report:a})}return o.length?1===o.length?{errors:o[0].report}:u.unmatched(e,t):{errors:t("alternatives.types",{types:[...n]})}},u.unmatched=function(e,t){const r=[];for(const n of e)r.push(...n.reports);return{errors:t("alternatives.match",c.details(r,{override:!1}))}}},8068:(e,t,r)=>{const n=r(375),o=r(7629),i=r(8160),s=r(6914);e.exports=o.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return n("function"==typeof e,"Method must be a function"),n(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:r}){try{return r(e,t)}catch(e){return t.error("any.custom",{error:e})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){n(i.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");const t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return n(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:(e,t,{code:r,local:n})=>t.error(r,n),args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=s.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(const r in t){const n=t[r];if(["examples","externals","metas","notes","tags"].includes(r))for(const t of n)e=e[r.slice(0,-1)](t);else if("alterations"!==r)if("whens"!==r){if("shared"===r)for(const t of n)e=e.shared(t)}else for(const t of n){const{ref:r,is:n,not:o,then:i,otherwise:s,concat:a}=t;e=a?e.concat(a):r?e.when(r,{is:n,not:o,then:i,otherwise:s,switch:t.switch,break:t.break}):e.when(n,{then:i,otherwise:s,break:t.break})}else{const t={};for(const{target:e,adjuster:r}of n)t[e]=r;e=e.alter(t)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(e,t,r)=>{const n=r(375),o=r(9474),i=r(9621),s=r(8068),a=r(8160),c=r(3292),l={};e.exports=s.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:r,prefs:n}){if(!Array.isArray(e))return;const o=t.$_getRule("sort");return o?l.sort(t,e,o.args.options,r,n):void 0}},validate(e,{schema:t,error:r}){if(!Array.isArray(e)){if(t._flags.single){const t=[e];return t[a.symbols.arraySingle]=!0,{value:t}}return{errors:r("array.base")}}if(t.$_getRule("items")||t.$_terms.externals)return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});const t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:r,error:n},{schema:o}){const i=[e,...t.ancestors];for(let a=0;a<e.length;++a){const n=t.localize([...t.path,a],i,o);if(o.$_match(e[a],n,r))return e}const s=o._flags.label;return s?n("array.hasKnown",{patternLabel:s}):n("array.hasUnknown",null)},multi:!0},items:{method(...e){a.verifyFlat(e,"items");const t=this.$_addRule("items");for(let r=0;r<e.length;++r){const n=a.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});t.$_terms.items.push(n)}return t.$_mutateRebuild()},validate(e,{schema:t,error:r,state:n,prefs:o,errorsArray:i}){const s=t.$_terms._requireds.slice(),c=t.$_terms.ordered.slice(),u=[...t.$_terms._inclusions,...s],d=!e[a.symbols.arraySingle];delete e[a.symbols.arraySingle];const f=i();let p=e.length;for(let a=0;a<p;++a){const i=e[a];let h=!1,m=!1;const g=d?a:new Number(a),v=[...n.path,g];if(!t._flags.sparse&&void 0===i){if(f.push(r("array.sparse",{key:g,path:v,pos:a,value:void 0},n.localize(v))),o.abortEarly)return f;c.shift();continue}const b=[e,...n.ancestors];for(const e of t.$_terms._exclusions)if(e.$_match(i,n.localize(v,b,e),o,{presence:"ignore"})){if(f.push(r("array.excludes",{pos:a,value:i},n.localize(v))),o.abortEarly)return f;h=!0,c.shift();break}if(h)continue;if(t.$_terms.ordered.length){if(c.length){const s=c.shift(),u=s.$_validate(i,n.localize(v,b,s),o);if(u.errors){if(f.push(...u.errors),o.abortEarly)return f}else if("strip"===s._flags.result)l.fastSplice(e,a),--a,--p;else{if(!t._flags.sparse&&void 0===u.value){if(f.push(r("array.sparse",{key:g,path:v,pos:a,value:void 0},n.localize(v))),o.abortEarly)return f;continue}e[a]=u.value}continue}if(!t.$_terms.items.length){if(f.push(r("array.orderedLength",{pos:a,limit:t.$_terms.ordered.length})),o.abortEarly)return f;break}}const y=[];let w=s.length;for(let c=0;c<w;++c){const u=n.localize(v,b,s[c]);u.snapshot();const d=s[c].$_validate(i,u,o);if(y[c]=d,!d.errors){if(u.commit(),e[a]=d.value,m=!0,l.fastSplice(s,c),--c,--w,!t._flags.sparse&&void 0===d.value&&(f.push(r("array.sparse",{key:g,path:v,pos:a,value:void 0},n.localize(v))),o.abortEarly))return f;break}u.restore()}if(m)continue;const S=o.stripUnknown&&!!o.stripUnknown.arrays||!1;w=u.length;for(const c of u){let u;const d=s.indexOf(c);if(-1!==d)u=y[d];else{const s=n.localize(v,b,c);if(s.snapshot(),u=c.$_validate(i,s,o),!u.errors){s.commit(),"strip"===c._flags.result?(l.fastSplice(e,a),--a,--p):t._flags.sparse||void 0!==u.value?e[a]=u.value:(f.push(r("array.sparse",{key:g,path:v,pos:a,value:void 0},n.localize(v))),h=!0),m=!0;break}s.restore()}if(1===w){if(S){l.fastSplice(e,a),--a,--p,m=!0;break}if(f.push(...u.errors),o.abortEarly)return f;h=!0;break}}if(!h&&(t.$_terms._inclusions.length||t.$_terms._requireds.length)&&!m){if(S){l.fastSplice(e,a),--a,--p;continue}if(f.push(r("array.includes",{pos:a,value:i},n.localize(v))),o.abortEarly)return f}}return s.length&&l.fillMissedErrors(t,f,s,e,n,o),c.length&&(l.fillOrderedErrors(t,f,c,e,n,o),f.length||l.fillDefault(c,e,n,o)),f.length?f:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:r},{name:n,operator:o,args:i})=>a.compare(e.length,r,o)?e:t.error("array."+n,{limit:i.limit,value:e}),args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){a.verifyFlat(e,"ordered");const t=this.$_addRule("items");for(let r=0;r<e.length;++r){const n=a.tryWithPath(()=>this.$_compile(e[r]),r,{append:!0});l.validateSingle(n,t),t.$_mutateRegister(n),t.$_terms.ordered.push(n)}return t.$_mutateRebuild()}},single:{method(e){const t=void 0===e||!!e;return n(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){a.assertOptions(e,["by","order"]);const t={order:e.order||"ascending"};return e.by&&(t.by=c.ref(e.by,{ancestor:0}),n(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:r,prefs:n,schema:o},{options:i}){const{value:s,errors:a}=l.sort(o,e,i,r,n);if(a)return a;for(let c=0;c<e.length;++c)if(e[c]!==s[c])return t("array.sort",{order:i.order,by:i.by?i.by.key:"value"});return e},convert:!0},sparse:{method(e){const t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){n(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),a.assertOptions(t,["ignoreUndefined","separator"]);const r={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){const n=a.default(t.separator,".");r.path=n?e.split(n):[e]}else r.comparator=e;return this.$_addRule(r)},validate(e,{state:t,error:r,schema:s},{comparator:a,options:c},{comparator:l,path:u}){const d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),object:new Map,function:new Map,custom:new Map},f=l||o,p=c.ignoreUndefined;for(let o=0;o<e.length;++o){const s=u?i(e[o],u):e[o],c=l?d.custom:d[typeof s];if(n(c,"Failed to find unique map container for type",typeof s),c instanceof Map){const n=c.entries();let i;for(;!(i=n.next()).done;)if(f(i.value[0],s)){const n=t.localize([...t.path,o],[e,...t.ancestors]),s={pos:o,value:e[o],dupePos:i.value[1],dupeValue:e[i.value[1]]};return u&&(s.path=a),r("array.unique",s,n)}c.set(s,o)}else{if((!p||void 0!==s)&&void 0!==c[s]){const n={pos:o,value:e[o],dupePos:c[s],dupeValue:e[c[s]]};return u&&(n.path=a),r("array.unique",n,t.localize([...t.path,o],[e,...t.ancestors]))}c[s]=o}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(e,t)=>new Set(e)}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(const t of e.$_terms.items)l.validateSingle(t,e),"required"===t._flags.presence?e.$_terms._requireds.push(t):"forbidden"===t._flags.presence?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(const t of e.$_terms.ordered)l.validateSingle(t,e)},manifest:{build:(e,t)=>(t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),l.fillMissedErrors=function(e,t,r,n,o,i){const s=[];let a=0;for(const c of r){const e=c._flags.label;e?s.push(e):++a}s.length?a?t.push(e.$_createError("array.includesRequiredBoth",n,{knownMisses:s,unknownMisses:a},o,i)):t.push(e.$_createError("array.includesRequiredKnowns",n,{knownMisses:s},o,i)):t.push(e.$_createError("array.includesRequiredUnknowns",n,{unknownMisses:a},o,i))},l.fillOrderedErrors=function(e,t,r,n,o,i){const s=[];for(const a of r)"required"===a._flags.presence&&s.push(a);s.length&&l.fillMissedErrors(e,t,s,n,o,i)},l.fillDefault=function(e,t,r,n){const o=[];let i=!0;for(let s=e.length-1;s>=0;--s){const a=e[s],c=[t,...r.ancestors],l=a.$_validate(void 0,r.localize(r.path,c,a),n).value;if(i){if(void 0===l)continue;i=!1}o.unshift(l)}o.length&&t.push(...o)},l.fastSplice=function(e,t){let r=t;for(;r<e.length;)e[r++]=e[r];--e.length},l.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(n(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},l.sort=function(e,t,r,n,o){const i="ascending"===r.order?1:-1,s=-1*i,a=i,c=(c,u)=>{let d=l.compare(c,u,s,a);if(null!==d)return d;if(r.by&&(c=r.by.resolve(c,n,o),u=r.by.resolve(u,n,o)),d=l.compare(c,u,s,a),null!==d)return d;const f=typeof c;if(f!==typeof u)throw e.$_createError("array.sort.mismatching",t,null,n,o);if("number"!==f&&"string"!==f)throw e.$_createError("array.sort.unsupported",t,{type:f},n,o);return"number"===f?(c-u)*i:c<u?s:a};try{return{value:t.slice().sort(c)}}catch(e){return{errors:e}}},l.compare=function(e,t,r,n){return e===t?0:void 0===e?1:void 0===t?-1:null===e?n:null===t?r:null}},4937:(e,t,r)=>{const n=r(375),o=r(8068),i=r(8160),s=r(2036),a={isBool:function(e){return"boolean"==typeof e}};e.exports=o.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if("boolean"!=typeof e){if("string"==typeof e){const r=t._flags.sensitive?e:e.toLowerCase();e="true"===r||"false"!==r&&e}return"boolean"!=typeof e&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(!t.$_terms.falsy||!t.$_terms.falsy.has(e,null,null,!t._flags.sensitive))&&e),{value:e}}},validate(e,{error:t}){if("boolean"!=typeof e)return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){i.verifyFlat(e,"truthy");const t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new s;for(let r=0;r<e.length;++r){const o=e[r];n(void 0!==o,"Cannot call truthy with undefined"),t.$_terms.truthy.add(o)}return t}},falsy:{method(...e){i.verifyFlat(e,"falsy");const t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new s;for(let r=0;r<e.length;++r){const o=e[r];n(void 0!==o,"Cannot call falsy with undefined"),t.$_terms.falsy.add(o)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:a.isBool,to:(e,t)=>e?1:0},string:{from:a.isBool,to:(e,t)=>e?"true":"false"}},manifest:{build:(e,t)=>(t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(e,t,r)=>{const n=r(375),o=r(8068),i=r(8160),s=r(3328),a={isDate:function(e){return e instanceof Date}};e.exports=o.extend({type:"date",coerce:{from:["number","string"],method:(e,{schema:t})=>({value:a.parse(e,t._flags.format)||e})},validate(e,{schema:t,error:r,prefs:n}){if(e instanceof Date&&!isNaN(e.getTime()))return;const o=t._flags.format;return n.convert&&o&&"string"==typeof e?{value:e,errors:r("date.format",{format:o})}:{value:e,errors:r("date.base")}},rules:{compare:{method:!1,validate(e,t,{date:r},{name:n,operator:o,args:s}){const a="now"===r?Date.now():r.getTime();return i.compare(e.getTime(),a,o)?e:t.error("date."+n,{limit:s.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>"now"===e?e:a.parse(e),assert:e=>null!==e,message:"must have a valid date format"}]},format:{method(e){return n(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return n(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:a.isDate,to:(e,t)=>e.getTime()},string:{from:a.isDate,to:(e,{prefs:t})=>s.date(e,t)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),a.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e)))return null;if(/^\s*$/.test(e))return null;if("iso"===t)return i.isIsoDate(e)?a.date(e.toString()):null;const r=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return a.date(1*e);if("unix"===t)return a.date(1e3*e);if("string"==typeof r)return null}return a.date(e)},a.date=function(e){const t=new Date(e);return isNaN(t.getTime())?null:t}},390:(e,t,r)=>{const n=r(375),o=r(7824);e.exports=o.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:(e,t,{n:r})=>e.length===r?e:t.error("function.arity",{n:r})},class:{method(){return this.$_addRule("class")},validate:(e,t)=>/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})},minArity:{method(e){return n(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:(e,t,{n:r})=>e.length>=r?e:t.error("function.minArity",{n:r})},maxArity:{method(e){return n(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:(e,t,{n:r})=>e.length<=r?e:t.error("function.maxArity",{n:r})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(e,t,r)=>{const n=r(978),o=r(375),i=r(8571),s=r(3652),a=r(8068),c=r(8160),l=r(3292),u=r(6354),d=r(6133),f=r(3328),p={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=a.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(e,t)=>e.keys(t),validate(e,{schema:t,error:r,state:n,prefs:o}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:r("object.base",{type:t.$_property("typeof")})};if(!(t.$_terms.renames||t.$_terms.dependencies||t.$_terms.keys||t.$_terms.patterns||t.$_terms.externals))return;e=p.clone(e,o);const i=[];if(t.$_terms.renames&&!p.rename(t,e,n,o,i))return{value:e,errors:i};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:i};const s=new Set(Object.keys(e));if(t.$_terms.keys){const r=[e,...n.ancestors];for(const a of t.$_terms.keys){const t=a.key,c=e[t];s.delete(t);const l=n.localize([...n.path,t],r,a),u=a.schema.$_validate(c,l,o);if(u.errors){if(o.abortEarly)return{value:e,errors:u.errors};void 0!==u.value&&(e[t]=u.value),i.push(...u.errors)}else"strip"===a.schema._flags.result||void 0===u.value&&void 0!==c?delete e[t]:void 0!==u.value&&(e[t]=u.value)}}if(s.size||t._flags._hasPatternMatch){const r=p.unknown(t,e,s,i,n,o);if(r)return r}if(t.$_terms.dependencies)for(const a of t.$_terms.dependencies){if(null!==a.key&&!1===p.isPresent(a.options)(a.key.resolve(e,n,o,null,{shadow:!1})))continue;const r=p.dependencies[a.rel](t,a,e,n,o);if(r){const s=t.$_createError(r.code,e,r.context,n,o);if(o.abortEarly)return{value:e,errors:s};i.push(s)}}return{value:e,errors:i}},rules:{and:{method(...e){return c.verifyFlat(e,"and"),p.dependency(this,"and",null,e)}},append:{method(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method(e,t,r){f.isTemplate(e)||(e=l.ref(e)),o(void 0===r||"string"==typeof r,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});const n=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:r}});return n.$_mutateRegister(e),n.$_mutateRegister(t),n},validate(e,{error:t,prefs:r,state:n},{subject:o,schema:i,message:s}){const a=o.resolve(e,n,r),c=d.isRef(o)?o.absolute(n):[];return i.$_match(a,n.localize(c,[e,...n.ancestors],i),r)?e:t("object.assert",{subject:o,message:s})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return o("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:(e,t,{constructor:r,name:n})=>e instanceof r?e:t.error("object.instance",{type:n,value:e}),args:["constructor","name"]},keys:{method(e){o(void 0===e||"object"==typeof e,"Object schema must be a valid object"),o(!c.isSchema(e),"Object schema cannot be a joi schema");const t=this.clone();if(e)if(Object.keys(e).length){t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(t=>!e.hasOwnProperty(t.key)):new p.Keys;for(const r in e)c.tryWithPath(()=>t.$_terms.keys.push({key:r,schema:this.$_compile(e[r])}),r)}else t.$_terms.keys=new p.Keys;else t.$_terms.keys=null;return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:r},{name:n,operator:o,args:i})=>c.compare(Object.keys(e).length,r,o)?e:t.error("object."+n,{limit:i.limit,value:e}),args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return c.verifyFlat(e,"nand"),p.dependency(this,"nand",null,e)}},or:{method(...e){return c.verifyFlat(e,"or"),p.dependency(this,"or",null,e)}},oxor:{method(...e){return p.dependency(this,"oxor",null,e)}},pattern:{method(e,t,r={}){const n=e instanceof RegExp;n||(e=this.$_compile(e,{appendPath:!0})),o(void 0!==t,"Invalid rule"),c.assertOptions(r,["fallthrough","matches"]),n&&o(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});const i=this.clone();i.$_terms.patterns=i.$_terms.patterns||[];const s={[n?"regex":"schema"]:e,rule:t};return r.matches&&(s.matches=this.$_compile(r.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),i.$_mutateRegister(s.matches),i.$_setFlag("_hasPatternMatch",!0,{clone:!1})),r.fallthrough&&(s.fallthrough=!0),i.$_terms.patterns.push(s),i.$_mutateRegister(t),i}},ref:{method(){return this.$_addRule("ref")},validate:(e,t)=>d.isRef(e)?e:t.error("object.refType",{value:e})},regex:{method(){return this.$_addRule("regex")},validate:(e,t)=>e instanceof RegExp?e:t.error("object.regex",{value:e})},rename:{method(e,t,r={}){o("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),o("string"==typeof t||t instanceof f,"Invalid rename to argument"),o(t!==e,"Cannot rename key to same name:",e),c.assertOptions(r,["alias","ignoreUndefined","override","multiple"]);const i=this.clone();i.$_terms.renames=i.$_terms.renames||[];for(const n of i.$_terms.renames)o(n.from!==e,"Cannot rename the same key multiple times");return t instanceof f&&i.$_mutateRegister(t),i.$_terms.renames.push({from:e,to:t,options:n(p.renameDefaults,r)}),i}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate:(e,t,{type:r})=>!c.isSchema(e)||"any"!==r&&e.type!==r?t.error("object.schema",{type:r}):e},unknown:{method(e){return this.$_setFlag("unknown",!1!==e)}},with:{method(e,t,r={}){return p.dependency(this,"with",e,t,r)}},without:{method(e,t,r={}){return p.dependency(this,"without",e,t,r)}},xor:{method(...e){return c.verifyFlat(e,"xor"),p.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return void 0===e&&(e=c.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){const t=new s.Sorter;for(const r of e.$_terms.keys)c.tryWithPath(()=>t.add(r,{after:r.schema.$_rootReferences(),group:r.key}),r.key);e.$_terms.keys=new p.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(const{rel:r,key:n=null,peers:o,options:i}of t.dependencies)e=p.dependency(e,r,n,o,i);if(t.patterns)for(const{regex:r,schema:n,rule:o,fallthrough:i,matches:s}of t.patterns)e=e.pattern(r||n,o,{fallthrough:i,matches:s});if(t.renames)for(const{from:r,to:n,options:o}of t.renames)e=e.rename(r,n,o);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),p.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return i(e,{shallow:!0});const r=Object.create(Object.getPrototypeOf(e));return Object.assign(r,e),r}const r=function(...t){return e.apply(this,t)};return r.prototype=i(e.prototype),Object.defineProperty(r,"name",{value:e.name,writable:!1}),Object.defineProperty(r,"length",{value:e.length,writable:!1}),Object.assign(r,e),r},p.dependency=function(e,t,r,n,i){o(null===r||"string"==typeof r,t,"key must be a strings"),i||(i=n.length>1&&"object"==typeof n[n.length-1]?n.pop():{}),c.assertOptions(i,["separator","isPresent"]),n=[].concat(n);const s=c.default(i.separator,"."),a=[];for(const c of n)o("string"==typeof c,t,"peers must be strings"),a.push(l.ref(c,{separator:s,ancestor:0,prefix:!1}));null!==r&&(r=l.ref(r,{separator:s,ancestor:0,prefix:!1}));const u=e.clone();return u.$_terms.dependencies=u.$_terms.dependencies||[],u.$_terms.dependencies.push(new p.Dependency(t,r,a,n,i)),u},p.dependencies={and(e,t,r,n,o){const i=[],s=[],a=t.peers.length,c=p.isPresent(t.options);for(const l of t.peers)!1===c(l.resolve(r,n,o,null,{shadow:!1}))?i.push(l.key):s.push(l.key);if(i.length!==a&&s.length!==a)return{code:"object.and",context:{present:s,presentWithLabels:p.keysToLabels(e,s),missing:i,missingWithLabels:p.keysToLabels(e,i)}}},nand(e,t,r,n,o){const i=[],s=p.isPresent(t.options);for(const l of t.peers)s(l.resolve(r,n,o,null,{shadow:!1}))&&i.push(l.key);if(i.length!==t.peers.length)return;const a=t.paths[0],c=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:p.keysToLabels(e,a),peers:c,peersWithLabels:p.keysToLabels(e,c)}}},or(e,t,r,n,o){const i=p.isPresent(t.options);for(const s of t.peers)if(i(s.resolve(r,n,o,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:p.keysToLabels(e,t.paths)}}},oxor(e,t,r,n,o){const i=[],s=p.isPresent(t.options);for(const c of t.peers)s(c.resolve(r,n,o,null,{shadow:!1}))&&i.push(c.key);if(!i.length||1===i.length)return;const a={peers:t.paths,peersWithLabels:p.keysToLabels(e,t.paths)};return a.present=i,a.presentWithLabels=p.keysToLabels(e,i),{code:"object.oxor",context:a}},with(e,t,r,n,o){const i=p.isPresent(t.options);for(const s of t.peers)if(!1===i(s.resolve(r,n,o,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:p.keysToLabels(e,t.key.key),peer:s.key,peerWithLabel:p.keysToLabels(e,s.key)}}},without(e,t,r,n,o){const i=p.isPresent(t.options);for(const s of t.peers)if(i(s.resolve(r,n,o,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:p.keysToLabels(e,t.key.key),peer:s.key,peerWithLabel:p.keysToLabels(e,s.key)}}},xor(e,t,r,n,o){const i=[],s=p.isPresent(t.options);for(const c of t.peers)s(c.resolve(r,n,o,null,{shadow:!1}))&&i.push(c.key);if(1===i.length)return;const a={peers:t.paths,peersWithLabels:p.keysToLabels(e,t.paths)};return 0===i.length?{code:"object.missing",context:a}:(a.present=i,a.presentWithLabels=p.keysToLabels(e,i),{code:"object.xor",context:a})}},p.keysToLabels=function(e,t){return Array.isArray(t)?t.map(t=>e.$_mapLabels(t)):e.$_mapLabels(t)},p.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:e=>void 0!==e},p.rename=function(e,t,r,n,o){const i={};for(const s of e.$_terms.renames){const a=[],c="string"!=typeof s.from;if(c)for(const e in t){if(void 0===t[e]&&s.options.ignoreUndefined)continue;if(e===s.to)continue;const r=s.from.exec(e);r&&a.push({from:e,to:s.to,match:r})}else!Object.prototype.hasOwnProperty.call(t,s.from)||void 0===t[s.from]&&s.options.ignoreUndefined||a.push(s);for(const l of a){const a=l.from;let u=l.to;if(u instanceof f&&(u=u.render(t,r,n,l.match)),a!==u){if(!s.options.multiple&&i[u]&&(o.push(e.$_createError("object.rename.multiple",t,{from:a,to:u,pattern:c},r,n)),n.abortEarly))return!1;if(Object.prototype.hasOwnProperty.call(t,u)&&!s.options.override&&!i[u]&&(o.push(e.$_createError("object.rename.override",t,{from:a,to:u,pattern:c},r,n)),n.abortEarly))return!1;void 0===t[a]?delete t[u]:t[u]=t[a],i[u]=!0,s.options.alias||delete t[a]}}}return!0},p.unknown=function(e,t,r,n,o,i){if(e.$_terms.patterns){let s=!1;const a=e.$_terms.patterns.map(e=>{if(e.matches)return s=!0,[]}),c=[t,...o.ancestors];for(const l of r){const s=t[l],u=[...o.path,l];for(let d=0;d<e.$_terms.patterns.length;++d){const f=e.$_terms.patterns[d];if(f.regex){const e=f.regex.test(l);if(o.mainstay.tracer.debug(o,"rule","pattern."+d,e?"pass":"error"),!e)continue}else if(!f.schema.$_match(l,o.nest(f.schema,"pattern."+d),i))continue;r.delete(l);const p=o.localize(u,c,{schema:f.rule,key:l}),h=f.rule.$_validate(s,p,i);if(h.errors){if(i.abortEarly)return{value:t,errors:h.errors};n.push(...h.errors)}if(f.matches&&a[d].push(l),t[l]=h.value,!f.fallthrough)break}}if(s)for(let r=0;r<a.length;++r){const s=a[r];if(!s)continue;const l=e.$_terms.patterns[r].matches,d=o.localize(o.path,c,l),f=l.$_validate(s,d,i);if(f.errors){const r=u.details(f.errors,{override:!1});r.matches=s;const a=e.$_createError("object.pattern.match",t,r,o,i);if(i.abortEarly)return{value:t,errors:a};n.push(a)}}}if(r.size&&(e.$_terms.keys||e.$_terms.patterns)){if(i.stripUnknown&&!e._flags.unknown||i.skipFunctions){const e=!(!i.stripUnknown||!0!==i.stripUnknown&&!i.stripUnknown.objects);for(const n of r)e?(delete t[n],r.delete(n)):"function"==typeof t[n]&&r.delete(n)}if(!c.default(e._flags.unknown,i.allowUnknown))for(const s of r){const r=o.localize([...o.path,s],[]),a=e.$_createError("object.unknown",t[s],{child:s},r,i,{flags:!1});if(i.abortEarly)return{value:t,errors:a};n.push(a)}}},p.Dependency=class{constructor(e,t,r,n,o){this.rel=e,this.key=t,this.peers=r,this.paths=n,this.options=o}describe(){const e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options={...e.options,separator:this.peers[0].separator}),this.options.isPresent&&(e.options={...e.options,isPresent:this.options.isPresent}),e}},p.Keys=class extends Array{concat(e){const t=this.slice(),r=new Map;for(let n=0;n<t.length;++n)r.set(t[n].key,n);for(const n of e){const e=n.key,o=r.get(e);void 0!==o?t[o]={key:e,schema:t[o].schema.concat(n.schema)}:t.push(n)}return t}}},8785:(e,t,r)=>{const n=r(375),o=r(8068),i=r(8160),s=r(3292),a=r(6354),c={};e.exports=o.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(e,t)=>e.ref(t),validate(e,{schema:t,state:r,prefs:o}){n(t.$_terms.link,"Uninitialized link schema");const i=c.generate(t,e,r,o),s=t.$_terms.link[0].ref;return i.$_validate(e,r.nest(i,`link:${s.display}:${i.type}`),o)},generate:(e,t,r,n)=>c.generate(e,t,r,n),rules:{ref:{method(e){n(!this.$_terms.link,"Cannot reinitialize schema"),e=s.ref(e),n("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),n("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){n(this.$_terms.link,"Uninitialized link schema"),n(i.isSchema(e),"Invalid schema object"),n("link"!==e.type,"Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:(e,t)=>(n(t.link,"Invalid link description missing link"),e.ref(t.link))}}),c.generate=function(e,t,r,n){let o=r.mainstay.links.get(e);if(o)return o._generate(t,r,n).schema;const i=e.$_terms.link[0].ref,{perspective:s,path:a}=c.perspective(i,r);c.assert(s,"which is outside of schema boundaries",i,e,r,n);try{o=a.length?s.$_reach(a):s}catch(t){c.assert(!1,"to non-existing schema",i,e,r,n)}return c.assert("link"!==o.type,"which is another link",i,e,r,n),e._flags.relative||r.mainstay.links.set(e,o),o._generate(t,r,n).schema},c.perspective=function(e,t){if("local"===e.type){for(const{schema:r,key:n}of t.schemas){if((r._flags.id||n)===e.path[0])return{perspective:r,path:e.path.slice(1)};if(r.$_terms.shared)for(const t of r.$_terms.shared)if(t._flags.id===e.path[0])return{perspective:t,path:e.path.slice(1)}}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},c.assert=function(e,t,r,o,i,s){e||n(!1,`"${a.label(o._flags,i,s)}" contains link reference "${r.display}" ${t}`)}},3832:(e,t,r)=>{const n=r(375),o=r(8068),i=r(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(e){const t=e.toString(),r=t.indexOf("."),n=t.indexOf("e");return(r<0?0:(n<0?t.length:n)-r-1)+(n<0?0:Math.max(0,-parseInt(t.slice(n+1))))}};e.exports=o.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:r}){if(!e.match(s.numberRx))return;e=e.trim();const n={value:parseFloat(e)};if(0===n.value&&(n.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(s.extractSignificantDigits(e)!==s.extractSignificantDigits(String(n.value)))return n.errors=r("number.unsafe"),n}else{const t=n.value.toString();if(t.match(/e/i))return n;if(t!==s.normalizeDecimal(e))return n.errors=r("number.unsafe"),n}return n}},validate(e,{schema:t,error:r,prefs:n}){if(e===1/0||e===-1/0)return{value:e,errors:r("number.infinity")};if(!i.isNumber(e))return{value:e,errors:r("number.base")};const o={value:e};if(n.convert){const e=t.$_getRule("precision");if(e){const t=Math.pow(10,e.args.limit);o.value=Math.round(o.value*t)/t}}return 0===o.value&&(o.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(o.errors=r("number.unsafe")),o},rules:{compare:{method:!1,validate:(e,t,{limit:r},{name:n,operator:o,args:s})=>i.compare(e,r,o)?e:t.error("number."+n,{limit:s.limit,value:e}),args:[{name:"limit",ref:!0,assert:i.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(e,t)=>Math.trunc(e)-e==0?e:t.error("number.integer")},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){const t="number"==typeof e?s.decimalPlaces(e):null,r=Math.pow(10,t);return this.$_addRule({name:"multiple",args:{base:e,baseDecimalPlace:t,pfactor:r}})},validate:(e,t,{base:r,baseDecimalPlace:n,pfactor:o},i)=>s.decimalPlaces(e)>n?t.error("number.multiple",{multiple:i.args.base,value:e}):Math.round(o*e)%Math.round(o*r)==0?e:t.error("number.multiple",{multiple:i.args.base,value:e}),args:[{name:"base",ref:!0,assert:e=>"number"==typeof e&&isFinite(e)&&e>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(e,t)=>Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(e){return n(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:r}){const n=e.toString().match(s.precisionRx);return Math.max((n[1]?n[1].length:0)-(n[2]?parseInt(n[2],10):0),0)<=r?e:t.error("number.precision",{limit:r,value:e})},convert:!0},sign:{method(e){return n(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:(e,t,{sign:r})=>"negative"===r&&e<0||"positive"===r&&e>0?e:t.error("number."+r)},unsafe:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>"number"==typeof e,to:(e,t)=>e.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(e){return e.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:(e,t,r)=>{const n=r(7824);e.exports=n.extend({type:"object",cast:{map:{from:e=>e&&"object"==typeof e,to:(e,t)=>new Map(Object.entries(e))}}})},7417:(e,t,r)=>{const n=r(375),o=r(5380),i=r(1745),s=r(9959),a=r(6064),c=r(9926),l=r(5752),u=r(8068),d=r(8160),f={tlds:c instanceof Set&&{tlds:{allow:c,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=u.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:r,prefs:n}){const o=t.$_getRule("normalize");o&&(e=e.normalize(o.args.form));const i=t.$_getRule("case");i&&(e="upper"===i.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());const s=t.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(const c of t.$_terms.replacements)e=e.replace(c.pattern,c.replacement);const a=t.$_getRule("hex");if(a&&a.args.options.byteAligned&&e.length%2!=0&&(e="0"+e),t.$_getRule("isoDate")){const t=f.isoDate(e);t&&(e=t)}if(t._flags.truncate){const o=t.$_getRule("max");if(o){let i=o.args.limit;if(d.isResolvable(i)&&(i=i.resolve(e,r,n),!d.limit(i)))return{value:e,errors:t.$_createError("any.ref",i,{ref:o.args.limit,arg:"limit",reason:"must be a positive integer"},r,n)};e=e.slice(0,i)}}return{value:e}}},validate(e,{schema:t,error:r}){if("string"!=typeof e)return{value:e,errors:r("string.base")};if(""===e){const n=t.$_getRule("min");if(n&&0===n.args.limit)return;return{value:e,errors:r("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(e,t)=>/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")},base64:{method(e={}){return d.assertOptions(e,["paddingRequired","urlSafe"]),e={urlSafe:!1,paddingRequired:!0,...e},n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),n("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:(e,t,{options:r})=>f.base64Regex[r.paddingRequired][r.urlSafe].test(e)?e:t.error("string.base64")},case:{method(e){return n(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:(e,t,{direction:r})=>"lower"===r&&e===e.toLocaleLowerCase()||"upper"===r&&e===e.toLocaleUpperCase()?e:t.error(`string.${r}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let r=e.length,n=0,o=1;for(;r--;){const t=e.charAt(r)*o;n+=t-9*(t>9),o^=3}return n>0&&n%10==0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return d.assertOptions(e,["paddingRequired"]),e={paddingRequired:!0,...e},n("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:r}){const n=e.match(f.dataUriRegex);if(n){if(!n[2])return e;if("base64"!==n[2])return e;if(f.base64Regex[r.paddingRequired].false.test(n[3]))return e}return t.error("string.dataUri")}},domain:{method(e){e&&d.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const t=f.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:(e,t,r,{address:n})=>o.isValid(e,n)?e:t.error("string.domain")},email:{method(e={}){d.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),n(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");const t=f.addressOptions(e),r=new RegExp(`\\s*[${e.separator?a(e.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:e},regex:r,address:t})},validate(e,t,{options:r},{regex:n,address:o}){const s=r.multiple?e.split(n):[e],a=[];for(const c of s)i.isValid(c,o)||a.push(c);return a.length?t.error("string.email",{value:e,invalids:a}):e}},guid:{alias:"uuid",method(e={}){d.assertOptions(e,["version","separator"]);let t="";if(e.version){const r=[].concat(e.version);n(r.length>=1,"version must have at least 1 valid version specified");const o=new Set;for(let e=0;e<r.length;++e){const i=r[e];n("string"==typeof i,"version at position "+e+" must be a string");const s=f.guidVersions[i.toLowerCase()];n(s,"version at position "+e+" must be one of "+Object.keys(f.guidVersions).join(", ")),n(!o.has(s),"version at position "+e+" must not be a duplicate"),t+=s,o.add(s)}}n(f.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');const r=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\"+e.separator,o=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${r})[0-9A-F]{4}\\2?[${t||"0-9A-F"}][0-9A-F]{3}\\2?[${t?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:e},regex:o})},validate(e,t,r,{regex:n}){const o=n.exec(e);return o?f.guidBrackets[o[1]]!==o[o.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return d.assertOptions(e,["byteAligned","prefix"]),e={byteAligned:!1,prefix:!1,...e},n("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),n("boolean"==typeof e.prefix||"optional"===e.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:e}})},validate:(e,t,{options:r})=>("optional"===r.prefix?f.hexRegex.withOptionalPrefix:!0===r.prefix?f.hexRegex.withPrefix:f.hexRegex.withoutPrefix).test(e)?r.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(e,t)=>o.isValid(e,{minDomainSegments:1})||f.ipRegex.test(e)?e:t.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){d.assertOptions(e,["cidr","version"]);const{cidr:t,versions:r,regex:n}=s.regex(e),o=e.version?r:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:o}},regex:n})},validate:(e,t,{options:r},{regex:n})=>n.test(e)?e:r.version?t.error("string.ipVersion",{value:e,cidr:r.cidr,version:r.version}):t.error("string.ip",{value:e,cidr:r.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(e,{error:t})=>f.isoDate(e)?e:t("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(e,t)=>f.isoDurationRegex.test(e)?e:t.error("string.isoDuration")},length:{method(e,t){return f.length(this,"length",e,"=",t)},validate(e,t,{limit:r,encoding:n},{name:o,operator:i,args:s}){const a=!n&&e.length;return d.compare(a,r,i)?e:t.error("string."+o,{limit:s.limit,value:e,encoding:n})},args:[{name:"limit",ref:!0,assert:d.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return f.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return f.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return n(f.normalizationForms.includes(e),"normalization form must be one of "+f.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:(e,{error:t},{form:r})=>e===e.normalize(r)?e:t("string.normalize",{value:e,form:r}),convert:!0},pattern:{alias:"regex",method(e,t={}){n(e instanceof RegExp,"regex must be a RegExp"),n(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),d.assertOptions(t,["invert","name"]);const r=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:r})},validate:(e,t,{regex:r,options:n},{errorCode:o})=>r.test(e)^n.invert?e:t.error(o,{name:n.name,regex:r,value:e}),args:["regex","options"],multi:!0},replace:{method(e,t){"string"==typeof e&&(e=new RegExp(a(e),"g")),n(e instanceof RegExp,"pattern must be a RegExp"),n("string"==typeof t,"replacement must be a String");const r=this.clone();return r.$_terms.replacements||(r.$_terms.replacements=[]),r.$_terms.replacements.push({pattern:e,replacement:t}),r}},token:{method(){return this.$_addRule("token")},validate:(e,t)=>/^\w+$/.test(e)?e:t.error("string.token")},trim:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:(e,t,{enabled:r})=>r&&e!==e.trim()?t.error("string.trim"):e,convert:!0},truncate:{method(e=!0){return n("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){d.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme"]),e.domain&&d.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:t,scheme:r}=l.regex(e),n=e.domain?f.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:n,scheme:r})},validate(e,t,{options:r},{regex:n,domain:i,scheme:s}){if(["http:/","https:/"].includes(e))return t.error("string.uri");const a=n.exec(e);if(a){const n=a[1]||a[2];return!i||r.allowRelative&&!n||o.isValid(n,i)?e:t.error("string.domain",{value:n})}return r.relativeOnly?t.error("string.uriRelativeOnly"):r.scheme?t.error("string.uriCustomScheme",{scheme:s,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(const{pattern:r,replacement:n}of t.replacements)e=e.replace(r,n);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),f.addressOptions=function(e){if(!e)return e;if(n(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),n(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return n(f.tlds,"Built-in TLD list disabled"),Object.assign({},e,f.tlds);n("object"==typeof e.tlds,"tlds must be true, false, or an object");const t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),n(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),n(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),f.validateTlds(e.tlds.deny,"tlds.deny"),e;const r=e.tlds.allow;return r?!0===r?(n(f.tlds,"Built-in TLD list disabled"),Object.assign({},e,f.tlds)):(Array.isArray(r)&&(e=Object.assign({},e,{tlds:{allow:new Set(r)}})),n(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),f.validateTlds(e.tlds.allow,"tlds.allow"),e):e},f.validateTlds=function(e,t){for(const r of e)n(o.isValid(r,{minDomainSegments:1,maxDomainSegments:1}),t+" must contain valid top level domain names")},f.isoDate=function(e){if(!d.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},f.length=function(e,t,r,o,i){return n(!i||!1,"Invalid encoding:",i),e.$_addRule({name:t,method:"length",args:{limit:r,encoding:i},operator:o})}},8826:(e,t,r)=>{const n=r(375),o=r(8068),i={};i.Map=class extends Map{slice(){return new i.Map(this)}},e.exports=o.extend({type:"symbol",terms:{map:{init:new i.Map}},coerce:{method(e,{schema:t,error:r}){const n=t.$_terms.map.get(e);return n&&(e=n),t._flags.only&&"symbol"!=typeof e?{value:e,errors:r("symbol.map",{map:t.$_terms.map})}:{value:e}}},validate(e,{error:t}){if("symbol"!=typeof e)return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),n(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),r=[];for(const o of e){n(o&&o[Symbol.iterator],"Entry must be an iterable");const[e,i]=o;n("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be of type object, function, or Symbol"),n("symbol"==typeof i,"Value must be a Symbol"),t.$_terms.map.set(e,i),r.push(i)}return t.valid(...r)}}},manifest:{build:(e,t)=>(t.map&&(e=e.map(t.map)),e)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(e,t,r)=>{const n=r(375),o=r(8571),i=r(738),s=r(9621),a=r(8160),c=r(6354),l=r(493),u={result:Symbol("result")};t.entry=function(e,t,r){let o=a.defaults;r&&(n(void 0===r.warnings,"Cannot override warnings preference in synchronous validation"),n(void 0===r.artifacts,"Cannot override artifacts preference in synchronous validation"),o=a.preferences(a.defaults,r));const i=u.entry(e,t,o);n(!i.mainstay.externals.length,"Schema with external rules must use validateAsync()");const s={value:i.value};return i.error&&(s.error=i.error),i.mainstay.warnings.length&&(s.warning=c.details(i.mainstay.warnings)),i.mainstay.debug&&(s.debug=i.mainstay.debug),i.mainstay.artifacts&&(s.artifacts=i.mainstay.artifacts),s},t.entryAsync=async function(e,t,r){let n=a.defaults;r&&(n=a.preferences(a.defaults,r));const o=u.entry(e,t,n),i=o.mainstay;if(o.error)throw i.debug&&(o.error.debug=i.debug),o.error;if(i.externals.length){let t=o.value;const l=[];for(const o of i.externals){const d=o.state.path,f="link"===o.schema.type?i.links.get(o.schema):null;let p,h,m=t;const g=d.length?[t]:[],v=d.length?s(e,d):e;if(d.length){p=d[d.length-1];let e=t;for(const t of d.slice(0,-1))e=e[t],g.unshift(e);h=g[0],m=h[p]}try{const e=(e,t)=>(f||o.schema).$_createError(e,m,t,o.state,n),s=await o.method(m,{schema:o.schema,linked:f,state:o.state,prefs:r,original:v,error:e,errorsArray:u.errorsArray,warn:(e,t)=>i.warnings.push((f||o.schema).$_createError(e,m,t,o.state,n)),message:(e,t)=>(f||o.schema).$_createError("external",m,t,o.state,n,{messages:e})});if(void 0===s||s===m)continue;if(s instanceof c.Report){if(i.tracer.log(o.schema,o.state,"rule","external","error"),l.push(s),n.abortEarly)break;continue}if(Array.isArray(s)&&s[a.symbols.errors]){if(i.tracer.log(o.schema,o.state,"rule","external","error"),l.push(...s),n.abortEarly)break;continue}h?(i.tracer.value(o.state,"rule",m,s,"external"),h[p]=s):(i.tracer.value(o.state,"rule",t,s,"external"),t=s)}catch(e){throw n.errors.label&&(e.message+=` (${o.label})`),e}}if(o.value=t,l.length)throw o.error=c.process(l,e,n),i.debug&&(o.error.debug=i.debug),o.error}if(!n.warnings&&!n.debug&&!n.artifacts)return o.value;const l={value:o.value};return i.warnings.length&&(l.warning=c.details(i.warnings)),i.debug&&(l.debug=i.debug),i.artifacts&&(l.artifacts=i.artifacts),l},u.Mainstay=class{constructor(e,t,r){this.externals=[],this.warnings=[],this.tracer=e,this.debug=t,this.links=r,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}},u.entry=function(e,r,n){const{tracer:o,cleanup:i}=u.tracer(r,n),s=n.debug?[]:null,a=r._ids._schemaChain?new Map:null,d=new u.Mainstay(o,s,a),f=r._ids._schemaChain?[{schema:r}]:null,p=new l([],[],{mainstay:d,schemas:f}),h=t.validate(e,r,p,n);i&&r.$_root.untrace();const m=c.process(h.errors,e,n);return{value:h.value,error:m,mainstay:d}},u.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(n(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:u.ignore}},t.validate=function(e,t,r,n,o={}){if(t.$_terms.whens&&(t=t._generate(e,r,n).schema),t._preferences&&(n=u.prefs(t,n)),t._cache&&n.cache){const n=t._cache.get(e);if(r.mainstay.tracer.debug(r,"validate","cached",!!n),n)return n}const i=(o,i,s)=>t.$_createError(o,e,i,s||r,n),s={original:e,prefs:n,schema:t,state:r,error:i,errorsArray:u.errorsArray,warn:(e,t,n)=>r.mainstay.warnings.push(i(e,t,n)),message:(o,i)=>t.$_createError("custom",e,i,r,n,{messages:o})};r.mainstay.tracer.entry(t,r);const c=t._definition;if(c.prepare&&void 0!==e&&n.convert){const t=c.prepare(e,s);if(t){if(r.mainstay.tracer.value(r,"prepare",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),s);e=t.value}}if(c.coerce&&void 0!==e&&n.convert&&(!c.coerce.from||c.coerce.from.includes(typeof e))){const t=c.coerce.method(e,s);if(t){if(r.mainstay.tracer.value(r,"coerced",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),s);e=t.value}}const l=t._flags.empty;l&&l.$_match(u.trim(e,t),r.nest(l),a.defaults)&&(r.mainstay.tracer.value(r,"empty",e,void 0),e=void 0);const d=o.presence||t._flags.presence||(t._flags._endedSwitch?null:n.presence);if(void 0===e){if("forbidden"===d)return u.finalize(e,null,s);if("required"===d)return u.finalize(e,[t.$_createError("any.required",e,null,r,n)],s);if("optional"===d){if(t._flags.default!==a.symbols.deepDefault)return u.finalize(e,null,s);r.mainstay.tracer.value(r,"default",e,{}),e={}}}else if("forbidden"===d)return u.finalize(e,[t.$_createError("any.unknown",e,null,r,n)],s);const f=[];if(t._valids){const o=t._valids.get(e,r,n,t._flags.insensitive);if(o)return n.convert&&(r.mainstay.tracer.value(r,"valids",e,o.value),e=o.value),r.mainstay.tracer.filter(t,r,"valid",o),u.finalize(e,null,s);if(t._flags.only){const o=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},r,n);if(n.abortEarly)return u.finalize(e,[o],s);f.push(o)}}if(t._invalids){const o=t._invalids.get(e,r,n,t._flags.insensitive);if(o){r.mainstay.tracer.filter(t,r,"invalid",o);const i=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},r,n);if(n.abortEarly)return u.finalize(e,[i],s);f.push(i)}}if(c.validate){const t=c.validate(e,s);if(t&&(r.mainstay.tracer.value(r,"base",e,t.value),e=t.value,t.errors)){if(!Array.isArray(t.errors))return f.push(t.errors),u.finalize(e,f,s);if(t.errors.length)return f.push(...t.errors),u.finalize(e,f,s)}}return t._rules.length?u.rules(e,f,s):u.finalize(e,f,s)},u.rules=function(e,t,r){const{schema:n,state:o,prefs:i}=r;for(const s of n._rules){const c=n._definition.rules[s.method];if(c.convert&&i.convert){o.mainstay.tracer.log(n,o,"rule",s.name,"full");continue}let l,d=s.args;if(s._resolve.length){d=Object.assign({},d);for(const t of s._resolve){const r=c.argsByName.get(t),s=d[t].resolve(e,o,i),u=r.normalize?r.normalize(s):s,f=a.validateArg(u,null,r);if(f){l=n.$_createError("any.ref",s,{arg:t,ref:d[t],reason:f},o,i);break}d[t]=u}}l=l||c.validate(e,r,d,s);const f=u.rule(l,s);if(f.errors){if(o.mainstay.tracer.log(n,o,"rule",s.name,"error"),s.warn){o.mainstay.warnings.push(...f.errors);continue}if(i.abortEarly)return u.finalize(e,f.errors,r);t.push(...f.errors)}else o.mainstay.tracer.log(n,o,"rule",s.name,"pass"),o.mainstay.tracer.value(o,"rule",e,f.value,s.name),e=f.value}return u.finalize(e,t,r)},u.rule=function(e,t){return e instanceof c.Report?(u.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[a.symbols.errors]?(e.forEach(e=>u.error(e,t)),{errors:e,value:null}):{errors:null,value:e}},u.error=function(e,t){return t.message&&e._setTemplate(t.message),e},u.finalize=function(e,t,r){t=t||[];const{schema:o,state:i,prefs:s}=r;if(t.length){const n=u.default("failover",void 0,t,r);void 0!==n&&(i.mainstay.tracer.value(i,"failover",e,n),e=n,t=[])}if(t.length&&o._flags.error)if("function"==typeof o._flags.error){t=o._flags.error(t),Array.isArray(t)||(t=[t]);for(const e of t)n(e instanceof Error||e instanceof c.Report,"error() must return an Error object")}else t=[o._flags.error];if(void 0===e){const n=u.default("default",e,t,r);i.mainstay.tracer.value(i,"default",e,n),e=n}if(o._flags.cast&&void 0!==e){const t=o._definition.cast[o._flags.cast];if(t.from(e)){const n=t.to(e,r);i.mainstay.tracer.value(i,"cast",e,n,o._flags.cast),e=n}}if(o.$_terms.externals&&s.externals&&!1!==s._externals)for(const{method:n}of o.$_terms.externals)i.mainstay.externals.push({method:n,schema:o,state:i,label:c.label(o._flags,i,s)});const a={value:e,errors:t.length?t:null};return o._flags.result&&(a.value="strip"===o._flags.result?void 0:r.original,i.mainstay.tracer.value(i,o._flags.result,e,a.value),i.shadow(e,o._flags.result)),o._cache&&!1!==s.cache&&!o._refs.length&&o._cache.set(r.original,a),void 0===e||a.errors||void 0===o._flags.artifact||(i.mainstay.artifacts=i.mainstay.artifacts||new Map,i.mainstay.artifacts.has(o._flags.artifact)||i.mainstay.artifacts.set(o._flags.artifact,[]),i.mainstay.artifacts.get(o._flags.artifact).push(i.path)),a},u.prefs=function(e,t){const r=t===a.defaults;return r&&e._preferences[a.symbols.prefs]?e._preferences[a.symbols.prefs]:(t=a.preferences(t,e._preferences),r&&(e._preferences[a.symbols.prefs]=t),t)},u.default=function(e,t,r,n){const{schema:i,state:s,prefs:c}=n,l=i._flags[e];if(c.noDefaults||void 0===l)return t;if(s.mainstay.tracer.log(i,s,"rule",e,"full"),!l)return l;if("function"==typeof l){const a=l.length?[o(s.ancestors[0]),n]:[];try{return l(...a)}catch(t){return void r.push(i.$_createError("any."+e,null,{error:t},s,c))}}return"object"!=typeof l?l:l[a.symbols.literal]?l.literal:a.isResolvable(l)?l.resolve(t,s,c):o(l)},u.trim=function(e,t){if("string"!=typeof e)return e;const r=t.$_getRule("trim");return r&&r.args.enabled?e.trim():e},u.ignore={active:!1,debug:i,entry:i,filter:i,log:i,resolve:i,value:i},u.errorsArray=function(){const e=[];return e[a.symbols.errors]=!0,e}},2036:(e,t,r)=>{const n=r(375),o=r(9474),i=r(8160),s={};e.exports=s.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=s.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){i.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,r){if(e=e||new s.Values,t){if(t._override)return t.clone();for(const r of[...t._values,...t._refs])e.add(r)}if(r)for(const n of[...r._values,...r._refs])e.remove(n);return e.length?e:null}remove(e){i.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}has(e,t,r,n){return!!this.get(e,t,r,n)}get(e,t,r,n){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&n){const t=this._lowercase.get(e.toLowerCase());if(t)return{value:t}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e)for(const i of this._values)if(o(i,e))return{value:i};if(t)for(const i of this._refs){const s=i.resolve(e,t,r,null,{in:!0});if(void 0===s)continue;const a=i.in&&"object"==typeof s?Array.isArray(s)?s:Object.keys(s):[s];for(const t of a)if(typeof t==typeof e)if(n&&e&&"string"==typeof e){if(t.toLowerCase()===e.toLowerCase())return{value:t,ref:i}}else if(o(t,e))return{value:t,ref:i}}return!1}override(){this._override=!0}values(e){if(e&&e.display){const e=[];for(const t of[...this._values,...this._refs])void 0!==t&&e.push(t);return e}return Array.from([...this._values,...this._refs])}clone(){const e=new s.Values(this._values,this._refs);return e._override=this._override,e}concat(e){n(!e._override,"Cannot concat override set of values");const t=new s.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){const e=[];this._override&&e.push({override:!0});for(const t of this._values.values())e.push(t&&"object"==typeof t?{value:t}:t);for(const t of this._refs.values())e.push(t.describe());return e}},s.Values.prototype[i.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(e){const t=new Map;if(e)for(const r of e)"string"==typeof r&&t.set(r.toLowerCase(),r);return t}},978:(e,t,r)=>{const n=r(375),o=r(8571),i=r(1687),s=r(9621),a={};e.exports=function(e,t,r={}){if(n(e&&"object"==typeof e,"Invalid defaults value: must be an object"),n(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),n("object"==typeof r,"Invalid options: must be an object"),!t)return null;if(r.shallow)return a.applyToDefaultsWithShallow(e,t,r);const s=o(e);if(!0===t)return s;const c=void 0!==r.nullOverride&&r.nullOverride;return i(s,t,{nullOverride:c,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(e,t,r){const c=r.shallow;n(Array.isArray(c),"Invalid keys");const l=new Map,u=!0===t?null:new Set;for(let n of c){n=Array.isArray(n)?n:n.split(".");const r=s(e,n);r&&"object"==typeof r?l.set(r,u&&s(t,n)||r):u&&u.add(n)}const d=o(e,{},l);if(!u)return d;for(const n of u)a.reachCopy(d,t,n);const f=void 0!==r.nullOverride&&r.nullOverride;return i(d,t,{nullOverride:f,mergeArrays:!1})},a.reachCopy=function(e,t,r){for(const i of r){if(!(i in t))return;const e=t[i];if("object"!=typeof e||null===e)return;t=e}const n=t;let o=e;for(let i=0;i<r.length-1;++i){const e=r[i];"object"!=typeof o[e]&&(o[e]={}),o=o[e]}o[r[r.length-1]]=n}},375:(e,t,r)=>{const n=r(7916);e.exports=function(e,...t){if(!e){if(1===t.length&&t[0]instanceof Error)throw t[0];throw new n(t)}}},8571:(e,t,r)=>{const n=r(9621),o=r(4277),i=r(7043),s={needsProtoHack:new Set([o.set,o.map,o.weakSet,o.weakMap])};e.exports=s.clone=function(e,t={},r=null){if("object"!=typeof e||null===e)return e;let n=s.clone,a=r;if(t.shallow){if(!0!==t.shallow)return s.cloneWithShallow(e,t);n=e=>e}else if(a){const t=a.get(e);if(t)return t}else a=new Map;const c=o.getInternalProto(e);if(c===o.buffer)return!1;if(c===o.date)return new Date(e.getTime());if(c===o.regex)return new RegExp(e);const l=s.base(e,c,t);if(l===e)return e;if(a&&a.set(e,l),c===o.set)for(const o of e)l.add(n(o,t,a));else if(c===o.map)for(const[o,i]of e)l.set(o,n(i,t,a));const u=i.keys(e,t);for(const i of u){if("__proto__"===i)continue;if(c===o.array&&"length"===i){l.length=e.length;continue}const r=Object.getOwnPropertyDescriptor(e,i);r?r.get||r.set?Object.defineProperty(l,i,r):r.enumerable?l[i]=n(e[i],t,a):Object.defineProperty(l,i,{enumerable:!1,writable:!0,configurable:!0,value:n(e[i],t,a)}):Object.defineProperty(l,i,{enumerable:!0,writable:!0,configurable:!0,value:n(e[i],t,a)})}return l},s.cloneWithShallow=function(e,t){const r=t.shallow;(t=Object.assign({},t)).shallow=!1;const o=new Map;for(const i of r){const t=n(e,i);"object"!=typeof t&&"function"!=typeof t||o.set(t,t)}return s.clone(e,t,o)},s.base=function(e,t,r){if(!1===r.prototype)return s.needsProtoHack.has(t)?new t.constructor:t===o.array?[]:{};const n=Object.getPrototypeOf(e);if(n&&n.isImmutable)return e;if(t===o.array){const e=[];return n!==t&&Object.setPrototypeOf(e,n),e}if(s.needsProtoHack.has(t)){const e=new n.constructor;return n!==t&&Object.setPrototypeOf(e,n),e}return Object.create(n)}},9474:(e,t,r)=>{const n=r(4277),o={mismatched:null};e.exports=function(e,t,r){return r=Object.assign({prototype:!0},r),!!o.isDeepEqual(e,t,r,[])},o.isDeepEqual=function(e,t,r,i){if(e===t)return 0!==e||1/e==1/t;const s=typeof e;if(s!==typeof t)return!1;if(null===e||null===t)return!1;if("function"===s){if(!r.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==s)return e!=e&&t!=t;const a=o.getSharedType(e,t,!!r.prototype);switch(a){case n.buffer:return!1;case n.promise:return e===t;case n.regex:return e.toString()===t.toString();case o.mismatched:return!1}for(let n=i.length-1;n>=0;--n)if(i[n].isSame(e,t))return!0;i.push(new o.SeenEntry(e,t));try{return!!o.isDeepEqualObj(a,e,t,r,i)}finally{i.pop()}},o.getSharedType=function(e,t,r){if(r)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?o.mismatched:n.getInternalProto(e);const i=n.getInternalProto(e);return i!==n.getInternalProto(t)?o.mismatched:i},o.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(e){return e}},o.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},o.isSetSimpleEqual=function(e,t){for(const r of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,r))return!1;return!0},o.isDeepEqualObj=function(e,t,r,i,s){const{isDeepEqual:a,valueOf:c,hasOwnEnumerableProperty:l}=o,{keys:u,getOwnPropertySymbols:d}=Object;if(e===n.array){if(!i.part){if(t.length!==r.length)return!1;for(let e=0;e<t.length;++e)if(!a(t[e],r[e],i,s))return!1;return!0}for(const e of t)for(const t of r)if(a(e,t,i,s))return!0}else if(e===n.set){if(t.size!==r.size)return!1;if(!o.isSetSimpleEqual(t,r)){const e=new Set(Set.prototype.values.call(r));for(const r of Set.prototype.values.call(t)){if(e.delete(r))continue;let t=!1;for(const n of e)if(a(r,n,i,s)){e.delete(n),t=!0;break}if(!t)return!1}}}else if(e===n.map){if(t.size!==r.size)return!1;for(const[e,n]of Map.prototype.entries.call(t)){if(void 0===n&&!Map.prototype.has.call(r,e))return!1;if(!a(n,Map.prototype.get.call(r,e),i,s))return!1}}else if(e===n.error&&(t.name!==r.name||t.message!==r.message))return!1;const f=c(t),p=c(r);if((t!==f||r!==p)&&!a(f,p,i,s))return!1;const h=u(t);if(!i.part&&h.length!==u(r).length&&!i.skip)return!1;let m=0;for(const n of h)if(i.skip&&i.skip.includes(n))void 0===r[n]&&++m;else{if(!l(r,n))return!1;if(!a(t[n],r[n],i,s))return!1}if(!i.part&&h.length-m!==u(r).length)return!1;if(!1!==i.symbols){const e=d(t),n=new Set(d(r));for(const o of e){if(!i.skip||!i.skip.includes(o))if(l(t,o)){if(!l(r,o))return!1;if(!a(t[o],r[o],i,s))return!1}else if(l(r,o))return!1;n.delete(o)}for(const t of n)if(l(r,t))return!1}return!0},o.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},7916:(e,t,r)=>{const n=r(8761);e.exports=class extends Error{constructor(e){super(e.filter(e=>""!==e).map(e=>"string"==typeof e?e:e instanceof Error?e.message:n(e)).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},5277:e=>{const t={};e.exports=function(e){if(!e)return"";let r="";for(let n=0;n<e.length;++n){const o=e.charCodeAt(n);t.isSafe(o)?r+=e[n]:r+=t.escapeHtmlChar(o)}return r},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":`&#x${e.toString(16).padStart(2,"0")};`)},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){const e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:e=>{e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:e=>{e.exports=function(){}},1687:(e,t,r)=>{const n=r(375),o=r(8571),i=r(7043),s={};e.exports=s.merge=function(e,t,r){if(n(e&&"object"==typeof e,"Invalid target value: must be an object"),n(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(r=Object.assign({nullOverride:!0,mergeArrays:!0},r),Array.isArray(t)){n(Array.isArray(e),"Cannot merge array onto an object"),r.mergeArrays||(e.length=0);for(let n=0;n<t.length;++n)e.push(o(t[n],{symbols:r.symbols}));return e}const a=i.keys(t,r);for(let n=0;n<a.length;++n){const i=a[n];if("__proto__"===i||!Object.prototype.propertyIsEnumerable.call(t,i))continue;const c=t[i];if(c&&"object"==typeof c){if(e[i]===c)continue;!e[i]||"object"!=typeof e[i]||Array.isArray(e[i])!==Array.isArray(c)||c instanceof Date||c instanceof RegExp?e[i]=o(c,{symbols:r.symbols}):s.merge(e[i],c,r)}else(null!=c||r.nullOverride)&&(e[i]=c)}return e}},9621:(e,t,r)=>{const n=r(375),o={};e.exports=function(e,t,r){if(!1===t||null==t)return e;"string"==typeof(r=r||{})&&(r={separator:r});const i=Array.isArray(t);n(!i||!r.separator,"Separator option is not valid for array-based chain");const s=i?t:t.split(r.separator||".");let a=e;for(let c=0;c<s.length;++c){let e=s[c];const i=r.iterables&&o.iterables(a);if(Array.isArray(a)||"set"===i){const t=Number(e);Number.isInteger(t)&&(e=t<0?a.length+t:t)}if(!a||"function"==typeof a&&!1===r.functions||!i&&void 0===a[e]){n(!r.strict||c+1===s.length,"Missing segment",e,"in reach path ",t),n("object"==typeof a||!0===r.functions||"function"!=typeof a,"Invalid segment",e,"in reach path ",t),a=r.default;break}a=i?"set"===i?[...a][e]:a.get(e):a[e]}return a},o.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:e=>{e.exports=function(...e){try{return JSON.stringify(...e)}catch(e){return"[Cannot display object: "+e.message+"]"}}},4277:(e,t)=>{const r={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},r.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const n=Object.prototype.toString.call(e);return r.typeMap.get(n)||t.generic}},7043:(e,t)=>{t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:(e,t,r)=>{const n=r(375),o={};t.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const r=[].concat((t=t||{}).before||[]),o=[].concat(t.after||[]),i=t.group||"?",s=t.sort||0;n(!r.includes(i),"Item cannot come before itself: "+i),n(!r.includes("?"),"Item cannot come before unassociated items"),n(!o.includes(i),"Item cannot come after itself: "+i),n(!o.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const n of e){const e={seq:this._items.length,sort:s,before:r,after:o,group:i,node:n};this._items.push(e)}if(!t.manual){const e=this._sort();n(e,"item","?"!==i?"added into group "+i:"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const r of e)if(r)for(const e of r._items)this._items.push(Object.assign({},e));this._items.sort(o.mergeSort);for(let r=0;r<this._items.length;++r)this._items[r].seq=r;const t=this._sort();return n(t,"merge created a dependencies error"),this.nodes}sort(){const e=this._sort();return n(e,"sort created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),r=Object.create(null);for(const a of this._items){const n=a.seq,o=a.group;r[o]=r[o]||[],r[o].push(n),e[n]=a.before;for(const e of a.after)t[e]=t[e]||[],t[e].push(n)}for(const a in e){const t=[];for(const n in e[a]){const o=e[a][n];r[o]=r[o]||[],t.push(...r[o])}e[a]=t}for(const a in t)if(r[a])for(const n of r[a])e[n].push(...t[a]);const n={};for(const a in e){const t=e[a];for(const e of t)n[e]=n[e]||[],n[e].push(a)}const o={},i=[];for(let a=0;a<this._items.length;++a){let e=a;if(n[a]){e=null;for(let t=0;t<this._items.length;++t){if(!0===o[t])continue;n[t]||(n[t]=[]);const r=n[t].length;let i=0;for(let e=0;e<r;++e)o[n[t][e]]&&++i;if(i===r){e=t;break}}}null!==e&&(o[e]=!0,i.push(e))}if(i.length!==this._items.length)return!1;const s={};for(const a of this._items)s[a.seq]=a;this._items=[],this.nodes=[];for(const a of i){const e=s[a];this.nodes.push(e.node),this._items.push(e)}return!0}},o.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},5380:(e,t,r)=>{const n=r(443),o=r(2178),i={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:n.URL||URL};t.analyze=function(e,t={}){if(!e)return o.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return o.code("DOMAIN_TOO_LONG");if(i.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return o.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(i.domainControlRx.test(e))return o.code("DOMAIN_INVALID_CHARS");e=i.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));const r=t.minDomainSegments||i.minDomainSegments,n=e.split(".");if(n.length<r)return o.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&n.length>t.maxDomainSegments)return o.code("DOMAIN_SEGMENTS_COUNT_MAX");const s=t.tlds;if(s){const e=n[n.length-1].toLowerCase();if(s.deny&&s.deny.has(e)||s.allow&&!s.allow.has(e))return o.code("DOMAIN_FORBIDDEN_TLDS")}for(let a=0;a<n.length;++a){const e=n[a];if(!e.length)return o.code("DOMAIN_EMPTY_SEGMENT");if(e.length>63)return o.code("DOMAIN_LONG_SEGMENT");if(a<n.length-1){if(!i.domainSegmentRx.test(e))return o.code("DOMAIN_INVALID_CHARS")}else if(!i.tldSegmentRx.test(e))return o.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,r){return!t.analyze(e,r)},i.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new i.URL("http://"+e).host}catch(t){return e}}},1745:(e,t,r)=>{const n=r(9848),o=r(5380),i=r(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(n.TextEncoder||TextEncoder)};t.analyze=function(e,t){return s.email(e,t)},t.isValid=function(e,t){return!s.email(e,t)},s.email=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return i.code("EMPTY_STRING");const r=!s.nonAsciiRx.test(e);if(!r){if(!1===t.allowUnicode)return i.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}const n=e.split("@");if(2!==n.length)return n.length>2?i.code("MULTIPLE_AT_CHAR"):i.code("MISSING_AT_CHAR");const[a,c]=n;if(!a)return i.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return i.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return i.code("LOCAL_TOO_LONG")}return s.local(a,r)||o.analyze(c,t)},s.local=function(e,t){const r=e.split(".");for(const n of r){if(!n.length)return i.code("EMPTY_LOCAL_SEGMENT");if(t){if(!s.atextRx.test(n))return i.code("INVALID_LOCAL_CHARS")}else for(const e of n){if(s.atextRx.test(e))continue;const t=s.binary(e);if(!s.atomRx.test(t))return i.code("INVALID_LOCAL_CHARS")}}},s.binary=function(e){return Array.from(s.encoder.encode(e)).map(e=>String.fromCharCode(e)).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(e,t)=>{t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:(e,t,r)=>{const n=r(375),o=r(5752);t.regex=function(e={}){n(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");const t=e.cidr?e.cidr.toLowerCase():"optional";n(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),n(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");let r=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(r)||(r=[r]),n(r.length>=1,"options.version must have at least 1 version specified");for(let o=0;o<r.length;++o)n("string"==typeof r[o],"options.version must only contain strings"),r[o]=r[o].toLowerCase(),n(["ipv4","ipv6","ipvfuture"].includes(r[o]),"options.version contains unknown version "+r[o]+" - must be one of ipv4, ipv6, ipvfuture");r=Array.from(new Set(r));const i=`(?:${r.map(e=>{if("forbidden"===t)return o.ip[e];const r="\\/"+("ipv4"===e?o.ip.v4Cidr:o.ip.v6Cidr);return"required"===t?`${o.ip[e]}${r}`:`${o.ip[e]}(?:${r})?`}).join("|")})`,s=new RegExp(`^${i}$`);return{cidr:t,versions:r,regex:s,raw:i}}},5752:(e,t,r)=>{const n=r(375),o=r(6064),i={generate:function(){const e={},t="\\dA-Fa-f",r="["+t+"]",n="\\w-\\.~",o="!\\$&'\\(\\)\\*\\+,;=",i="%"+t,s=n+i+o+":@",a="["+s+"]",c="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+c+"\\.){3}"+c;const l=r+"{1,4}",u="(?:"+l+":"+l+"|"+e.ipv4address+")",d="(?:"+l+":){6}"+u,f="::(?:"+l+":){5}"+u,p="(?:"+l+")?::(?:"+l+":){4}"+u,h="(?:(?:"+l+":){0,1}"+l+")?::(?:"+l+":){3}"+u,m="(?:(?:"+l+":){0,2}"+l+")?::(?:"+l+":){2}"+u,g="(?:(?:"+l+":){0,3}"+l+")?::"+l+":"+u,v="(?:(?:"+l+":){0,4}"+l+")?::"+u,b="(?:(?:"+l+":){0,5}"+l+")?::"+l,y="(?:(?:"+l+":){0,6}"+l+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+d+"|"+f+"|"+p+"|"+h+"|"+m+"|"+g+"|"+v+"|"+b+"|"+y+")",e.ipvFuture="v"+r+"+\\.["+n+o+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);const w="["+n+i+o+":]*",S="["+n+i+o+"]{1,255}",O="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+S+")",x="(?:"+w+"@)?"+O+"(?::\\d*)?",E="(?:"+w+"@)?("+O+")(?::\\d*)?",_=a+"*",j=a+"+",C="(?:\\/"+_+")*",k="\\/(?:"+j+C+")?",I=j+C,T="["+n+i+o+"@]+"+C,P="(?:\\/\\/\\/"+_+C+")";return e.hierPart="(?:(?:\\/\\/"+x+C+")|"+k+"|"+I+"|"+P+")",e.hierPartCapture="(?:(?:\\/\\/"+E+C+")|"+k+"|"+I+")",e.relativeRef="(?:(?:\\/\\/"+x+C+")|"+k+"|"+T+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+E+C+")|"+k+"|"+T+"|)",e.query="["+s+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+s+"\\/\\?]*",e}};i.rfc3986=i.generate(),t.ip={v4Cidr:i.rfc3986.ipv4Cidr,v6Cidr:i.rfc3986.ipv6Cidr,ipv4:i.rfc3986.ipv4address,ipv6:i.rfc3986.ipv6address,ipvfuture:i.rfc3986.ipvFuture},i.createRegex=function(e){const t=i.rfc3986,r="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return i.wrap(s+r);let a="";if(e.scheme){n(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");const r=[].concat(e.scheme);n(r.length>=1,"scheme must have at least 1 scheme specified");const i=[];for(let e=0;e<r.length;++e){const s=r[e];n(s instanceof RegExp||"string"==typeof s,"scheme at position "+e+" must be a RegExp or String"),s instanceof RegExp?i.push(s.source.toString()):(n(t.schemeRegex.test(s),"scheme at position "+e+" must be a valid scheme"),i.push(o(s)))}a=i.join("|")}const c="(?:"+(a?"(?:"+a+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",l=e.allowRelative?"(?:"+c+"|"+s+")":c;return i.wrap(l+r,a)},i.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])"+e,regex:new RegExp(`^${e}$`),scheme:t}},i.uriRegex=i.createRegex({}),t.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?i.createRegex(e):i.uriRegex}},1447:(e,t)=>{const r={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=class{constructor(e,t={}){if(!t[r.settings]&&t.constants)for(const r in t.constants){const e=t.constants[r];if(null!==e&&!["boolean","number","string"].includes(typeof e))throw new Error(`Formula constant ${r} contains invalid ${typeof e} value type`)}this.settings=t[r.settings]?t:Object.assign({[r.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let n=[],o="",i=0,s=!1;const a=e=>{if(i)throw new Error("Formula missing closing parenthesis");const a=n.length?n[n.length-1]:null;if(s||o||e){if(a&&"reference"===a.type&&")"===e)return a.type="function",a.value=this._subFormula(o,a.value),void(o="");if(")"===e){const e=new t.Parser(o,this.settings);n.push({type:"segment",value:e})}else if(s){if("]"===s)return n.push({type:"reference",value:o}),void(o="");n.push({type:"literal",value:o})}else if(r.operatorCharacters.includes(o))a&&"operator"===a.type&&r.operators.includes(a.value+o)?a.value+=o:n.push({type:"operator",value:o});else if(o.match(r.numberRx))n.push({type:"constant",value:parseFloat(o)});else if(void 0!==this.settings.constants[o])n.push({type:"constant",value:this.settings.constants[o]});else{if(!o.match(r.tokenRx))throw new Error("Formula contains invalid token: "+o);n.push({type:"reference",value:o})}o=""}};for(const t of e)s?t===s?(a(),s=!1):o+=t:i?"("===t?(o+=t,++i):")"===t?(--i,i?o+=t:a(t)):o+=t:t in r.literals?s=r.literals[t]:"("===t?(a(),++i):r.operatorCharacters.includes(t)?(a(),o=t,a()):" "!==t?o+=t:a();a(),n=n.map((e,t)=>"operator"!==e.type||"-"!==e.value||t&&"operator"!==n[t-1].type?e:{type:"operator",value:"n"});let c=!1;for(const t of n){if("operator"===t.type){if(r.operatorsPrefix.includes(t.value))continue;if(!c)throw new Error("Formula contains an operator in invalid position");if(!r.operators.includes(t.value))throw new Error("Formula contains an unknown operator "+t.value)}else if(c)throw new Error("Formula missing expected operator");c=!c}if(!c)throw new Error("Formula contains invalid trailing operator");1===n.length&&["reference","literal","constant"].includes(n[0].type)&&(this.single={type:"reference"===n[0].type?"reference":"value",value:n[0].value}),this._parts=n.map(e=>{if("operator"===e.type)return r.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference "+e.value);return this.settings.reference?this.settings.reference(e.value):r.reference(e.value)})}_subFormula(e,n){const o=this.settings.functions[n];if("function"!=typeof o)throw new Error("Formula contains unknown function "+n);let i=[];if(e){let t="",o=0,s=!1;const a=()=>{if(!t)throw new Error(`Formula contains function ${n} with invalid arguments ${e}`);i.push(t),t=""};for(let n=0;n<e.length;++n){const i=e[n];s?(t+=i,i===s&&(s=!1)):i in r.literals&&!o?(t+=i,s=r.literals[i]):","!==i||o?(t+=i,"("===i?++o:")"===i&&--o):a()}a()}return i=i.map(e=>new t.Parser(e,this.settings)),function(e){const t=[];for(const r of i)t.push(r.evaluate(e));return o.call(e,...t)}}evaluate(e){const t=this._parts.slice();for(let n=t.length-2;n>=0;--n){const o=t[n];if(o&&"operator"===o.type){const i=t[n+1];t.splice(n+1,1);const s=r.evaluate(i,e);t[n]=r.single(o.value,s)}}return r.operatorsOrder.forEach(n=>{for(let o=1;o<t.length-1;)if(n.includes(t[o])){const n=t[o],i=r.evaluate(t[o-1],e),s=r.evaluate(t[o+1],e);t.splice(o,2);const a=r.calculate(n,i,s);t[o-1]=0===a?0:a}else o+=2}),r.evaluate(t[0],e)}},t.Parser.prototype[r.symbol]=!0,r.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},r.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[r.symbol]?e.evaluate(t):e},r.single=function(e,t){if("!"===e)return!t;const r=-t;return 0===r?0:r},r.calculate=function(e,t,n){if("??"===e)return r.exists(t)?t:n;if("string"==typeof t||"string"==typeof n){if("+"===e)return(t=r.exists(t)?t:"")+(r.exists(n)?n:"")}else switch(e){case"^":return Math.pow(t,n);case"*":return t*n;case"/":return t/n;case"%":return t%n;case"+":return t+n;case"-":return t-n}switch(e){case"<":return t<n;case"<=":return t<=n;case">":return t>n;case">=":return t>=n;case"==":return t===n;case"!=":return t!==n;case"&&":return t&&n;case"||":return t||n}return null},r.exists=function(e){return null!=e}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:e=>{e.exports=JSON.parse('{"version":"17.12.0"}')}},t={},function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}(5107);var e,t})}));let wd;class Sd extends Ma{constructor(e,t,r,n){if(super(),wd=r,!e)throw wd.error("Stream Name is required to construct this module."),new Error("Stream Name is required to construct this module.");if(!t)throw wd.error("Token generator is required to construct this module."),new Error("Token generator is required to construct this module.");this.webRTCPeer=new Mu,this.signaling=null,this.streamName=e,this.autoReconnect=n,this.reconnectionInterval=1e3,this.alreadyDisconnected=!1,this.firstReconnection=!0,this.stopReconnection=!1,this.isReconnecting=!1,this.tokenGenerator=t,this.options=null}getRTCPeerConnection(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null}stop(){var e;wd.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null===(e=this.signaling)||void 0===e||e.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new Mu}isActive(){const e=this.webRTCPeer.getRTCPeerStatus();return wd.info("Broadcast status: ",e||"not_established"),"connected"===e}setReconnect(){this.signaling.on("migrate",()=>this.replaceConnection()),this.autoReconnect&&(this.signaling.on(Xu,()=>{!this.firstReconnection&&this.alreadyDisconnected||(this.firstReconnection=!1,this.reconnect({error:new Error("Signaling error: wsConnectionError")}))}),this.webRTCPeer.on(Lu.connectionStateChange,e=>{Rn.setConnectionState(e),("failed"===e||"disconnected"===e&&this.alreadyDisconnected)&&this.firstReconnection?(this.firstReconnection=!1,this.reconnect({error:new Error("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===e?(this.alreadyDisconnected=!0,setTimeout(()=>this.reconnect({error:new Error("Connection state change: RTCPeerConnectionState disconnected")}),1500)):this.alreadyDisconnected=!1}))}async reconnect(e){try{wd.info("Attempting to reconnect..."),this.isActive()||this.stopReconnection||this.isReconnecting||(this.stop(),this.emit("reconnect",{timeout:Od(this.reconnectionInterval),error:null!=e&&e.error?null==e?void 0:e.error:new Error("Attempting to reconnect")}),this.isReconnecting=!0,await this.connect(this.options),this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0,this.isReconnecting=!1)}catch(e){this.isReconnecting=!1,this.reconnectionInterval=Od(this.reconnectionInterval),wd.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),e),setTimeout(()=>this.reconnect({error:e}),this.reconnectionInterval)}}}const Od=e=>e<32e3?2*e:e;function xd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?xd(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const _d=qn.get("Publish"),jd={mediaStream:null,bandwidth:0,disableVideo:!1,disableAudio:!1,codec:Pu.H264,simulcast:!1,scalabilityMode:null,peerConfig:{}};function Cd(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function kd(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Cd(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Cd(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}const Id=qn.get("View"),Td={disableVideo:!1,disableAudio:!1,peerConfig:{}};t.Director=ud,t.Logger=qn,t.PeerConnection=Mu,t.Publish=class extends Sd{constructor(e,t){super(e,t,_d,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jd;const t=yd.object({sourceId:yd.string(),stereo:yd.boolean(),dtx:yd.boolean(),absCaptureTime:yd.boolean(),dependencyDescriptor:yd.boolean(),mediaStream:yd.alternatives().try(yd.array().items(yd.object()),yd.object()),bandwidth:yd.number(),disableVideo:yd.boolean(),disableAudio:yd.boolean(),codec:yd.string().valid(...Object.values(Pu)),simulcast:yd.boolean(),scalabilityMode:yd.string(),peerConfig:yd.object(),record:yd.boolean(),events:yd.array().items(yd.string().valid("active","inactive","viewercount")),priority:yd.number()}),{error:r,value:n}=t.validate(e);r&&_d.warn(r,n),this.options=Ed(Ed(Ed({},jd),e),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async reconnect(e){var t,r;this.options.mediaStream=null!==(t=null===(r=this.webRTCPeer)||void 0===r?void 0:r.getTracks())&&void 0!==t?t:this.options.mediaStream,super.reconnect(e)}async replaceConnection(){var e,t;_d.info("Migrating current connection"),this.options.mediaStream=null!==(e=null===(t=this.webRTCPeer)||void 0===t?void 0:t.getTracks())&&void 0!==e?e:this.options.mediaStream,await this.initConnection({migrate:!0})}async record(){var e;this.recordingAvailable?(this.options.record=!0,await(null===(e=this.signaling)||void 0===e?void 0:e.cmd("record")),_d.info("Broadcaster start recording")):_d.error("Record not available")}async unrecord(){var e;this.recordingAvailable?(this.options.record=!1,await(null===(e=this.signaling)||void 0===e?void 0:e.cmd("unrecord")),_d.info("Broadcaster stop recording")):_d.error("Unrecord not available")}async initConnection(e){var t,r;let n,o;if(_d.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,!this.options.mediaStream)throw _d.error("Error while broadcasting. MediaStream required"),new Error("MediaStream required");if(!e.migrate&&this.isActive())throw _d.warn("Broadcast currently working"),new Error("Broadcast currently working");try{var i;o=await this.tokenGenerator(),this.options.peerConfig.iceServers=null===(i=o)||void 0===i?void 0:i.iceServers}catch(e){throw _d.error("Error generating token."),e instanceof nd&&(401!==e.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),e}if(!o)throw _d.error("Error while broadcasting. Publisher data required"),new Error("Publisher data required");if(this.recordingAvailable=function(e,t){if("string"!=typeof e)throw new vd("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(gd(e.split(".")[r]))}catch(e){throw new vd("Invalid token specified: "+e.message)}}(o.jwt)[bd.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw _d.error("Error while broadcasting. Record option detected but recording is not available"),new Error("Record option detected but recording is not available");const s=new ed({streamName:this.streamName,url:"".concat(o.urls[0],"?token=").concat(o.jwt)}),a=e.migrate?new Mu:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null===(t=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===t||t.call(this),null===(r=this.stopReemitingSignalingInstanceEvents)||void 0===r||r.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Ka(a,this,[Lu.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=Ka(s,this,[Zu]);const c=a.getRTCLocalSDP(this.options),l=s.connect();n=await Promise.all([c,l]);const u=n[0];let d=this.signaling;this.signaling=s;const f=this.signaling.publish(u,this.options),p=a.peer.setLocalDescription(a.sessionDescription);n=await Promise.all([f,p]);let h=n[0];!this.options.disableVideo&&this.options.bandwidth>0&&(h=a.updateBandwidthRestriction(h,this.options.bandwidth)),await a.setRTCRemoteSDP(h),_d.info("Broadcasting to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(Lu.connectionStateChange,e=>{var t,r,n,o;["connected","disconnected","failed","closed"].includes(e)&&(null===(t=d)||void 0===t||null===(r=t.close)||void 0===r||r.call(t),null===(n=m)||void 0===n||null===(o=n.closeRTCPeer)||void 0===o||o.call(n),d=m=null)})}},t.Signaling=ed,t.View=class extends Sd{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,Id,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),r&&this.on(Lu.track,e=>{r.srcObject=e.streams[0]})}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Td;this.options=kd(kd(kd({},Td),e),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async select(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Id.debug("Viewer select layer values: ",e),await this.signaling.cmd("select",{layer:e}),Id.info("Connected to streamName: ",this.streamName)}async addRemoteTrack(e,t){return Id.info("Viewer adding remote % track",e),this.webRTCPeer.addRemoteTrack(e,t)}async project(e,t){for(const r of t){if(!r.trackId&&!r.media)throw Id.error("Error in projection mapping, trackId or mediaId must be set"),new Error("Error in projection mapping, trackId or mediaId must be set");const e=this.webRTCPeer.getRTCPeer();if(r.mediaId&&!e.getTransceivers().find(e=>e.mid===r.mediaId.toString()))throw Id.error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers")),new Error("Error in projection mapping, ".concat(r.mediaId," mid not found in local transceivers"))}Id.debug("Viewer project source: layer mappings: ",e,t),await this.signaling.cmd("project",{sourceId:e,mapping:t}),Id.info("Projection done")}async unproject(e){Id.debug("Viewer unproject mediaIds: ",e),await this.signaling.cmd("unproject",{mediaIds:e}),Id.info("Unprojection done")}async replaceConnection(){Id.info("Migrating current connection"),await this.initConnection({migrate:!0})}async initConnection(e){var t,r;let n,o;if(Id.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,!e.migrate&&this.isActive())throw Id.warn("Viewer currently subscribed"),new Error("Viewer currently subscribed");try{var i;o=await this.tokenGenerator(),this.options.peerConfig.iceServers=null===(i=o)||void 0===i?void 0:i.iceServers}catch(e){throw Id.error("Error generating token."),e instanceof nd&&(401!==e.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),e}if(!o)throw Id.error("Error while subscribing. Subscriber data required"),new Error("Subscriber data required");const s=new ed({streamName:this.streamName,url:"".concat(o.urls[0],"?token=").concat(o.jwt)}),a=e.migrate?new Mu:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null===(t=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===t||t.call(this),null===(r=this.stopReemitingSignalingInstanceEvents)||void 0===r||r.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Ka(a,this,Object.values(Lu)),this.stopReemitingSignalingInstanceEvents=Ka(s,this,[Zu]);const c=a.getRTCLocalSDP(kd(kd({},this.options),{},{stereo:!0})),l=s.connect();n=await Promise.all([c,l]);const u=n[0];let d=this.signaling;this.signaling=s;const f=this.signaling.subscribe(u,kd(kd({},this.options),{},{vad:this.options.multiplexedAudioTracks>0})),p=a.peer.setLocalDescription(a.sessionDescription);n=await Promise.all([f,p]);const h=n[0];await a.setRTCRemoteSDP(h),Id.info("Connected to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(Lu.connectionStateChange,e=>{if("connected"===e)setTimeout(()=>{var e,t,r,n;null===(e=d)||void 0===e||null===(t=e.close)||void 0===t||t.call(e),null===(r=m)||void 0===r||null===(n=r.closeRTCPeer)||void 0===n||n.call(r),d=m=null,Id.info("Current connection migrated")},1e3);else if(["disconnected","failed","closed"].includes(e)){var t,r,n,o;null===(t=d)||void 0===t||null===(r=t.close)||void 0===r||r.call(t),null===(n=m)||void 0===n||null===(o=n.closeRTCPeer)||void 0===o||o.call(n),d=m=null}})}},Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,r("c8ba"),r("4362"))},e01a:function(e,t,r){"use strict";var n=r("23e7"),o=r("83ab"),i=r("da84"),s=r("e330"),a=r("1a2d"),c=r("1626"),l=r("3a9b"),u=r("577e"),d=r("edd0"),f=r("e893"),p=i.Symbol,h=p&&p.prototype;if(o&&c(p)&&(!("description"in h)||void 0!==p().description)){var m={},g=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};f(g,p),g.prototype=h,h.constructor=g;var v="Symbol(description detection)"===String(p("description detection")),b=s(h.valueOf),y=s(h.toString),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),O=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=b(this);if(a(m,e))return"";var t=y(e),r=v?O(t,7,-1):S(t,w,"$1");return""===r?void 0:r}}),n({global:!0,constructor:!0,forced:!0},{Symbol:g})}},e065:function(e,t,r){"use strict";var n=r("428f"),o=r("1a2d"),i=r("e538"),s=r("9bf2").f;e.exports=function(e){var t=n.Symbol||(n.Symbol={});o(t,e)||s(t,e,{value:i.f(e)})}},e163:function(e,t,r){"use strict";var n=r("1a2d"),o=r("1626"),i=r("7b0b"),s=r("f772"),a=r("e177"),c=s("IE_PROTO"),l=Object,u=l.prototype;e.exports=a?l.getPrototypeOf:function(e){var t=i(e);if(n(t,c))return t[c];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof l?u:null}},e177:function(e,t,r){"use strict";var n=r("d039");e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e25e:function(e,t,r){"use strict";var n=r("23e7"),o=r("c20d");n({global:!0,forced:parseInt!==o},{parseInt:o})},e260:function(e,t,r){"use strict";var n=r("fc6a"),o=r("44d2"),i=r("3f8c"),s=r("69f3"),a=r("9bf2").f,c=r("c6d2"),l=r("4754"),u=r("c430"),d=r("83ab"),f="Array Iterator",p=s.set,h=s.getterFor(f);e.exports=c(Array,"Array",(function(e,t){p(this,{type:f,target:n(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,r=e.index++;if(!t||r>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(r,!1);case"values":return l(t[r],!1)}return l([r,t[r]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!u&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(g){}},e267:function(e,t,r){"use strict";var n=r("e330"),o=r("e8b5"),i=r("1626"),s=r("c6b6"),a=r("577e"),c=n([].push);e.exports=function(e){if(i(e))return e;if(o(e)){for(var t=e.length,r=[],n=0;n<t;n++){var l=e[n];"string"==typeof l?c(r,l):"number"!=typeof l&&"Number"!==s(l)&&"String"!==s(l)||c(r,a(l))}var u=r.length,d=!0;return function(e,t){if(d)return d=!1,t;if(o(this))return t;for(var n=0;n<u;n++)if(r[n]===e)return t}}}},e330:function(e,t,r){"use strict";var n=r("40d5"),o=Function.prototype,i=o.call,s=n&&o.bind.bind(i,i);e.exports=n?s:function(e){return function(){return i.apply(e,arguments)}}},e391:function(e,t,r){"use strict";var n=r("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},e444:function(e,t,r){},e4ca:function(e,t,r){},e538:function(e,t,r){"use strict";var n=r("b622");t.f=n},e5cb:function(e,t,r){"use strict";var n=r("d066"),o=r("1a2d"),i=r("9112"),s=r("3a9b"),a=r("d2bb"),c=r("e893"),l=r("aeb0"),u=r("7156"),d=r("e391"),f=r("ab36"),p=r("6f19"),h=r("83ab"),m=r("c430");e.exports=function(e,t,r,g){var v="stackTraceLimit",b=g?2:1,y=e.split("."),w=y[y.length-1],S=n.apply(null,y);if(S){var O=S.prototype;if(!m&&o(O,"cause")&&delete O.cause,!r)return S;var x=n("Error"),E=t((function(e,t){var r=d(g?t:e,void 0),n=g?new S(e):new S;return void 0!==r&&i(n,"message",r),p(n,E,n.stack,2),this&&s(O,this)&&u(n,this,E),arguments.length>b&&f(n,arguments[b]),n}));if(E.prototype=O,"Error"!==w?a?a(E,x):c(E,x,{name:!0}):h&&v in S&&(l(E,S,v),l(E,S,"prepareStackTrace")),c(E,S),!m)try{O.name!==w&&i(O,"name",w),O.constructor=E}catch(_){}return E}}},e667:function(e,t,r){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,r){"use strict";r("5e7e"),r("14e5"),r("cc98"),r("3529"),r("f22b"),r("7149")},e893:function(e,t,r){"use strict";var n=r("1a2d"),o=r("56ef"),i=r("06cf"),s=r("9bf2");e.exports=function(e,t,r){for(var a=o(t),c=s.f,l=i.f,u=0;u<a.length;u++){var d=a[u];n(e,d)||r&&n(r,d)||c(e,d,l(t,d))}}},e8b5:function(e,t,r){"use strict";var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"===n(e)}},e95a:function(e,t,r){"use strict";var n=r("b622"),o=r("3f8c"),i=n("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},e9c4:function(e,t,r){"use strict";var n=r("23e7"),o=r("d066"),i=r("2ba4"),s=r("c65b"),a=r("e330"),c=r("d039"),l=r("1626"),u=r("d9b5"),d=r("f36a"),f=r("e267"),p=r("04f8"),h=String,m=o("JSON","stringify"),g=a(/./.exec),v=a("".charAt),b=a("".charCodeAt),y=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,E=!p||c((function(){var e=o("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),_=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),j=function(e,t){var r=d(arguments),n=f(t);if(l(n)||void 0!==e&&!u(e))return r[1]=function(e,t){if(l(n)&&(t=s(n,this,h(e),t)),!u(t))return t},i(m,null,r)},C=function(e,t,r){var n=v(r,t-1),o=v(r,t+1);return g(O,e)&&!g(x,o)||g(x,e)&&!g(O,n)?"\\u"+w(b(e,0),16):e};m&&n({target:"JSON",stat:!0,arity:3,forced:E||_},{stringify:function(e,t,r){var n=d(arguments),o=i(E?j:m,null,n);return _&&"string"==typeof o?y(o,S,C):o}})},eb1d:function(e,t,r){"use strict";var n=r("c430"),o=r("da84"),i=r("d039"),s=r("512c");e.exports=n||!i((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}}))},edd0:function(e,t,r){"use strict";var n=r("13d2"),o=r("9bf2");e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},efec:function(e,t,r){"use strict";var n=r("1a2d"),o=r("cb2d"),i=r("51eb"),s=r("b622"),a=s("toPrimitive"),c=Date.prototype;n(c,a)||o(c,a,i)},f069:function(e,t,r){"use strict";var n=r("59ed"),o=TypeError,i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw new o("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},f22b:function(e,t,r){"use strict";var n=r("23e7"),o=r("f069"),i=r("4738").CONSTRUCTOR;n({target:"Promise",stat:!0,forced:i},{reject:function(e){var t=o.f(this),r=t.reject;return r(e),t.promise}})},f36a:function(e,t,r){"use strict";var n=r("e330");e.exports=n([].slice)},f45e:function(e,t,r){},f5b2:function(e,t,r){"use strict";var n=r("23e7"),o=r("6547").codeAt;n({target:"String",proto:!0},{codePointAt:function(e){return o(this,e)}})},f5df:function(e,t,r){"use strict";var n=r("00ee"),o=r("1626"),i=r("c6b6"),s=r("b622"),a=s("toStringTag"),c=Object,l="Arguments"===i(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(r){}};e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=u(t=c(e),a))?r:l?i(t):"Object"===(n=i(t))&&o(t.callee)?"Arguments":n}},f772:function(e,t,r){"use strict";var n=r("5692"),o=r("90e3"),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,r){"use strict";if(r.r(t),"undefined"!==typeof window){var n=window.document.currentScript,o=n&&n.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(r.p=o[1])}r("4de4"),r("d3b7");var i=r("8bbf");function s(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("VideoPlayerContainer");return Object(i["openBlock"])(),Object(i["createBlock"])(a,{class:"ml-viewer",id:"viewer-container"})}r("a4d3"),r("e01a"),r("b636"),r("d28b"),r("944a"),r("d9e2"),r("d401"),r("4160"),r("e260"),r("14d9"),r("26e9"),r("fb6a"),r("0c47"),r("23dc"),r("3410"),r("131a"),r("e6cf"),r("3ca3"),r("159b"),r("ddb0");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
c=function(){return t};var e,t={},r=Object.prototype,n=r.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function d(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new A(n||[]);return o(s,"_invoke",{value:k(e,r,a)}),s}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",g="executing",v="completed",b={};function y(){}function w(){}function S(){}var O={};d(O,s,(function(){return this}));var x=Object.getPrototypeOf,E=x&&x(x(R([])));E&&E!==r&&n.call(E,s)&&(O=E);var _=S.prototype=y.prototype=Object.create(O);function j(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function r(o,i,s,c){var l=p(e[o],e,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,s,c)}),(function(e){r("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return r("throw",e,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){r(e,n,t,o)}))}return i=i?i.then(o,o):o()}})}function k(t,r,n){var o=h;return function(i,s){if(o===g)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw s;return{value:e,done:!0}}for(n.method=i,n.arg=s;;){var a=n.delegate;if(a){var c=I(a,n);if(c){if(c===b)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===h)throw o=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var l=p(t,r,n);if("normal"===l.type){if(o=n.done?v:m,l.arg===b)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(o=v,n.method="throw",n.arg=l.arg)}}}function I(t,r){var n=r.method,o=t.iterator[n];if(o===e)return r.delegate=null,"throw"===n&&t.iterator["return"]&&(r.method="return",r.arg=e,I(t,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var i=p(o,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,b;var s=i.arg;return s?s.done?(r[t.resultName]=s.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=e),r.delegate=null,b):s:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function R(t){if(t||""===t){var r=t[s];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function r(){for(;++o<t.length;)if(n.call(t,o))return r.value=t[o],r.done=!1,r;return r.value=e,r.done=!0,r};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=S,o(_,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:w,configurable:!0}),w.displayName=d(S,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,d(e,u,"GeneratorFunction")),e.prototype=Object.create(_),e},t.awrap=function(e){return{__await:e}},j(C.prototype),d(C.prototype,l,(function(){return this})),t.AsyncIterator=C,t.async=function(e,r,n,o,i){void 0===i&&(i=Promise);var s=new C(f(e,r,n,o),i);return t.isGeneratorFunction(r)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},j(_),d(_,u,"Generator"),d(_,s,(function(){return this})),d(_,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},t.values=R,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(P),!t)for(var r in this)"t"===r.charAt(0)&&n.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function o(n,o){return a.type="throw",a.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=n.call(s,"catchLoc"),l=n.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;P(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,n){return this.delegate={iterator:R(t),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=e),b}},t}function l(e,t,r,n,o,i,s){try{var a=e[i](s),c=a.value}catch(l){return void r(l)}a.done?t(c):Promise.resolve(c).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function s(e){l(i,n,o,s,a,"next",e)}function a(e){l(i,n,o,s,a,"throw",e)}s(void 0)}))}}r("cca6");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d.apply(this,arguments)}var f=function(e){return Object(i["pushScopeId"])("data-v-4d523a16"),e=e(),Object(i["popScopeId"])(),e},p={key:0,class:"overlay spinner-container"},h=f((function(){return Object(i["createElementVNode"])("div",{class:"spinner-border text-light",role:"status"},[Object(i["createElementVNode"])("span",{class:"sr-only"},"Loading...")],-1)})),m=[h],g=f((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",{class:"d-flex justify-content-center"},[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-volume-mute-fill pb-0"})]),Object(i["createElementVNode"])("p",{class:"text-center tap-text"},"Tap to unmute")],-1)})),v=[g],b=["id"],y={key:0,id:"controls",class:"controls"},w={class:"row"},S={class:"col-6 text-left"},O={class:"col-6 text-right"},x={key:1,class:"overlay d-flex flex-row justify-content-center align-items-center"},E={class:"d-flex flex-column ml-3"},_=f((function(){return Object(i["createElementVNode"])("h3",null,"Casting to",-1)})),j={class:"font-weight-bold"};function C(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("VideoPlayerMedia"),c=Object(i["resolveComponent"])("VideoPlayerControlsUserCount"),l=Object(i["resolveComponent"])("VideoPlayerControlsBadge"),u=Object(i["resolveComponent"])("VideoPlayerControlsContainer"),d=Object(i["resolveComponent"])("VideoPlayerSideVideoSources");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"container-fluid align-container",onMousemove:t[4]||(t[4]=function(){return s.showControls&&s.showControls.apply(s,arguments)})},[e.isLoading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",p,m)):Object(i["createCommentVNode"])("",!0),e.autoPlayMuted&&e.isLive?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,onClick:t[0]||(t[0]=function(){return s.tapUnmute&&s.tapUnmute.apply(s,arguments)}),class:"overlay tap-unmute d-flex align-items-center justify-content-center"},v)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["mx-0",e.videoSources.length>1&&e.isGrid&&e.isSplittedView?"grid-container":"list-container"]),id:e.videoSources.length>1&&!e.isGrid&&e.isSplittedView?"lcontainer":""},[Object(i["createElementVNode"])("div",{id:"vplayer",ref:"player",class:Object(i["normalizeClass"])(["player",{show:o.show,"limit-screen":e.videoSources.length>1&&e.isSplittedView&&!e.isGrid,"grid-player":e.videoSources.length>1&&e.isSplittedView&&e.isGrid}]),style:Object(i["normalizeStyle"])({cursor:e.isGrid?"pointer":""}),onDblclick:t[2]||(t[2]=function(){return e.toggleFullscreen&&e.toggleFullscreen.apply(e,arguments)})},[Object(i["createElementVNode"])("div",{id:"main-source",onClick:t[1]||(t[1]=function(){return s.handleWholeScreen&&s.handleWholeScreen.apply(s,arguments)}),style:Object(i["normalizeStyle"])({height:e.isSplittedView?"":"100%"})},[Object(i["createVNode"])(a,{ref:"element"},null,512)],4),e.viewer.controls?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",y,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["gradient-top controls-top container-fluid pt-3",{hide:!o.show}])},[Object(i["createElementVNode"])("div",w,[Object(i["createElementVNode"])("div",S,[s.showButton("userCount")?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",O,[s.showButton("liveBadge")?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0})):Object(i["createCommentVNode"])("",!0)])])],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([{hide:!o.show},"gradient-bottom controls-bottom container-fluid pb-3"])},[Object(i["createVNode"])(u,{isConnected:o.cast.isConnected,showButton:s.showButton,currentTime:s.currentTime,streamId:e.viewer.streamId},null,8,["isConnected","showButton","currentTime","streamId"])],2)])):Object(i["createCommentVNode"])("",!0),o.cast.device?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",x,[Object(i["createElementVNode"])("div",E,[_,Object(i["createElementVNode"])("h1",j,Object(i["toDisplayString"])(o.cast.device.friendlyName),1)])])):Object(i["createCommentVNode"])("",!0)],38),e.videoSources.length>1&&e.isSplittedView?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(e.isGrid?"":"side-panel overflow-auto sc1"),style:Object(i["normalizeStyle"])(e.isGrid?"display: contents":"scroll-snap-type: y mandatory"),onMousemove:t[3]||(t[3]=function(){return s.showControls&&s.showControls.apply(s,arguments)})},[Object(i["createVNode"])(d,{class:Object(i["normalizeClass"])(e.isGrid?"side-sources":"")},null,8,["class"])],38)):Object(i["createCommentVNode"])("",!0)],10,b)],32)}r("caad"),r("2532");var k=["poster"],I=["poster"],T={key:2};function P(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[e.isMigrating||"player"===e.currentElementRef?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[s.displayAudioOnly?(Object(i["openBlock"])(),Object(i["createElementBlock"])("audio",{key:0,playsinline:"",id:"player",ref:"player",class:Object(i["normalizeClass"])({"display: none;":"player2"===e.currentElementRef})},null,2)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("video",{key:1,playsinline:"",id:"player",ref:"player",poster:e.viewer.placeholderImg,class:Object(i["normalizeClass"])({"display: none;":"player2"===e.currentElementRef}),style:Object(i["normalizeStyle"])(e.isSplittedView?"border-radius: 0.25rem":"border-radius: 0")},null,14,k))],64)):Object(i["createCommentVNode"])("",!0),e.isMigrating||"player2"===e.currentElementRef?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[s.displayAudioOnly?(Object(i["openBlock"])(),Object(i["createElementBlock"])("audio",{key:0,playsinline:"",id:"player2",ref:"player2",class:Object(i["normalizeClass"])({"display: none;":"player"===e.currentElementRef})},null,2)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("video",{key:1,playsinline:"",id:"player2",ref:"player2",poster:e.viewer.placeholderImg,class:Object(i["normalizeClass"])({"display: none;":"player"===e.currentElementRef}),style:Object(i["normalizeStyle"])(e.isSplittedView?"border-radius: 0.25rem":"border-radius: 0")},null,14,I))],64)):Object(i["createCommentVNode"])("",!0),e.videoSources.length>1&&e.isSplittedView&&!e.fullscreen&&e.viewer.showLabels?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",T,Object(i["toDisplayString"])(this.mainLabel),1)):Object(i["createCommentVNode"])("",!0)],64)}r("7db0"),r("c975"),r("e25e"),r("ac1f"),r("00b4");var A=r("e014"),R=(r("466d"),r("abc5"));const V="devtools-plugin:setup",N="plugin:settings:set";var L=r("5134");class D{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const s in e.settings){const t=e.settings[s];r[s]=t.defaultValue}const n="__vue-devtools-plugin-settings__"+e.id;let o=Object.assign({},r);try{const e=localStorage.getItem(n),t=JSON.parse(e);Object.assign(o,t)}catch(i){}this.fallbacks={getSettings(){return o},setSettings(e){try{localStorage.setItem(n,JSON.stringify(e))}catch(i){}o=e},now(){return Object(L["a"])()}},t&&t.on(N,(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(r=>{this.targetQueue.push({method:t,args:e,resolve:r})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function M(e,t){const r=e,n=Object(R["b"])(),o=Object(R["a"])(),i=R["c"]&&r.enableEarlyProxy;if(!o||!n.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const e=i?new D(r,o):null,s=n.__VUE_DEVTOOLS_PLUGINS__=n.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:r,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(V,e,t)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var B="store";function $(e,t){Object.keys(e).forEach((function(r){return t(e[r],r)}))}function F(e){return null!==e&&"object"===typeof e}function U(e){return e&&"function"===typeof e.then}function z(e,t){if(!e)throw new Error("[vuex] "+t)}function q(e,t){return function(){return e(t)}}function G(e,t,r){return t.indexOf(e)<0&&(r&&r.prepend?t.unshift(e):t.push(e)),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}}function H(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var r=e.state;Q(e,r,[],e._modules.root,!0),W(e,r,t)}function W(e,t,r){var n=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},c={},l=Object(i["effectScope"])(!0);l.run((function(){$(s,(function(t,r){a[r]=q(t,e),c[r]=Object(i["computed"])((function(){return a[r]()})),Object.defineProperty(e.getters,r,{get:function(){return c[r].value},enumerable:!0})}))})),e._state=Object(i["reactive"])({data:t}),e._scope=l,e.strict&&ee(e),n&&r&&e._withCommit((function(){n.data=null})),o&&o.stop()}function Q(e,t,r,n,o){var i=!r.length,s=e._modules.getNamespace(r);if(n.namespaced&&(e._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+r.join("/")),e._modulesNamespaceMap[s]=n),!i&&!o){var a=te(t,r.slice(0,-1)),c=r[r.length-1];e._withCommit((function(){c in a&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+r.join(".")+'"'),a[c]=n.state}))}var l=n.context=Y(e,s,r);n.forEachMutation((function(t,r){var n=s+r;X(e,n,t,l)})),n.forEachAction((function(t,r){var n=t.root?r:s+r,o=t.handler||t;J(e,n,o,l)})),n.forEachGetter((function(t,r){var n=s+r;Z(e,n,t,l)})),n.forEachChild((function(n,i){Q(e,t,r.concat(i),n,o)}))}function Y(e,t,r){var n=""===t,o={dispatch:n?e.dispatch:function(r,n,o){var i=re(r,n,o),s=i.payload,a=i.options,c=i.type;if(a&&a.root||(c=t+c,e._actions[c]))return e.dispatch(c,s);console.error("[vuex] unknown local action type: "+i.type+", global type: "+c)},commit:n?e.commit:function(r,n,o){var i=re(r,n,o),s=i.payload,a=i.options,c=i.type;a&&a.root||(c=t+c,e._mutations[c])?e.commit(c,s,a):console.error("[vuex] unknown local mutation type: "+i.type+", global type: "+c)}};return Object.defineProperties(o,{getters:{get:n?function(){return e.getters}:function(){return K(e,t)}},state:{get:function(){return te(e.state,r)}}}),o}function K(e,t){if(!e._makeLocalGettersCache[t]){var r={},n=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,n)===t){var i=o.slice(n);Object.defineProperty(r,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=r}return e._makeLocalGettersCache[t]}function X(e,t,r,n){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){r.call(e,n.state,t)}))}function J(e,t,r,n){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=r.call(e,{dispatch:n.dispatch,commit:n.commit,getters:n.getters,state:n.state,rootGetters:e.getters,rootState:e.state},t);return U(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function Z(e,t,r,n){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return r(n.state,n.getters,e.state,e.getters)}}function ee(e){Object(i["watch"])((function(){return e._state.data}),(function(){z(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function te(e,t){return t.reduce((function(e,t){return e[t]}),e)}function re(e,t,r){return F(e)&&e.type&&(r=t,t=e,e=e.type),z("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:r}}var ne="vuex bindings",oe="vuex:mutations",ie="vuex:actions",se="vuex",ae=0;function ce(e,t){M({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[ne]},(function(r){r.addTimelineLayer({id:oe,label:"Vuex Mutations",color:le}),r.addTimelineLayer({id:ie,label:"Vuex Actions",color:le}),r.addInspector({id:se,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),r.on.getInspectorTree((function(r){if(r.app===e&&r.inspectorId===se)if(r.filter){var n=[];me(n,t._modules.root,r.filter,""),r.rootNodes=n}else r.rootNodes=[he(t._modules.root,"")]})),r.on.getInspectorState((function(r){if(r.app===e&&r.inspectorId===se){var n=r.nodeId;K(t,n),r.state=ge(be(t._modules,n),"root"===n?t.getters:t._makeLocalGettersCache,n)}})),r.on.editInspectorState((function(r){if(r.app===e&&r.inspectorId===se){var n=r.nodeId,o=r.path;"root"!==n&&(o=n.split("/").filter(Boolean).concat(o)),t._withCommit((function(){r.set(t._state.data,o,r.state.value)}))}})),t.subscribe((function(e,t){var n={};e.payload&&(n.payload=e.payload),n.state=t,r.notifyComponentUpdate(),r.sendInspectorTree(se),r.sendInspectorState(se),r.addTimelineEvent({layerId:oe,event:{time:Date.now(),title:e.type,data:n}})})),t.subscribeAction({before:function(e,t){var n={};e.payload&&(n.payload=e.payload),e._id=ae++,e._time=Date.now(),n.state=t,r.addTimelineEvent({layerId:ie,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:n}})},after:function(e,t){var n={},o=Date.now()-e._time;n.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(n.payload=e.payload),n.state=t,r.addTimelineEvent({layerId:ie,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:n}})}})}))}var le=8702998,ue=6710886,de=16777215,fe={label:"namespaced",textColor:de,backgroundColor:ue};function pe(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function he(e,t){return{id:t||"root",label:pe(t),tags:e.namespaced?[fe]:[],children:Object.keys(e._children).map((function(r){return he(e._children[r],t+r+"/")}))}}function me(e,t,r,n){n.includes(r)&&e.push({id:n||"root",label:n.endsWith("/")?n.slice(0,n.length-1):n||"Root",tags:t.namespaced?[fe]:[]}),Object.keys(t._children).forEach((function(o){me(e,t._children[o],r,n+o+"/")}))}function ge(e,t,r){t="root"===r?t:t[r];var n=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(n.length){var i=ve(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?pe(e):e,editable:!1,value:ye((function(){return i[e]}))}}))}return o}function ve(e){var t={};return Object.keys(e).forEach((function(r){var n=r.split("/");if(n.length>1){var o=t,i=n.pop();n.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=ye((function(){return e[r]}))}else t[r]=ye((function(){return e[r]}))})),t}function be(e,t){var r=t.split("/").filter((function(e){return e}));return r.reduce((function(e,n,o){var i=e[n];if(!i)throw new Error('Missing module "'+n+'" for path "'+t+'".');return o===r.length-1?i:i._children}),"root"===t?e:e.root._children)}function ye(e){try{return e()}catch(t){return t}}var we=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var r=e.state;this.state=("function"===typeof r?r():r)||{}},Se={namespaced:{configurable:!0}};Se.namespaced.get=function(){return!!this._rawModule.namespaced},we.prototype.addChild=function(e,t){this._children[e]=t},we.prototype.removeChild=function(e){delete this._children[e]},we.prototype.getChild=function(e){return this._children[e]},we.prototype.hasChild=function(e){return e in this._children},we.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},we.prototype.forEachChild=function(e){$(this._children,e)},we.prototype.forEachGetter=function(e){this._rawModule.getters&&$(this._rawModule.getters,e)},we.prototype.forEachAction=function(e){this._rawModule.actions&&$(this._rawModule.actions,e)},we.prototype.forEachMutation=function(e){this._rawModule.mutations&&$(this._rawModule.mutations,e)},Object.defineProperties(we.prototype,Se);var Oe=function(e){this.register([],e,!1)};function xe(e,t,r){if(Ce(e,r),t.update(r),r.modules)for(var n in r.modules){if(!t.getChild(n))return void console.warn("[vuex] trying to add a new module '"+n+"' on hot reloading, manual reload is needed");xe(e.concat(n),t.getChild(n),r.modules[n])}}Oe.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Oe.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,r){return t=t.getChild(r),e+(t.namespaced?r+"/":"")}),"")},Oe.prototype.update=function(e){xe([],this.root,e)},Oe.prototype.register=function(e,t,r){var n=this;void 0===r&&(r=!0),Ce(e,t);var o=new we(t,r);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&$(t.modules,(function(t,o){n.register(e.concat(o),t,r)}))},Oe.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1],n=t.getChild(r);n?n.runtime&&t.removeChild(r):console.warn("[vuex] trying to unregister module '"+r+"', which is not registered")},Oe.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),r=e[e.length-1];return!!t&&t.hasChild(r)};var Ee={assert:function(e){return"function"===typeof e},expected:"function"},_e={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},je={getters:Ee,mutations:Ee,actions:_e};function Ce(e,t){Object.keys(je).forEach((function(r){if(t[r]){var n=je[r];$(t[r],(function(t,o){z(n.assert(t),ke(e,r,o,t,n.expected))}))}}))}function ke(e,t,r,n,o){var i=t+" should be "+o+' but "'+t+"."+r+'"';return e.length>0&&(i+=' in module "'+e.join(".")+'"'),i+=" is "+JSON.stringify(n)+".",i}function Ie(e){return new Te(e)}var Te=function e(t){var r=this;void 0===t&&(t={}),z("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),z(this instanceof e,"store must be called with the new operator.");var n=t.plugins;void 0===n&&(n=[]);var o=t.strict;void 0===o&&(o=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Oe(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var s=this,a=this,c=a.dispatch,l=a.commit;this.dispatch=function(e,t){return c.call(s,e,t)},this.commit=function(e,t,r){return l.call(s,e,t,r)},this.strict=o;var u=this._modules.root.state;Q(this,u,[],this._modules.root),W(this,u),n.forEach((function(e){return e(r)}))},Pe={state:{configurable:!0}};Te.prototype.install=function(e,t){e.provide(t||B,this),e.config.globalProperties.$store=this;var r=void 0===this._devtools||this._devtools;r&&ce(e,this)},Pe.state.get=function(){return this._state.data},Pe.state.set=function(e){z(!1,"use store.replaceState() to explicit replace store state.")},Te.prototype.commit=function(e,t,r){var n=this,o=re(e,t,r),i=o.type,s=o.payload,a=o.options,c={type:i,payload:s},l=this._mutations[i];l?(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(c,n.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+i+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+i)},Te.prototype.dispatch=function(e,t){var r=this,n=re(e,t),o=n.type,i=n.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,r.state)}))}catch(l){console.warn("[vuex] error in before action subscribers: "),console.error(l)}var c=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){c.then((function(t){try{r._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,r.state)}))}catch(l){console.warn("[vuex] error in after action subscribers: "),console.error(l)}e(t)}),(function(e){try{r._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,r.state,e)}))}catch(l){console.warn("[vuex] error in error action subscribers: "),console.error(l)}t(e)}))}))}console.error("[vuex] unknown action type: "+o)},Te.prototype.subscribe=function(e,t){return G(e,this._subscribers,t)},Te.prototype.subscribeAction=function(e,t){var r="function"===typeof e?{before:e}:e;return G(r,this._actionSubscribers,t)},Te.prototype.watch=function(e,t,r){var n=this;return z("function"===typeof e,"store.watch only accepts a function."),Object(i["watch"])((function(){return e(n.state,n.getters)}),t,Object.assign({},r))},Te.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Te.prototype.registerModule=function(e,t,r){void 0===r&&(r={}),"string"===typeof e&&(e=[e]),z(Array.isArray(e),"module path must be a string or an Array."),z(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),Q(this,this.state,e,this._modules.get(e),r.preserveState),W(this,this.state)},Te.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),z(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var r=te(t.state,e.slice(0,-1));delete r[e[e.length-1]]})),H(this)},Te.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),z(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},Te.prototype.hotUpdate=function(e){this._modules.update(e),H(this,!0)},Te.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Te.prototype,Pe);var Ae=Me((function(e,t){var r={};return De(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=this.$store.state,r=this.$store.getters;if(e){var n=Be(this.$store,"mapState",e);if(!n)return;t=n.context.state,r=n.context.getters}return"function"===typeof o?o.call(this,t,r):t[o]},r[n].vuex=!0})),r})),Re=Me((function(e,t){var r={};return De(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var n=this.$store.commit;if(e){var i=Be(this.$store,"mapMutations",e);if(!i)return;n=i.context.commit}return"function"===typeof o?o.apply(this,[n].concat(t)):n.apply(this.$store,[o].concat(t))}})),r})),Ve=Me((function(e,t){var r={};return De(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var n=t.key,o=t.val;o=e+o,r[n]=function(){if(!e||Be(this.$store,"mapGetters",e)){if(o in this.$store.getters)return this.$store.getters[o];console.error("[vuex] unknown getter: "+o)}},r[n].vuex=!0})),r})),Ne=Me((function(e,t){var r={};return De(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var n=t.key,o=t.val;r[n]=function(){var t=[],r=arguments.length;while(r--)t[r]=arguments[r];var n=this.$store.dispatch;if(e){var i=Be(this.$store,"mapActions",e);if(!i)return;n=i.context.dispatch}return"function"===typeof o?o.apply(this,[n].concat(t)):n.apply(this.$store,[o].concat(t))}})),r}));function Le(e){return De(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function De(e){return Array.isArray(e)||F(e)}function Me(e){return function(t,r){return"string"!==typeof t?(r=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,r)}}function Be(e,t,r){var n=e._modulesNamespaceMap[r];return n||console.error("[vuex] module namespace not found in "+t+"(): "+r),n}r("c740"),r("a434"),r("b64b"),r("07ac");var $e={videoSources:[],audioSources:[],selectedVideoSource:{name:"none"},selectedAudioSource:{name:"none"},isAudioOnly:!1,audioFollowsVideo:!1,stream:null,sourceRemoteTracks:[],mainLabel:"Main",transceiverSourceState:{},trackIdMidMap:{}},Fe={namespaced:!0,state:$e,mutations:{setSelectedSource:function(e,t){var r=t.kind,n=t.selectedSource;"video"===r?e.selectedVideoSource=n:"audio"===r&&(e.selectedAudioSource=n)},setSources:function(e,t){var r=t.kind,n=t.sources;if("video"===r){e.videoSources=n;var o=n[0];"0"===(null===o||void 0===o?void 0:o.mid)&&(e.transceiverSourceState[o.mid]=o)}else"audio"===r&&(e.audioSources=n)},removeSource:function(e,t){var r=t.kind,n=t.sourceId;if("video"===r){var o=e.videoSources.findIndex((function(e){return e.sourceId===n}));-1!==o&&e.videoSources.splice(o,1)}else if("audio"===r){var i=e.audioSources.findIndex((function(e){return e.sourceId===n}));-1!==i&&e.audioSources.splice(i,1)}},setStream:function(e,t){e.stream=t},setIsAudioOnly:function(e,t){e.isAudioOnly=t},setAudioFollowsVideo:function(e,t){e.audioFollowsVideo=t},addTrackIdMidMapping:function(e,t){e.trackIdMidMap[t.mid]=t.trackId},addSourceRemoteTrack:function(e,t){e.sourceRemoteTracks.push(t);var r=e.videoSources.findIndex((function(e){return e.sourceId===t.sourceId}));if(-1!==r){var n=t.transceiver.mid;e.videoSources[r].mid=n,e.transceiverSourceState[n]=e.videoSources[r]}},replaceSourceRemoteTrack:function(e,t){var r=t.sourceRemoteTrack,n=t.remoteTrackIndex;e.sourceRemoteTracks[n]=r;var o=e.videoSources.findIndex((function(e){return e.sourceId===r.sourceId}));-1!==o&&(e.videoSources[o].mid=r.transceiver.mid,e.transceiverSourceState[r.transceiver.mid]=e.videoSources[o])},removeSourceRemoteTrack:function(e,t){var r=e.sourceRemoteTracks.findIndex((function(e){return e.sourceId===t}));-1!==r&&e.sourceRemoteTracks.splice(r,1)},removeTransceiverSourceState:function(e,t){var r=Object.keys(e.transceiverSourceState).find((function(r){return e.transceiverSourceState[r].sourceId===t})),n=Object.keys(e.transceiverSourceState).find((function(t){return null===e.transceiverSourceState[t].sourceId}));if(-1!==r&&null!==t){var o=Object.values(e.sourceRemoteTracks).find((function(e){return e.sourceId===t})).transceiver.mid;if("0"===e.transceiverSourceState[r].mid)if(o!==n){var i=e.transceiverSourceState[o];e.transceiverSourceState[r]=d(d({},e.transceiverSourceState[n]),{},{mid:r}),e.transceiverSourceState[n]=d(d({},i),{},{mid:n}),delete e.transceiverSourceState[o]}else o=e.videoSources.find((function(e){return e.sourceId===t})).mid,delete e.transceiverSourceState[o],e.transceiverSourceState[r]=e.videoSources[r];else e.transceiverSourceState[r]=d(d({},e.transceiverSourceState[o]),{},{mid:"".concat(r)}),delete e.transceiverSourceState[o]}else-1!==r&&"0"!==e.transceiverSourceState[r].mid&&(e.transceiverSourceState[r]=d(d({},e.transceiverSourceState[0]),{},{mid:"".concat(r)}),delete e.transceiverSourceState[0])},setMainLabel:function(e,t){e.mainLabel=t},updateTransceiverSourceState:function(e,t){var r=t.source,n=e.transceiverSourceState[e.videoSources[0].mid],o=Object.keys(e.transceiverSourceState).find((function(t){return e.transceiverSourceState[t].mid===r.mid})),i=e.transceiverSourceState[o];e.transceiverSourceState[e.videoSources[0].mid]=d(d({},i),{},{mid:e.videoSources[0].mid}),e.transceiverSourceState[o]=d(d({},n),{},{mid:o})}},getters:{getVideoSources:function(e){return e.videoSources},getAudioSources:function(e){return e.audioSources},getVideoHasMain:function(e){return-1!==e.videoSources.findIndex((function(e){return null===e.sourceId}))},getAudioHasMain:function(e){return-1!==e.audioSources.findIndex((function(e){return null===e.sourceId}))},getSelectedVideoSource:function(e){return e.selectedVideoSource},getTransceiverSourceState:function(e){return e.transceiverSourceState},getTrackIdMidMap:function(e){return e.trackIdMidMap}}},Ue={medias:{active:[],inactive:[],layers:[]},selectedQuality:{name:"Auto"},mainTransceiverMedias:{active:[],inactive:[],layers:[]}},ze={namespaced:!0,state:Ue,mutations:{setMainTransceiverMedias:function(e,t){e.mainTransceiverMedias=t},setMedias:function(e,t){e.medias=t},setSelectedQuality:function(e,t){e.selectedQuality=t},selectQuality:function(e,t){e.selectedQuality=t}},getters:{getActiveMedias:function(e){return e.medias},getActiveMainTransceiverMedias:function(e){return e.mainTransceiverMedias.active}}},qe={video:null,playing:!1,muted:!1,player:null,srcObject:null,pip:null,autoPlayMuted:!1,volume:"1",isMobile:!1,dropup:"",fullscreen:!1,isLive:!1,isLoading:!0,trackWarning:!1,castOptions:{},castAvailable:!1,castIsConnected:!1,castDevice:{},viewerCount:null,reconnection:{status:!1,error:null,timeout:null},currentElementRef:"player",isMigrating:!1,viewerMigratingEvent:!1,migrateListenerIsSet:!1,isSplittedView:!1,previousSplitState:!1,isGrid:!1,isSelectingLayer:!1,hideToast:!1,selectingLayerTimeouts:null},Ge={namespaced:!0,state:qe,mutations:{setVideo:function(e,t){e.video=t},setPlaying:function(e,t){e.isMigrating||(e.playing=t)},setPip:function(e,t){e.pip=t},stopVideo:function(e){e.player.stop(),e.player.currentTime=null},setSrcObject:function(e,t){e.srcObject=t},setStateSrcObject:function(e,t){null!==t&&(e.srcObject=t)},setCurrentElementRef:function(e,t){e.currentElementRef=t},setVideoVolume:function(e,t){e.video.volume=t},setVideoMuted:function(e,t){e.video.muted=t,e.muted=t},setVideoAutoplay:function(e,t){e.video.autoplay=t},setVideoSource:function(e,t){e.video.srcObject=t},setAutoPlayMuted:function(e,t){e.autoPlayMuted=t},setDropup:function(e,t){e.dropup=t!=e.dropup?t:""},setMobile:function(e,t){e.isMobile=t},setIsLive:function(e,t){!t&&document.pictureInPictureElement&&document.exitPictureInPicture(),e.isLive=t},setIsLoading:function(e,t){e.isLoading=t,e.castOptions.loading=t},toggleFullscreen:function(e){e.fullscreen=!e.fullscreen},setTrackWarning:function(e,t){e.trackWarning=t},setCastOptions:function(e,t){e.castOptions=t},setCastDevice:function(e,t){e.castDevice=t},setCastAvailable:function(e,t){e.castAvailable=t},setCastIsConnected:function(e,t){e.castIsConnected=t},setViewerCount:function(e,t){e.viewerCount=t},handleReconnection:function(e,t){var r=t.error,n=t.timeout;e.reconnection.error=r,e.reconnection.timeout=n,e.reconnection.status=!0,setTimeout((function(){e.reconnection.status=!1,e.reconnection.error=null,e.reconnection.timeout=null}),n)},setIsMigrating:function(e,t){e.isMigrating=t},setViewerMigratingEvent:function(e,t){e.viewerMigratingEvent=t},setMigrateListenerIsSet:function(e,t){e.migrateListenerIsSet=t},setIsSplittedView:function(e,t){e.isSplittedView=t},setPreviousSplitState:function(e,t){e.isMigrating||(e.previousSplitState=t)},setIsGrid:function(e,t){e.isGrid=t},setIsSelectingLayer:function(e,t){e.isSelectingLayer=t},setHideToastError:function(e,t){e.hideToast=t},setSelectingLayerTimeout:function(e,t){e.selectingLayerTimeouts=t}},getters:{}},He={millicastView:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null},trackEvent:{audio:{track:null,transceiver:[null]},video:{track:null,transceiver:[null]}}},We={namespaced:!0,state:He,mutations:{setMillicastView:function(e,t){e.millicastView=t}}},Qe=["play","volume","pip","fullscreen","cast","liveBadge","userCount","settings"],Ye={audioOnly:!1,autoplay:!0,videoOnly:!1,controls:!0,directorUrl:null,hideButtons:[],muted:!0,placeholderImg:null,streamId:null,token:null,forcePlayoutDelay:!1,multisource:!1,audioFollowsVideo:!1,layout:null,showLabels:!0,startingQuality:null,hideToast:null,mainLabel:null};function Ke(e){var t=e.streamId,r=e.audioOnly,n=e.videoOnly,o=e.token,i=e.image,s=e.directorUrl,a=e.hideButtons,c=e.autoplay,l=e.muted,u=e.noDelay,f=e.multisource,p=e.audioFollowsVideo,h=e.layout,m=e.showLabels,g=e.startingQuality,v=e.hideToast,b=e.mainLabel,y=e.forcePlayoutDelayMin,w=e.forcePlayoutDelayMax,S={};S.streamId=t,S.videoOnly=null!==n&&void 0!==n&&n,S.audioOnly=null!==r&&void 0!==r&&r,S.token=o,S.placeholderImg=i,S.directorUrl=s,S.hideButtons=null!==a&&void 0!==a?a:[],S.autoplay=null===c||void 0===c||c,S.muted=null!==l&&void 0!==l&&l,S.multisource=null!==f&&void 0!==f&&f,S.audioFollowsVideo=null!==p&&void 0!==p&&p,S.layout=h,S.showLabels=m,f&&nt.commit("Controls/setIsSplittedView",!0),p&&nt.commit("Sources/setAudioFollowsVideo",!0),u&&(S.forcePlayoutDelay={min:0,max:0}),S.layout&&"grid"===S.layout&&nt.commit("Controls/setIsGrid",!0),null!==g&&(S.startingQuality=g,nt.commit("Controls/setIsSelectingLayer",!0)),null!==v&&(S.hideToast=v,nt.commit("Controls/setHideToastError",v)),b&&(S.mainLabel=b,nt.commit("Sources/setMainLabel",S.mainLabel)),y&&w&&parseInt(y)&&parseInt(w)&&(S.forcePlayoutDelay={min:parseInt(y),max:parseInt(w)}),nt.commit("Params/setViewerOptions",d(d({},Ye),S))}var Xe={NODE_ENV:"",VUE_APP_TURN_ENDPOINT:"",VUE_APP_LIVEWS_ENDPOINT:"",VUE_APP_DIRECTOR_ENDPOINT:"",VUE_APP_PUBLIC_PATH:"",VUE_APP_REPORT_URL:"",VUE_APP_CHROMECAST_ID:""};function Je(e){var t,r,n,o,i,s,a,c={NODE_ENV:null!==(t=null===e||void 0===e?void 0:e.NODE_ENV)&&void 0!==t?t:Object({NODE_ENV:"production",VUE_APP_DEFAULT_TURN_ENDPOINT:"",VUE_APP_DEFAULT_LIVEWS_ENDPOINT:"",VUE_APP_DEFAULT_DIRECTOR_ENDPOINT:"https://director.millicast.com/",VUE_APP_DEFAULT_PUBLIC_PATH:"/",VUE_APP_DEFAULT_CHROMECAST_ID:"EC3A02DA",VUE_APP_DEFAULT_REPORT_URL:"https://playback-report.millicast.com",BASE_URL:"/"}).DEFAULT_NODE_ENV,VUE_APP_TURN_ENDPOINT:null!==(r=null===e||void 0===e?void 0:e.VUE_APP_TURN_ENDPOINT)&&void 0!==r?r:"",VUE_APP_LIVEWS_ENDPOINT:null!==(n=null===e||void 0===e?void 0:e.VUE_APP_LIVEWS_ENDPOINT)&&void 0!==n?n:"",VUE_APP_DIRECTOR_ENDPOINT:null!==(o=null===e||void 0===e?void 0:e.VUE_APP_DIRECTOR_ENDPOINT)&&void 0!==o?o:"https://director.millicast.com/",VUE_APP_PUBLIC_PATH:null!==(i=null===e||void 0===e?void 0:e.VUE_APP_PUBLIC_PATH)&&void 0!==i?i:"/",VUE_APP_REPORT_URL:null!==(s=null===e||void 0===e?void 0:e.VUE_APP_REPORT_URL)&&void 0!==s?s:"https://playback-report.millicast.com",VUE_APP_CHROMECAST_ID:null!==(a=null===e||void 0===e?void 0:e.VUE_APP_CHROMECAST_ID)&&void 0!==a?a:"EC3A02DA"};nt.commit("Params/setEnvironmentOptions",d(d({},Xe),c))}var Ze={viewer:Ye,environment:Xe},et={namespaced:!0,state:Ze,mutations:{setViewerOptions:function(e,t){e.viewer=t},setEnvironmentOptions:function(e,t){e.environment=t}}},tt={type:"",message:"",showError:!1},rt={namespaced:!0,state:tt,mutations:{setMessage:function(e,t){e.message=t},setType:function(e,t){e.type=t},setShowError:function(e,t){e.showError=t}}},nt=Ie({state:{sources:[]},mutations:{},actions:{},modules:{Sources:Fe,Layers:ze,Controls:Ge,ViewConnection:We,Params:et,Errors:rt}}),ot=nt.state,it=function(){var e;return null===(e=ot.Params.viewer.streamId)||void 0===e||null===(e=e.match(/^(.*?)\/.*$/))||void 0===e?void 0:e[1]},st=function(){var e;return null===(e=ot.Params.viewer.streamId)||void 0===e||null===(e=e.match(/^.*?\/(.*)$/))||void 0===e?void 0:e[1]},at=(r("99af"),r("12a8"),r("25f0"),r("5319"),new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"})),ct=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function lt(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function ut(e,t){var r=e.muted,n=e.timeout,o=e.inline,i=t(),s=i.element,a=i.source,c=void 0,l=void 0,u=void 0;return s.muted=r,!0===r&&s.setAttribute("muted","muted"),!0===o&&s.setAttribute("playsinline","playsinline"),s.src=a,new Promise((function(e){c=s.play(),l=setTimeout((function(){u(!1,new Error("Timeout "+n+" ms has been reached"))}),n),u=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.remove(),s.srcObject=null,clearTimeout(l),e({result:t,error:r})},void 0!==c?c.then((function(){return u(!0)})).catch((function(e){return u(!1,e)})):u(!0)}))}function dt(e){return e=lt(e),ut(e,(function(){return{element:document.createElement("video"),source:URL.createObjectURL(ct)}}))}function ft(e){return e=lt(e),ut(e,(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(at)}}))}var pt={audio:ft,video:dt},ht=pt,mt=nt.commit,gt=nt.state,vt=function(){bt(),yt(),wt()},bt=function(){var e;(gt.Params.environment.VUE_APP_DIRECTOR_ENDPOINT||gt.Params.viewer.directorUrl)&&A["Director"].setEndpoint(null!==(e=gt.Params.viewer.directorUrl)&&void 0!==e?e:gt.Params.environment.VUE_APP_DIRECTOR_ENDPOINT)},yt=function(){gt.Params.environment.VUE_APP_LIVEWS_ENDPOINT&&A["Director"].setLiveDomain(gt.Params.environment.VUE_APP_LIVEWS_ENDPOINT)},wt=function(){gt.Params.environment.VUE_APP_TURN_ENDPOINT&&A["PeerConnection"].setTurnServerLocation(gt.Params.environment.VUE_APP_TURN_ENDPOINT)},St=function(e,t){if(!t||!e)throw new Error("Stream ID not provided.");vt();var r=function(){var r=A["Director"].getSubscriber(t,e,gt.Params.viewer.token);return r.catch((function(e){var t="".concat(e);if(!t.includes("stream not being published")){var r=t.replace("FetchError: ","");mt("Errors/setMessage",r),mt("Errors/setType","SubscriberError"),mt("Errors/setShowError",!0)}})),r},n=new A["View"](t,r);window.millicastView=n,window.__defineGetter__("peer",(function(){return n.getRTCPeerConnection()})),mt("ViewConnection/setMillicastView",n)},Ot=function(){var e=u(c().mark((function e(){var t,r,n,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=gt.ViewConnection.millicastView,!t.isActive()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,_t();case 6:return r={events:["active","inactive","layers","viewercount"],absCaptureTime:!0},gt.Params.viewer.audioOnly&&(r.disableVideo=!0),gt.Params.viewer.videoOnly&&(r.disableAudio=!0),gt.Params.viewer.forcePlayoutDelay&&(r.forcePlayoutDelay=gt.Params.viewer.forcePlayoutDelay),e.next=12,t.connect(r);case 12:kt(),e.next=25;break;case 15:if(e.prev=15,e.t0=e["catch"](3),o=null===(n=e.t0.response)||void 0===n||null===(n=n.data)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.message,mt("Controls/setIsLoading",!1),mt("Controls/setIsLive",!1),t.reconnect(),o){e.next=23;break}return e.abrupt("return");case 23:if(o.toLowerCase().includes("stream not being published")){e.next=25;break}throw new Error("".concat(o.charAt(0).toUpperCase()).concat(o.slice(1)));case 25:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=gt.ViewConnection.millicastView;e.on("track",function(){var e=u(c().mark((function e(t){var r,n,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("video"===(null===(r=t.track)||void 0===r?void 0:r.kind)&&mt("Sources/addTrackIdMidMapping",{trackId:null===(n=t.track)||void 0===n?void 0:n.id,mid:null===(o=t.transceiver)||void 0===o?void 0:o.mid}),!t.streams.length){e.next=4;break}return e.next=4,Et(t.streams[0]);case 4:gt.ViewConnection.trackEvent[t.track.kind].transceiver[0]?gt.ViewConnection.trackEvent[t.track.kind].transceiver.push(t.transceiver):gt.ViewConnection.trackEvent[t.track.kind].transceiver[0]=t.transceiver,gt.ViewConnection.trackEvent[t.track.kind].track=!0;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Et=function(){var e=u(c().mark((function e(t){var r,n,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=gt.Controls.video,kt(),mt("Controls/setSrcObject",t),!r.srcObject||r.srcObject.id===t.id||gt.Controls.viewerMigratingEvent){e.next=5;break}return e.abrupt("return");case 5:if(!r.srcObject||r.srcObject.id===t.id||!gt.Controls.viewerMigratingEvent){e.next=24;break}return mt("Controls/setPreviousSplitState",gt.Controls.isSplittedView),mt("Controls/setIsMigrating",!0),mt("Controls/setIsSplittedView",!1),e.next=11,Object(i["nextTick"])();case 11:n="player"===gt.Controls.currentElementRef?"player2":"player",o=document.getElementById(n),o.srcObject=t,o.autoplay=gt.Controls.playing,o.muted=gt.Controls.muted,yr(),br(o),o.onloadedmetadata=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:mt("Controls/setVideo",o),mt("Controls/setCurrentElementRef",n),mt("Controls/setIsMigrating",!1),mt("Controls/setIsSplittedView",gt.Controls.previousSplitState),document.pictureInPictureElement&&o.requestPictureInPicture();case 5:case"end":return e.stop()}}),e)}))),mt("Controls/setViewerMigratingEvent",!1),mt("Controls/setMigrateListenerIsSet",!1),kt(),e.next=25;break;case 24:vr({videoPlayer:r,srcObject:t});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_t=function(){var e=u(c().mark((function e(){var t,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(mt("Controls/setVideoAutoplay",gt.Params.viewer.autoplay),!gt.Params.viewer.autoplay){e.next=8;break}return e.next=4,ht.video({muted:gt.Params.viewer.muted});case 4:t=e.sent,r=gt.Params.viewer.muted?gt.Params.viewer.muted:!t.result,mt("Controls/setVideoMuted",r),mt("Controls/setAutoPlayMuted",r);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=function(){var e;gt.ViewConnection.eventListeners.reconnect=null!==(e=gt.ViewConnection.eventListeners.reconnect)&&void 0!==e?e:gt.ViewConnection.millicastView.on("reconnect",(function(e){var t=e.timeout,r=e.error,n=null===r||void 0===r?void 0:r.toString().toLowerCase();null!==n&&void 0!==n&&n.toLowerCase().includes("stream not being published")?(mt("Controls/setIsLoading",!1),mt("Controls/setIsLive",!1)):(mt("Controls/setPreviousSplitState",gt.Controls.isSplittedView),mt("Controls/setVideoSource",null),mt("Controls/setSrcObject",null),mt("Controls/setIsSplittedView",!1),mt("Controls/setViewerMigratingEvent",!1),mt("Controls/setMigrateListenerIsSet",!1),mt("Controls/handleReconnection",{timeout:t,error:r}))}))},Ct=function(){var e;null===(e=gt.ViewConnection.millicastView)||void 0===e||e.stop(),mt("Controls/setVideoSource",null),mt("Controls/setSrcObject",null)},kt=function(){gt.Controls.viewerMigratingEvent||gt.Controls.migrateListenerIsSet||!gt.ViewConnection.millicastView.signaling||setTimeout((function(){gt.ViewConnection.millicastView.signaling.on("migrate",(function(){mt("Controls/setViewerMigratingEvent",!0)})),mt("Controls/setMigrateListenerIsSet",!0)}),50)},It=(r("a630"),r("d81d"),r("45fc"),r("3c65"),nt.commit),Tt=nt.state,Pt=null,At=null,Rt=null,Vt=function(){var e=u(c().mark((function e(){var t,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Rt){e.next=6;break}return e.next=3,new Promise((function(e){return setTimeout(e,20)}));case 3:Rt=Tt.Params.environment.VUE_APP_CHROMECAST_ID,e.next=0;break;case 6:t=function(){var e=u(c().mark((function e(t){var r,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r=window,n=r.cast,e.t0=t,e.next=e.t0===n.framework.CastState.NO_DEVICES_AVAILABLE?4:e.t0===n.framework.CastState.NOT_CONNECTED?6:e.t0===n.framework.CastState.CONNECTED?8:11;break;case 4:return It("Controls/setCastAvailable",!1),e.abrupt("break",12);case 6:return It("Controls/setCastAvailable",!0),e.abrupt("break",12);case 8:return e.next=10,Nt();case 10:return e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(e){var t=window,r=t.cast;switch(e.sessionState){case r.framework.SessionState.SESSION_ENDED:At=null,Or(),It("Controls/setCastIsConnected",!1);break;default:break}},window["__onGCastApiAvailable"]=function(){var e=u(c().mark((function e(n){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n&&setTimeout(u(c().mark((function e(){var n,o,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.cast.framework.CastContext.getInstance();case 2:if(Pt=e.sent,!window.chrome.cast||!window.chrome.cast.AutoJoinPolicy){e.next=12;break}return Pt.setOptions({autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.PAGE_SCOPED,receiverApplicationId:Rt}),n=window.cast.framework.CastContextEventType,o=n.CAST_STATE_CHANGED,i=n.SESSION_STATE_CHANGED,e.next=8,Pt.addEventListener(o,function(){var e=u(c().mark((function e(r){var n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=r.castState,e.next=3,t(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.next=10,Pt.addEventListener(i,(function(e){return r(e)}));case 10:e.next=13;break;case 12:It("Controls/setCastAvailable",!1);case 13:case"end":return e.stop()}}),e)}))),20);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Nt=function(){var e=u(c().mark((function e(){var t,r,n,o,i,s,a,l,u,d,f,p;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=window,s=i.chrome,a=Tt.Controls.castOptions,l=a.streamId,u=a.token,d={audioSource:Tt.Sources.selectedAudioSource,videoSource:Tt.Sources.selectedVideoSource,audioMediaId:null!==(t=null===(r=Tt.ViewConnection.trackEvent)||void 0===r||null===(r=r.audio)||void 0===r?void 0:r.transceiver.mid)&&void 0!==t?t:null,videoMediaId:null!==(n=null===(o=Tt.ViewConnection.trackEvent)||void 0===o||null===(o=o.video)||void 0===o?void 0:o.transceiver.mid)&&void 0!==n?n:null},e.next=5,Pt.getCurrentSession();case 5:At=e.sent,f=new s.cast.media.MediaInfo(l,""),f.customData={streamId:l,token:u,multiSourceOptions:d},f.streamType=s.cast.media.StreamType.LIVE,p=new s.cast.media.LoadRequest(f),At.loadMedia(p).then((function(){xr(),It("Controls/setCastDevice",At.getCastDevice()),It("Controls/setCastIsConnected",!0)})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Lt(e){if(Array.isArray(e))return e}function Dt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Mt(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Bt(e,t){if(e){if("string"===typeof e)return Mt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Mt(e,t):void 0}}function $t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ft(e){return Lt(e)||Dt(e)||Bt(e)||$t()}r("13d5"),r("4e82"),r("4fad"),r("c1f9");var Ut=nt.commit,zt=nt.state,qt=["bps","kbps","mbps","gbps"],Gt={2:["High","Low"],3:["High","Medium","Low"]},Ht=[],Wt=function(e){var t=e.data,r=[],n=[],o={0:t.medias[0]},i=Object.values(o),s=Object.entries(t.medias),a=Ft(s),c=a.slice(1),l=Object.fromEntries(c);if(Ut("Layers/setMedias",t.medias),Xt(l),i.forEach((function(e){var t,o,i,s,a;1===(null===e||void 0===e?void 0:e.active.length)&&(null===e||void 0===e||null===(t=e.active[0])||void 0===t?void 0:t.layers.length)>1?(null===(o=e.active[0])||void 0===o||null===(o=o.layers)||void 0===o||o.forEach((function(t){r.some((function(e){return e.spatialLayerId===t.spatialLayerId}))||(t.id=e.active[0].id,t.selectId=t.spatialLayerId,t.disabled=!t.bitrate,r.push(t))})),null===(i=e.inactive[0])||void 0===i||null===(i=i.layers)||void 0===i||i.forEach((function(e){n.some((function(t){return t.spatialLayerId===e.spatialLayerId}))||n.push(e)}))):(null===(s=e.active)||void 0===s||s.forEach((function(e){r.some((function(t){return t.id===e.id}))||(e.selectId=e.id,e.disabled=!e.bitrate,r.push(e))})),null===(a=e.inactive)||void 0===a||a.forEach((function(e){n.some((function(t){return t.id===e.id}))||n.push(e)})))})),r.sort((function(e,t){return t.bitrate-e.bitrate})),r.length>=2){r.sort((function(e,t){return t.height-e.height}));var u=Gt[r.length]||[];r.forEach((function(e,t){e.name=e.height?"".concat(e.height,"p"):u[t]||Kt(e.bitrate)})),r.unshift({name:"Auto"})}r.length!=zt.Layers.mainTransceiverMedias.active.length&&Ut("Layers/setSelectedQuality",{name:"Auto"}),Ut("Layers/setMainTransceiverMedias",{active:r,inactive:n})},Qt=function(){Ut("Layers/setMainTransceiverMedias",{active:[],inactive:[]}),Ut("Layers/setSelectedQuality",{name:"Auto"})},Yt=function(e){var t={};t.encodingId=e.id,t.encodingId||null===e.spatialLayerId||(t.spatialLayerId=parseInt(e.spatialLayerId));var r=t.encodingId||0===t.encodingId||t.spatialLayerId||0===t.spatialLayerId?t:{};zt.ViewConnection.millicastView.select(r),Ut("Layers/selectQuality",e)},Kt=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t/1e3;return n<1||n>1&&r+1>qt.length?"".concat(Math.round(100*t)/100," ").concat(qt[r]):n>1?e(n,r+1):void 0},Xt=function(e){var t=zt.Controls,r=t.isSplittedView,n=t.isGrid;if(r&&!n){var o=Object.keys(Ht),i=Object.keys(e),s=i.filter((function(e){return!o.includes(e)})),a=s.reduce((function(t,r){var n=e[r].active.length>0?e[r].active:null;return null!=n&&(t[r]=n),t}),{}),c=Object.keys(a);if(0===c.length)return;var l=zt.Sources.transceiverSourceState,u=c.reduce((function(e,t){return e.push(l[t]),e}),[]);u.forEach((function(e){var t;null!==e.sourceId&&e.mid in a&&(a[e.mid].sort((function(e,t){return t.id-e.id})),null===(t=zt.ViewConnection.millicastView)||void 0===t||t.project(e.name,[{mediaId:e.mid,layer:{encodingId:a[e.mid].pop().id},trackId:e.trackId,media:"video"}]))})),Ht=e}},Jt=function(e){e||(Ht=[])};Object(i["watch"])((function(){return zt.Controls.isSplittedView}),Jt,{deep:!0});var Zt=nt.commit,er=nt.state,tr=nt.getters,rr=function(e){var t=e.sourceId||null;e.tracks.forEach((function(e){"video"===e.media&&(nr(t),ir("video",t,e.trackId),1===er.Sources.videoSources.length&&Zt("Sources/setIsAudioOnly",!1)),"audio"===e.media&&(ir("audio",t,e.trackId),1===er.Sources.audioSources.length&&Zt("Sources/setIsAudioOnly",!er.Sources.videoSources.length))})),or()?setTimeout(sr,1e3):er.Controls.trackWarning&&Zt("Controls/setTrackWarning",!1)},nr=function(){var e=u(c().mark((function e(t){var r,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:r=er.Sources.sourceRemoteTracks.findIndex((function(e){return e.sourceId===t})),n=new MediaStream,setTimeout(u(c().mark((function e(){var o,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,er.ViewConnection.millicastView.addRemoteTrack("video",[n]);case 2:o=e.sent,i={transceiver:o,mediaStream:n,sourceId:t},-1!==r?Zt("Sources/replaceSourceRemoteTrack",{sourceRemoteTrack:i,remoteTrackIndex:r}):Zt("Sources/addSourceRemoteTrack",i);case 5:case"end":return e.stop()}}),e)}))),50);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),or=function(){return!tr["Sources/getVideoHasMain"]&&er.Sources.videoSources.length||!tr["Sources/getAudioHasMain"]&&er.Sources.audioSources.length},ir=function(e,t,r){var n={name:null===t?er.Params.viewer.mainLabel:t,sourceId:t,trackId:r,mid:null===t?"video"===e?"0":"1":null},o="video"===e?er.Sources.videoSources:er.Sources.audioSources,i=Array.from(o);if(!i.some((function(e){return e.sourceId===n.sourceId}))){if(null===n.sourceId){i.unshift(n);var s="video"===e?er.Sources.selectedVideoSource:er.Sources.selectedAudioSource;s.name!==er.Params.viewer.mainLabel&&(Zt("Sources/setSelectedSource",{kind:e,selectedSource:n}),lr({kind:e,source:n}),Zt("Sources/setMainLabel",er.Params.viewer.mainLabel))}else i.push(n);Zt("Sources/setSources",{kind:e,sources:i})}},sr=function(){or()&&!er.Sources.trackWarning&&(""===er.Controls.dropup&&Zt("Controls/setDropup","settings"),Zt("Controls/setTrackWarning",!0))},ar=function(e){er.Layers.mainTransceiverMedias.active.length&&Yt({name:"Auto"});var t=er.Sources.videoSources.findIndex((function(t){return t.sourceId===e})),r=er.Sources.audioSources.findIndex((function(t){return t.sourceId===e}));-1!==t&&(cr("video",e),er.Sources.videoSources.length||Zt("Sources/setIsAudioOnly",!0)),-1!==r&&cr("audio",e)},cr=function(e,t){var r,n,o="video"===e?er.Sources.selectedVideoSource:er.Sources.selectedAudioSource,i="video"===e?er.Sources.videoSources:er.Sources.audioSources;i=i.filter((function(e){return e.sourceId!==t})),i.length?t!==o.sourceId&&null!==t||(o=i[0],er.Sources.isAudioOnly||Zt("Sources/setMainLabel",i[0].name)):o={name:"none"},"video"===e&&(r=Object.keys(er.Sources.transceiverSourceState).find((function(e){return er.Sources.transceiverSourceState[e].sourceId===t})),null!==t&&(n=Object.values(er.Sources.sourceRemoteTracks).find((function(e){return e.sourceId===t})).transceiver.mid),er.Controls.isSplittedView&&(null!==er.Sources.selectedVideoSource.sourceId&&null===t?(dr(er.Sources.selectedVideoSource.sourceId,"".concat(r),er.Sources.selectedVideoSource.trackId),er.Params.viewer.showLabels&&(document.getElementById("sideLabel".concat(er.Sources.selectedVideoSource.mid)).textContent=er.Sources.selectedVideoSource.sourceId)):null===er.Sources.selectedVideoSource.sourceId&&null!==t?r!==n&&(dr(er.Sources.transceiverSourceState[n].sourceId,er.Sources.transceiverSourceState[r].mid),er.Params.viewer.showLabels&&(document.getElementById("sideLabel".concat(er.Sources.transceiverSourceState[r].mid)).textContent=er.Sources.transceiverSourceState[n].sourceId)):null!==er.Sources.selectedVideoSource.sourceId&&null!==t&&r!==n&&(dr(er.Sources.transceiverSourceState[n].sourceId,er.Sources.selectedVideoSource.mid),er.Params.viewer.showLabels&&(document.getElementById("sideLabel".concat(er.Sources.transceiverSourceState[er.Sources.selectedVideoSource.mid].mid)).textContent=er.Sources.transceiverSourceState[n].sourceId))),Zt("Sources/removeTransceiverSourceState",t)),Zt("Sources/removeSourceRemoteTrack",t),Zt("Sources/removeSource",{kind:e,sourceId:t}),lr({kind:e,source:o})},lr=function(){var e=u(c().mark((function e(t){var r,n,o,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.kind,n=t.source,o=null,i=null,"video"===r?(Qt(),o=er.ViewConnection.trackEvent.video.track,i=er.Sources.selectedVideoSource):"audio"===r&&(o=er.ViewConnection.trackEvent.audio.track,i=er.Sources.selectedVideoSource,i=er.Sources.selectedAudioSource),Zt("Sources/setSelectedSource",{kind:r,selectedSource:n}),!n||"none"===(null===n||void 0===n?void 0:n.name)||!o){e.next=9;break}return e.next=8,ur({kind:r,source:n});case 8:"none"!==i.name&&Zt("Controls/setTrackWarning",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ur=function(){var e=u(c().mark((function e(t){var r,n,o,i,s,a,l,u,f,p;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.kind,n=t.source,o=null===n||void 0===n?void 0:n.sourceId,i=null,s=null,"video"===r?(i=er.Sources.videoSources,s=null===(a=er.ViewConnection.trackEvent)||void 0===a||null===(a=a.video)||void 0===a?void 0:a.transceiver):"audio"===r&&(i=er.Sources.audioSources,s=null===(l=er.ViewConnection.trackEvent)||void 0===l||null===(l=l.audio)||void 0===l?void 0:l.transceiver),!er.Controls.castIsConnected){e.next=9;break}Nt(),e.next=13;break;case 9:if(null===o&&!i.length){e.next=13;break}return p=null!==(u=null===(f=s)||void 0===f?void 0:f.mid)&&void 0!==u?u:null,e.next=13,er.ViewConnection.millicastView.project(o,[d(d({trackId:n.trackId,mediaId:p},"video"===r&&{promote:!0}),{},{media:r})]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dr=function(){var e=u(c().mark((function e(t,r,n,o){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,er.ViewConnection.millicastView.project(t,[{trackId:n,mediaId:r,media:"video",layer:o}]);case 2:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),fr=function(){var e=u(c().mark((function e(t){var r,n,o,s,a,l;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["nextTick"])();case 2:a="sidePlayer"+(null===(r=t.transceiver)||void 0===r?void 0:r.mid),l=document.getElementById(a),l.srcObject=t.mediaStream,dr(t.sourceId,null!==(n=null===(o=t.transceiver)||void 0===o?void 0:o.mid)&&void 0!==n?n:null,er.Sources.transceiverSourceState[null===(s=t.transceiver)||void 0===s?void 0:s.mid].trackId),l.muted=!0,l.autoPlay=!0,l.playsInline=!0,l.play();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pr=function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=er.ViewConnection.millicastView.webRTCPeer.peer.getTransceivers().splice(2).map((function(e){return e.mid})),er.ViewConnection.millicastView.unproject(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hr=nt.commit,mr=nt.state,gr=null,vr=function(e){var t=e.videoPlayer,r=e.srcObject,n=e.volume,o=e.muted,i=e.autoplay;t&&(hr("Controls/setVideo",t),hr("Controls/setCurrentElementRef",t.id)),r&&hr("Controls/setVideoSource",r),n&&hr("Controls/setVideoVolume",n),o&&hr("Controls/setVideoMuted",o),i&&hr("Controls/setVideoAutoplay",i),br(mr.Controls.video)},br=function(e){e.onplay=function(){return hr("Controls/setPlaying",!0)},e.addEventListener("emptied",wr),e.addEventListener("pause",wr),e.onenterpictureinpicture=function(){return hr("Controls/setPip",!0)},e.onleavepictureinpicture=function(){return hr("Controls/setPip",!1)}},yr=function(){mr.Controls.video.removeEventListener("emptied",wr),mr.Controls.video.removeEventListener("pause",wr)},wr=function(){hr("Controls/setPlaying",!1)},Sr=function(){window.Version=Object({NODE_ENV:"production",VUE_APP_DEFAULT_TURN_ENDPOINT:"",VUE_APP_DEFAULT_LIVEWS_ENDPOINT:"",VUE_APP_DEFAULT_DIRECTOR_ENDPOINT:"https://director.millicast.com/",VUE_APP_DEFAULT_PUBLIC_PATH:"/",VUE_APP_DEFAULT_CHROMECAST_ID:"EC3A02DA",VUE_APP_DEFAULT_REPORT_URL:"https://playback-report.millicast.com",BASE_URL:"/"}).PACKAGE_VERSION,window.Logger=A["Logger"];var e=it(),t=st();St(e,t),Er()},Or=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ot();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xr=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ct();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Er=function(){xt(),_r()},_r=function(){var e,t=mr.ViewConnection.millicastView;mr.ViewConnection.eventListeners.broadcastEvent=null!==(e=mr.ViewConnection.eventListeners.broadcastEvent)&&void 0!==e?e:t.on("broadcastEvent",(function(e){var t=e.name;switch(t){case"active":jr(e);break;case"stopped":Cr(e);break;case"inactive":kr(e);break;case"layers":Ir(e);break;case"viewercount":Tr(e);break;default:break}}))},jr=function(e){if(rr(e.data),hr("Controls/setIsLive",!0),mr.Controls.isSelectingLayer||hr("Controls/setIsLoading",!1),jt(),mr.Controls.video.srcObject||hr("Controls/setVideoSource",mr.Controls.srcObject),null!=gr){var t=setTimeout((function(){console.warn("Starting quality selected, but no layer event available."),hr("Controls/setIsLoading",!1)}),5e3);gr=t}},Cr=function(){hr("Controls/setIsLoading",!1),hr("Controls/setIsLive",!1)},kr=function(e){var t,r=e.data,n=mr.Sources.selectedVideoSource,o=mr.Sources.selectedAudioSource,i=(null===n.sourceId||null===o.sourceId)&&null===r.sourceId;ar(null!==(t=null===r||void 0===r?void 0:r.sourceId)&&void 0!==t?t:null),e.data.streamId||hr("Controls/setUserCount",null),mr.Sources.videoSources.length+mr.Sources.audioSources.length===0?(Qt(),hr("Controls/setTrackWarning",!1),hr("Controls/setIsLive",!1),hr("Controls/setPlaying",!1),hr("Controls/setVideoSource",null)):i&&(""===mr.Controls.dropup&&hr("Controls/setDropup","settings"),hr("Controls/setTrackWarning",i))},Ir=function(e){"0"in e.data.medias?Wt(e):Qt();var t=mr.Layers.mainTransceiverMedias.active;if(0===t.length)return console.warn("No active layers available, will wait for next event. Switching to Auto until then."),null!=gr&&clearTimeout(gr),gr=null,void hr("Controls/setIsLoading",!1);if(mr.Controls.isSelectingLayer&&null!==mr.Params.viewer.startingQuality){var r,n={},o=mr.Params.viewer.startingQuality,i=["auto","high","medium","low"].indexOf(o.toLowerCase());if(/^\d{3,4}$/.test(o))n=t.find((function(e){return e.height===parseInt(o)})),console.log("Selected media, height:",null===(r=n)||void 0===r?void 0:r.id);else if(i>=0){var s;n="low"===o.toLowerCase()?t[t.length-1]:t[i],console.log("Selected media, level:",null===(s=n)||void 0===s?void 0:s.id)}else console.warn("Not valid starting quality, switching to Auto"),n={name:"Auto"};void 0==n&&(console.warn("Not valid starting quality, switching to Auto"),n={name:"Auto"}),setTimeout((function(){Pr(n),null!=gr&&clearTimeout(gr),gr=null,hr("Controls/setIsSelectingLayer",!1),hr("Controls/setIsLoading",!1)}),1500)}},Tr=function(e){hr("Controls/setViewerCount",e.data.viewercount)},Pr=function(e){Yt(e)},Ar=function(){var e=u(c().mark((function e(t){var r,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.kind,n=t.source,e.next=3,lr({kind:r,source:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Rr=function(){var e=u(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:fr(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vr=function(){var e=u(c().mark((function e(t,r,n,o){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:dr(t,r,n,o);case 1:case"end":return e.stop()}}),e)})));return function(t,r,n,o){return e.apply(this,arguments)}}(),Nr=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:pr();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lr=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Vt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Dr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r("8172"),r("efec"),r("a9e3");function Mr(e,t){if("object"!=a(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Br(e){var t=Mr(e,"string");return"symbol"==a(t)?t:String(t)}function $r(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,Br(n.key),n)}}function Fr(e,t,r){return t&&$r(e.prototype,t),r&&$r(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var Ur=Object.defineProperty,zr=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty,Gr=Object.prototype.propertyIsEnumerable,Hr=(e,t,r)=>t in e?Ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wr=(e,t)=>{for(var r in t||(t={}))qr.call(t,r)&&Hr(e,r,t[r]);if(zr)for(var r of zr(t))Gr.call(t,r)&&Hr(e,r,t[r]);return e},Qr=e=>"function"===typeof e,Yr=e=>"string"===typeof e,Kr=e=>Yr(e)&&e.trim().length>0,Xr=e=>"number"===typeof e,Jr=e=>"undefined"===typeof e,Zr=e=>"object"===typeof e&&null!==e,en=e=>an(e,"tag")&&Kr(e.tag),tn=e=>window.TouchEvent&&e instanceof TouchEvent,rn=e=>an(e,"component")&&on(e.component),nn=e=>Qr(e)||Zr(e),on=e=>!Jr(e)&&(Yr(e)||nn(e)||rn(e)),sn=e=>Zr(e)&&["height","width","right","left","top","bottom"].every(t=>Xr(e[t])),an=(e,t)=>(Zr(e)||Qr(e))&&t in e,cn=(e=>()=>e++)(0);function ln(e){return tn(e)?e.targetTouches[0].clientX:e.clientX}function un(e){return tn(e)?e.targetTouches[0].clientY:e.clientY}var dn,fn,pn,hn=e=>{Jr(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},mn=e=>rn(e)?mn(e.component):en(e)?Object(i["defineComponent"])({render(){return e}}):"string"===typeof e?e:Object(i["toRaw"])(Object(i["unref"])(e)),gn=e=>{if("string"===typeof e)return e;const t=an(e,"props")&&Zr(e.props)?e.props:{},r=an(e,"listeners")&&Zr(e.listeners)?e.listeners:{};return{component:mn(e),props:t,listeners:r}},vn=()=>"undefined"!==typeof window,bn=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const r=this.getHandlers(e);r.push(t),this.allHandlers[e]=r}off(e,t){const r=this.getHandlers(e);r.splice(r.indexOf(t)>>>0,1)}emit(e,t){const r=this.getHandlers(e);r.forEach(e=>e(t))}},yn=e=>["on","off","emit"].every(t=>an(e,t)&&Qr(e[t]));(function(e){e["SUCCESS"]="success",e["ERROR"]="error",e["WARNING"]="warning",e["INFO"]="info",e["DEFAULT"]="default"})(dn||(dn={})),function(e){e["TOP_LEFT"]="top-left",e["TOP_CENTER"]="top-center",e["TOP_RIGHT"]="top-right",e["BOTTOM_LEFT"]="bottom-left",e["BOTTOM_CENTER"]="bottom-center",e["BOTTOM_RIGHT"]="bottom-right"}(fn||(fn={})),function(e){e["ADD"]="add",e["DISMISS"]="dismiss",e["UPDATE"]="update",e["CLEAR"]="clear",e["UPDATE_DEFAULTS"]="update_defaults"}(pn||(pn={}));var wn="Vue-Toastification",Sn={type:{type:String,default:dn.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},On={type:Sn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},xn={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Sn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},En={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},_n={transition:{type:[Object,String],default:wn+"__bounce"}},jn={position:{type:String,default:fn.TOP_RIGHT},draggable:Sn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Sn.trueBoolean,pauseOnHover:Sn.trueBoolean,closeOnClick:Sn.trueBoolean,timeout:En.timeout,hideProgressBar:En.hideProgressBar,toastClassName:Sn.classNames,bodyClassName:Sn.classNames,icon:On.customIcon,closeButton:xn.component,closeButtonClassName:xn.classNames,showCloseButtonOnHover:xn.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new bn}},Cn={id:{type:[String,Number],required:!0,default:0},type:Sn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},kn={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Sn.trueBoolean,maxToasts:{type:Number,default:20},transition:_n.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Sn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},In={CORE_TOAST:jn,TOAST:Cn,CONTAINER:kn,PROGRESS_BAR:En,ICON:On,TRANSITION:_n,CLOSE_BUTTON:xn},Tn=Object(i["defineComponent"])({name:"VtProgressBar",props:In.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:this.timeout+"ms",animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?wn+"__progress-bar":""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Pn(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{style:Object(i["normalizeStyle"])(e.style),class:Object(i["normalizeClass"])(e.cpClass)},null,6)}Tn.render=Pn;var An=Tn,Rn=Object(i["defineComponent"])({name:"VtCloseButton",props:In.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?mn(this.component):"button"},classes(){const e=[wn+"__close-button"];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Vn=Object(i["createTextVNode"])(" × ");function Nn(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.buttonComponent),Object(i["mergeProps"])({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Object(i["withCtx"])(()=>[Vn]),_:1},16,["aria-label","class"])}Rn.render=Nn;var Ln=Rn,Dn={},Mn={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Bn=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),$n=[Bn];function Fn(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Mn,$n)}Dn.render=Fn;var Un=Dn,zn={},qn={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Gn=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Hn=[Gn];function Wn(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",qn,Hn)}zn.render=Wn;var Qn=zn,Yn={},Kn={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Xn=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Jn=[Xn];function Zn(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Kn,Jn)}Yn.render=Zn;var eo=Yn,to={},ro={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},no=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),oo=[no];function io(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",ro,oo)}to.render=io;var so=to,ao=Object(i["defineComponent"])({name:"VtIcon",props:In.ICON,computed:{customIconChildren(){return an(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Yr(this.customIcon)?this.trimValue(this.customIcon):an(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return an(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:on(this.customIcon)?mn(this.customIcon):this.iconTypeComponent},iconTypeComponent(){const e={[dn.DEFAULT]:Qn,[dn.INFO]:Qn,[dn.SUCCESS]:Un,[dn.ERROR]:so,[dn.WARNING]:eo};return e[this.type]},iconClasses(){const e=[wn+"__icon"];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Kr(e)?e.trim():t}}});function co(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.component),{class:Object(i["normalizeClass"])(e.iconClasses)},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.customIconChildren),1)]),_:1},8,["class"])}ao.render=co;var lo=ao,uo=Object(i["defineComponent"])({name:"VtToast",components:{ProgressBar:An,CloseButton:Ln,Icon:lo},inheritAttrs:!1,props:Object.assign({},In.CORE_TOAST,In.TOAST),data(){const e={isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}};return e},computed:{classes(){const e=[wn+"__toast",`${wn}__toast--${this.type}`,""+this.position].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(wn+"__toast--rtl"),e},bodyClasses(){const e=[`${wn}__toast-${Yr(this.content)?"body":"component-body"}`].concat(this.bodyClassName);return e},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return sn(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:an,getVueComponentFromObj:mn,closeToast(){this.eventBus.emit(pn.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:ln(e),y:un(e)},this.dragStart=ln(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:ln(e),y:un(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,sn(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),fo=["role"];function po(e,t){const r=Object(i["resolveComponent"])("Icon"),n=Object(i["resolveComponent"])("CloseButton"),o=Object(i["resolveComponent"])("ProgressBar");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.classes),style:Object(i["normalizeStyle"])(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Object(i["createCommentVNode"])("v-if",!0),Object(i["createElementVNode"])("div",{role:e.accessibility.toastRole||"alert",class:Object(i["normalizeClass"])(e.bodyClasses)},["string"===typeof e.content?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.content),1)],2112)):(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.getVueComponentFromObj(e.content)),Object(i["mergeProps"])({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Object(i["toHandlers"])(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,fo),e.closeButton?(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Object(i["withModifiers"])(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Object(i["createCommentVNode"])("v-if",!0),e.timeout?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Object(i["createCommentVNode"])("v-if",!0)],38)}uo.render=po;var ho=uo,mo=Object(i["defineComponent"])({name:"VtTransition",props:In.TRANSITION,emits:["leave"],methods:{hasProp:an,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function go(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(i["TransitionGroup"],{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:e.transition+"-enter-active","move-class":e.transition.move?e.transition.move:e.transition+"-move","leave-active-class":e.transition.leave?e.transition.leave:e.transition+"-leave-active",onLeave:e.leave},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}mo.render=go;var vo=mo,bo=Object(i["defineComponent"])({name:"VueToastification",devtools:{hide:!0},components:{Toast:ho,VtTransition:vo},props:Object.assign({},In.CORE_TOAST,In.CONTAINER,In.TRANSITION),data(){const e={count:0,positions:Object.values(fn),toasts:{},defaults:{}};return e},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(pn.ADD,this.addToast),e.on(pn.CLEAR,this.clearToasts),e.on(pn.DISMISS,this.dismissToast),e.on(pn.UPDATE,this.updateToast),e.on(pn.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Qr(e)&&(e=await e()),hn(this.$el),e.appendChild(this.$el)},setToast(e){Jr(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=gn(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),r=this.defaults.filterBeforeCreate(t,this.toastArray);r&&this.setToast(r)},dismissToast(e){const t=this.toasts[e];Jr(t)||Jr(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(t=>t.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Jr(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:r}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):r&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){const t=[wn+"__container",e];return t.concat(this.defaults.containerClassName)}}});function yo(e,t){const r=Object(i["resolveComponent"])("Toast"),n=Object(i["resolveComponent"])("VtTransition");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.positions,t=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t},[Object(i["createVNode"])(n,{transition:e.defaults.transition,class:Object(i["normalizeClass"])(e.getClasses(t))},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.getPositionToasts(t),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(r,Object(i["mergeProps"])({key:e.id},e),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}bo.render=yo;var wo=bo,So=(e={},t=!0)=>{const r=e.eventBus=e.eventBus||new bn;t&&Object(i["nextTick"])(()=>{const t=Object(i["createApp"])(wo,Wr({},e)),r=t.mount(document.createElement("div")),n=e.onMounted;if(Jr(n)||n(r,t),e.shareAppContext){const r=e.shareAppContext;!0===r?console.warn(`[${wn}] App to share context with was not provided.`):(t._context.components=r._context.components,t._context.directives=r._context.directives,t._context.mixins=r._context.mixins,t._context.provides=r._context.provides,t.config.globalProperties=r.config.globalProperties)}});const n=(e,t)=>{const n=Object.assign({},{id:cn(),type:dn.DEFAULT},t,{content:e});return r.emit(pn.ADD,n),n.id};function o(e,{content:t,options:n},o=!1){const i=Object.assign({},n,{content:t});r.emit(pn.UPDATE,{id:e,options:i,create:o})}return n.clear=()=>r.emit(pn.CLEAR,void 0),n.updateDefaults=e=>{r.emit(pn.UPDATE_DEFAULTS,e)},n.dismiss=e=>{r.emit(pn.DISMISS,e)},n.update=o,n.success=(e,t)=>n(e,Object.assign({},t,{type:dn.SUCCESS})),n.info=(e,t)=>n(e,Object.assign({},t,{type:dn.INFO})),n.error=(e,t)=>n(e,Object.assign({},t,{type:dn.ERROR})),n.warning=(e,t)=>n(e,Object.assign({},t,{type:dn.WARNING})),n},Oo=()=>{const e=()=>console.warn(`[${wn}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function xo(e){return vn()?yn(e)?So({eventBus:e},!1):So(e,!0):Oo()}var Eo=Symbol("VueToastification"),_o=new bn,jo=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const r=xo(Wr({eventBus:_o},t));e.provide(Eo,r)},Co=e=>{if(e)return xo(e);const t=Object(i["getCurrentInstance"])()?Object(i["inject"])(Eo,void 0):void 0;return t||xo(_o)},ko=jo,Io={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},To=function(){function e(){Dr(this,e),this.toast=Co(),this.store=nt}return Fr(e,[{key:"showToast",value:function(e,t,r){this.toast=Co(),this.toast.clear(),this.shouldShowError(e)&&this.showToaster(e,t,r)}},{key:"showToaster",value:function(e,t,r){switch(e){case Io.ERROR:this.toast.error(t,r);break;case Io.WARNING:this.toast.warning(t,r);break;case Io.INFO:this.toast.info(t,r);break;case Io.SUCCESS:this.toast.success(t,r);break;default:break}}},{key:"shouldShowError",value:function(e){var t,r=null===(t=this.store)||void 0===t||null===(t=t._state)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.Controls.hideToast;return!(r&&r.includes(e))}},{key:"clear",value:function(){this.toast=Co(),this.toast.clear()}},{key:"updateDefaults",value:function(e){this.toast=Co(),this.toast.updateDefaults(e)}}]),e}(),Po=To,Ao={name:"VideoPlayerMedia",data:function(){return{accountId:null,streamName:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null,toast:null}}},mounted:function(){var e=this;return u(c().mark((function t(){var r;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:r=document.getElementById(e.currentElementRef),vr({videoPlayer:r,srcObject:null,volume:1,muted:e.viewer.muted,autoplay:e.viewer.autoplay});case 2:case"end":return t.stop()}}),t)})))()},computed:d(d(d(d(d(d(d({},Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ae("Sources",{isAudioOnly:function(e){return e.isAudioOnly},stream:function(e){return e.stream},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioSources:function(e){return e.audioSources},videoSources:function(e){return e.videoSources},mainLabel:function(e){return e.mainLabel}})),Ae("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},playerMuted:function(e){return e.muted},isLive:function(e){return e.isLive},reconnection:function(e){return e.reconnection},reconnectionStatus:function(e){return e.reconnection.status},currentElementRef:function(e){return e.currentElementRef},isMigrating:function(e){return e.isMigrating},isSplittedView:function(e){return e.isSplittedView},previousSplitState:function(e){return e.previousSplitState},isGrid:function(e){return e.isGrid},fullscreen:function(e){return e.fullscreen}})),Ae("Params",{viewer:function(e){return e.viewer}})),Ve("Sources",["getVideoHasMain","getAudioHasMain"])),{},{displayAudioOnly:function(){return this.isAudioOnly&&this.isLive||null===this.viewer.placeholderImg&&!this.isLive}}),methods:d(d(d(d(d(d({},Re("Sources",["addVideoSource","addAudioSource","setStream"])),Re("Layers",["addLayers","selectQuality","deleteLayers"])),Re("Controls",["setVideoMuted","setDropup","setTrackWarning","stopVideo","setAutoPlayMuted","userParamOptions","setIsSplittedView"])),Re("ViewConnection",["setMillicastView"])),Ne("Sources",["updateBroadcastState"])),{},{stop:function(){var e;null===(e=this.millicastView)||void 0===e||e.stop(),this.stopCurrentVideo()},stopCurrentVideo:function(){this.eventListeners.stats=null,this.stopVideo()}}),watch:{reconnectionStatus:function(e){var t,r=this;if(this.toast=new Po,this.toast.clear(),e){var n;this.setIsSplittedView(!1);var o,i="Connection lost. Retrying...";if(null!==(n=this.reconnection)&&void 0!==n&&n.timeout)t={timeout:null===(o=this.reconnection)||void 0===o?void 0:o.timeout};this.toast.showToast("warning",i,t)}else{var s=function e(t){["connected"].includes(t)&&(r.setIsSplittedView(r.previousSplitState),r.millicastView.removeListener("connectionStateChange",e),r.toast.clear())};this.millicastView.on("connectionStateChange",s)}},displayAudioOnly:function(){var e=u(c().mark((function e(){var t,r,n,o,s;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.video.srcObject,r=this.video.volume,n=this.video.muted,o=this.video.autoplay,e.next=6,Object(i["nextTick"])();case 6:s=document.getElementById(this.currentElementRef),vr({videoPlayer:s,srcObject:t,volume:r,muted:n,autoplay:o});case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewer:function(){var e=this;return u(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xr();case 2:return t.next=4,Object(i["nextTick"])();case 4:return Sr(),t.prev=5,t.next=8,Or();case 8:setTimeout((function(){e.setAutoPlayMuted(!1)}),6e3),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),e.toast.showToast("error",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})))()}}},Ro=(r("306f"),r("6b0d")),Vo=r.n(Ro);const No=Vo()(Ao,[["render",P],["__scopeId","data-v-35be14d8"]]);var Lo=No,Do=["onClick","id"],Mo=["id"];function Bo(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.isGrid?"sources":"list-side")},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.sourceRemoteTracks,(function(t,r){var n,a,c,l;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.isGrid?"grid-item":"list-item"),style:"scroll-snap-align: end",key:"p"+r},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["videoText",e.isGrid?"videoGrid":""])},[Object(i["createElementVNode"])("video",{onClick:function(){var e;return o.enableClick&&s.switchProjection(null===(e=t.transceiver)||void 0===e?void 0:e.mid)},id:"sidePlayer".concat(null===(n=t.transceiver)||void 0===n?void 0:n.mid),ref_for:!0,ref:"sidePlayer".concat(null===(a=t.transceiver)||void 0===a?void 0:a.mid),class:Object(i["normalizeClass"])(!e.isGrid&&e.isSplittedView?"hires-class":""),autoplay:"",muted:"",playsinline:""},null,10,Do),e.viewer.showLabels?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,id:"sideLabel".concat(null===(c=t.transceiver)||void 0===c?void 0:c.mid),ref_for:!0,ref:"sideLabel".concat(null===(l=t.transceiver)||void 0===l?void 0:l.mid)},Object(i["toDisplayString"])(t.sourceId),9,Mo)):Object(i["createCommentVNode"])("",!0)],2)],2)})),128))],2)}var $o={name:"VideoPlayerSideVideoSources",data:function(){return{indexSourceProjectedInMain:null,indexMainMediaSource:0,playerRef:null,enableClick:!0,toast:new Po}},computed:d(d(d(d(d({},Ae("Sources",["sourceRemoteTracks","videoSources","audioSources","transceiverSourceState","audioFollowsVideo"])),Ae("Controls",{fullscreen:function(e){return e.fullscreen},isGrid:function(e){return e.isGrid},isSplittedView:function(e){return e.isSplittedView},currentElementRef:function(e){return e.currentElementRef}})),Ve("Sources",["getVideoHasMain","getSelectedVideoSource"])),Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Params",{viewer:function(e){return e.viewer}})),mounted:function(){var e=this;return u(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:Ar({kind:"video",source:e.videoSources[0]}),e.setMainLabel(e.videoSources[0].name),e.sourceRemoteTracks.forEach(function(){var e=u(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Rr(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.playerRef=document.getElementById("player");case 4:case"end":return t.stop()}}),t)})))()},unmounted:function(){var e=this;return u(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.videoSources.forEach((function(t){e.transceiverSourceState[t.mid]=t})),Nr();case 2:case"end":return t.stop()}}),t)})))()},watch:{"sourceRemoteTracks.length":{handler:function(){var e=u(c().mark((function e(t,r){var n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>r)){e.next=6;break}return n=t-1,e.next=4,Rr(this.sourceRemoteTracks[n]);case 4:e.next=7;break;case 6:this.sourceRemoteTracks.forEach(function(){var e=u(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Rr(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));function t(t,r){return e.apply(this,arguments)}return t}()}},methods:d(d(d(d({},Re("Controls",["toggleFullscreen","setIsSplittedView"])),Re("Sources",["setMainLabel","setPreviousMainLabel","updateTransceiverSourceState"])),Ve("Layers",["getActiveMedias","getActiveMainTransceiverMedias"])),{},{switchProjection:function(e){var t=this;return u(c().mark((function r(){var n,o,s,a,l,u,d;return c().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,Object(i["nextTick"])();case 2:return t.enableClick=!1,t.playerRef=document.getElementById(t.currentElementRef),o=t.transceiverSourceState[e],a=t.videoSources[0].mid,l=o.name,u=t.audioSources.find((function(e){return e.name===l})),t.getVideoHasMain&&(t.viewer.showLabels&&(t.$refs["sideLabel".concat(e)][0].textContent=t.transceiverSourceState[a].name),d=t.transceiverSourceState[a].sourceId,a=t.transceiverSourceState[a].mid,a in t.getActiveMedias()&&(s=t.getActiveMedias()[a].layers.slice(-1)[0]),Vr(d,e,t.transceiverSourceState[a].trackId,s),t.updateTransceiverSourceState({source:o})),t.setMainLabel(null!==(n=o.sourceId)&&void 0!==n?n:o.name),r.next=12,Ar({kind:"video",source:o});case 12:if(t.isGrid&&t.setIsSplittedView(!1),!u||!t.audioFollowsVideo){r.next=22;break}return r.prev=14,r.next=17,Ar({kind:"audio",source:u});case 17:r.next=22;break;case 19:r.prev=19,r.t0=r["catch"](14),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 22:t.enableClick=!0;case 23:case"end":return r.stop()}}),r,null,[[14,19]])})))()}})};r("da1f");const Fo=Vo()($o,[["render",Bo],["__scopeId","data-v-aac4ed3c"]]);var Uo=Fo,zo={key:0,class:"align-middle"},qo=["textContent"];function Go(e,t,r,n,o,s){return e.isLoading?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h4",zo,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["badge badge-secondary",{"badge-danger":e.isLive}]),textContent:Object(i["toDisplayString"])(s.text),style:{border:"0px"}},null,10,qo)]))}var Ho={name:"VideoPlayerControlsBadge",computed:d(d({},Ae("Controls",{isLive:function(e){return e.isLive},isLoading:function(e){return e.isLoading}})),{},{text:function(){return this.isLive?"LIVE":"NOT LIVE"}})};const Wo=Vo()(Ho,[["render",Go]]);var Qo=Wo;function Yo(e,t,r,n,o,s){return e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return r.click&&r.click.apply(r,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-fullscreen":!o.fullscreen,"ml-viewer-bi-fullscreen-exit":o.fullscreen}])},null,2),Object(i["createTextVNode"])(" Full Screen ")])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-fullscreen":!o.fullscreen,"ml-viewer-bi-fullscreen-exit":o.fullscreen}]),onClick:t[1]||(t[1]=function(){return r.click&&r.click.apply(r,arguments)})},null,2))}var Ko={name:"VideoPlayerControlsFullscreen",props:{click:Function},data:function(){return{fullscreen:!1}},mounted:function(){var e,t=this;document.onfullscreenchange=function(){t.fullscreen=!!document.fullscreenElement};var r=null!==(e=document.getElementById("player"))&&void 0!==e?e:document.getElementById("player2");r.onwebkitfullscreenchange=function(){t.fullscreen=r.fullscreenElement},this.fullscreen=!!document.fullscreenElement||r.fullscreenElement},computed:d({},Ae("Controls",{isMobile:function(e){return e.isMobile}}))};const Xo=Vo()(Ko,[["render",Yo]]);var Jo=Xo;function Zo(e,t,r,n,o,s){return e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2),Object(i["createTextVNode"])(" Miniplayer ")])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"mobile-setting",onClick:t[1]||(t[1]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2)]))}var ei={name:"VideoPlayerControlsPip",computed:d({},Ae("Controls",{isMobile:function(e){return e.isMobile},pip:function(e){return e.pip},video:function(e){return e.video}})),methods:{togglePip:function(){!this.pip&&this.video.srcObject&&"VIDEO"===this.video.nodeName?this.video.requestPictureInPicture():document.exitPictureInPicture()}}};r("6a15");const ti=Vo()(ei,[["render",Zo],["__scopeId","data-v-63e7514d"]]);var ri=ti;function ni(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-play-fill":!e.playing,"ml-viewer-bi-pause-fill":e.playing}]),onClick:t[0]||(t[0]=function(){return s.togglePlay&&s.togglePlay.apply(s,arguments)})},null,2)}var oi={name:"VideoPlayerControlsPlay",computed:d({},Ae("Controls",{video:function(e){return e.video},playing:function(e){return e.playing}})),methods:{togglePlay:function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.playing){e.next=5;break}return e.next=3,this.video.pause();case 3:e.next=10;break;case 5:if(null===(null===(t=this.video)||void 0===t?void 0:t.srcObject)){e.next=10;break}return e.next=8,Or();case 8:return e.next=10,this.video.play();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};const ii=Vo()(oi,[["render",ni]]);var si=ii,ai=function(e){return Object(i["pushScopeId"])("data-v-464a8bef"),e=e(),Object(i["popScopeId"])(),e},ci={class:"dropup"},li={key:0,class:"badge bg-light ms-2"},ui=ai((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-exclamation-circle-fill p-0"},null,-1)})),di=[ui],fi={class:"dropdown-header d-flex m-0 col-12"},pi=ai((function(){return Object(i["createElementVNode"])("h6",{class:"p-0 m-0"},"Settings",-1)})),hi={class:"p-0 ml-auto",style:{color:"#9e9e9e"}};function mi(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsSettingsQuality"),c=Object(i["resolveComponent"])("VideoPlayerControlsSettingsLayout"),l=Object(i["resolveComponent"])("VideoPlayerControlsSettingsSplitView"),u=Object(i["resolveComponent"])("VideoPlayerControlsSettingsVideoTrack"),d=Object(i["resolveComponent"])("VideoPlayerControlsSettingsAudioTrack"),f=Object(i["resolveComponent"])("VideoPlayerControlsSettingsStats"),p=Object(i["resolveComponent"])("VideoPlayerControlsSettingsReportIssue"),h=Object(i["resolveComponent"])("VideoPlayerControlsSettingsDropdown");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[""!==e.dropup?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#viewer-container"},[Object(i["createElementVNode"])("div",{class:"backdrop",onClick:t[0]||(t[0]=function(t){return e.setDropup("")})})])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",ci,[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-gear-fill h3 align-middle control-icon",onClick:t[1]||(t[1]=function(t){return e.setDropup("settings")})},[e.trackWarning?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",li,di)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{ref:"settings",class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"settings"===e.dropup}]),style:{"margin-bottom":"0.9rem"}},[Object(i["createElementVNode"])("div",fi,[pi,Object(i["createElementVNode"])("div",hi,Object(i["toDisplayString"])(o.viewerVersion),1)]),e.getActiveMainTransceiverMedias.length>1?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1&&e.isSplittedView?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:2})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1||!e.getVideoHasMain&&e.getVideoSources.length?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:3,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(i["createCommentVNode"])("",!0),e.getAudioSources.length>1||!e.getAudioHasMain&&e.getAudioSources.length?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:4,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(f),Object(i["createVNode"])(p,{streamId:r.streamId},null,8,["streamId"])],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:o.showDropup}]),style:Object(i["normalizeStyle"])([{width:o.settingsWidth},{"margin-bottom":"0.9rem"}])},[Object(i["createVNode"])(h,{selected:o.selected,items:o.items,compare:o.compare,handleClick:o.handleClick,title:o.dropupTitle,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["selected","items","compare","handleClick","title","unsupportedFlagEmoji","sourceFlagEmojiToPng"])],6)])],64)}function gi(e){if(Array.isArray(e))return Mt(e)}function vi(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bi(e){return gi(e)||Dt(e)||Bt(e)||vi()}r("a15b"),r("f5b2");var yi=function(e){return Object(i["pushScopeId"])("data-v-7ef173a6"),e=e(),Object(i["popScopeId"])(),e},wi={class:"back-header mr-2"},Si={class:"bi ml-viewer-bi-camera-video-fill"},Oi={key:0,class:"badge bg-danger"},xi=["innerHTML"],Ei={key:1},_i=yi((function(){return Object(i["createElementVNode"])("div",{class:"back-arrow"},[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function ji(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("videoTracks")})},[Object(i["createElementVNode"])("span",wi,[Object(i["createElementVNode"])("i",Si,["none"===this.selectedVideoSource.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oi)):Object(i["createCommentVNode"])("",!0)]),Object(i["createTextVNode"])(" Video Source: ")]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedVideoSource.name?"none":"",null===this.selectedVideoSource.sourceId?"main":""]])},[r.unsupportedFlagEmoji(this.selectedVideoSource.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:r.sourceFlagEmojiToPng(this.selectedVideoSource.name)},null,8,xi)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ei,Object(i["toDisplayString"])(this.selectedVideoSource.name),1))],2),_i])}var Ci={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:d({},Ae("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource}})),methods:d({},Re("Controls",["setDropup"]))};r("d8d3");const ki=Vo()(Ci,[["render",ji],["__scopeId","data-v-7ef173a6"]]);var Ii=ki,Ti=function(e){return Object(i["pushScopeId"])("data-v-c75512c2"),e=e(),Object(i["popScopeId"])(),e},Pi={class:"back-header mr-2"},Ai={class:"bi ml-viewer-bi-soundwave"},Ri={key:0,class:"badge bg-danger"},Vi=["innerHTML"],Ni={key:1},Li=Ti((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function Di(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("audioTracks")})},[Object(i["createElementVNode"])("span",Pi,[Object(i["createElementVNode"])("i",Ai,["none"===this.selectedAudioSource.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ri)):Object(i["createCommentVNode"])("",!0)]),Object(i["createTextVNode"])(" Audio Source: ")]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedAudioSource.name?"none":"",null===this.selectedAudioSource.sourceId?"main":""]])},[r.unsupportedFlagEmoji(this.selectedAudioSource.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:r.sourceFlagEmojiToPng(this.selectedAudioSource.name)},null,8,Vi)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ni,Object(i["toDisplayString"])(this.selectedAudioSource.name),1))],2),Li])}var Mi={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:d({},Ae("Sources",{selectedAudioSource:function(e){return e.selectedAudioSource}})),methods:d({},Re("Controls",["setDropup"]))};r("4cb6");const Bi=Vo()(Mi,[["render",Di],["__scopeId","data-v-c75512c2"]]);var $i=Bi,Fi=Object(i["createElementVNode"])("span",{class:"back-header mr-2"},[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-sliders"}),Object(i["createTextVNode"])(" Video Quality: ")],-1),Ui={class:"dropdown-item-name mr-auto"},zi=Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1);function qi(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("qualities")})},[Fi,Object(i["createElementVNode"])("div",Ui,Object(i["toDisplayString"])(this.selectedQuality.name),1),zi])}var Gi={name:"VideoPlayerControlsSettingsQuality",computed:d({},Ae("Layers",{selectedQuality:function(e){return e.selectedQuality}})),methods:d({},Re("Controls",["setDropup"]))};const Hi=Vo()(Gi,[["render",qi]]);var Wi=Hi,Qi=function(e){return Object(i["pushScopeId"])("data-v-00e40a59"),e=e(),Object(i["popScopeId"])(),e},Yi=Qi((function(){return Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-info-circle-fill align-middle control-icon"},null,-1)}));function Ki(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("VideoPlayerStatsTable");return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:Object(i["normalizeClass"])(["dropdown-item",{disabled:!e.isLive}]),onClick:t[0]||(t[0]=function(){return s.toggleStats&&s.toggleStats.apply(s,arguments)})},[Yi,Object(i["createTextVNode"])(" Media Stats "),o.showStats?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#vplayer"},[Object(i["createVNode"])(a,{close:s.toggleStats},null,8,["close"])])):Object(i["createCommentVNode"])("",!0)],2)}var Xi=function(e){return Object(i["pushScopeId"])("data-v-0ebd82a9"),e=e(),Object(i["popScopeId"])(),e},Ji={class:"table table-sm table-dark table-borderless fixed-top"},Zi={key:0,class:"d-flex align-items-center"},es=Xi((function(){return Object(i["createElementVNode"])("span",null,"Source:",-1)})),ts=["value"],rs={colspan:"2",class:"text-right"},ns=Xi((function(){return Object(i["createElementVNode"])("tr",{class:"row mx-0 text-left"},[Object(i["createElementVNode"])("th",{scope:"col",class:"col-6"},"Name"),Object(i["createElementVNode"])("th",{scope:"col",class:"col-6"},"Value")],-1)})),os={key:0,class:"row mx-0"},is=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Server Id",-1)})),ss={class:"col-6"},as={key:1,class:"row mx-0"},cs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Stream View Id",-1)})),ls={class:"col-5"},us={class:"col-1"},ds={key:2,class:"row mx-0"},fs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"RTT",-1)})),ps={class:"col-6"},hs={key:3,class:"row mx-0"},ms=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Resolution",-1)})),gs={class:"col-6"},vs={key:4,class:"row mx-0"},bs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"FPS",-1)})),ys={class:"col-6"},ws={key:5,class:"row mx-0"},Ss=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Bitrate",-1)})),Os={class:"col-6"},xs={key:6,class:"row mx-0"},Es=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Bitrate",-1)})),_s={class:"col-6"},js={key:7,class:"row mx-0"},Cs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Total Received",-1)})),ks={class:"col-6"},Is={key:8,class:"row mx-0"},Ts=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Total Received",-1)})),Ps={class:"col-6"},As={key:9,class:"row mx-0"},Rs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Packet Loss",-1)})),Vs={class:"col-6"},Ns={key:10,class:"row mx-0"},Ls=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Packet Loss",-1)})),Ds={class:"col-6"},Ms={key:11,class:"row mx-0"},Bs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Jitter",-1)})),$s={class:"col-6"},Fs={key:12,class:"row mx-0"},Us=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Jitter",-1)})),zs={class:"col-6"},qs={key:13,class:"row mx-0"},Gs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Capture timestamp",-1)})),Hs=["textContent"],Ws={key:14,class:"row mx-0"},Qs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Capture delta time",-1)})),Ys=["textContent"],Ks={key:15,class:"row mx-0"},Xs=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Codecs",-1)})),Js=["textContent"],Zs={key:16,class:"row mx-0"},ea=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Timestamp",-1)})),ta=["textContent"],ra={key:17,class:"row mx-0"},na=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Server",-1)})),oa=["textContent"],ia={key:18,class:"row mx-0"},sa=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Cluster",-1)})),aa=["textContent"],ca={key:19,class:"row mx-0"},la=Xi((function(){return Object(i["createElementVNode"])("td",{class:"col-12 center"},null,-1)})),ua=[la],da={key:20,class:"row mx-0"},fa={class:"col-12",align:"center"};function pa(e,t,r,n,o,s){var a,c,l,u,d,f,p,h,m,g,v,b,y;return Object(i["openBlock"])(),Object(i["createElementBlock"])("table",Ji,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",{class:Object(i["normalizeClass"])(["row mx-0 align-items-center",s.multiviewStatsAvailable?"justify-content-between":"justify-content-end"])},[s.multiviewStatsAvailable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("th",Zi,[es,Object(i["withDirectives"])(Object(i["createElementVNode"])("select",{class:"ml-2 source-select","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.selectedSourceMid=e}),onChange:t[1]||(t[1]=function(){return s.handleSourceChange&&s.handleSourceChange.apply(s,arguments)})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.getTransceiverSourceState,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("option",{key:e.sourceId,value:e.mid},Object(i["toDisplayString"])(e.name),9,ts)})),128))],544),[[i["vModelSelect"],o.selectedSourceMid]])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("th",rs,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-x-lg",onClick:t[2]||(t[2]=function(){return r.close&&r.close.apply(r,arguments)})})])],2),ns]),s.hasStats?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tbody",{key:0,style:Object(i["normalizeStyle"])([e.isMobile?"overflow-x: auto;":"overflow-x: hidden;"]),class:"text-left videoStats"},[null!==(a=e.millicastView)&&void 0!==a&&null!==(a=a.signaling)&&void 0!==a&&a.subscriberId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",os,[is,Object(i["createElementVNode"])("td",ss,Object(i["toDisplayString"])(e.millicastView.signaling.subscriberId),1)])):Object(i["createCommentVNode"])("",!0),null!==(c=e.millicastView)&&void 0!==c&&null!==(c=c.signaling)&&void 0!==c&&c.streamViewId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",as,[cs,Object(i["createElementVNode"])("td",ls,Object(i["toDisplayString"])(e.millicastView.signaling.streamViewId),1),Object(i["createElementVNode"])("td",us,[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-copy",onClick:t[3]||(t[3]=function(t){return s.copyText(e.millicastView.signaling.streamViewId)})})])])):Object(i["createCommentVNode"])("",!0),o.stats.currentRoundTripTime?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ds,[fs,Object(i["createElementVNode"])("td",ps,Object(i["toDisplayString"])(s.formatMilliseconds(o.stats.currentRoundTripTime)),1)])):Object(i["createCommentVNode"])("",!0),null!==(l=s.video)&&void 0!==l&&l.frameWidth&&null!==(u=s.video)&&void 0!==u&&u.frameHeight?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",hs,[ms,Object(i["createElementVNode"])("td",gs,Object(i["toDisplayString"])("".concat(s.video.frameWidth,"x").concat(s.video.frameHeight)),1)])):Object(i["createCommentVNode"])("",!0),null!==(d=s.video)&&void 0!==d&&d.framesPerSecond?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",vs,[bs,Object(i["createElementVNode"])("td",ys,Object(i["toDisplayString"])(s.video.framesPerSecond),1)])):Object(i["createCommentVNode"])("",!0),null!==(f=s.video)&&void 0!==f&&f.bitrate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ws,[Ss,Object(i["createElementVNode"])("td",Os,Object(i["toDisplayString"])(s.formatBitrate(s.video.bitrate)),1)])):Object(i["createCommentVNode"])("",!0),null!==(p=s.audio)&&void 0!==p&&p.bitrate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",xs,[Es,Object(i["createElementVNode"])("td",_s,Object(i["toDisplayString"])(s.formatBitrate(s.audio.bitrate)),1)])):Object(i["createCommentVNode"])("",!0),null!==(h=s.video)&&void 0!==h&&h.totalBytesReceived?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",js,[Cs,Object(i["createElementVNode"])("td",ks,Object(i["toDisplayString"])(s.formatTotalBytes(s.video.totalBytesReceived)),1)])):Object(i["createCommentVNode"])("",!0),null!==(m=s.audio)&&void 0!==m&&m.totalBytesReceived?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Is,[Ts,Object(i["createElementVNode"])("td",Ps,Object(i["toDisplayString"])(s.formatTotalBytes(s.audio.totalBytesReceived)),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(g=s.video)||void 0===g?void 0:g.totalPacketsLost)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",As,[Rs,Object(i["createElementVNode"])("td",Vs,Object(i["toDisplayString"])(s.video.totalPacketsLost),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(v=s.audio)||void 0===v?void 0:v.totalPacketsLost)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ns,[Ls,Object(i["createElementVNode"])("td",Ds,Object(i["toDisplayString"])(s.audio.totalPacketsLost),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(b=s.video)||void 0===b?void 0:b.jitter)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ms,[Bs,Object(i["createElementVNode"])("td",$s,Object(i["toDisplayString"])(s.formatMilliseconds(s.video.jitter)),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(y=s.audio)||void 0===y?void 0:y.jitter)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Fs,[Us,Object(i["createElementVNode"])("td",zs,Object(i["toDisplayString"])(s.formatMilliseconds(s.audio.jitter)),1)])):Object(i["createCommentVNode"])("",!0),s.videoCaptureTimestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",qs,[Gs,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.videoCaptureTimestamp),class:"col-6"},null,8,Hs)])):Object(i["createCommentVNode"])("",!0),s.videoCaptureDelta?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ws,[Qs,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.videoCaptureDelta),class:"col-6"},null,8,Ys)])):Object(i["createCommentVNode"])("",!0),s.codecs?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ks,[Xs,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.codecs),class:"col-6 text-break"},null,8,Js)])):Object(i["createCommentVNode"])("",!0),s.timestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Zs,[ea,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.timestamp),class:"col-6"},null,8,ta)])):Object(i["createCommentVNode"])("",!0),s.serverId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ra,[na,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.serverId),class:"col-6"},null,8,oa)])):Object(i["createCommentVNode"])("",!0),s.clusterId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ia,[sa,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.clusterId),class:"col-6"},null,8,aa)])):Object(i["createCommentVNode"])("",!0),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ca,ua)):Object(i["createCommentVNode"])("",!0),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",da,[Object(i["createElementVNode"])("td",fa,[Object(i["createElementVNode"])("a",{onClick:t[4]||(t[4]=function(){return r.close&&r.close.apply(r,arguments)}),style:{cursor:"pointer"}},"Close stats")])])):Object(i["createCommentVNode"])("",!0)],4)):Object(i["createCommentVNode"])("",!0)])}r("accc");var ha=["B","KB","MB","GB","TB"],ma={name:"VideoPlayerStatsTable",props:{close:Function},data:function(){return{stats:{},statsIndex:0,selectedSourceMid:null,trackIdToStatsIndexMap:{},trackIdMidMap:{}}},mounted:function(){var e,t,r=this;this.millicastView.webRTCPeer.initStats(),this.millicastView.webRTCPeer.on("stats",(function(e){var t,n,o,i,s;r.trackIdMidMap=r.getTrackIdMidMap,null===(t=e.video)||void 0===t||null===(t=t.inbounds)||void 0===t||t.forEach((function(e,t){e.trackIdentifier&&(r.trackIdToStatsIndexMap[e.trackIdentifier]=t)})),null===(n=window.peer)||void 0===n||null===(o=n.getReceivers)||void 0===o||null===(i=(s=o.call(n)).forEach)||void 0===i||i.call(s,(function(e){r.stats.videoSynchronizationSources="video"===e.track.kind?e.getSynchronizationSources():r.stats.videoSynchronizationSources})),r.stats=d(d({},r.stats),e)})),this.selectedSourceMid=null!==(e=null===(t=this.getTransceiverSourceState[0])||void 0===t?void 0:t.mid)&&void 0!==e?e:Object.values(this.getTransceiverSourceState)[0].mid},beforeUnmount:function(){this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeAllListeners("stats")},methods:{closeTable:function(){this.close()},copyText:function(e){navigator.clipboard.writeText(e)},formatTotalBytes:function(e){return ga(e)},formatBitrate:function(e){return Kt(e)},formatMilliseconds:function(e){return"".concat(1e3*(e||0)," ms")},handleSourceChange:function(){var e,t=null!==(e=this.selectedSourceMid)&&void 0!==e?e:0,r=this.trackIdMidMap[t];this.statsIndex=this.trackIdToStatsIndexMap[r]},selectMidZero:function(){var e,t;this.selectedSourceMid=null!==(e=null===(t=this.getTransceiverSourceState[0])||void 0===t?void 0:t.mid)&&void 0!==e?e:Object.values(this.getTransceiverSourceState)[0].mid}},computed:d(d(d(d(d({},Ae("Controls",["isMobile","isSplittedView"])),Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Sources",["sourceRemoteTracks","videoSources"])),Ve("Sources",["getTransceiverSourceState","getTrackIdMidMap"])),{},{hasStats:function(){return Object.keys(this.stats).length>0},audio:function(){var e,t=null===(e=this.stats.audio)||void 0===e?void 0:e.inbounds;return(null===t||void 0===t?void 0:t.length)>0?t[0]:null},video:function(){var e,t=null===(e=this.stats.video)||void 0===e?void 0:e.inbounds,r=null===t||void 0===t?void 0:t.length;if(r){var n=this.trackIdMidMap[this.selectedSourceMid],o=this.trackIdToStatsIndexMap[n];return t[o]}return null},codecs:function(){var e,t,r=[];return null!==(e=this.video)&&void 0!==e&&e.mimeType&&r.push(this.video.mimeType),null!==(t=this.audio)&&void 0!==t&&t.mimeType&&r.push(this.audio.mimeType),r.join()},timestamp:function(){var e,t,r,n=null!==(e=null===(t=this.video)||void 0===t?void 0:t.timestamp)&&void 0!==e?e:null===(r=this.audio)||void 0===r?void 0:r.timestamp;return n?new Date(n).toISOString():null},videoCaptureTimestamp:function(){var e,t,r;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.captureTimestamp&&null!==(t=this.stats.videoSynchronizationSources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.timestamp){var n=va(this.stats.videoSynchronizationSources[0].captureTimestamp);r=new Date(n).toISOString()}return r},videoCaptureDelta:function(){var e,t,r;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.captureTimestamp&&null!==(t=this.stats.videoSynchronizationSources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.timestamp){var n,o=va(this.stats.videoSynchronizationSources[0].captureTimestamp);r=(null===(n=this.stats.videoSynchronizationSources)||void 0===n?void 0:n[0].timestamp)-o,r="".concat(r," ms")}return r},serverId:function(){var e;return null===(e=this.millicastView)||void 0===e||null===(e=e.signaling)||void 0===e?void 0:e.serverId},clusterId:function(){var e;return null===(e=this.millicastView)||void 0===e||null===(e=e.signaling)||void 0===e?void 0:e.clusterId},multiviewStatsAvailable:function(){var e=this.videoSources.length>1&&this.isSplittedView&&Object.keys(this.trackIdToStatsIndexMap).length;return e||this.selectMidZero(),e}})},ga=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=t/1024;return n<1||n>1&&r+1>ha.length?"".concat(Math.round(100*t)/100," ").concat(ha[r]):n>1?e(n,r+1):void 0},va=function(e){return e-22089888e5};r("3b0c");const ba=Vo()(ma,[["render",pa],["__scopeId","data-v-0ebd82a9"]]);var ya=ba,wa={name:"VideoPlayerControlsSettingsStats",components:{VideoPlayerStatsTable:ya},data:function(){return{stats:{},showStats:!1}},computed:d({},Ae("Controls",["isLive"])),methods:d(d({},Re("Controls",["setDropup"])),{},{toggleStats:function(){this.showStats=!this.showStats,this.setDropup()}})};r("778f");const Sa=Vo()(wa,[["render",Ki],["__scopeId","data-v-00e40a59"]]);var Oa=Sa,xa=Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-flag-fill align-middle control-icon"},null,-1);function Ea(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("VideoPlayerReportModal");return o.showReportButton?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.toggleReport&&s.toggleReport.apply(s,arguments)})},[xa,Object(i["createTextVNode"])(" Report Playback Issue "),o.showReportModal?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#vplayer"},[Object(i["createVNode"])(a,{streamId:r.streamId,close:s.toggleReport},null,8,["streamId","close"])])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0)}var _a=function(e){return Object(i["pushScopeId"])("data-v-35ddcbd6"),e=e(),Object(i["popScopeId"])(),e},ja={class:"header"},Ca=_a((function(){return Object(i["createElementVNode"])("span",{class:"ml-viewer-bi-flag-fill align-middle"},null,-1)})),ka=["textContent"],Ia={class:"form-group"},Ta=_a((function(){return Object(i["createElementVNode"])("label",{for:"name-input"},"Name",-1)})),Pa={class:"form-group"},Aa=_a((function(){return Object(i["createElementVNode"])("label",{for:"email-input"},"Email",-1)})),Ra={class:"form-group"},Va=_a((function(){return Object(i["createElementVNode"])("label",{for:"description-input"},"Description",-1)}));function Na(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("base-button"),c=Object(i["resolveComponent"])("base-modal");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{toggle:r.close},{"modal-header":Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",ja,[Ca,Object(i["createElementVNode"])("h3",{textContent:Object(i["toDisplayString"])(o.title)},null,8,ka)])]})),"modal-body":Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("form",{id:"reportForm",onSubmit:t[3]||(t[3]=Object(i["withModifiers"])((function(){return s.sendReport&&s.sendReport.apply(s,arguments)}),["prevent"]))},[Object(i["createElementVNode"])("div",Ia,[Ta,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",id:"name-input",placeholder:"Full name","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.report.name=e}),required:""},null,512),[[i["vModelText"],o.report.name]])]),Object(i["createElementVNode"])("div",Pa,[Aa,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"email",class:"form-control",id:"email-input",placeholder:"name@example.com","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.report.email=e}),required:""},null,512),[[i["vModelText"],o.report.email]])]),Object(i["createElementVNode"])("div",Ra,[Va,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",id:"description-input",rows:"4","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.report.description=e}),required:""},null,512),[[i["vModelText"],o.report.description]])])],32)]})),"modal-footer":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{btype:"btn-secondary",onClick:r.close},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])("Cancel")]})),_:1},8,["onClick"]),Object(i["createVNode"])(a,{type:"submit",btype:"btn-p",form:"reportForm",disabled:o.isLoading},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])("Submit")]})),_:1},8,["disabled"])]})),_:1},8,["toggle"])}r("e9c4");var La={name:"VideoPlayerReportModal",props:{close:Function,streamId:String},data:function(){return{title:"Report playback issue",report:{from:"Viewer",name:"",email:"",description:"",streamId:"",accountId:"",serverId:"",clusterId:"",url:"",log:[],statsInitialized:!1,toast:new Po},localStats:[],isLoading:!1}},methods:{sendReport:function(){var e=this;return u(c().mark((function t(){var r,n,o,i,s,a,l,u,d;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:for(r=A["Logger"].getHistory(),n=0;n<e.localStats.length;n++)r.push("[PeerConnectionStats] - "+JSON.stringify(e.localStats[n]));return e.report.log=r,t.prev=5,e.isLoading=!0,l={"Content-Type":"application/json"},e.report.serverId=null!==(o=null===(i=e.millicastView)||void 0===i||null===(i=i.signaling)||void 0===i?void 0:i.serverId)&&void 0!==o?o:"NOT_CONNECTED",e.report.clusterId=null!==(s=null===(a=e.millicastView)||void 0===a||null===(a=a.signaling)||void 0===a?void 0:a.clusterId)&&void 0!==s?s:"NOT_CONNECTED",t.next=12,fetch(e.reportUrl+"/reports",{method:"POST",headers:l,body:JSON.stringify(e.report)});case 12:e.toast.showToast("success","Report sent successfully",{timeout:3e3}),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](5),d="Error: couldn't send report",null!==(u=t.t0.response)&&void 0!==u&&u.data&&(d+=", "+t.t0.response.data),e.toast.showToast("error",d,{timeout:3e3});case 20:return t.prev=20,e.isLoading=!1,e.close(),t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[5,15,20,24]])})))()},statsHandler:function(e){var t=40;this.localStats.push(e),this.localStats.length>=t&&(this.localStats=this.localStats.slice(-t))}},computed:d(d({},Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Params",{reportUrl:function(e){return e.environment.VUE_APP_REPORT_URL}})),mounted:function(){var e,t,r,n;this.report.accountId=null===(e=this.streamId)||void 0===e?void 0:e.match(/^(.*?)\/.*$/)[1],this.report.streamId=null===(t=this.streamId)||void 0===t?void 0:t.match(/^.*?\/(.*)$/)[1],this.report.url=window.location.href,null===(r=this.millicastView)||void 0===r||!r.webRTCPeer||null!==(n=this.millicastView)&&void 0!==n&&null!==(n=n.webRTCPeer)&&void 0!==n&&n.peerConnectionStats||(this.millicastView.webRTCPeer.initStats(),this.statsInitialized=!0),this.millicastView.webRTCPeer.on("stats",this.statsHandler)},beforeUnmount:function(){this.statsInitialized&&this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeListener("stats",this.statsHandler)}};r("a42f");const Da=Vo()(La,[["render",Na],["__scopeId","data-v-35ddcbd6"]]);var Ma=Da,Ba={name:"VideoPlayerControlsSettingsReportIssue",components:{VideoPlayerReportModal:Ma},props:{streamId:String},data:function(){return{showReportModal:!1,showReportButton:!1}},methods:d(d({},Re("Controls",["setDropup"])),{},{toggleReport:function(){this.showReportModal=!this.showReportModal,this.setDropup("")}}),computed:d({},Ae("Params",{reportUrl:function(e){return this.showReportButton=!!e.environment.VUE_APP_REPORT_URL,e.environment.VUE_APP_REPORT_URL}})),watch:{reportUrl:function(e){this.showReportButton=!!e}}};const $a=Vo()(Ba,[["render",Ea]]);var Fa=$a,Ua=function(e){return Object(i["pushScopeId"])("data-v-491ccd6e"),e=e(),Object(i["popScopeId"])(),e},za=Ua((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-left p-0"},null,-1)})),qa=["onClick"],Ga={class:"form-check p-0"},Ha={class:"row"},Wa={class:"col-1 mr-1"},Qa={class:"bi ml-viewer-bi-check p-0"},Ya=["innerHTML"],Ka={key:1};function Xa(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("h6",{class:"dropdown-header back-header",onClick:t[0]||(t[0]=function(t){return e.setDropup("settings")})},[za,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(r.title),1)]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(r.items,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:e.selectId,class:Object(i["normalizeClass"])([{disabled:e.disabled},"dropdown-item"]),onClick:function(t){return s.handleSelect(e)}},[Object(i["createElementVNode"])("div",Ga,[Object(i["createElementVNode"])("div",Ha,[Object(i["createElementVNode"])("div",Wa,[Object(i["withDirectives"])(Object(i["createElementVNode"])("i",Qa,null,512),[[i["vShow"],r.compare(r.selected,e)]])]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["item-name",[null===(null===e||void 0===e?void 0:e.sourceId)?"main":""]])},[null!==e&&void 0!==e&&e.name&&r.unsupportedFlagEmoji(null===e||void 0===e?void 0:e.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,innerHTML:r.sourceFlagEmojiToPng(null===e||void 0===e?void 0:e.name)},null,8,Ya)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ka,Object(i["toDisplayString"])(null===e||void 0===e?void 0:e.name),1))],2)])])],10,qa)})),128))],64)}var Ja={name:"VideoPlayerControlsSettingsDropdown",components:{},props:{title:String,handleClick:Function,selected:Object,items:Array,compare:Function,unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:{},methods:d(d({},Re("Controls",["setDropup"])),{},{handleSelect:function(e){this.handleClick(e),this.setDropup("")}})};r("7442");const Za=Vo()(Ja,[["render",Xa],["__scopeId","data-v-491ccd6e"]]);var ec=Za,tc=Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-layout-sidebar-inset-reverse align-middle control-icon"},null,-1);function rc(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.setIsSplittedView(!e.isSplittedView)})},[tc,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.isSplittedView?"Hide":"Show")+" Multi View ",1)])}var nc={name:"VideoPlayerControlsSettingsSplitView",computed:d({},Ae("Controls",["isSplittedView"])),methods:d({},Re("Controls",["setIsSplittedView"]))};const oc=Vo()(nc,[["render",rc]]);var ic=oc;function sc(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.setIsGrid(!e.isGrid)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])([e.isGrid?"bi ml-viewer-bi-grid":"bi ml-viewer-bi-grid-1x2","align-middle control-icon"])},null,2),Object(i["createTextVNode"])(" Change layout ")])}var ac={name:"VideoPlayerControlsSettingsLayout",computed:d({},Ae("Controls",["isGrid"])),methods:d({},Re("Controls",["setIsGrid"]))};const cc=Vo()(ac,[["render",sc]]);var lc=cc,uc=r("9224"),dc={name:"VideoPlayerControlsSettings",components:{VideoPlayerControlsSettingsVideoTrack:Ii,VideoPlayerControlsSettingsAudioTrack:$i,VideoPlayerControlsSettingsQuality:Wi,VideoPlayerControlsSettingsStats:Oa,VideoPlayerControlsSettingsReportIssue:Fa,VideoPlayerControlsSettingsDropdown:ec,VideoPlayerControlsSettingsSplitView:ic,VideoPlayerControlsSettingsLayout:lc},props:{streamId:String},data:function(){return{viewerVersion:"",showDropup:!1,settingsWidth:"0px",selected:{},items:[],dropupTitle:"",handleClick:function(){},compare:function(){},audioFollowVideoData:{mid:null,name:"AudioFollowVideo",sourceId:"AudioFollowVideo",trackId:null},toast:null}},computed:d(d(d(d(d({},Ve("Layers",["getActiveMainTransceiverMedias"])),Ve("Sources",["getVideoSources","getAudioSources","getVideoHasMain","getAudioHasMain"])),Ae("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ae("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioFollowsVideo:function(e){return e.audioFollowsVideo}})),Ae("Controls",{dropup:function(e){return e.dropup},trackWarning:function(e){return e.trackWarning},isSplittedView:function(e){return e.isSplittedView}})),methods:d(d(d({},Re("Controls",["setDropup","toggleFullscreen"])),Re("Sources",["setMainLabel","setAudioFollowsVideo"])),{},{compareItems:function(e,t){return(null===e||void 0===e?void 0:e.name)===(null===t||void 0===t?void 0:t.name)&&((null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)||"Auto"===(null===t||void 0===t?void 0:t.name))},compareSources:function(e,t){return(null===e||void 0===e?void 0:e.sourceId)===(null===t||void 0===t?void 0:t.sourceId)},setDropupSettings:function(e,t,r,n,o){this.selected=e,this.items=t,this.dropupTitle=r,this.handleClick=n,this.compare=o},unsupportedFlagEmoji:function(e){var t,r=navigator.userAgent,n=-1!==r.indexOf("Chrome"),o=null!==e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return!!n&&(t="Windows"==navigator.userAgentData.platform,o&&t)},sourceFlagEmojiToPng:function(e){var t=e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return t.forEach((function(t){var r=Array.from(t,(function(e){return e.codePointAt()})).map((function(e){return String.fromCharCode(e-127397).toLowerCase()})).join("");e=e.replace(t," <img src='https://flagcdn.com/20x15/".concat(r,'.png\' alt="FlagEmoji"}>'))})),e}}),mounted:function(){this.viewerVersion=uc["a"]?"v"+uc["a"]:"",this.toast=new Po},watch:{dropup:function(e){var t=this;if("videoTracks"===e||"audioTracks"===e||"qualities"===e){switch(this.settingsWidth=this.$refs.settings.clientWidth+"px",e){case"videoTracks":var r=function(){var e=u(c().mark((function e(r){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ar({kind:"video",source:r});case 3:return e.next=5,t.setMainLabel(r.name);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();this.setDropupSettings(this.selectedVideoSource,this.getVideoSources,"Video Source",r,this.compareSources);break;case"audioTracks":var n=function(){var e=u(c().mark((function e(r){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("AudioFollowVideo"!==r.name){e.next=4;break}t.setAudioFollowsVideo(!0),e.next=13;break;case 4:return t.setAudioFollowsVideo(!1),e.prev=5,e.next=8,Ar({kind:"audio",source:r});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](5),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){return[t.audioFollowVideoData].concat(bi(t.getAudioSources))},i=function(){return t.audioFollowsVideo?t.audioFollowVideoData:t.selectedAudioSource};this.setDropupSettings(i(),o(),"Audio Source",n,this.compareSources);break;case"qualities":var s=function(e){Pr(e)};this.setDropupSettings(this.selectedQuality,this.getActiveMainTransceiverMedias,"Video Quality",s,this.compareItems);break}this.showDropup=!0}else this.showDropup=!1},getActiveMainTransceiverMedias:function(){"qualities"===this.dropup&&(this.items=this.getActiveMainTransceiverMedias)},getVideoSources:function(){"videoTracks"===this.dropup&&(this.items=this.getActiveMainTransceiverMedias)},getAudioSources:function(){"audioTracks"===this.dropup&&(this.items=this.getAudioSources)}}};r("3c34");const fc=Vo()(dc,[["render",mi],["__scopeId","data-v-464a8bef"]]);var pc=fc,hc=function(e){return Object(i["pushScopeId"])("data-v-48f1b614"),e=e(),Object(i["popScopeId"])(),e},mc={key:0,class:"align-middle"},gc={class:"badge",style:{border:"0px"}},vc=hc((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-person-fill"},null,-1)}));function bc(e,t,r,n,o,s){return s.count?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h4",mc,[Object(i["createElementVNode"])("span",gc,[vc,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(s.count),1)])])):Object(i["createCommentVNode"])("",!0)}var yc={name:"VideoPlayerControlsUserCount",computed:d(d({},Ae("Controls",["viewerCount"])),{},{count:function(){var e;return null===(e=this.viewerCount)||void 0===e?void 0:e.toLocaleString("en")}})};r("c03e");const wc=Vo()(yc,[["render",bc],["__scopeId","data-v-48f1b614"]]);var Sc=wc,Oc={class:"d-inline"};function xc(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oc,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",s.volumeIcon]),onClick:t[0]||(t[0]=function(){return s.toggleMuted&&s.toggleMuted.apply(s,arguments)}),onMousemove:t[1]||(t[1]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"range",class:Object(i["normalizeClass"])(["align-middle mr-2 slider",{show:o.showVolume,volumeMobile:!0}]),id:"volumeSlider",min:"0",max:"1",step:".01","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.volume=e}),onMousemove:t[3]||(t[3]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),[[i["vModelText"],o.volume]])])}var Ec={name:"VideoPlayerControlsVolume",data:function(){return{volume:1,showVolume:!1}},watch:{volume:function(e){0!==this.volume||this.muted?this.muted&&this.toggleMuted():this.toggleMuted(),this.setVideoVolume(e)}},computed:d(d({},Ae("Controls",{muted:function(e){return e.muted}})),{},{volumeIcon:function(){return this.muted||0===this.volume?"ml-viewer-bi-volume-mute-fill":this.volume<.1?"ml-viewer-bi-volume-off-fill":this.volume<.5?"ml-viewer-bi-volume-down-fill":"ml-viewer-bi-volume-up-fill"}}),methods:d(d({},Re("Controls",["setVideoMuted","setVideoVolume"])),{},{toggleVolumeSlider:function(){var e=this;this.showVolumeTimeout&&clearTimeout(this.showVolumeTimeout),this.showVolume=!0,this.showVolumeTimeout=setTimeout((function(){e.showVolume=!1}),4e3)},toggleMuted:function(){this.setVideoMuted(!this.muted)}})};r("c7df");const _c=Vo()(Ec,[["render",xc],["__scopeId","data-v-0cf82b5a"]]);var jc=_c,Cc=function(e){return Object(i["pushScopeId"])("data-v-6e3117e0"),e=e(),Object(i["popScopeId"])(),e},kc={class:"row"},Ic={key:0},Tc=["textContent"],Pc={key:0,class:"col-6 text-right"},Ac={key:1,class:"col-5 pl-0 pr-1 text-right"},Rc={key:1,class:"dropup"},Vc=Cc((function(){return Object(i["createElementVNode"])("div",{class:"dropdown-header d-flex m-0 col-12"},[Object(i["createElementVNode"])("h6",{class:"p-0 m-0"},"Options")],-1)}));function Nc(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsPlay"),c=Object(i["resolveComponent"])("VideoPlayerControlsVolume"),l=Object(i["resolveComponent"])("VideoPlayerControlsSettings"),u=Object(i["resolveComponent"])("VideoPlayerControlsCast"),d=Object(i["resolveComponent"])("VideoPlayerControlsPip"),f=Object(i["resolveComponent"])("VideoPlayerControlsFullscreen");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kc,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([e.isMobile?"col-7 text-left pr-0":"col-6 text-left"])},[r.isConnected?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ic,[r.showButton("play")?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0),r.showButton("volume")?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1})):Object(i["createCommentVNode"])("",!0),e.isMobile?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:2,class:"h5 align-middle p-2",textContent:Object(i["toDisplayString"])(r.currentTime)},null,8,Tc))]))],2),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ac,[r.showButton("settings")?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,streamId:r.streamId},null,8,["streamId"])):Object(i["createCommentVNode"])("",!0),r.showButton("cast")&&e.castAvailable||e.isLive&&s.pipEnabled&&r.showButton("pip")&&s.isVideoTag||r.showButton("fullscreen")?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Rc,[Object(i["createElementVNode"])("i",{class:"h3 align-middle control-icon bi ml-viewer-bi-three-dots-vertical",onClick:t[0]||(t[0]=function(t){return e.setDropup("mobile")})}),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"mobile"===e.dropup}]),style:{"margin-bottom":"0.9rem"}},[Vc,r.showButton("cast")&&e.castAvailable?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0})):Object(i["createCommentVNode"])("",!0),s.pipEnabled?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1})):Object(i["createCommentVNode"])("",!0),r.showButton("fullscreen")?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:2,click:e.toggleFullscreen},null,8,["click"])):Object(i["createCommentVNode"])("",!0)],2)])):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Pc,[r.showButton("settings")?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0,streamId:r.streamId},null,8,["streamId"])):Object(i["createCommentVNode"])("",!0),r.showButton("cast")&&e.castAvailable?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:1})):Object(i["createCommentVNode"])("",!0),s.pipEnabled?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:2})):Object(i["createCommentVNode"])("",!0),r.showButton("fullscreen")?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:3,click:e.toggleFullscreen},null,8,["click"])):Object(i["createCommentVNode"])("",!0)]))])}var Lc=function(e){return Object(i["pushScopeId"])("data-v-f9fa5040"),e=e(),Object(i["popScopeId"])(),e},Dc={key:0},Mc=Lc((function(){return Object(i["createElementVNode"])("span",{class:"align-middle"},"Cast",-1)})),Bc=[Mc];function $c(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("google-cast-launcher");return e.castAvailable&&!e.options.loading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])([e.isMobile?"dropdown-item d-flex row mx-0":"mobile-setting"]),onClick:t[0]||(t[0]=function(){return s.clickCast&&s.clickCast.apply(s,arguments)})},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([e.isMobile?"":"mobile-setting"])},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",e.isMobile?"mobile-icon":"h3"])},[Object(i["createVNode"])(a,{ref:"cast"},null,512)],2)],2),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Dc,Bc)):Object(i["createCommentVNode"])("",!0)],2)):Object(i["createCommentVNode"])("",!0)}var Fc={name:"VideoPlayerControlsCast",computed:d({},Ae("Controls",{isMobile:function(e){return e.isMobile},castAvailable:function(e){return e.castAvailable},options:function(e){return e.castOptions}})),methods:{clickCast:function(){this.$refs.cast.click()}}};r("a706");const Uc=Vo()(Fc,[["render",$c],["__scopeId","data-v-f9fa5040"]]);var zc=Uc,qc={name:"VideoPlayer",components:{VideoPlayerControlsFullscreen:Jo,VideoPlayerControlsPip:ri,VideoPlayerControlsPlay:si,VideoPlayerControlsSettings:pc,VideoPlayerControlsVolume:jc,VideoPlayerControlsCast:zc},props:{showButton:Function,streamId:String,isConnected:Boolean,currentTime:String},data:function(){return{dropupShow:!1}},computed:d(d({},Ae("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},isMobile:function(e){return e.isMobile},isLive:function(e){return e.isLive},castAvailable:function(e){return e.castAvailable}})),{},{isVideoTag:function(){var e;return"VIDEO"===(null===(e=this.video)||void 0===e?void 0:e.nodeName)},pipEnabled:function(){return this.showButton("pip")&&document.pictureInPictureEnabled&&this.isLive&&this.isVideoTag}}),methods:d({},Re("Controls",["setDropup","toggleFullscreen"])),beforeMount:function(){return u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Lr();case 2:case"end":return e.stop()}}),e)})))()}};r("d745");const Gc=Vo()(qc,[["render",Nc],["__scopeId","data-v-6e3117e0"]]);var Hc=Gc,Wc={name:"VideoPlayerContainer",components:{VideoPlayerMedia:Lo,VideoPlayerControlsBadge:Qo,VideoPlayerControlsUserCount:Sc,VideoPlayerControlsContainer:Hc,VideoPlayerSideVideoSources:Uo},data:function(){return{show:!0,timeInterval:0,secondsElapsed:0,cast:{isConnected:!1},controlsTimeout:0,mobileFullscreen:!1,toast:new Po}},mounted:function(){var e,t=this;null===(e=screen.orientation)||void 0===e||e.addEventListener("change",this.handleOrientationChange),this.controlsTimeout=setTimeout((function(){t.show=!1}),4e3),this.timeInterval=setInterval((function(){t.playing&&t.secondsElapsed++}),1e3),this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},beforeUnmount:function(){clearInterval(this.timeInterval)},computed:d(d(d(d(d({},Ae("Params",{viewer:function(e){return e.viewer}})),Ae("Errors",{type:function(e){return e.type},message:function(e){return e.message},showError:function(e){return e.showError}})),Ae("Sources",{videoSources:function(e){return e.videoSources},audioSources:function(e){return e.audioSources},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},sourceRemoteTracks:function(e){return e.sourceRemoteTracks}})),Ae("Controls",{video:function(e){return e.video},playing:function(e){return e.playing},player:function(e){return e.player},fullscreen:function(e){return e.fullscreen},dropup:function(e){return e.dropup},isLoading:function(e){return e.isLoading},volume:function(e){return e.volume},playerMuted:function(e){return e.muted},castIsConnected:function(e){return e.castIsConnected},castDevice:function(e){return e.castDevice},srcObject:function(e){return e.srcObject},autoPlayMuted:function(e){return e.autoPlayMuted},isLive:function(e){return e.isLive},isSplittedView:function(e){return e.isSplittedView},hideToast:function(e){return e.hideToast},isGrid:function(e){return e.isGrid}})),{},{currentTime:function(){var e=this.secondsElapsed,t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}}),methods:d(d(d(d(d({},Re("Layers",["deleteLayers"])),Re("Errors",["setShowError"])),Re("Sources",["deleteSource","setMainLabel"])),Re("Controls",["setVideo","setIsLive","setIsLoading","setTrackWarning","setDropup","setVideoVolume","setVideoMuted","setPlaying","setCastOptions","setAutoPlayMuted","toggleFullscreen","setIsSplittedView"])),{},{showControls:function(){this.controlsTimeout&&clearTimeout(this.controlsTimeout),this.show=!0,this.hideControls()},hideControls:function(){var e=this;this.playing&&""===this.dropup&&(this.controlsTimeout=setTimeout((function(){e.show=!1}),4e3))},showButton:function(e){var t=!this.viewer.hideButtons.includes(e);if(t&&"fullscreen"===e){var r,n,o,i=null!==(r=document.getElementById("player"))&&void 0!==r?r:document.getElementById("player2");i||(i=document.createElement("video")),t&&(t=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||(null===(n=i)||void 0===n?void 0:n.requestFullscreen)||(null===(o=i)||void 0===o?void 0:o.webkitEnterFullscreen)),t||console.warn("Fullscreen disabled due to incompatibility with the browser.")}return t},handleOrientationChange:function(){var e=screen.orientation.type;"portrait-primary"===e&&Qc()&&!this.mobileFullscreen?this.leaveFullScreen():"landscape-primary"===e&&this.goFullScreen()},goFullScreen:function(){var e,t,r,n,o,i,s,a,c,l,u=document.getElementById("vplayer"),d=null!==(e=document.getElementById("player"))&&void 0!==e?e:document.getElementById("player2");null!==(t=null!==(r=null!==(n=null!==(o=null===u||void 0===u||null===(i=u.requestFullscreen)||void 0===i?void 0:i.call(u))&&void 0!==o?o:null===u||void 0===u||null===(s=u.webkitRequestFullscreen)||void 0===s?void 0:s.call(u))&&void 0!==n?n:null===u||void 0===u||null===(a=u.mozRequestFullScreen)||void 0===a?void 0:a.call(u))&&void 0!==r?r:null===u||void 0===u||null===(c=u.msRequestFullscreen)||void 0===c?void 0:c.call(u))&&void 0!==t||null===d||void 0===d||null===(l=d.webkitEnterFullscreen)||void 0===l||l.call(d)},leaveFullScreen:function(){var e,t,r,n,o,i,s,a,c,l,u;null!==(e=null!==(t=null!==(r=null===(n=(o=document).exitFullscreen)||void 0===n?void 0:n.call(o))&&void 0!==r?r:null===(i=(s=document).webkitExitFullscreen)||void 0===i?void 0:i.call(s))&&void 0!==t?t:null===(a=(c=document).mozCancelFullScreen)||void 0===a?void 0:a.call(c))&&void 0!==e||null===(l=(u=document).msExitFullscreen)||void 0===l||l.call(u)},tapUnmute:function(){this.setVideoMuted(!1),this.setAutoPlayMuted(!1)},handleWholeScreen:function(){var e;this.isGrid&&(this.setIsSplittedView(!this.isSplittedView),Ar({kind:"video",source:this.videoSources[0]}),this.setMainLabel(null!==(e=this.videoSources[0].sourceId)&&void 0!==e?e:this.videoSources[0].name))}}),watch:{playing:function(e){e?this.hideControls():this.showControls()},fullscreen:function(){document.pictureInPictureElement&&document.exitPictureInPicture(),Qc()?(this.mobileFullscreen=!1,this.leaveFullScreen()):(this.mobileFullscreen=!0,this.goFullScreen())},dropup:function(){this.showControls()},token:function(){this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},castIsConnected:function(e){if(e){this.setPlaying(!1),this.setIsLoading(!1);var t=this.castDevice;this.cast={isConnected:e,device:t},this.showControls()}else this.cast={isConnected:e}},viewer:function(){this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},showError:function(e){e&&"SubscriberError"===this.type?this.toast.showToast("error",this.message):this.setShowError(!1)}}},Qc=function(){return document.fullscreenElement||document.webkitFullscreenElement};r("0223");const Yc=Vo()(Wc,[["render",C],["__scopeId","data-v-4d523a16"]]);var Kc=Yc,Xc=(r("cd74"),r("ab8b"),r("da96"),r("87d4")),Jc={name:"App",components:{VideoPlayerContainer:Kc},props:{paramsOptions:Object},methods:d(d({},Re("Controls",["setMobile"])),{},{updateParams:function(){var e;if(this.paramsOptions){var t,r,n,o,i,s,a,c,l,u,d,f,p,h,m,g,v,b,y,w,S,O,x,E,_,j,C,k,I,T,P=null!==(t=null===(r=this.paramsOptions)||void 0===r||null===(r=r.environment)||void 0===r?void 0:r.NODE_ENV)&&void 0!==t?t:"production";Ke({streamId:(null===(n=this.paramsOptions)||void 0===n?void 0:n.accountId)+"/"+(null===(o=this.paramsOptions)||void 0===o?void 0:o.streamName),audioOnly:null!==(i=null===(s=this.paramsOptions)||void 0===s?void 0:s.audioOnly)&&void 0!==i&&i,videoOnly:null!==(a=null===(c=this.paramsOptions)||void 0===c?void 0:c.videoOnly)&&void 0!==a&&a,token:null===(l=this.paramsOptions)||void 0===l?void 0:l.token,image:null===(u=this.paramsOptions)||void 0===u?void 0:u.image,directorUrl:"production"!==P?null===(d=this.paramsOptions)||void 0===d?void 0:d.directorUrl:null,hideButtons:!1===this.paramsOptions.controls?Qe:null!==(f=this.paramsOptions.hideButtons)&&void 0!==f?f:[],autoplay:null===(p=this.paramsOptions.autoplay)||void 0===p||p,muted:null!==(h=this.paramsOptions.muted)&&void 0!==h&&h,noDelay:null!==(m=null===(g=this.paramsOptions)||void 0===g?void 0:g.noDelay)&&void 0!==m&&m,multisource:null!==(v=null===(b=this.paramsOptions)||void 0===b?void 0:b.multisource)&&void 0!==v&&v,audioFollowsVideo:null!==(y=null===(w=this.paramsOptions)||void 0===w?void 0:w.audioFollowsVideo)&&void 0!==y&&y,layout:null!==(S=null===(O=this.paramsOptions)||void 0===O?void 0:O.layout)&&void 0!==S?S:null,showLabels:null===(x=null===(E=this.paramsOptions)||void 0===E?void 0:E.showLabels)||void 0===x||x,startingQuality:null===(_=this.paramsOptions)||void 0===_?void 0:_.startingQuality,hideToast:null===(j=this.paramsOptions)||void 0===j?void 0:j.hideToast,mainLabel:null!==(C=null===(k=this.paramsOptions)||void 0===k?void 0:k.mainLabel)&&void 0!==C?C:"Main",forcePlayoutDelayMin:null===(I=this.paramsOptions)||void 0===I?void 0:I.forcePlayoutDelayMin,forcePlayoutDelayMax:null===(T=this.paramsOptions)||void 0===T?void 0:T.forcePlayoutDelayMax})}Je(null===(e=this.paramsOptions)||void 0===e?void 0:e.environment)}}),mounted:function(){var e=this;return u(c().mark((function t(){var r,n,o,i;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.getElementById("viewer-container"),t.next=3,new Po;case 3:o=t.sent,o.updateDefaults({container:n,containerClassName:"toast-custom"}),e.updateParams(),null!==(r=e.paramsOptions)&&void 0!==r&&r.startingQuality&&o.showToast("info","Fetching starting quality layer",{timeout:1500}),Xc["ElementQueries"].listen(),Xc["ElementQueries"].init(),window.addEventListener("load",(function(){new Xc["ResizeSensor"](n,(function(){e.setMobile(n.clientWidth<=575)}))})),i=document.createElement("script"),i.setAttribute("src","//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),i.async=!0,document.head.appendChild(i);case 14:case"end":return t.stop()}}),t)})))()},watch:{paramsOptions:function(){this.updateParams()}}};r("4c45");const Zc=Vo()(Jc,[["render",s],["__scopeId","data-v-aeca3842"]]);var el=Zc,tl=function(e){return Object(i["pushScopeId"])("data-v-742b9a28"),e=e(),Object(i["popScopeId"])(),e},rl={class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},nl={class:"modal-dialog modal-dialog-scrollable",role:"document"},ol={class:"modal-content"},il={class:"modal-header"},sl=["textContent"],al=tl((function(){return Object(i["createElementVNode"])("span",{"aria-hidden":"true"},"×",-1)})),cl=[al],ll={class:"modal-body"},ul={class:"modal-footer"};function dl(e,t,r,n,o,s){var a=Object(i["resolveComponent"])("base-button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",rl,[(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{to:"#viewer-container"},[Object(i["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(){return r.toggle&&r.toggle.apply(r,arguments)}),class:"backdrop"})])),Object(i["createElementVNode"])("div",nl,[Object(i["createElementVNode"])("div",ol,[Object(i["createElementVNode"])("div",il,[Object(i["renderSlot"])(e.$slots,"modal-header",{},(function(){return[Object(i["createElementVNode"])("h5",{class:"modal-title",textContent:Object(i["toDisplayString"])(r.title)},null,8,sl),Object(i["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=function(){return r.toggle&&r.toggle.apply(r,arguments)})},cl)]}),!0)]),Object(i["createElementVNode"])("div",ll,[Object(i["renderSlot"])(e.$slots,"modal-body",{},void 0,!0)]),Object(i["createElementVNode"])("div",ul,[Object(i["renderSlot"])(e.$slots,"modal-footer",{},(function(){return[Object(i["createVNode"])(a,{btype:"btn-p",onClick:r.toggle},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])("OK")]})),_:1},8,["onClick"])]}),!0)])])])])}var fl={name:"BaseModal",props:{title:String,toggle:Function}};r("3143");const pl=Vo()(fl,[["render",dl],["__scopeId","data-v-742b9a28"]]);var hl=pl;function ml(e,t,r,n,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{type:"button",class:Object(i["normalizeClass"])(["btn shadow-none",[r.btype]])},[Object(i["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var gl={name:"BaseButton",props:["btype","bstyle","bcolor"]};r("b3ad");const vl=Vo()(gl,[["render",ml],["__scopeId","data-v-7037ab8a"]]);var bl=vl,yl=function(e,t){return 0===t.filter((function(t){return t.type===e.type})).length&&e},wl={install:function(e,t){t.store?(t.store.registerModule("Controls",Ge),t.store.registerModule("Layers",ze),t.store.registerModule("Errors",rt),t.store.registerModule("Params",et),t.store.registerModule("Sources",Fe),t.store.registerModule("ViewConnection",We)):e.use(nt),e.use(ko,{transition:"Vue-Toastification__fade",maxToasts:2,newestOnTop:!0,position:"top-center",closeOnClick:!1,closeButton:!1,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!1,timeout:!1,filterBeforeCreate:yl}),e.component("base-modal",hl),e.component("base-button",bl),e.component("VideoPlayer",el)}};t["default"]=wl},fb6a:function(e,t,r){"use strict";var n=r("23e7"),o=r("e8b5"),i=r("68ee"),s=r("861d"),a=r("23cb"),c=r("07fa"),l=r("fc6a"),u=r("8418"),d=r("b622"),f=r("1dde"),p=r("f36a"),h=f("slice"),m=d("species"),g=Array,v=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var r,n,d,f=l(this),h=c(f),b=a(e,h),y=a(void 0===t?h:t,h);if(o(f)&&(r=f.constructor,i(r)&&(r===g||o(r.prototype))?r=void 0:s(r)&&(r=r[m],null===r&&(r=void 0)),r===g||void 0===r))return p(f,b,y);for(n=new(void 0===r?g:r)(v(y-b,0)),d=0;b<y;b++,d++)b in f&&u(n,d,f[b]);return n.length=d,n}})},fc6a:function(e,t,r){"use strict";var n=r("44ad"),o=r("1d80");e.exports=function(e){return n(o(e))}},fce3:function(e,t,r){"use strict";var n=r("d039"),o=r("da84"),i=o.RegExp;e.exports=n((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},fdbc:function(e,t,r){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,r){"use strict";var n=r("04f8");e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=millicast-vue-viewer-plugin.umd.min.js.map