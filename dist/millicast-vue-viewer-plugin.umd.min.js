(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["millicast-vue-viewer-plugin"]=t(require("vue")):e["millicast-vue-viewer-plugin"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"001d":function(e,t,n){},"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),o=n("c65b"),i=n("1626"),s=n("825a"),a=n("577e"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=/./.test;r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=s(this),n=a(e),r=t.exec;if(!i(r))return o(u,t,n);var c=o(r,t,n);return null!==c&&(s(c),!0)}})},"00ee":function(e,t,n){"use strict";var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},"01b4":function(e,t,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return null===t&&(this.tail=null),e.item}}},e.exports=r},"0223":function(e,t,n){"use strict";n("09bc")},"0366":function(e,t,n){"use strict";var r=n("4625"),o=n("59ed"),i=n("40d5"),s=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},"03ef":function(e,t,n){},"04d1":function(e,t,n){"use strict";var r=n("342f"),o=r.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},"04f8":function(e,t,n){"use strict";var r=n("2d00"),o=n("d039"),i=n("da84"),s=i.String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"057f":function(e,t,n){"use strict";var r=n("c6b6"),o=n("fc6a"),i=n("241c").f,s=n("f36a"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return i(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"===r(e)?c(e):i(o(e))}},"06cf":function(e,t,n){"use strict";var r=n("83ab"),o=n("c65b"),i=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),u=n("1a2d"),l=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=c(t),l)try{return d(e,t)}catch(n){}if(u(e,t))return s(!o(i.f,e,t),e[t])}},"07ac":function(e,t,n){"use strict";var r=n("23e7"),o=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},"07fa":function(e,t,n){"use strict";var r=n("50c4");e.exports=function(e){return r(e.length)}},"083a":function(e,t,n){"use strict";var r=n("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw new o("Cannot delete property "+r(t)+" of "+r(e))}},"09bc":function(e,t,n){},"0b0b":function(e,t,n){},"0b42":function(e,t,n){"use strict";var r=n("e8b5"),o=n("68ee"),i=n("861d"),s=n("b622"),a=s("species"),c=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,o(t)&&(t===c||r(t.prototype))?t=void 0:i(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?c:t}},"0b43":function(e,t,n){"use strict";var r=n("04f8");e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},"0c47":function(e,t,n){"use strict";var r=n("da84"),o=n("d44e");o(r.JSON,"JSON",!0)},"0cb2":function(e,t,n){"use strict";var r=n("e330"),o=n("7b0b"),i=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,h=r.length,m=l;return void 0!==d&&(d=o(d),m=u),a(f,m,(function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":u=d[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var f=i(l/10);return 0===f?o:f<=h?void 0===r[f-1]?s(a,1):r[f-1]+s(a,1):o}u=r[l-1]}return void 0===u?"":u}))}},"0ccb":function(e,t,n){"use strict";var r=n("e330"),o=n("50c4"),i=n("577e"),s=n("1148"),a=n("1d80"),c=r(s),u=r("".slice),l=Math.ceil,d=function(e){return function(t,n,r){var s,d,f=i(a(t)),p=o(n),h=f.length,m=void 0===r?" ":i(r);return p<=h||""===m?f:(s=p-h,d=c(m,l(s/m.length)),d.length>s&&(d=u(d,0,s)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},"0cfb":function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0d26":function(e,t,n){"use strict";var r=n("e330"),o=Error,i=r("".replace),s=function(e){return String(new o(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=i(e,a,"");return e}},"0d51":function(e,t,n){"use strict";var r=String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},"107c":function(e,t,n){"use strict";var r=n("d039"),o=n("da84"),i=o.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1148:function(e,t,n){"use strict";var r=n("5926"),o=n("577e"),i=n("1d80"),s=RangeError;e.exports=function(e){var t=o(i(this)),n="",a=r(e);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"12a8":function(e,t,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("eb1d"),s=n("59ed"),a=n("7b0b"),c=n("9bf2");o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){c.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"131a":function(e,t,n){"use strict";var r=n("23e7"),o=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:o})},"13d2":function(e,t,n){"use strict";var r=n("e330"),o=n("d039"),i=n("1626"),s=n("1a2d"),a=n("83ab"),c=n("5e77").CONFIGURABLE,u=n("8925"),l=n("69f3"),d=l.enforce,f=l.get,p=String,h=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),b=a&&!o((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&s(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=d(e);return s(r,"source")||(r.source=g(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return i(this)&&f(this).source||u(this)}),"toString")},"13d5":function(e,t,n){"use strict";var r=n("23e7"),o=n("d58f").left,i=n("a640"),s=n("2d00"),a=n("605d"),c=!a&&s>79&&s<83,u=c||!i("reduce");r({target:"Array",proto:!0,forced:u},{reduce:function(e){var t=arguments.length;return o(this,e,t,t>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){"use strict";var r=n("c65b"),o=n("825a"),i=n("1626"),s=n("c6b6"),a=n("9263"),c=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var u=r(n,e,t);return null!==u&&o(u),u}if("RegExp"===s(e))return r(a,e,t);throw new c("RegExp#exec called on incompatible receiver")}},"14d9":function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("07fa"),s=n("3a34"),a=n("3511"),c=n("d039"),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=u||!l();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=o(this),n=i(t),r=arguments.length;a(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return s(t,n),n}})},"14e5":function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("59ed"),s=n("f069"),a=n("e667"),c=n("2266"),u=n("5eed");r({target:"Promise",stat:!0,forced:u},{all:function(e){var t=this,n=s.f(t),r=n.resolve,u=n.reject,l=a((function(){var n=i(t.resolve),s=[],a=0,l=1;c(e,(function(e){var i=a++,c=!1;l++,o(n,t,e).then((function(e){c||(c=!0,s[i]=e,--l||r(s))}),u)})),--l||r(s)}));return l.error&&u(l.value),n.promise}})},"157a":function(e,t,n){"use strict";var r=n("da84"),o=n("83ab"),i=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!o)return r[e];var t=i(r,e);return t&&t.value}},"159b":function(e,t,n){"use strict";var r=n("da84"),o=n("fdbc"),i=n("785a"),s=n("17c2"),a=n("9112"),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(i)},1626:function(e,t,n){"use strict";var r="object"==typeof document&&document.all;e.exports="undefined"==typeof r&&void 0!==r?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},1787:function(e,t,n){"use strict";var r=n("861d");e.exports=function(e){return r(e)||null===e}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=o("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t,n){"use strict";var r=n("3a9b"),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new o("Incorrect invocation")}},"1a2d":function(e,t,n){"use strict";var r=n("e330"),o=n("7b0b"),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},"1be4":function(e,t,n){"use strict";var r=n("d066");e.exports=r("document","documentElement")},"1c7e":function(e,t,n){"use strict";var r=n("b622"),o=r("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){try{if(!t&&!i)return!1}catch(c){return!1}var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){"use strict";var r=n("342f");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d80":function(e,t,n){"use strict";var r=n("7234"),o=TypeError;e.exports=function(e){if(r(e))throw new o("Can't call method on "+e);return e}},"1dde":function(e,t,n){"use strict";var r=n("d039"),o=n("b622"),i=n("2d00"),s=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){"use strict";var r=n("0366"),o=n("c65b"),i=n("825a"),s=n("0d51"),a=n("e95a"),c=n("07fa"),u=n("3a9b"),l=n("9a1f"),d=n("35a1"),f=n("2a62"),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,g,b,y,w,S,O,E=n&&n.that,C=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_RECORD),x=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),T=r(t,E),I=function(e){return v&&f(v,"normal",e),new h(!0,e)},P=function(e){return C?(i(e),k?T(e[0],e[1],I):T(e[0],e[1])):k?T(e,I):T(e)};if(j)v=e.iterator;else if(x)v=e;else{if(g=d(e),!g)throw new p(s(e)+" is not iterable");if(a(g)){for(b=0,y=c(e);y>b;b++)if(w=P(e[b]),w&&u(m,w))return w;return new h(!1)}v=l(e,g)}S=j?e.next:v.next;while(!(O=o(S,v)).done){try{w=P(O.value)}catch(V){f(v,"throw",V)}if("object"==typeof w&&w&&u(m,w))return w}return new h(!1)}},"22b9":function(e,t,n){},"23cb":function(e,t,n){"use strict";var r=n("5926"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23dc":function(e,t,n){"use strict";var r=n("d44e");r(Math,"Math",!0)},"23e7":function(e,t,n){"use strict";var r=n("da84"),o=n("06cf").f,i=n("9112"),s=n("cb2d"),a=n("6374"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,d,f,p,h,m=e.target,v=e.global,g=e.stat;if(l=v?r:g?r[m]||a(m,{}):r[m]&&r[m].prototype,l)for(d in t){if(p=t[d],e.dontCallGetSet?(h=o(l,d),f=h&&h.value):f=l[d],n=u(v?d:m+(g?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),s(l,d,p,e)}}},"241c":function(e,t,n){"use strict";var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},2532:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("5a34"),s=n("1d80"),a=n("577e"),c=n("ab13"),u=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("5e77").PROPER,o=n("cb2d"),i=n("825a"),s=n("577e"),a=n("d039"),c=n("90d8"),u="toString",l=RegExp.prototype,d=l[u],f=a((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),p=r&&d.name!==u;(f||p)&&o(l,u,(function(){var e=i(this),t=s(e.source),n=s(c(e));return"/"+t+"/"+n}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),o=n("edd0"),i=n("b622"),s=n("83ab"),a=i("species");e.exports=function(e){var t=r(e);s&&t&&!t[a]&&o(t,a,{configurable:!0,get:function(){return this}})}},"26e9":function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("e8b5"),s=o([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),s(this)}})},"2a62":function(e,t,n){"use strict";var r=n("c65b"),o=n("825a"),i=n("dc4a");e.exports=function(e,t,n){var s,a;o(e);try{if(s=i(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(c){a=!0,s=c}if("throw"===t)throw n;if(a)throw s;return o(s),n}},"2ad6":function(e,t,n){"use strict";var r,o;(function(i,s){r=s,o="function"===typeof r?r.call(t,n,t,e):r,void 0===o||(e.exports=o)})("undefined"!==typeof window&&window,(function(){if("undefined"===typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function r(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!==typeof jQuery&&e instanceof jQuery||"undefined"!==typeof Elements&&e instanceof Elements,o=0,i=e.length;if(r)for(;o<i;o++)t(e[o]);else t(e)}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function i(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var s=function(e,a){var c=0;function u(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var o=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&o.push(n[e]);n=o},this.length=function(){return n.length}}function l(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new u,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},s={position:"absolute",left:"0px",top:"0px",transition:"0s"};i(e.resizeSensor,r);var a=document.createElement("div");a.className="resize-sensor-expand",i(a,r);var l=document.createElement("div");i(l,s),a.appendChild(l);var d=document.createElement("div");d.className="resize-sensor-shrink",i(d,r);var f=document.createElement("div");i(f,s),i(f,{width:"200%",height:"200%"}),d.appendChild(f),e.resizeSensor.appendChild(a),e.resizeSensor.appendChild(d),e.appendChild(e.resizeSensor);var p=window.getComputedStyle(e),h=p?p.getPropertyValue("position"):null;"absolute"!==h&&"relative"!==h&&"fixed"!==h&&"sticky"!==h&&(e.style.position="relative");var m=!1,v=0,g=o(e),b=0,y=0,w=!0;c=0;var S=function(){var t=e.offsetWidth,n=e.offsetHeight;l.style.width=t+10+"px",l.style.height=n+10+"px",a.scrollLeft=t+10,a.scrollTop=n+10,d.scrollLeft=t+10,d.scrollTop=n+10},O=function(){if(w){var n=0===e.offsetWidth&&0===e.offsetHeight;if(n)return void(c||(c=t((function(){c=0,O()}))));w=!1}S()};e.resizeSensor.resetSensor=O;var E=function(){v=0,m&&(b=g.width,y=g.height,e.resizedAttached&&e.resizedAttached.call(g))},C=function(){g=o(e),m=g.width!==b||g.height!==y,m&&!v&&(v=t(E)),O()},j=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};j(a,"scroll",C),j(d,"scroll",C),c=t((function(){c=0,O()}))}}r(e,(function(e){l(e,a)})),this.detach=function(t){c||(n(c),c=0),s.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(s.reset=function(e){r(e,(function(e){e.resizeSensor.resetSensor()}))},s.detach=function(e,t){r(e,(function(e){e&&(e.resizedAttached&&"function"===typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!==typeof MutationObserver){var a=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&s.reset(n[r])}));document.addEventListener("DOMContentLoaded",(function(e){a.observe(document.body,{childList:!0,subtree:!0})}))}return s}))},"2ba4":function(e,t,n){"use strict";var r=n("40d5"),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(i):function(){return s.apply(i,arguments)})},"2cf4":function(e,t,n){"use strict";var r,o,i,s,a=n("da84"),c=n("2ba4"),u=n("0366"),l=n("1626"),d=n("1a2d"),f=n("d039"),p=n("1be4"),h=n("f36a"),m=n("cc12"),v=n("d6d6"),g=n("1cdc"),b=n("605d"),y=a.setImmediate,w=a.clearImmediate,S=a.process,O=a.Dispatch,E=a.Function,C=a.MessageChannel,j=a.String,x=0,k={},T="onreadystatechange";f((function(){r=a.location}));var I=function(e){if(d(k,e)){var t=k[e];delete k[e],t()}},P=function(e){return function(){I(e)}},V=function(e){I(e.data)},A=function(e){a.postMessage(j(e),r.protocol+"//"+r.host)};y&&w||(y=function(e){v(arguments.length,1);var t=l(e)?e:E(e),n=h(arguments,1);return k[++x]=function(){c(t,void 0,n)},o(x),x},w=function(e){delete k[e]},b?o=function(e){S.nextTick(P(e))}:O&&O.now?o=function(e){O.now(P(e))}:C&&!g?(i=new C,s=i.port2,i.port1.onmessage=V,o=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(A)?(o=A,a.addEventListener("message",V,!1)):o=T in m("script")?function(e){p.appendChild(m("script"))[T]=function(){p.removeChild(this),I(e)}}:function(e){setTimeout(P(e),0)}),e.exports={set:y,clear:w}},"2d00":function(e,t,n){"use strict";var r,o,i=n("da84"),s=n("342f"),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},"306f":function(e,t,n){"use strict";n("ae33")},3143:function(e,t,n){"use strict";n("0b0b")},3410:function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("7b0b"),s=n("e163"),a=n("e177"),c=o((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(e){return s(i(e))}})},"342f":function(e,t,n){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3511:function(e,t,n){"use strict";var r=TypeError,o=9007199254740991;e.exports=function(e){if(e>o)throw r("Maximum allowed index exceeded");return e}},3529:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("59ed"),s=n("f069"),a=n("e667"),c=n("2266"),u=n("5eed");r({target:"Promise",stat:!0,forced:u},{race:function(e){var t=this,n=s.f(t),r=n.reject,u=a((function(){var s=i(t.resolve);c(e,(function(e){o(s,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},"358f":function(e,t,n){},"35a1":function(e,t,n){"use strict";var r=n("f5df"),o=n("dc4a"),i=n("7234"),s=n("3f8c"),a=n("b622"),c=a("iterator");e.exports=function(e){if(!i(e))return o(e,c)||o(e,"@@iterator")||s[r(e)]}},"37e8":function(e,t,n){"use strict";var r=n("83ab"),o=n("aed9"),i=n("9bf2"),s=n("825a"),a=n("fc6a"),c=n("df75");t.f=r&&!o?Object.defineProperties:function(e,t){s(e);var n,r=a(t),o=c(t),u=o.length,l=0;while(u>l)i.f(e,n=o[l++],r[n]);return e}},"3a34":function(e,t,n){"use strict";var r=n("83ab"),o=n("e8b5"),i=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!s(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){"use strict";var r=n("e330");e.exports=r({}.isPrototypeOf)},"3bbe":function(e,t,n){"use strict";var r=n("1787"),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},"3bca":function(e,t,n){},"3c34":function(e,t,n){"use strict";n("e4ca")},"3c65":function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("07fa"),s=n("3a34"),a=n("083a"),c=n("3511"),u=1!==[].unshift(0),l=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},d=u||!l();r({target:"Array",proto:!0,arity:1,forced:d},{unshift:function(e){var t=o(this),n=i(t),r=arguments.length;if(r){c(n+r);var u=n;while(u--){var l=u+r;u in t?t[l]=t[u]:a(t,l)}for(var d=0;d<r;d++)t[d]=arguments[d]}return s(t,n+r)}})},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,o=n("577e"),i=n("69f3"),s=n("c6d2"),a=n("4754"),c="String Iterator",u=i.set,l=i.getterFor(c);s(String,"String",(function(e){u(this,{type:c,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?a(void 0,!0):(e=r(n,o),t.index+=e.length,a(e,!1))}))},"3f8c":function(e,t,n){"use strict";e.exports={}},"408a":function(e,t,n){"use strict";var r=n("e330");e.exports=r(1..valueOf)},"40d5":function(e,t,n){"use strict";var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4160:function(e,t,n){"use strict";var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!==o},{forEach:o})},"428f":function(e,t,n){"use strict";var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){"use strict";var r=n("e330"),o=n("d039"),i=n("c6b6"),s=Object,a=r("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?a(e,""):s(e)}:s},"44d2":function(e,t,n){"use strict";var r=n("b622"),o=n("7c73"),i=n("9bf2").f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&i(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(n){}}},"44e7":function(e,t,n){"use strict";var r=n("861d"),o=n("c6b6"),i=n("b622"),s=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===o(e))}},"45fc":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").some,i=n("a640"),s=i("some");r({target:"Array",proto:!0,forced:!s},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},4625:function(e,t,n){"use strict";var r=n("c6b6"),o=n("e330");e.exports=function(e){if("Function"===r(e))return o(e)}},"466d":function(e,t,n){"use strict";var r=n("c65b"),o=n("d784"),i=n("825a"),s=n("7234"),a=n("50c4"),c=n("577e"),u=n("1d80"),l=n("dc4a"),d=n("8aa5"),f=n("14c3");o("match",(function(e,t,n){return[function(t){var n=u(this),o=s(t)?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](c(n))},function(e){var r=i(this),o=c(e),s=n(t,r,o);if(s.done)return s.value;if(!r.global)return f(r,o);var u=r.unicode;r.lastIndex=0;var l,p=[],h=0;while(null!==(l=f(r,o))){var m=c(l[0]);p[h]=m,""===m&&(r.lastIndex=d(o,a(r.lastIndex),u)),h++}return 0===h?null:p}]}))},4738:function(e,t,n){"use strict";var r=n("da84"),o=n("d256"),i=n("1626"),s=n("94ca"),a=n("8925"),c=n("b622"),u=n("6069"),l=n("6c59"),d=n("c430"),f=n("2d00"),p=o&&o.prototype,h=c("species"),m=!1,v=i(r.PromiseRejectionEvent),g=s("Promise",(function(){var e=a(o),t=e!==String(o);if(!t&&66===f)return!0;if(d&&(!p["catch"]||!p["finally"]))return!0;if(!f||f<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};if(i[h]=r,m=n.then((function(){}))instanceof r,!m)return!0}return!t&&(u||l)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},4754:function(e,t,n){"use strict";e.exports=function(e,t){return{value:e,done:t}}},4840:function(e,t,n){"use strict";var r=n("825a"),o=n("5087"),i=n("7234"),s=n("b622"),a=s("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||i(n=r(s)[a])?t:o(n)}},"485a":function(e,t,n){"use strict";var r=n("c65b"),o=n("1626"),i=n("861d"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!i(a=r(n,e)))return a;if(o(n=e.valueOf)&&!i(a=r(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!i(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},"4c45":function(e,t,n){"use strict";n("df7e")},"4cb6":function(e,t,n){"use strict";n("358f")},"4d64":function(e,t,n){"use strict";var r=n("fc6a"),o=n("23cb"),i=n("07fa"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c),l=o(s,u);if(e&&n!==n){while(u>l)if(a=c[l++],a!==a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),s=i("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),o=n("c65b"),i=n("7b0b"),s=n("9bdd"),a=n("e95a"),c=n("68ee"),u=n("07fa"),l=n("8418"),d=n("9a1f"),f=n("35a1"),p=Array;e.exports=function(e){var t=i(e),n=c(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=r(m,h>2?arguments[2]:void 0));var g,b,y,w,S,O,E=f(t),C=0;if(!E||this===p&&a(E))for(g=u(t),b=n?new this(g):p(g);g>C;C++)O=v?m(t[C],C):t[C],l(b,C,O);else for(w=d(t,E),S=w.next,b=n?new this:[];!(y=o(S,w)).done;C++)O=v?s(w,m,[y.value,C],!0):y.value,l(b,C,O);return b.length=C,b}},"4e82":function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("59ed"),s=n("7b0b"),a=n("07fa"),c=n("083a"),u=n("577e"),l=n("d039"),d=n("addb"),f=n("a640"),p=n("04d1"),h=n("d998"),m=n("2d00"),v=n("512c"),g=[],b=o(g.sort),y=o(g.push),w=l((function(){g.sort(void 0)})),S=l((function(){g.sort(null)})),O=f("sort"),E=!l((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),C=w||!S||!O||!E,j=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}};r({target:"Array",proto:!0,forced:C},{sort:function(e){void 0!==e&&i(e);var t=s(this);if(E)return void 0===e?b(t):b(t,e);var n,r,o=[],u=a(t);for(r=0;r<u;r++)r in t&&y(o,t[r]);d(o,j(e)),n=a(o),r=0;while(r<n)t[r]=o[r++];while(r<u)c(t,r++);return t}})},"4fad":function(e,t,n){"use strict";var r=n("23e7"),o=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return o(e)}})},5087:function(e,t,n){"use strict";var r=n("68ee"),o=n("0d51"),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a constructor")}},"50c4":function(e,t,n){"use strict";var r=n("5926"),o=Math.min;e.exports=function(e){var t=r(e);return t>0?o(t,9007199254740991):0}},"512c":function(e,t,n){"use strict";var r=n("342f"),o=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},5134:function(e,t,n){"use strict";(function(e){let r,o;function i(){var t;return void 0!==r||("undefined"!==typeof window&&window.performance?(r=!0,o=window.performance):"undefined"!==typeof e&&(null===(t=e.perf_hooks)||void 0===t?void 0:t.performance)?(r=!0,o=e.perf_hooks.performance):r=!1),r}function s(){return i()?o.now():Date.now()}n.d(t,"a",(function(){return s}))}).call(this,n("c8ba"))},"51eb":function(e,t,n){"use strict";var r=n("825a"),o=n("485a"),i=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new i("Incorrect hint");return o(this,e)}},5319:function(e,t,n){"use strict";var r=n("2ba4"),o=n("c65b"),i=n("e330"),s=n("d784"),a=n("d039"),c=n("825a"),u=n("1626"),l=n("7234"),d=n("5926"),f=n("50c4"),p=n("577e"),h=n("1d80"),m=n("8aa5"),v=n("dc4a"),g=n("0cb2"),b=n("14c3"),y=n("b622"),w=y("replace"),S=Math.max,O=Math.min,E=i([].concat),C=i([].push),j=i("".indexOf),x=i("".slice),k=function(e){return void 0===e?e:String(e)},T=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),P=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var i=I?"$":"$0";return[function(e,n){var r=h(this),i=l(e)?void 0:v(e,w);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var s=c(this),a=p(e);if("string"==typeof o&&-1===j(o,i)&&-1===j(o,"$<")){var l=n(t,s,a,o);if(l.done)return l.value}var h=u(o);h||(o=p(o));var v,y=s.global;y&&(v=s.unicode,s.lastIndex=0);var w,T=[];while(1){if(w=b(s,a),null===w)break;if(C(T,w),!y)break;var I=p(w[0]);""===I&&(s.lastIndex=m(a,f(s.lastIndex),v))}for(var P="",V=0,A=0;A<T.length;A++){w=T[A];for(var R,N=p(w[0]),L=S(O(d(w.index),a.length),0),_=[],M=1;M<w.length;M++)C(_,k(w[M]));var B=w.groups;if(h){var D=E([N],_,L,a);void 0!==B&&C(D,B),R=p(r(o,void 0,D))}else R=g(N,a,L,_,B,o);L>=V&&(P+=x(a,V,L)+R,V=L+N.length)}return P+x(a,V)}]}),!P||!T||I)},5646:function(e,t,n){},5692:function(e,t,n){"use strict";var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){"use strict";var r=n("d066"),o=n("e330"),i=n("241c"),s=n("7418"),a=n("825a"),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=s.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){"use strict";var r=n("f5df"),o=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},"57b9":function(e,t,n){"use strict";var r=n("c65b"),o=n("d066"),i=n("b622"),s=n("cb2d");e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=i("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},5899:function(e,t,n){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){"use strict";var r=n("e330"),o=n("1d80"),i=n("577e"),s=n("5899"),a=r("".replace),c=RegExp("^["+s+"]+"),u=RegExp("(^|[^"+s+"])["+s+"]+$"),l=function(e){return function(t){var n=i(o(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,u,"$1")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},5926:function(e,t,n){"use strict";var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},5982:function(e,t,n){},"59ed":function(e,t,n){"use strict";var r=n("1626"),o=n("0d51"),i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not a function")}},"5a34":function(e,t,n){"use strict";var r=n("44e7"),o=TypeError;e.exports=function(e){if(r(e))throw new o("The method doesn't accept regular expressions");return e}},"5a47":function(e,t,n){"use strict";var r=n("23e7"),o=n("04f8"),i=n("d039"),s=n("7418"),a=n("7b0b"),c=!o||i((function(){s.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"5c6c":function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,n){"use strict";var r=n("83ab"),o=n("1a2d"),i=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},"5e7e":function(e,t,n){"use strict";var r,o,i,s,a=n("23e7"),c=n("c430"),u=n("605d"),l=n("da84"),d=n("c65b"),f=n("cb2d"),p=n("d2bb"),h=n("d44e"),m=n("2626"),v=n("59ed"),g=n("1626"),b=n("861d"),y=n("19aa"),w=n("4840"),S=n("2cf4").set,O=n("b575"),E=n("44de"),C=n("e667"),j=n("01b4"),x=n("69f3"),k=n("d256"),T=n("4738"),I=n("f069"),P="Promise",V=T.CONSTRUCTOR,A=T.REJECTION_EVENT,R=T.SUBCLASSING,N=x.getterFor(P),L=x.set,_=k&&k.prototype,M=k,B=_,D=l.TypeError,F=l.document,U=l.process,z=I.f,G=z,$=!!(F&&F.createEvent&&l.dispatchEvent),H="unhandledrejection",W="rejectionhandled",q=0,Q=1,X=2,Y=1,J=2,K=function(e){var t;return!(!b(e)||!g(t=e.then))&&t},Z=function(e,t){var n,r,o,i=t.value,s=t.state===Q,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(s||(t.rejection===J&&oe(t),t.rejection=Y),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),o=!0)),n===e.promise?u(new D("Promise-chain cycle")):(r=K(n))?d(r,n,c,u):c(n)):u(i)}catch(f){l&&!o&&l.exit(),u(f)}},ee=function(e,t){e.notified||(e.notified=!0,O((function(){var n,r=e.reactions;while(n=r.get())Z(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,o;$?(r=F.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!A&&(o=l["on"+e])?o(r):e===H&&E("Unhandled promise rejection",n)},ne=function(e){d(S,l,(function(){var t,n=e.facade,r=e.value,o=re(e);if(o&&(t=C((function(){u?U.emit("unhandledRejection",r,n):te(H,n,r)})),e.rejection=u||re(e)?J:Y,t.error))throw t.value}))},re=function(e){return e.rejection!==Y&&!e.parent},oe=function(e){d(S,l,(function(){var t=e.facade;u?U.emit("rejectionHandled",t):te(W,t,e.value)}))},ie=function(e,t,n){return function(r){e(t,r,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=X,ee(e,!0))},ae=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new D("Promise can't be resolved itself");var r=K(t);r?O((function(){var n={done:!1};try{d(r,t,ie(ae,n,e),ie(se,n,e))}catch(o){se(n,o,e)}})):(e.value=t,e.state=Q,ee(e,!1))}catch(o){se({done:!1},o,e)}}};if(V&&(M=function(e){y(this,B),v(e),d(r,this);var t=N(this);try{e(ie(ae,t),ie(se,t))}catch(n){se(t,n)}},B=M.prototype,r=function(e){L(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:q,value:void 0})},r.prototype=f(B,"then",(function(e,t){var n=N(this),r=z(w(this,M));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=u?U.domain:void 0,n.state===q?n.reactions.add(r):O((function(){Z(r,n)})),r.promise})),o=function(){var e=new r,t=N(e);this.promise=e,this.resolve=ie(ae,t),this.reject=ie(se,t)},I.f=z=function(e){return e===M||e===i?new o(e):G(e)},!c&&g(k)&&_!==Object.prototype)){s=_.then,R||f(_,"then",(function(e,t){var n=this;return new M((function(e,t){d(s,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete _.constructor}catch(ce){}p&&p(_,B)}a({global:!0,constructor:!0,wrap:!0,forced:V},{Promise:M}),h(M,P,!1,!0),m(P)},"5eed":function(e,t,n){"use strict";var r=n("d256"),o=n("1c7e"),i=n("4738").CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},"605d":function(e,t,n){"use strict";var r=n("da84"),o=n("c6b6");e.exports="process"===o(r.process)},6069:function(e,t,n){"use strict";var r=n("6c59"),o=n("605d");e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},"60da":function(e,t,n){"use strict";var r=n("83ab"),o=n("e330"),i=n("c65b"),s=n("d039"),a=n("df75"),c=n("7418"),u=n("d1e7"),l=n("7b0b"),d=n("44ad"),f=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!f||s((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||a(f({},t)).join("")!==o}))?function(e,t){var n=l(e),o=arguments.length,s=1,f=c.f,p=u.f;while(o>s){var m,v=d(arguments[s++]),g=f?h(a(v),f(v)):a(v),b=g.length,y=0;while(b>y)m=g[y++],r&&!i(p,v,m)||(n[m]=v[m])}return n}:f},6374:function(e,t,n){"use strict";var r=n("da84"),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"64e5":function(e,t,n){"use strict";var r=n("e330"),o=n("d039"),i=n("0ccb").start,s=RangeError,a=isFinite,c=Math.abs,u=Date.prototype,l=u.toISOString,d=r(u.getTime),f=r(u.getUTCDate),p=r(u.getUTCFullYear),h=r(u.getUTCHours),m=r(u.getUTCMilliseconds),v=r(u.getUTCMinutes),g=r(u.getUTCMonth),b=r(u.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!==l.call(new Date(-50000000000001))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!a(d(this)))throw new s("Invalid time value");var e=this,t=p(e),n=m(e),r=t<0?"-":t>9999?"+":"";return r+i(c(t),r?6:4,0)+"-"+i(g(e)+1,2,0)+"-"+i(f(e),2,0)+"T"+i(h(e),2,0)+":"+i(v(e),2,0)+":"+i(b(e),2,0)+"."+i(n,3,0)+"Z"}:l},6547:function(e,t,n){"use strict";var r=n("e330"),o=n("5926"),i=n("577e"),s=n("1d80"),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=i(s(t)),f=o(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=c(d,f),r<55296||r>56319||f+1===p||(l=c(d,f+1))<56320||l>57343?e?a(d,f):r:e?u(d,f,f+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},"65f0":function(e,t,n){"use strict";var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"68ee":function(e,t,n){"use strict";var r=n("e330"),o=n("d039"),i=n("1626"),s=n("f5df"),a=n("d066"),c=n("8925"),u=function(){},l=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.test(u),h=function(e){if(!i(e))return!1;try{return l(u,[],e),!0}catch(t){return!1}},m=function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,c(e))}catch(t){return!0}};m.sham=!0,e.exports=!l||o((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?m:h},"69f3":function(e,t,n){"use strict";var r,o,i,s=n("cdce"),a=n("da84"),c=n("861d"),u=n("9112"),l=n("1a2d"),d=n("c6cd"),f=n("f772"),p=n("d012"),h="Object already initialized",m=a.TypeError,v=a.WeakMap,g=function(e){return i(e)?o(e):r(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=o(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw new m(h);return t.facade=e,y.set(e,t),t},o=function(e){return y.get(e)||{}},i=function(e){return y.has(e)}}else{var w=f("state");p[w]=!0,r=function(e,t){if(l(e,w))throw new m(h);return t.facade=e,u(e,w,t),t},o=function(e){return l(e,w)?e[w]:{}},i=function(e){return l(e,w)}}e.exports={set:r,get:o,has:i,enforce:g,getterFor:b}},"6a15":function(e,t,n){"use strict";n("b638")},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},"6c59":function(e,t,n){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},"6f19":function(e,t,n){"use strict";var r=n("9112"),o=n("0d26"),i=n("b980"),s=Error.captureStackTrace;e.exports=function(e,t,n,a){i&&(s?s(e,t):r(e,"stack",o(n,a)))}},"6f53":function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("e330"),s=n("e163"),a=n("df75"),c=n("fc6a"),u=n("d1e7").f,l=i(u),d=i([].push),f=r&&o((function(){var e=Object.create(null);return e[2]=2,!l(e,2)})),p=function(e){return function(t){var n,o=c(t),i=a(o),u=f&&null===s(o),p=i.length,h=0,m=[];while(p>h)n=i[h++],r&&!(u?n in o:l(o,n))||d(m,e?[n,o[n]]:o[n]);return m}};e.exports={entries:p(!0),values:p(!1)}},7131:function(e,t,n){"use strict";n("22b9")},7149:function(e,t,n){"use strict";var r=n("23e7"),o=n("d066"),i=n("c430"),s=n("d256"),a=n("4738").CONSTRUCTOR,c=n("cdf9"),u=o("Promise"),l=i&&!a;r({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return c(l&&this===u?s:this,e)}})},7156:function(e,t,n){"use strict";var r=n("1626"),o=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var s,a;return i&&r(s=t.constructor)&&s!==n&&o(a=s.prototype)&&a!==n.prototype&&i(e,a),e}},7234:function(e,t,n){"use strict";e.exports=function(e){return null===e||void 0===e}},7282:function(e,t,n){"use strict";var r=n("e330"),o=n("59ed");e.exports=function(e,t,n){try{return r(o(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(i){}}},7418:function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols},7442:function(e,t,n){"use strict";n("f45e")},"778f":function(e,t,n){"use strict";n("dd24")},"77ce":function(e,t,n){},7839:function(e,t,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){"use strict";var r=n("cc12"),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},"7b0b":function(e,t,n){"use strict";var r=n("1d80"),o=Object;e.exports=function(e){return o(r(e))}},"7c73":function(e,t,n){"use strict";var r,o=n("825a"),i=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),d=">",f="<",p="prototype",h="script",m=l("IE_PROTO"),v=function(){},g=function(e){return f+h+d+e+f+"/"+h+d},b=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?b(r):y():b(r);var e=s.length;while(e--)delete w[p][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=o(e),n=new v,v[p]=null,n[m]=e):n=w(),void 0===t?n:i.f(n,t)}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").find,i=n("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},8172:function(e,t,n){"use strict";var r=n("e065"),o=n("57b9");r("toPrimitive"),o()},"825a":function(e,t,n){"use strict";var r=n("861d"),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw new i(o(e)+" is not an object")}},"83ab":function(e,t,n){"use strict";var r=n("d039");e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("a04b"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?o.f(e,s,i(0,n)):e[s]=n}},"861d":function(e,t,n){"use strict";var r=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},"87d4":function(e,t,n){e.exports={ResizeSensor:n("2ad6"),ElementQueries:n("ae72")}},8925:function(e,t,n){"use strict";var r=n("e330"),o=n("1626"),i=n("c6cd"),s=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"90d8":function(e,t,n){"use strict";var r=n("c65b"),o=n("1a2d"),i=n("3a9b"),s=n("ad6d"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||o(e,"flags")||!i(a,e)?t:r(s,e)}},"90e3":function(e,t,n){"use strict";var r=n("e330"),o=0,i=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},9112:function(e,t,n){"use strict";var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9224:function(e){e.exports=JSON.parse('{"a":"1.4.2"}')},9263:function(e,t,n){"use strict";var r=n("c65b"),o=n("e330"),i=n("577e"),s=n("ad6d"),a=n("9f7f"),c=n("5692"),u=n("7c73"),l=n("69f3").get,d=n("fce3"),f=n("107c"),p=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,v=o("".charAt),g=o("".indexOf),b=o("".replace),y=o("".slice),w=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),S=a.BROKEN_CARET,O=void 0!==/()??/.exec("")[1],E=w||O||S||d||f;E&&(m=function(e){var t,n,o,a,c,d,f,E=this,C=l(E),j=i(e),x=C.raw;if(x)return x.lastIndex=E.lastIndex,t=r(m,x,j),E.lastIndex=x.lastIndex,t;var k=C.groups,T=S&&E.sticky,I=r(s,E),P=E.source,V=0,A=j;if(T&&(I=b(I,"y",""),-1===g(I,"g")&&(I+="g"),A=y(j,E.lastIndex),E.lastIndex>0&&(!E.multiline||E.multiline&&"\n"!==v(j,E.lastIndex-1))&&(P="(?: "+P+")",A=" "+A,V++),n=new RegExp("^(?:"+P+")",I)),O&&(n=new RegExp("^"+P+"$(?!\\s)",I)),w&&(o=E.lastIndex),a=r(h,T?n:E,A),T?a?(a.input=y(a.input,V),a[0]=y(a[0],V),a.index=E.lastIndex,E.lastIndex+=a[0].length):E.lastIndex=0:w&&a&&(E.lastIndex=E.global?a.index+a[0].length:o),O&&a&&a.length>1&&r(p,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&k)for(a.groups=d=u(null),c=0;c<k.length;c++)f=k[c],d[f[0]]=a[f[1]];return a}),e.exports=m},"944a":function(e,t,n){"use strict";var r=n("d066"),o=n("e065"),i=n("d44e");o("toStringTag"),i(r("Symbol"),"Symbol")},"94ca":function(e,t,n){"use strict";var r=n("d039"),o=n("1626"),i=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n===l||n!==u&&(o(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},"97de":function(e,t,n){},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),s=n("861d"),a=n("7b0b"),c=n("07fa"),u=n("3511"),l=n("8418"),d=n("65f0"),f=n("1dde"),p=n("b622"),h=n("2d00"),m=p("isConcatSpreadable"),v=h>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)},b=!v||!f("concat");r({target:"Array",proto:!0,arity:1,forced:b},{concat:function(e){var t,n,r,o,i,s=a(this),f=d(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?s:arguments[t],g(i))for(o=c(i),u(p+o),n=0;n<o;n++,p++)n in i&&l(f,p,i[n]);else u(p+1),l(f,p++,i);return f.length=p,f}})},"9a1f":function(e,t,n){"use strict";var r=n("c65b"),o=n("59ed"),i=n("825a"),s=n("0d51"),a=n("35a1"),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(o(n))return i(r(n,e));throw new c(s(e)+" is not iterable")}},"9bdd":function(e,t,n){"use strict";var r=n("825a"),o=n("2a62");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){o(e,"throw",s)}}},"9bf2":function(e,t,n){"use strict";var r=n("83ab"),o=n("0cfb"),i=n("aed9"),s=n("825a"),a=n("a04b"),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?i?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9f7f":function(e,t,n){"use strict";var r=n("d039"),o=n("da84"),i=o.RegExp,s=r((function(){var e=i("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=s||r((function(){return!i("a","y").sticky})),c=s||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:s}},a04b:function(e,t,n){"use strict";var r=n("c04e"),o=n("d9b5");e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},a15b:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("44ad"),s=n("fc6a"),a=n("a640"),c=o([].join),u=i!==Object,l=u||!a("join",",");r({target:"Array",proto:!0,forced:l},{join:function(e){return c(s(this),void 0===e?",":e)}})},a42f:function(e,t,n){"use strict";n("03ef")},a434:function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("23cb"),s=n("5926"),a=n("07fa"),c=n("3a34"),u=n("3511"),l=n("65f0"),d=n("8418"),f=n("083a"),p=n("1dde"),h=p("splice"),m=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,p,h,g,b,y=o(this),w=a(y),S=i(e,w),O=arguments.length;for(0===O?n=r=0:1===O?(n=0,r=w-S):(n=O-2,r=v(m(s(t),0),w-S)),u(w+n-r),p=l(y,r),h=0;h<r;h++)g=S+h,g in y&&d(p,h,y[g]);if(p.length=r,n<r){for(h=S;h<w-r;h++)g=h+r,b=h+n,g in y?y[b]=y[g]:f(y,b);for(h=w;h>w-r+n;h--)f(y,h-1)}else if(n>r)for(h=w-r;h>S;h--)g=h+r-1,b=h+n-1,g in y?y[b]=y[g]:f(y,b);for(h=0;h<n;h++)y[h+S]=arguments[h+2];return c(y,w-r+n),p}})},a4b4:function(e,t,n){"use strict";var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){"use strict";n("d9f5"),n("b4f8"),n("c513"),n("e9c4"),n("5a47")},a630:function(e,t,n){"use strict";var r=n("23e7"),o=n("4df4"),i=n("1c7e"),s=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:o})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},a706:function(e,t,n){"use strict";n("001d")},a9e3:function(e,t,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("83ab"),s=n("da84"),a=n("428f"),c=n("e330"),u=n("94ca"),l=n("1a2d"),d=n("7156"),f=n("3a9b"),p=n("d9b5"),h=n("c04e"),m=n("d039"),v=n("241c").f,g=n("06cf").f,b=n("9bf2").f,y=n("408a"),w=n("58a8").trim,S="Number",O=s[S],E=a[S],C=O.prototype,j=s.TypeError,x=c("".slice),k=c("".charCodeAt),T=function(e){var t=h(e,"number");return"bigint"==typeof t?t:I(t)},I=function(e){var t,n,r,o,i,s,a,c,u=h(e,"number");if(p(u))throw new j("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=w(u),t=k(u,0),43===t||45===t){if(n=k(u,2),88===n||120===n)return NaN}else if(48===t){switch(k(u,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+u}for(i=x(u,2),s=i.length,a=0;a<s;a++)if(c=k(i,a),c<48||c>o)return NaN;return parseInt(i,r)}return+u},P=u(S,!O(" 0o1")||!O("0b1")||O("+0x1")),V=function(e){return f(C,e)&&m((function(){y(e)}))},A=function(e){var t=arguments.length<1?0:O(T(e));return V(this)?d(Object(t),this,A):t};A.prototype=C,P&&!o&&(C.constructor=A),r({global:!0,constructor:!0,wrap:!0,forced:P},{Number:A});var R=function(e,t){for(var n,r=i?v(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),o=0;r.length>o;o++)l(t,n=r[o])&&!l(e,n)&&b(e,n,g(t,n))};o&&E&&R(a[S],E),(P||o)&&R(a[S],O)},aa1f:function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("825a"),s=n("e391"),a=Error.prototype.toString,c=o((function(){if(r){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==a.call(e))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));e.exports=c?function(){var e=i(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:a},ab13:function(e,t,n){"use strict";var r=n("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},ab36:function(e,t,n){"use strict";var r=n("861d"),o=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},ab8b:function(e,t,n){},abc5:function(e,t,n){"use strict";(function(e){function r(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const i="function"===typeof Proxy}).call(this,n("c8ba"))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},accc:function(e,t,n){"use strict";var r=n("23e7"),o=n("64e5");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},addb:function(e,t,n){"use strict";var r=n("f36a"),o=Math.floor,i=function(e,t){var n=e.length;if(n<8){var s,a,c=1;while(c<n){a=c,s=e[c];while(a&&t(e[a-1],s)>0)e[a]=e[--a];a!==c++&&(e[a]=s)}}else{var u=o(n/2),l=i(r(e,0,u),t),d=i(r(e,u),t),f=l.length,p=d.length,h=0,m=0;while(h<f||m<p)e[h+m]=h<f&&m<p?t(l[h],d[m])<=0?l[h++]:d[m++]:h<f?l[h++]:d[m++]}return e};e.exports=i},ae33:function(e,t,n){},ae72:function(e,t,n){"use strict";var r,o,i;(function(s,a){o=[n("2ad6")],r=a,i="function"===typeof r?r.apply(t,o):r,void 0===i||(e.exports=i)})("undefined"!==typeof window&&window,(function(e){var t=function(){var t,n={},r=[];function o(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function s(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":return t;case"em":return t*o(e);case"rem":return t*o();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var i=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100,a=Math["vmin"===r?"min":"max"];return t*a(i,s);default:return t}}function a(e,t){var r,o,a,c,u,l,d,f;this.element=e;var p=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in a=i(this.element),l={},n[t])n[t].hasOwnProperty(r)&&(o=n[t][r],c=s(this.element,o.value),u="width"===o.property?a.width:a.height,f=o.mode+"-"+o.property,d="","min"===o.mode&&u>=c&&(d+=o.value),"max"===o.mode&&u<=c&&(d+=o.value),l[f]||(l[f]=""),d&&-1===(" "+l[f]+" ").indexOf(" "+d+" ")&&(l[f]+=" "+d));for(var e in p)p.hasOwnProperty(e)&&(l[p[e]]?this.element.setAttribute(p[e],l[p[e]].substr(1)):this.element.removeAttribute(p[e]))}}function c(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()})))}function u(e,o,i,s){if("undefined"===typeof n[e]){n[e]=[];var a=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+a+"px;}",r.push(e)}n[e].push({mode:o,property:i,value:s})}function l(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"===typeof $$||(t=$$),t||"undefined"===typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function d(e){var t=l(e);for(var r in n)if(n.hasOwnProperty(r))for(var o=t(r,e),i=0,s=o.length;i<s;i++)c(o[i],r)}function f(t){var n=[],r=[],o=[],i=0,s=-1,a=[];for(var c in t.children)if(t.children.hasOwnProperty(c)&&t.children[c].tagName&&"img"===t.children[c].tagName.toLowerCase()){n.push(t.children[c]);var u=t.children[c].getAttribute("min-width")||t.children[c].getAttribute("data-min-width"),l=t.children[c].getAttribute("data-src")||t.children[c].getAttribute("url");o.push(l);var d={minWidth:u};r.push(d),u?t.children[c].style.display="none":(i=n.length-1,t.children[c].style.display="block")}function f(){var e,c=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(c=e);if(c||(c=i),s!==c)if(a[c])n[s].style.display="none",n[c].style.display="block",s=c;else{var u=new Image;u.onload=function(){n[c].src=o[c],n[s].style.display="none",n[c].style.display="block",a[c]=!0,s=c},u.src=o[c]}else n[c].src=o[c]}s=i,t.resizeSensorInstance=new e(t,f),f()}function p(){for(var e=l(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;n<r;n++)f(t[n])}var h=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function v(e){var t,n,r,o;e=e.replace(/'/g,'"');while(null!==(t=h.exec(e))){n=t[1]+t[3],r=t[2];while(null!==(o=m.exec(r)))u(n,o[1],o[2],o[3])}}function g(e){var t="";if(e)if("string"===typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||v(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?v(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||v(t)):4===e[n].type?g(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&g(e[n].styleSheet.cssRules)}var b=!1;this.init=function(){var n="animationstart";"undefined"!==typeof document.documentElement.style["webkitAnimationName"]?n="webkitAnimationStart":"undefined"!==typeof document.documentElement.style["MozAnimationName"]?n="mozanimationstart":"undefined"!==typeof document.documentElement.style["OAnimationName"]&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,o=n&&window.getComputedStyle(n,null),i=o&&o.getPropertyValue("animation-name"),s=i&&-1!==i.indexOf("element-queries");if(s){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null),u=a.getPropertyValue("min-width");u=parseInt(u.replace("px","")),c(t.target,r[u])}})),b||(t=document.createElement("style"),t.type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),b=!0);for(var o=0,i=document.styleSheets.length;o<i;o++)try{document.styleSheets[o].href&&0===document.styleSheets[o].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[o].href),g(document.styleSheets[o].cssRules||document.styleSheets[o].rules||document.styleSheets[o].cssText)}catch(s){}p()},this.findElementQueriesElements=function(e){d(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t}))},ae93:function(e,t,n){"use strict";var r,o,i,s=n("d039"),a=n("1626"),c=n("861d"),u=n("7c73"),l=n("e163"),d=n("cb2d"),f=n("b622"),p=n("c430"),h=f("iterator"),m=!1;[].keys&&(i=[].keys(),"next"in i?(o=l(l(i)),o!==Object.prototype&&(r=o)):m=!0);var v=!c(r)||s((function(){var e={};return r[h].call(e)!==e}));v?r={}:p&&(r=u(r)),a(r[h])||d(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},aeb0:function(e,t,n){"use strict";var r=n("9bf2").f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){"use strict";var r=n("83ab"),o=n("d039");e.exports=r&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(e,t,n){"use strict";var r=n("00ee"),o=n("f5df");e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b3ad:function(e,t,n){"use strict";n("77ce")},b42e:function(e,t,n){"use strict";var r=Math.ceil,o=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?o:r)(t)}},b4f8:function(e,t,n){"use strict";var r=n("23e7"),o=n("d066"),i=n("1a2d"),s=n("577e"),a=n("5692"),c=n("0b43"),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(i(u,t))return u[t];var n=o("Symbol")(t);return u[t]=n,l[n]=t,n}})},b575:function(e,t,n){"use strict";var r,o,i,s,a,c=n("da84"),u=n("157a"),l=n("0366"),d=n("2cf4").set,f=n("01b4"),p=n("1cdc"),h=n("d4c3"),m=n("a4b4"),v=n("605d"),g=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,w=c.Promise,S=u("queueMicrotask");if(!S){var O=new f,E=function(){var e,t;v&&(e=y.domain)&&e.exit();while(t=O.get())try{t()}catch(n){throw O.head&&r(),n}e&&e.enter()};p||v||m||!g||!b?!h&&w&&w.resolve?(s=w.resolve(void 0),s.constructor=w,a=l(s.then,s),r=function(){a(E)}):v?r=function(){y.nextTick(E)}:(d=l(d,c),r=function(){d(E)}):(o=!0,i=b.createTextNode(""),new g(E).observe(i,{characterData:!0}),r=function(){i.data=o=!o}),S=function(e){O.head||r(),O.add(e)}}e.exports=S},b622:function(e,t,n){"use strict";var r=n("da84"),o=n("5692"),i=n("1a2d"),s=n("90e3"),a=n("04f8"),c=n("fdbf"),u=r.Symbol,l=o("wks"),d=c?u["for"]||u:u&&u.withoutSetter||s;e.exports=function(e){return i(l,e)||(l[e]=a&&i(u,e)?u[e]:d("Symbol."+e)),l[e]}},b636:function(e,t,n){"use strict";var r=n("e065");r("asyncIterator")},b638:function(e,t,n){},b64b:function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("df75"),s=n("d039"),a=s((function(){i(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return i(o(e))}})},b727:function(e,t,n){"use strict";var r=n("0366"),o=n("e330"),i=n("44ad"),s=n("7b0b"),a=n("07fa"),c=n("65f0"),u=o([].push),l=function(e){var t=1===e,n=2===e,o=3===e,l=4===e,d=6===e,f=7===e,p=5===e||d;return function(h,m,v,g){for(var b,y,w=s(h),S=i(w),O=a(S),E=r(m,v),C=0,j=g||c,x=t?j(h,O):n||f?j(h,0):void 0;O>C;C++)if((p||C in S)&&(b=S[C],y=E(b,C,w),e))if(t)x[C]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return C;case 2:u(x,b)}else switch(e){case 4:return!1;case 7:u(x,b)}return d?-1:o||l?l:x}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},b980:function(e,t,n){"use strict";var r=n("d039"),o=n("5c6c");e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},c03e:function(e,t,n){"use strict";n("e444")},c04e:function(e,t,n){"use strict";var r=n("c65b"),o=n("861d"),i=n("d9b5"),s=n("dc4a"),a=n("485a"),c=n("b622"),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=s(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c1f9:function(e,t,n){"use strict";var r=n("23e7"),o=n("2266"),i=n("8418");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return o(e,(function(e,n){i(t,e,n)}),{AS_ENTRIES:!0}),t}})},c20d:function(e,t,n){"use strict";var r=n("da84"),o=n("d039"),i=n("e330"),s=n("577e"),a=n("58a8").trim,c=n("5899"),u=r.parseInt,l=r.Symbol,d=l&&l.iterator,f=/^[+-]?0x/i,p=i(f.exec),h=8!==u(c+"08")||22!==u(c+"0x16")||d&&!o((function(){u(Object(d))}));e.exports=h?function(e,t){var n=a(s(e));return u(n,t>>>0||(p(f,n)?16:10))}:u},c430:function(e,t,n){"use strict";e.exports=!1},c513:function(e,t,n){"use strict";var r=n("23e7"),o=n("1a2d"),i=n("d9b5"),s=n("0d51"),a=n("5692"),c=n("0b43"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw new TypeError(s(e)+" is not a symbol");if(o(u,e))return u[e]}})},c65b:function(e,t,n){"use strict";var r=n("40d5"),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},c6b6:function(e,t,n){"use strict";var r=n("e330"),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},c6cd:function(e,t,n){"use strict";var r=n("da84"),o=n("6374"),i="__core-js_shared__",s=r[i]||o(i,{});e.exports=s},c6d2:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("c430"),s=n("5e77"),a=n("1626"),c=n("dcc3"),u=n("e163"),l=n("d2bb"),d=n("d44e"),f=n("9112"),p=n("cb2d"),h=n("b622"),m=n("3f8c"),v=n("ae93"),g=s.PROPER,b=s.CONFIGURABLE,y=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=h("iterator"),O="keys",E="values",C="entries",j=function(){return this};e.exports=function(e,t,n,s,h,v,x){c(n,t,s);var k,T,I,P=function(e){if(e===h&&L)return L;if(!w&&e&&e in R)return R[e];switch(e){case O:return function(){return new n(this,e)};case E:return function(){return new n(this,e)};case C:return function(){return new n(this,e)}}return function(){return new n(this)}},V=t+" Iterator",A=!1,R=e.prototype,N=R[S]||R["@@iterator"]||h&&R[h],L=!w&&N||P(h),_="Array"===t&&R.entries||N;if(_&&(k=u(_.call(new e)),k!==Object.prototype&&k.next&&(i||u(k)===y||(l?l(k,y):a(k[S])||p(k,S,j)),d(k,V,!0,!0),i&&(m[V]=j))),g&&h===E&&N&&N.name!==E&&(!i&&b?f(R,"name",E):(A=!0,L=function(){return o(N,this)})),h)if(T={values:P(E),keys:v?L:P(O),entries:P(C)},x)for(I in T)(w||A||!(I in R))&&p(R,I,T[I]);else r({target:t,proto:!0,forced:w||A},T);return i&&!x||R[S]===L||p(R,S,L,{name:h}),m[t]=L,T}},c740:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,i=n("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},c7df:function(e,t,n){"use strict";n("5646")},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),o=n("4625"),i=n("4d64").indexOf,s=n("a640"),a=o([].indexOf),c=!!a&&1/a([1],1,-0)<0,u=c||!s("indexOf");r({target:"Array",proto:!0,forced:u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?a(this,e,t)||0:i(this,e,t)}})},ca84:function(e,t,n){"use strict";var r=n("e330"),o=n("1a2d"),i=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(a,n)&&o(r,n)&&c(l,n);while(t.length>u)o(r,n=t[u++])&&(~s(l,n)||c(l,n));return l}},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("d039"),s=n("44d2"),a=i((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cb2d:function(e,t,n){"use strict";var r=n("1626"),o=n("9bf2"),i=n("13d2"),s=n("6374");e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&i(n,u,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(l){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cc12:function(e,t,n){"use strict";var r=n("da84"),o=n("861d"),i=r.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},cc98:function(e,t,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("4738").CONSTRUCTOR,s=n("d256"),a=n("d066"),c=n("1626"),u=n("cb2d"),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(s)){var d=a("Promise").prototype["catch"];l["catch"]!==d&&u(l,"catch",d,{unsafe:!0})}},cca6:function(e,t,n){"use strict";var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},cd74:function(e,t,n){},cdce:function(e,t,n){"use strict";var r=n("da84"),o=n("1626"),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},cdf9:function(e,t,n){"use strict";var r=n("825a"),o=n("861d"),i=n("f069");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),s=n.resolve;return s(t),n.promise}},d012:function(e,t,n){"use strict";e.exports={}},d039:function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){"use strict";var r=n("da84"),o=n("1626"),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d256:function(e,t,n){"use strict";var r=n("da84");e.exports=r.Promise},d28b:function(e,t,n){"use strict";var r=n("e065");r("iterator")},d2bb:function(e,t,n){"use strict";var r=n("7282"),o=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d3b7:function(e,t,n){"use strict";var r=n("00ee"),o=n("cb2d"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d401:function(e,t,n){"use strict";var r=n("cb2d"),o=n("aa1f"),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},d44e:function(e,t,n){"use strict";var r=n("9bf2").f,o=n("1a2d"),i=n("b622"),s=i("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,s)&&r(e,s,{configurable:!0,value:t})}},d4c3:function(e,t,n){"use strict";var r=n("342f");e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},d58f:function(e,t,n){"use strict";var r=n("59ed"),o=n("7b0b"),i=n("44ad"),s=n("07fa"),a=TypeError,c=function(e){return function(t,n,c,u){var l=o(t),d=i(l),f=s(l);r(n);var p=e?f-1:0,h=e?-1:1;if(c<2)while(1){if(p in d){u=d[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw new a("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in d&&(u=n(u,d[p],p,l));return u}};e.exports={left:c(!1),right:c(!0)}},d6d6:function(e,t,n){"use strict";var r=TypeError;e.exports=function(e,t){if(e<t)throw new r("Not enough arguments");return e}},d745:function(e,t,n){"use strict";n("97de")},d784:function(e,t,n){"use strict";n("ac1f");var r=n("c65b"),o=n("cb2d"),i=n("9263"),s=n("d039"),a=n("b622"),c=n("9112"),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=a(e),p=!s((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),h=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!h||n){var m=/./[f],v=t(f,""[e],(function(e,t,n,o,s){var a=t.exec;return a===i||a===l.exec?p&&!s?{done:!0,value:r(m,t,n,o)}:{done:!0,value:r(e,n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(l,f,v[1])}d&&c(l[f],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),s=i("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d8d3:function(e,t,n){"use strict";n("3bca")},d998:function(e,t,n){"use strict";var r=n("342f");e.exports=/MSIE|Trident/.test(r)},d9b5:function(e,t,n){"use strict";var r=n("d066"),o=n("1626"),i=n("3a9b"),s=n("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,a(e))}},d9e2:function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("2ba4"),s=n("e5cb"),a="WebAssembly",c=o[a],u=7!==new Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=s(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(c&&c[e]){var n={};n[e]=s(a+"."+e,t,u),r({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},d9f5:function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("c65b"),s=n("e330"),a=n("c430"),c=n("83ab"),u=n("04f8"),l=n("d039"),d=n("1a2d"),f=n("3a9b"),p=n("825a"),h=n("fc6a"),m=n("a04b"),v=n("577e"),g=n("5c6c"),b=n("7c73"),y=n("df75"),w=n("241c"),S=n("057f"),O=n("7418"),E=n("06cf"),C=n("9bf2"),j=n("37e8"),x=n("d1e7"),k=n("cb2d"),T=n("edd0"),I=n("5692"),P=n("f772"),V=n("d012"),A=n("90e3"),R=n("b622"),N=n("e538"),L=n("e065"),_=n("57b9"),M=n("d44e"),B=n("69f3"),D=n("b727").forEach,F=P("hidden"),U="Symbol",z="prototype",G=B.set,$=B.getterFor(U),H=Object[z],W=o.Symbol,q=W&&W[z],Q=o.RangeError,X=o.TypeError,Y=o.QObject,J=E.f,K=C.f,Z=S.f,ee=x.f,te=s([].push),ne=I("symbols"),re=I("op-symbols"),oe=I("wks"),ie=!Y||!Y[z]||!Y[z].findChild,se=function(e,t,n){var r=J(H,t);r&&delete H[t],K(e,t,n),r&&e!==H&&K(H,t,r)},ae=c&&l((function(){return 7!==b(K({},"a",{get:function(){return K(this,"a",{value:7}).a}})).a}))?se:K,ce=function(e,t){var n=ne[e]=b(q);return G(n,{type:U,tag:e,description:t}),c||(n.description=t),n},ue=function(e,t,n){e===H&&ue(re,t,n),p(e);var r=m(t);return p(n),d(ne,r)?(n.enumerable?(d(e,F)&&e[F][r]&&(e[F][r]=!1),n=b(n,{enumerable:g(0,!1)})):(d(e,F)||K(e,F,g(1,b(null))),e[F][r]=!0),ae(e,r,n)):K(e,r,n)},le=function(e,t){p(e);var n=h(t),r=y(n).concat(me(n));return D(r,(function(t){c&&!i(fe,n,t)||ue(e,t,n[t])})),e},de=function(e,t){return void 0===t?b(e):le(b(e),t)},fe=function(e){var t=m(e),n=i(ee,this,t);return!(this===H&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,F)&&this[F][t])||n)},pe=function(e,t){var n=h(e),r=m(t);if(n!==H||!d(ne,r)||d(re,r)){var o=J(n,r);return!o||!d(ne,r)||d(n,F)&&n[F][r]||(o.enumerable=!0),o}},he=function(e){var t=Z(h(e)),n=[];return D(t,(function(e){d(ne,e)||d(V,e)||te(n,e)})),n},me=function(e){var t=e===H,n=Z(t?re:h(e)),r=[];return D(n,(function(e){!d(ne,e)||t&&!d(H,e)||te(r,ne[e])})),r};u||(W=function(){if(f(q,this))throw new X("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=A(e),n=function(e){var r=void 0===this?o:this;r===H&&i(n,re,e),d(r,F)&&d(r[F],t)&&(r[F][t]=!1);var s=g(1,e);try{ae(r,t,s)}catch(a){if(!(a instanceof Q))throw a;se(r,t,s)}};return c&&ie&&ae(H,t,{configurable:!0,set:n}),ce(t,e)},q=W[z],k(q,"toString",(function(){return $(this).tag})),k(W,"withoutSetter",(function(e){return ce(A(e),e)})),x.f=fe,C.f=ue,j.f=le,E.f=pe,w.f=S.f=he,O.f=me,N.f=function(e){return ce(R(e),e)},c&&(T(q,"description",{configurable:!0,get:function(){return $(this).description}}),a||k(H,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:W}),D(y(oe),(function(e){L(e)})),r({target:U,stat:!0,forced:!u},{useSetter:function(){ie=!0},useSimple:function(){ie=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:de,defineProperty:ue,defineProperties:le,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:he}),_(),M(W,U),V[F]=!0},da1f:function(e,t,n){"use strict";n("5982")},da84:function(e,t,n){"use strict";(function(t){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},da96:function(e,t,n){},dc4a:function(e,t,n){"use strict";var r=n("59ed"),o=n("7234");e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},dcc3:function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),s(e,l,!1,!0),a[l]=c,e}},dd24:function(e,t,n){},ddb0:function(e,t,n){"use strict";var r=n("da84"),o=n("fdbc"),i=n("785a"),s=n("e260"),a=n("9112"),c=n("d44e"),u=n("b622"),l=u("iterator"),d=s.values,f=function(e,t){if(e){if(e[l]!==d)try{a(e,l,d)}catch(r){e[l]=d}if(c(e,t,!0),o[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var p in o)f(r[p]&&r[p].prototype,p);f(i,"DOMTokenList")},df75:function(e,t,n){"use strict";var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(o(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===i(e,-1);return e=n(o(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var u=[];for(c=a;c<o.length;c++)u.push("..");return u=u.concat(i.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(o=!1,r=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},df7e:function(e,t,n){},e014:function(e,t,n){(function(e,n){!function(e,n){n(t)}(0,(function(t){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function i(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function a(e){var t={exports:{}};return e(t,t.exports),t.exports}var c,u,l=function(e){return e&&e.Math==Math&&e},d=l("object"==typeof globalThis&&globalThis)||l("object"==typeof window&&window)||l("object"==typeof self&&self)||l("object"==typeof s&&s)||function(){return this}()||Function("return this")(),f=function(e){try{return!!e()}catch(e){return!0}},p=!f((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),h=!f((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),m=Function.prototype.call,v=h?m.bind(m):function(){return m.apply(m,arguments)},g={}.propertyIsEnumerable,b=Object.getOwnPropertyDescriptor,y=b&&!g.call({1:2},1)?function(e){var t=b(this,e);return!!t&&t.enumerable}:g,w={f:y},S=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},O=Function.prototype,E=O.call,C=h&&O.bind.bind(E,E),j=h?C:function(e){return function(){return E.apply(e,arguments)}},x=j({}.toString),k=j("".slice),T=function(e){return k(x(e),8,-1)},I=Object,P=j("".split),V=f((function(){return!I("z").propertyIsEnumerable(0)}))?function(e){return"String"==T(e)?P(e,""):I(e)}:I,A=function(e){return null==e},R=TypeError,N=function(e){if(A(e))throw R("Can't call method on "+e);return e},L=function(e){return V(N(e))},_="object"==typeof document&&document.all,M={all:_,IS_HTMLDDA:void 0===_&&void 0!==_},B=M.all,D=M.IS_HTMLDDA?function(e){return"function"==typeof e||e===B}:function(e){return"function"==typeof e},F=M.all,U=M.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:D(e)||e===F}:function(e){return"object"==typeof e?null!==e:D(e)},z=function(e){return D(e)?e:void 0},G=function(e,t){return arguments.length<2?z(d[e]):d[e]&&d[e][t]},H=j({}.isPrototypeOf),W=G("navigator","userAgent")||"",q=d.process,Q=d.Deno,X=q&&q.versions||Q&&Q.version,Y=X&&X.v8;Y&&(u=(c=Y.split("."))[0]>0&&c[0]<4?1:+(c[0]+c[1])),!u&&W&&(!(c=W.match(/Edge\/(\d+)/))||c[1]>=74)&&(c=W.match(/Chrome\/(\d+)/))&&(u=+c[1]);var J=u,K=!!Object.getOwnPropertySymbols&&!f((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&J&&J<41})),Z=K&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,ee=Object,te=Z?function(e){return"symbol"==typeof e}:function(e){var t=G("Symbol");return D(t)&&H(t.prototype,ee(e))},ne=String,re=function(e){try{return ne(e)}catch(e){return"Object"}},oe=TypeError,ie=function(e){if(D(e))return e;throw oe(re(e)+" is not a function")},se=function(e,t){var n=e[t];return A(n)?void 0:ie(n)},ae=TypeError,ce=Object.defineProperty,ue=function(e,t){try{ce(d,e,{value:t,configurable:!0,writable:!0})}catch(o){d[e]=t}return t},le="__core-js_shared__",de=d[le]||ue(le,{}),fe=a((function(e){(e.exports=function(e,t){return de[e]||(de[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.1",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.1/LICENSE",source:"https://github.com/zloirock/core-js"})})),pe=Object,he=function(e){return pe(N(e))},me=j({}.hasOwnProperty),ve=Object.hasOwn||function(e,t){return me(he(e),t)},ge=0,be=Math.random(),ye=j(1..toString),we=function(e){return"Symbol("+(void 0===e?"":e)+")_"+ye(++ge+be,36)},Se=fe("wks"),Oe=d.Symbol,Ee=Oe&&Oe.for,Ce=Z?Oe:Oe&&Oe.withoutSetter||we,je=function(e){if(!ve(Se,e)||!K&&"string"!=typeof Se[e]){var t="Symbol."+e;K&&ve(Oe,e)?Se[e]=Oe[e]:Se[e]=Z&&Ee?Ee(t):Ce(t)}return Se[e]},xe=TypeError,ke=je("toPrimitive"),Te=function(e,t){if(!U(e)||te(e))return e;var n,r=se(e,ke);if(r){if(void 0===t&&(t="default"),n=v(r,e,t),!U(n)||te(n))return n;throw xe("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&D(n=e.toString)&&!U(r=v(n,e)))return r;if(D(n=e.valueOf)&&!U(r=v(n,e)))return r;if("string"!==t&&D(n=e.toString)&&!U(r=v(n,e)))return r;throw ae("Can't convert object to primitive value")}(e,t)},Ie=function(e){var t=Te(e,"string");return te(t)?t:t+""},Pe=d.document,Ve=U(Pe)&&U(Pe.createElement),Ae=function(e){return Ve?Pe.createElement(e):{}},Re=!p&&!f((function(){return 7!=Object.defineProperty(Ae("div"),"a",{get:function(){return 7}}).a})),Ne=Object.getOwnPropertyDescriptor,Le={f:p?Ne:function(e,t){if(e=L(e),t=Ie(t),Re)try{return Ne(e,t)}catch(e){}if(ve(e,t))return S(!v(w.f,e,t),e[t])}},_e=p&&f((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Me=String,Be=TypeError,De=function(e){if(U(e))return e;throw Be(Me(e)+" is not an object")},Fe=TypeError,Ue=Object.defineProperty,ze=Object.getOwnPropertyDescriptor,Ge="enumerable",$e="configurable",He="writable",We={f:p?_e?function(e,t,n){if(De(e),t=Ie(t),De(n),"function"==typeof e&&"prototype"===t&&"value"in n&&He in n&&!n[He]){var r=ze(e,t);r&&r[He]&&(e[t]=n.value,n={configurable:$e in n?n[$e]:r[$e],enumerable:Ge in n?n[Ge]:r[Ge],writable:!1})}return Ue(e,t,n)}:Ue:function(e,t,n){if(De(e),t=Ie(t),De(n),Re)try{return Ue(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Fe("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},qe=p?function(e,t,n){return We.f(e,t,S(1,n))}:function(e,t,n){return e[t]=n,e},Qe=Function.prototype,Xe=p&&Object.getOwnPropertyDescriptor,Ye=ve(Qe,"name"),Je={EXISTS:Ye,PROPER:Ye&&"something"===function(){}.name,CONFIGURABLE:Ye&&(!p||p&&Xe(Qe,"name").configurable)},Ke=j(Function.toString);D(de.inspectSource)||(de.inspectSource=function(e){return Ke(e)});var Ze,et,tt,nt=de.inspectSource,rt=d.WeakMap,ot=D(rt)&&/native code/.test(String(rt)),it=fe("keys"),st=function(e){return it[e]||(it[e]=we(e))},at={},ct="Object already initialized",ut=d.TypeError,lt=d.WeakMap;if(ot||de.state){var dt=de.state||(de.state=new lt);dt.get=dt.get,dt.has=dt.has,dt.set=dt.set,Ze=function(e,t){if(dt.has(e))throw ut(ct);return t.facade=e,dt.set(e,t),t},et=function(e){return dt.get(e)||{}},tt=function(e){return dt.has(e)}}else{var ft=st("state");at[ft]=!0,Ze=function(e,t){if(ve(e,ft))throw ut(ct);return t.facade=e,qe(e,ft,t),t},et=function(e){return ve(e,ft)?e[ft]:{}},tt=function(e){return ve(e,ft)}}var pt={set:Ze,get:et,has:tt,enforce:function(e){return tt(e)?et(e):Ze(e,{})},getterFor:function(e){return function(t){var n;if(!U(t)||(n=et(t)).type!==e)throw ut("Incompatible receiver, "+e+" required");return n}}},ht=a((function(e){var t=Je.CONFIGURABLE,n=pt.enforce,r=pt.get,o=Object.defineProperty,i=p&&!f((function(){return 8!==o((function(){}),"length",{value:8}).length})),s=String(String).split("String"),a=e.exports=function(e,r,a){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(r="get "+r),a&&a.setter&&(r="set "+r),(!ve(e,"name")||t&&e.name!==r)&&(p?o(e,"name",{value:r,configurable:!0}):e.name=r),i&&a&&ve(a,"arity")&&e.length!==a.arity&&o(e,"length",{value:a.arity});try{a&&ve(a,"constructor")&&a.constructor?p&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var c=n(e);return ve(c,"source")||(c.source=s.join("string"==typeof r?r:"")),e};Function.prototype.toString=a((function(){return D(this)&&r(this).source||nt(this)}),"toString")})),mt=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(D(n)&&ht(n,i,r),r.global)o?e[t]=n:ue(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:We.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},vt=Math.ceil,gt=Math.floor,bt=Math.trunc||function(e){var t=+e;return(t>0?gt:vt)(t)},yt=function(e){var t=+e;return t!=t||0===t?0:bt(t)},wt=Math.max,St=Math.min,Ot=Math.min,Et=function(e){return e>0?Ot(yt(e),9007199254740991):0},Ct=function(e){return Et(e.length)},jt=function(e){return function(t,n,r){var o,i=L(t),s=Ct(i),a=function(e,t){var n=yt(e);return n<0?wt(n+t,0):St(n,t)}(r,s);if(e&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},xt={includes:jt(!0),indexOf:jt(!1)},kt=xt.indexOf,Tt=j([].push),It=function(e,t){var n,r=L(e),o=0,i=[];for(n in r)!ve(at,n)&&ve(r,n)&&Tt(i,n);for(;t.length>o;)ve(r,n=t[o++])&&(~kt(i,n)||Tt(i,n));return i},Pt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vt=Pt.concat("length","prototype"),At={f:Object.getOwnPropertyNames||function(e){return It(e,Vt)}},Rt={f:Object.getOwnPropertySymbols},Nt=j([].concat),Lt=G("Reflect","ownKeys")||function(e){var t=At.f(De(e)),n=Rt.f;return n?Nt(t,n(e)):t},_t=function(e,t,n){for(var r=Lt(t),o=We.f,i=Le.f,s=0;s<r.length;s++){var a=r[s];ve(e,a)||n&&ve(n,a)||o(e,a,i(t,a))}},Mt=/#|\.prototype\./,Bt=function(e,t){var n=Ft[Dt(e)];return n==zt||n!=Ut&&(D(t)?f(t):!!t)},Dt=Bt.normalize=function(e){return String(e).replace(Mt,".").toLowerCase()},Ft=Bt.data={},Ut=Bt.NATIVE="N",zt=Bt.POLYFILL="P",Gt=Bt,$t=Le.f,Ht=function(e,t){var n,r,o,i,s,a=e.target,c=e.global,u=e.stat;if(n=c?d:u?d[a]||ue(a,{}):(d[a]||{}).prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(s=$t(n,r))&&s.value:n[r],!Gt(c?r:a+(u?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;_t(i,o)}(e.sham||o&&o.sham)&&qe(i,"sham",!0),mt(n,r,i,e)}},Wt=Function.prototype,qt=Wt.apply,Qt=Wt.call,Xt="object"==typeof Reflect&&Reflect.apply||(h?Qt.bind(qt):function(){return Qt.apply(qt,arguments)}),Yt=Array.isArray||function(e){return"Array"==T(e)},Jt=j([].slice),Kt=G("JSON","stringify"),Zt=j(/./.exec),en=j("".charAt),tn=j("".charCodeAt),nn=j("".replace),rn=j(1..toString),on=/[\uD800-\uDFFF]/g,sn=/^[\uD800-\uDBFF]$/,an=/^[\uDC00-\uDFFF]$/,cn=!K||f((function(){var e=G("Symbol")();return"[null]"!=Kt([e])||"{}"!=Kt({a:e})||"{}"!=Kt(Object(e))})),un=f((function(){return'"\\udf06\\ud834"'!==Kt("\udf06\ud834")||'"\\udead"'!==Kt("\udead")})),ln=function(e,t){var n=Jt(arguments),r=t;if((U(t)||void 0!==e)&&!te(e))return Yt(t)||(t=function(e,t){if(D(r)&&(t=v(r,this,e,t)),!te(t))return t}),n[1]=t,Xt(Kt,null,n)},dn=function(e,t,n){var r=en(n,t-1),o=en(n,t+1);return Zt(sn,e)&&!Zt(an,o)||Zt(an,e)&&!Zt(sn,r)?"\\u"+rn(tn(e,0),16):e};Kt&&Ht({target:"JSON",stat:!0,arity:3,forced:cn||un},{stringify:function(e,t,n){var r=Jt(arguments),o=Xt(cn?ln:Kt,null,r);return un&&"string"==typeof o?nn(o,on,dn):o}});var fn,pn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},hn=Ae("span").classList,mn=hn&&hn.constructor&&hn.constructor.prototype,vn=mn===Object.prototype?void 0:mn,gn=Object.keys||function(e){return It(e,Pt)},bn=p&&!_e?Object.defineProperties:function(e,t){De(e);for(var n,r=L(t),o=gn(t),i=o.length,s=0;i>s;)We.f(e,n=o[s++],r[n]);return e},yn={f:bn},wn=G("document","documentElement"),Sn="prototype",On="script",En=st("IE_PROTO"),Cn=function(){},jn=function(e){return"<"+On+">"+e+"</"+On+">"},xn=function(e){e.write(jn("")),e.close();var t=e.parentWindow.Object;return e=null,t},kn=function(){try{fn=new ActiveXObject("htmlfile")}catch(e){}var e,t,n;kn="undefined"!=typeof document?document.domain&&fn?xn(fn):(t=Ae("iframe"),n="java"+On+":",t.style.display="none",wn.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(jn("document.F=Object")),e.close(),e.F):xn(fn);for(var r=Pt.length;r--;)delete kn[Sn][Pt[r]];return kn()};at[En]=!0;var Tn=Object.create||function(e,t){var n;return null!==e?(Cn[Sn]=De(e),n=new Cn,Cn[Sn]=null,n[En]=e):n=kn(),void 0===t?n:yn.f(n,t)},In=We.f,Pn=je("unscopables"),Vn=Array.prototype;null==Vn[Pn]&&In(Vn,Pn,{configurable:!0,value:Tn(null)});var An,Rn,Nn,Ln=function(e){Vn[Pn][e]=!0},_n={},Mn=!f((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),Bn=st("IE_PROTO"),Dn=Object,Fn=Dn.prototype,Un=Mn?Dn.getPrototypeOf:function(e){var t=he(e);if(ve(t,Bn))return t[Bn];var n=t.constructor;return D(n)&&t instanceof n?n.prototype:t instanceof Dn?Fn:null},zn=je("iterator"),Gn=!1;[].keys&&("next"in(Nn=[].keys())?(Rn=Un(Un(Nn)))!==Object.prototype&&(An=Rn):Gn=!0);var $n=!U(An)||f((function(){var e={};return An[zn].call(e)!==e}));$n&&(An={}),D(An[zn])||mt(An,zn,(function(){return this}));var Hn={IteratorPrototype:An,BUGGY_SAFARI_ITERATORS:Gn},Wn=We.f,qn=je("toStringTag"),Qn=function(e,t,n){e&&!n&&(e=e.prototype),e&&!ve(e,qn)&&Wn(e,qn,{configurable:!0,value:t})},Xn=Hn.IteratorPrototype,Yn=function(){return this},Jn=function(e,t,n,r){var o=t+" Iterator";return e.prototype=Tn(Xn,{next:S(+!r,n)}),Qn(e,o,!1),_n[o]=Yn,e},Kn=String,Zn=TypeError,er=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=j(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return De(n),function(e){if("object"==typeof e||D(e))return e;throw Zn("Can't set "+Kn(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),tr=Je.PROPER,nr=Je.CONFIGURABLE,rr=Hn.IteratorPrototype,or=Hn.BUGGY_SAFARI_ITERATORS,ir=je("iterator"),sr="keys",ar="values",cr="entries",ur=function(){return this},lr=function(e,t){return{value:e,done:t}},dr=We.f,fr="Array Iterator",pr=pt.set,hr=pt.getterFor(fr),mr=function(e,t,n,r,o,i,s){Jn(n,t,r);var a,c,u,l=function(e){if(e===o&&m)return m;if(!or&&e in p)return p[e];switch(e){case sr:case ar:case cr:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,h=p[ir]||p["@@iterator"]||o&&p[o],m=!or&&h||l(o),g="Array"==t&&p.entries||h;if(g&&(a=Un(g.call(new e)))!==Object.prototype&&a.next&&(Un(a)!==rr&&(er?er(a,rr):D(a[ir])||mt(a,ir,ur)),Qn(a,d,!0)),tr&&o==ar&&h&&h.name!==ar&&(nr?qe(p,"name",ar):(f=!0,m=function(){return v(h,this)})),o)if(c={values:l(ar),keys:i?m:l(sr),entries:l(cr)},s)for(u in c)(or||f||!(u in p))&&mt(p,u,c[u]);else Ht({target:t,proto:!0,forced:or||f},c);return p[ir]!==m&&mt(p,ir,m,{name:o}),_n[t]=m,c}(Array,"Array",(function(e,t){pr(this,{type:fr,target:L(e),index:0,kind:t})}),(function(){var e=hr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,lr(void 0,!0)):lr("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),vr=_n.Arguments=_n.Array;if(Ln("keys"),Ln("values"),Ln("entries"),p&&"values"!==vr.name)try{dr(vr,"name",{value:"values"})}catch(t){}var gr=je("iterator"),br=je("toStringTag"),yr=mr.values,wr=function(e,t){if(e){if(e[gr]!==yr)try{qe(e,gr,yr)}catch(t){e[gr]=yr}if(e[br]||qe(e,br,t),pn[t])for(var n in mr)if(e[n]!==mr[n])try{qe(e,n,mr[n])}catch(t){e[n]=mr[n]}}};for(var Sr in pn)wr(d[Sr]&&d[Sr].prototype,Sr);wr(vn,"DOMTokenList");var Or=a((function(e){!function(t){var n,r={VERSION:"1.6.1"},o={},i=function(e,t){return function(){return t.apply(e,arguments)}},s=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},a=function(e,t){return{value:e,name:t}};r.TRACE=a(1,"TRACE"),r.DEBUG=a(2,"DEBUG"),r.INFO=a(3,"INFO"),r.TIME=a(4,"TIME"),r.WARN=a(5,"WARN"),r.ERROR=a(8,"ERROR"),r.OFF=a(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(r.TRACE,arguments)},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,s({level:e},this.context))}};var u,l=new c({filterLevel:r.OFF});(u=r).enabledFor=i(l,l.enabledFor),u.trace=i(l,l.trace),u.debug=i(l,l.debug),u.time=i(l,l.time),u.timeEnd=i(l,l.timeEnd),u.info=i(l,l.info),u.warn=i(l,l.warn),u.error=i(l,l.error),u.log=u.info,r.setHandler=function(e){n=e},r.setLevel=function(e){for(var t in l.setLevel(e),o)o.hasOwnProperty(t)&&o[t].setLevel(e)},r.getLevel=function(){return l.getLevel()},r.get=function(e){return o[e]||(o[e]=new c(s({name:e},l.context)))},r.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(o,i){o=Array.prototype.slice.call(o);var s,a=console.log;i.level===r.TIME?(s=(i.name?"["+i.name+"] ":"")+o[0],"start"===o[1]?console.time?console.time(s):t[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):n(a,[s+": "+((new Date).getTime()-t[s])+"ms"])):(i.level===r.WARN&&console.warn?a=console.warn:i.level===r.ERROR&&console.error?a=console.error:i.level===r.INFO&&console.info?a=console.info:i.level===r.DEBUG&&console.debug?a=console.debug:i.level===r.TRACE&&console.trace&&(a=console.trace),e.formatter(o,i),n(a,o))}},r.useDefaults=function(e){r.setLevel(e&&e.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(e))},r.setDefaults=r.useDefaults,e.exports?e.exports=r:(r._prevLogger=t.Logger,r.noConflict=function(){return t.Logger=r._prevLogger,r},t.Logger=r)}(s)}));function Er(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Cr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Er(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Er(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Or.useDefaults({defaultLevel:Or.TRACE});const jr=(e,t)=>{e.unshift("[".concat(t.name||"Global","] ").concat((new Date).toISOString()," - ").concat(t.level.name," -"))},xr=(e,t)=>t?e.value>=Vr[t].value:e.value>=Pr.value,kr=Or.createDefaultHandler({formatter:jr});Or.setHandler((e,t)=>{((e,t)=>{e=(e=Array.prototype.slice.call(e)).map(e=>"object"==typeof e?JSON.stringify(e):e),jr(e,t),0!==Tr?(Ir.push(e.join(" ")),Ir.length>=Tr&&(Ir=Ir.slice(-Tr))):Ir=[]})(e,t),xr(t.level,t.name)&&kr(e,t);for(const{handler:n,level:r}of Ar)t.level.value>=r.value&&n(e,t)});let Tr=1e4,Ir=[],Pr=Or.OFF;const Vr={},Ar=[],Rr=Cr(Cr({},Or),{},{enabledFor:xr,getHistory:()=>Ir,getHistoryMaxSize:()=>Tr,setHistoryMaxSize:e=>{Tr=e},setLevel:e=>{Pr=e;for(const t in Vr)Vr[t]=e},getLevel:()=>Pr,get:e=>{Vr[e]||(Vr[e]=Pr);const t=Or.get(e);return t.setLevel=t=>{Vr[e]=t},t.getLevel=()=>Vr[e],t},setHandler:(e,t)=>{Ar.push({handler:e,level:t})},VERSION:"0.1.43"});var Nr="process"==T(d.process),Lr=je("species"),_r=function(e){var t=G(e),n=We.f;p&&t&&!t[Lr]&&n(t,Lr,{configurable:!0,get:function(){return this}})},Mr=TypeError,Br={};Br[je("toStringTag")]="z";var Dr="[object z]"===String(Br),Fr=je("toStringTag"),Ur=Object,zr="Arguments"==T(function(){return arguments}()),Gr=Dr?T:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Ur(e),Fr))?n:zr?T(t):"Object"==(r=T(t))&&D(t.callee)?"Arguments":r},$r=function(){},Hr=[],Wr=G("Reflect","construct"),qr=/^\s*(?:class|function)\b/,Qr=j(qr.exec),Xr=!qr.exec($r),Yr=function(e){if(!D(e))return!1;try{return Wr($r,Hr,e),!0}catch(e){return!1}},Jr=function(e){if(!D(e))return!1;switch(Gr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Xr||!!Qr(qr,nt(e))}catch(e){return!0}};Jr.sham=!0;var Kr,Zr,eo,to,no=!Wr||f((function(){var e;return Yr(Yr.call)||!Yr(Object)||!Yr((function(){e=!0}))||e}))?Jr:Yr,ro=TypeError,oo=je("species"),io=function(e,t){var n,r=De(e).constructor;return void 0===r||A(n=De(r)[oo])?t:function(e){if(no(e))return e;throw ro(re(e)+" is not a constructor")}(n)},so=function(e){if("Function"===T(e))return j(e)},ao=so(so.bind),co=function(e,t){return ie(e),void 0===t?e:h?ao(e,t):function(){return e.apply(t,arguments)}},uo=TypeError,lo=function(e,t){if(e<t)throw uo("Not enough arguments");return e},fo=/(?:ipad|iphone|ipod).*applewebkit/i.test(W),po=d.setImmediate,ho=d.clearImmediate,mo=d.process,vo=d.Dispatch,go=d.Function,bo=d.MessageChannel,yo=d.String,wo=0,So={},Oo="onreadystatechange";try{Kr=d.location}catch(t){}var Eo=function(e){if(ve(So,e)){var t=So[e];delete So[e],t()}},Co=function(e){return function(){Eo(e)}},jo=function(e){Eo(e.data)},xo=function(e){d.postMessage(yo(e),Kr.protocol+"//"+Kr.host)};po&&ho||(po=function(e){lo(arguments.length,1);var t=D(e)?e:go(e),n=Jt(arguments,1);return So[++wo]=function(){Xt(t,void 0,n)},Zr(wo),wo},ho=function(e){delete So[e]},Nr?Zr=function(e){mo.nextTick(Co(e))}:vo&&vo.now?Zr=function(e){vo.now(Co(e))}:bo&&!fo?(to=(eo=new bo).port2,eo.port1.onmessage=jo,Zr=co(to.postMessage,to)):d.addEventListener&&D(d.postMessage)&&!d.importScripts&&Kr&&"file:"!==Kr.protocol&&!f(xo)?(Zr=xo,d.addEventListener("message",jo,!1)):Zr=Oo in Ae("script")?function(e){wn.appendChild(Ae("script"))[Oo]=function(){wn.removeChild(this),Eo(e)}}:function(e){setTimeout(Co(e),0)});var ko,To,Io,Po,Vo,Ao,Ro,No,Lo={set:po,clear:ho},_o=/ipad|iphone|ipod/i.test(W)&&void 0!==d.Pebble,Mo=/web0s(?!.*chrome)/i.test(W),Bo=Le.f,Do=Lo.set,Fo=d.MutationObserver||d.WebKitMutationObserver,Uo=d.document,zo=d.process,Go=d.Promise,$o=Bo(d,"queueMicrotask"),Ho=$o&&$o.value;Ho||(ko=function(){var e,t;for(Nr&&(e=zo.domain)&&e.exit();To;){t=To.fn,To=To.next;try{t()}catch(e){throw To?Po():Io=void 0,e}}Io=void 0,e&&e.enter()},fo||Nr||Mo||!Fo||!Uo?!_o&&Go&&Go.resolve?((Ro=Go.resolve(void 0)).constructor=Go,No=co(Ro.then,Ro),Po=function(){No(ko)}):Nr?Po=function(){zo.nextTick(ko)}:(Do=co(Do,d),Po=function(){Do(ko)}):(Vo=!0,Ao=Uo.createTextNode(""),new Fo(ko).observe(Ao,{characterData:!0}),Po=function(){Ao.data=Vo=!Vo}));var Wo=Ho||function(e){var t={fn:e,next:void 0};Io&&(Io.next=t),To||(To=t,Po()),Io=t},qo=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Qo=function(){this.head=null,this.tail=null};Qo.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Xo=Qo,Yo=d.Promise,Jo="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Ko=!Jo&&!Nr&&"object"==typeof window&&"object"==typeof document;Yo&&Yo.prototype;var Zo,ei,ti,ni=je("species"),ri=!1,oi=D(d.PromiseRejectionEvent),ii=Gt("Promise",(function(){var e=nt(Yo),t=e!==String(Yo);if(!t&&66===J)return!0;if(!J||J<51||!/native code/.test(e)){var n=new Yo((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[ni]=r,!(ri=n.then((function(){}))instanceof r))return!0}return!t&&(Ko||Jo)&&!oi})),si={CONSTRUCTOR:ii,REJECTION_EVENT:oi,SUBCLASSING:ri},ai=TypeError,ci=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw ai("Bad Promise constructor");t=e,n=r})),this.resolve=ie(t),this.reject=ie(n)},ui={f:function(e){return new ci(e)}},li=Lo.set,di="Promise",fi=si.CONSTRUCTOR,pi=si.REJECTION_EVENT,hi=si.SUBCLASSING,mi=pt.getterFor(di),vi=pt.set,gi=Yo&&Yo.prototype,bi=Yo,yi=gi,wi=d.TypeError,Si=d.document,Oi=d.process,Ei=ui.f,Ci=Ei,ji=!!(Si&&Si.createEvent&&d.dispatchEvent),xi="unhandledrejection",ki=function(e){var t;return!(!U(e)||!D(t=e.then))&&t},Ti=function(e,t){var n,r,o,i=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(s||(2===t.rejection&&Ri(t),t.rejection=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),o=!0)),n===e.promise?u(wi("Promise-chain cycle")):(r=ki(n))?v(r,n,c,u):c(n)):u(i)}catch(e){l&&!o&&l.exit(),u(e)}},Ii=function(e,t){e.notified||(e.notified=!0,Wo((function(){for(var n,r=e.reactions;n=r.get();)Ti(n,e);e.notified=!1,t&&!e.rejection&&Vi(e)})))},Pi=function(e,t,n){var r,o;ji?((r=Si.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),d.dispatchEvent(r)):r={promise:t,reason:n},!pi&&(o=d["on"+e])?o(r):e===xi&&function(e,t){var n=d.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Vi=function(e){v(li,d,(function(){var t,n=e.facade,r=e.value;if(Ai(e)&&(t=qo((function(){Nr?Oi.emit("unhandledRejection",r,n):Pi(xi,n,r)})),e.rejection=Nr||Ai(e)?2:1,t.error))throw t.value}))},Ai=function(e){return 1!==e.rejection&&!e.parent},Ri=function(e){v(li,d,(function(){var t=e.facade;Nr?Oi.emit("rejectionHandled",t):Pi("rejectionhandled",t,e.value)}))},Ni=function(e,t,n){return function(r){e(t,r,n)}},Li=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Ii(e,!0))},_i=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw wi("Promise can't be resolved itself");var r=ki(t);r?Wo((function(){var n={done:!1};try{v(r,t,Ni(_i,n,e),Ni(Li,n,e))}catch(t){Li(n,t,e)}})):(e.value=t,e.state=1,Ii(e,!1))}catch(t){Li({done:!1},t,e)}}};if(fi&&(yi=(bi=function(e){!function(e,t){if(H(t,e))return e;throw Mr("Incorrect invocation")}(this,yi),ie(e),v(Zo,this);var t=mi(this);try{e(Ni(_i,t),Ni(Li,t))}catch(e){Li(t,e)}}).prototype,(Zo=function(e){vi(this,{type:di,done:!1,notified:!1,parent:!1,reactions:new Xo,rejection:!1,state:0,value:void 0})}).prototype=mt(yi,"then",(function(e,t){var n=mi(this),r=Ei(io(this,bi));return n.parent=!0,r.ok=!D(e)||e,r.fail=D(t)&&t,r.domain=Nr?Oi.domain:void 0,0==n.state?n.reactions.add(r):Wo((function(){Ti(r,n)})),r.promise})),ei=function(){var e=new Zo,t=mi(e);this.promise=e,this.resolve=Ni(_i,t),this.reject=Ni(Li,t)},ui.f=Ei=function(e){return e===bi||void 0===e?new ei(e):Ci(e)},D(Yo)&&gi!==Object.prototype)){ti=gi.then,hi||mt(gi,"then",(function(e,t){var n=this;return new bi((function(e,t){v(ti,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete gi.constructor}catch(t){}er&&er(gi,yi)}Ht({global:!0,constructor:!0,wrap:!0,forced:fi},{Promise:bi}),Qn(bi,di,!1),_r(di);var Mi=je("iterator"),Bi=Array.prototype,Di=je("iterator"),Fi=function(e){if(!A(e))return se(e,Di)||se(e,"@@iterator")||_n[Gr(e)]},Ui=TypeError,zi=function(e,t,n){var r,o;De(e);try{if(!(r=se(e,"return"))){if("throw"===t)throw n;return n}r=v(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return De(r),n},Gi=TypeError,$i=function(e,t){this.stopped=e,this.result=t},Hi=$i.prototype,Wi=function(e,t,n){var r,o,i,s,a,c,u,l,d=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),m=!(!n||!n.INTERRUPTED),g=co(t,d),b=function(e){return r&&zi(r,"normal",e),new $i(!0,e)},y=function(e){return f?(De(e),m?g(e[0],e[1],b):g(e[0],e[1])):m?g(e,b):g(e)};if(p)r=e.iterator;else if(h)r=e;else{if(!(o=Fi(e)))throw Gi(re(e)+" is not iterable");if(void 0!==(l=o)&&(_n.Array===l||Bi[Mi]===l)){for(i=0,s=Ct(e);s>i;i++)if((a=y(e[i]))&&H(Hi,a))return a;return new $i(!1)}r=function(e,t){var n=arguments.length<2?Fi(e):t;if(ie(n))return De(v(n,e));throw Ui(re(e)+" is not iterable")}(e,o)}for(c=p?e.next:r.next;!(u=v(c,r)).done;){try{a=y(u.value)}catch(e){zi(r,"throw",e)}if("object"==typeof a&&a&&H(Hi,a))return a}return new $i(!1)},qi=je("iterator"),Qi=!1;try{var Xi=0,Yi={next:function(){return{done:!!Xi++}},return:function(){Qi=!0}};Yi[qi]=function(){return this},Array.from(Yi,(function(){throw 2}))}catch(t){}var Ji=si.CONSTRUCTOR||!function(e,t){if(!t&&!Qi)return!1;var n=!1;try{var r={};r[qi]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}((function(e){Yo.all(e).then(void 0,(function(){}))}));Ht({target:"Promise",stat:!0,forced:Ji},{all:function(e){var t=this,n=ui.f(t),r=n.resolve,o=n.reject,i=qo((function(){var n=ie(t.resolve),i=[],s=0,a=1;Wi(e,(function(e){var c=s++,u=!1;a++,v(n,t,e).then((function(e){u||(u=!0,i[c]=e,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise}});var Ki=si.CONSTRUCTOR,Zi=Yo&&Yo.prototype;if(Ht({target:"Promise",proto:!0,forced:Ki,real:!0},{catch:function(e){return this.then(void 0,e)}}),D(Yo)){var es=G("Promise").prototype.catch;Zi.catch!==es&&mt(Zi,"catch",es,{unsafe:!0})}Ht({target:"Promise",stat:!0,forced:Ji},{race:function(e){var t=this,n=ui.f(t),r=n.reject,o=qo((function(){var o=ie(t.resolve);Wi(e,(function(e){v(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Ht({target:"Promise",stat:!0,forced:si.CONSTRUCTOR},{reject:function(e){var t=ui.f(this);return v(t.reject,void 0,e),t.promise}});var ts=si.CONSTRUCTOR;G("Promise"),Ht({target:"Promise",stat:!0,forced:ts},{resolve:function(e){return function(e,t){if(De(e),U(t)&&t.constructor===e)return t;var n=ui.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var ns=We.f,rs=function(e,t,n){n in e||ns(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},os=function(e,t,n){var r,o;return er&&D(r=t.constructor)&&r!==n&&U(o=r.prototype)&&o!==n.prototype&&er(e,o),e},is=String,ss=function(e){if("Symbol"===Gr(e))throw TypeError("Cannot convert a Symbol value to a string");return is(e)},as=function(e,t){return void 0===e?arguments.length<2?"":t:ss(e)},cs=function(e,t){U(t)&&"cause"in t&&qe(e,"cause",t.cause)},us=Error,ls=j("".replace),ds=String(us("zxcasd").stack),fs=/\n\s*at [^:]*:[^\n]*/,ps=fs.test(ds),hs=function(e,t){if(ps&&"string"==typeof e&&!us.prepareStackTrace)for(;t--;)e=ls(e,fs,"");return e},ms=!f((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",S(1,7)),7!==e.stack)})),vs=function(e,t,n,r){var o="stackTraceLimit",i=r?2:1,s=e.split("."),a=s[s.length-1],c=G.apply(null,s);if(c){var u=c.prototype;if(ve(u,"cause")&&delete u.cause,!n)return c;var l=G("Error"),d=t((function(e,t){var n=as(r?t:e,void 0),o=r?new c(e):new c;return void 0!==n&&qe(o,"message",n),ms&&qe(o,"stack",hs(o.stack,2)),this&&H(u,this)&&os(o,this,d),arguments.length>i&&cs(o,arguments[i]),o}));d.prototype=u,"Error"!==a?er?er(d,l):_t(d,l,{name:!0}):p&&o in c&&(rs(d,c,o),rs(d,c,"prepareStackTrace")),_t(d,c);try{u.name!==a&&qe(u,"name",a),u.constructor=d}catch(e){}return d}},gs="WebAssembly",bs=d[gs],ys=7!==Error("e",{cause:7}).cause,ws=function(e,t){var n={};n[e]=vs(e,t,ys),Ht({global:!0,constructor:!0,arity:1,forced:ys},n)},Ss=function(e,t){if(bs&&bs[e]){var n={};n[e]=vs(gs+"."+e,t,ys),Ht({target:gs,stat:!0,constructor:!0,arity:1,forced:ys},n)}};ws("Error",(function(e){return function(t){return Xt(e,this,arguments)}})),ws("EvalError",(function(e){return function(t){return Xt(e,this,arguments)}})),ws("RangeError",(function(e){return function(t){return Xt(e,this,arguments)}})),ws("ReferenceError",(function(e){return function(t){return Xt(e,this,arguments)}})),ws("SyntaxError",(function(e){return function(t){return Xt(e,this,arguments)}})),ws("TypeError",(function(e){return function(t){return Xt(e,this,arguments)}})),ws("URIError",(function(e){return function(t){return Xt(e,this,arguments)}})),Ss("CompileError",(function(e){return function(t){return Xt(e,this,arguments)}})),Ss("LinkError",(function(e){return function(t){return Xt(e,this,arguments)}})),Ss("RuntimeError",(function(e){return function(t){return Xt(e,this,arguments)}}));var Os=je("match"),Es=function(e){var t;return U(e)&&(void 0!==(t=e[Os])?!!t:"RegExp"==T(e))},Cs=function(){var e=De(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},js=RegExp.prototype,xs=function(e){var t=e.flags;return void 0!==t||"flags"in js||ve(e,"flags")||!H(js,e)?t:v(Cs,e)},ks=d.RegExp,Ts=f((function(){var e=ks("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Is=Ts||f((function(){return!ks("a","y").sticky})),Ps={BROKEN_CARET:Ts||f((function(){var e=ks("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Is,UNSUPPORTED_Y:Ts},Vs=d.RegExp,As=f((function(){var e=Vs(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Rs=d.RegExp,Ns=f((function(){var e=Rs("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Ls=At.f,_s=pt.enforce,Ms=je("match"),Bs=d.RegExp,Ds=Bs.prototype,Fs=d.SyntaxError,Us=j(Ds.exec),zs=j("".charAt),Gs=j("".replace),$s=j("".indexOf),Hs=j("".slice),Ws=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,qs=/a/g,Qs=/a/g,Xs=new Bs(qs)!==qs,Ys=Ps.MISSED_STICKY,Js=Ps.UNSUPPORTED_Y,Ks=p&&(!Xs||Ys||As||Ns||f((function(){return Qs[Ms]=!1,Bs(qs)!=qs||Bs(Qs)==Qs||"/a/i"!=Bs(qs,"i")})));if(Gt("RegExp",Ks)){for(var Zs=function(e,t){var n,r,o,i,s,a,c=H(Ds,this),u=Es(e),l=void 0===t,d=[],f=e;if(!c&&u&&l&&e.constructor===Zs)return e;if((u||H(Ds,e))&&(e=e.source,l&&(t=xs(f))),e=void 0===e?"":ss(e),t=void 0===t?"":ss(t),f=e,As&&"dotAll"in qs&&(r=!!t&&$s(t,"s")>-1)&&(t=Gs(t,/s/g,"")),n=t,Ys&&"sticky"in qs&&(o=!!t&&$s(t,"y")>-1)&&Js&&(t=Gs(t,/y/g,"")),Ns&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],s={},a=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=zs(e,r)))t+=zs(e,++r);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:Us(Ws,Hs(e,r+1))&&(r+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||ve(s,l))throw new Fs("Invalid capture group name");s[l]=!0,i[i.length]=[l,u],c=!1,l="";continue}c?l+=t:o+=t}return[o,i]}(e),e=i[0],d=i[1]),s=os(Bs(e,t),c?this:Ds,Zs),(r||o||d.length)&&(a=_s(s),r&&(a.dotAll=!0,a.raw=Zs(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=zs(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+zs(e,++r);return o}(e),n)),o&&(a.sticky=!0),d.length&&(a.groups=d)),e!==f)try{qe(s,"source",""===f?"(?:)":f)}catch(e){}return s},ea=Ls(Bs),ta=0;ea.length>ta;)rs(Zs,Bs,ea[ta++]);Ds.constructor=Zs,Zs.prototype=Ds,mt(d,"RegExp",Zs,{constructor:!0})}_r("RegExp");var na,ra,oa,ia=pt.get,sa=RegExp.prototype,aa=TypeError;p&&As&&(na=sa,ra="dotAll",(oa={configurable:!0,get:function(){if(this!==sa){if("RegExp"===T(this))return!!ia(this).dotAll;throw aa("Incompatible receiver, RegExp required")}}}).get&&ht(oa.get,ra,{getter:!0}),oa.set&&ht(oa.set,ra,{setter:!0}),We.f(na,ra,oa));var ca=pt.get,ua=fe("native-string-replace",String.prototype.replace),la=RegExp.prototype.exec,da=la,fa=j("".charAt),pa=j("".indexOf),ha=j("".replace),ma=j("".slice),va=function(){var e=/a/,t=/b*/g;return v(la,e,"a"),v(la,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),ga=Ps.BROKEN_CARET,ba=void 0!==/()??/.exec("")[1];(va||ba||ga||As||Ns)&&(da=function(e){var t,n,r,o,i,s,a,c=this,u=ca(c),l=ss(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=v(da,d,l),c.lastIndex=d.lastIndex,t;var f=u.groups,p=ga&&c.sticky,h=v(Cs,c),m=c.source,g=0,b=l;if(p&&(h=ha(h,"y",""),-1===pa(h,"g")&&(h+="g"),b=ma(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==fa(l,c.lastIndex-1))&&(m="(?: "+m+")",b=" "+b,g++),n=new RegExp("^(?:"+m+")",h)),ba&&(n=new RegExp("^"+m+"$(?!\\s)",h)),va&&(r=c.lastIndex),o=v(la,p?n:c,b),p?o?(o.input=ma(o.input,g),o[0]=ma(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:va&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),ba&&o&&o.length>1&&v(ua,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&f)for(o.groups=s=Tn(null),i=0;i<f.length;i++)s[(a=f[i])[0]]=o[a[1]];return o});var ya=da;Ht({target:"RegExp",proto:!0,forced:/./.exec!==ya},{exec:ya});var wa=xt.includes,Sa=f((function(){return!Array(1).includes()}));Ht({target:"Array",proto:!0,forced:Sa},{includes:function(e){return wa(this,e,arguments.length>1?arguments[1]:void 0)}}),Ln("includes");var Oa,Ea="object"==typeof Reflect?Reflect:null,Ca=Ea&&"function"==typeof Ea.apply?Ea.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};Oa=Ea&&"function"==typeof Ea.ownKeys?Ea.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var ja=Number.isNaN||function(e){return e!=e};function xa(){xa.init.call(this)}var ka=xa,Ta=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}Ba(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&Ba(e,"error",t,n)}(e,o,{once:!0})}))};xa.EventEmitter=xa,xa.prototype._events=void 0,xa.prototype._eventsCount=0,xa.prototype._maxListeners=void 0;var Ia=10;function Pa(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Va(e){return void 0===e._maxListeners?xa.defaultMaxListeners:e._maxListeners}function Aa(e,t,n,r){var o,i,s,a;if(Pa(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=Va(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function Ra(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Na(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=Ra.bind(r);return o.listener=n,r.wrapFn=o,o}function La(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):Ma(o,o.length)}function _a(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Ma(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function Ba(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(xa,"defaultMaxListeners",{enumerable:!0,get:function(){return Ia},set:function(e){if("number"!=typeof e||e<0||ja(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Ia=e}}),xa.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},xa.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||ja(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},xa.prototype.getMaxListeners=function(){return Va(this)},xa.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)Ca(a,this,t);else{var c=a.length,u=Ma(a,c);for(n=0;n<c;++n)Ca(u[n],this,t)}return!0},xa.prototype.addListener=function(e,t){return Aa(this,e,t,!1)},xa.prototype.on=xa.prototype.addListener,xa.prototype.prependListener=function(e,t){return Aa(this,e,t,!0)},xa.prototype.once=function(e,t){return Pa(t),this.on(e,Na(this,e,t)),this},xa.prototype.prependOnceListener=function(e,t){return Pa(t),this.prependListener(e,Na(this,e,t)),this},xa.prototype.removeListener=function(e,t){var n,r,o,i,s;if(Pa(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},xa.prototype.off=xa.prototype.removeListener,xa.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},xa.prototype.listeners=function(e){return La(this,e,!0)},xa.prototype.rawListeners=function(e){return La(this,e,!1)},xa.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):_a.call(e,t)},xa.prototype.listenerCount=_a,xa.prototype.eventNames=function(){return this._eventsCount>0?Oa(this._events):[]},ka.once=Ta;var Da=za,Fa=function(e,t){var n=new Ua;return za(e,n,t),n},Ua=ka.EventEmitter;function za(e,t,n){Array.isArray(n)||(n=[n]);var r=[];return n.forEach((function(n){var o=function(){var e=[].slice.call(arguments);e.unshift(n),t.emit.apply(t,e)};r.push(o),e.on(n,o)})),function(){n.forEach((function(t,n){e.removeListener(t,r[n])}))}}function Ga(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ga(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ga(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Da.filter=Fa;const Ha=Rr.get("PeerConnectionStats"),Wa="stats";class qa extends ka{constructor(e){super(),this.peer=e,this.stats=null,this.emitInterval=null,this.previousStats=null}init(){Ha.info("Initializing peer connection stats"),this.emitInterval=setInterval(async()=>{const e=await this.peer.getStats();this.parseStats(e),this.emit(Wa,this.stats)},1e3)}parseStats(e){this.previousStats=this.stats;const t={audio:{inbounds:[],outbounds:[]},video:{inbounds:[],outbounds:[]},raw:e};for(const n of e.values())switch(n.type){case"outbound-rtp":Qa(n,this.previousStats,t);break;case"inbound-rtp":Xa(n,this.previousStats,t);break;case"candidate-pair":n.nominated&&Ya(n,t)}this.stats=t}stop(){Ha.info("Stopping peer connection stats"),clearInterval(this.emitInterval)}}const Qa=(e,t,n)=>{var r,o;const i=Ja(e),s=Ka(e.codecId,n.raw),a=Za(e,i);a.totalBytesSent=e.bytesSent,a.id=e.id,a.mid=e.mid;const c=t?null!==(r=null===(o=t[i].outbounds.find(e=>e.id===a.id))||void 0===o?void 0:o.totalBytesSent)&&void 0!==r?r:0:null;a.bitrate=c?8*(e.bytesSent-c):0,"video"===i&&(a.qualityLimitationReason=e.qualityLimitationReason),n[i].outbounds.push($a($a({},s),a))},Xa=(e,t,n)=>{let r=Ja(e);const o=Ka(e.codecId,n.raw);["audio","video"].includes(r)||(r=e.id.includes("Video")?"video":"audio");const i=Za(e,r);if(i.totalBytesReceived=e.bytesReceived,i.totalPacketsReceived=e.packetsReceived,i.totalPacketsLost=e.packetsLost,i.jitter=e.jitter,i.id=e.id,i.mid=e.mid,i.trackIdentifier=e.trackIdentifier,i.bitrate=0,i.packetsLostRatioPerSecond=0,i.packetsLostDeltaPerSecond=0,t){const n=t[r].inbounds.find(e=>e.id===i.id);if(n){const t=n.totalBytesReceived;i.bitrate=8*(e.bytesReceived-t),i.packetsLostRatioPerSecond=ec(i,n),i.packetsLostDeltaPerSecond=tc(i,n)}}n[r].inbounds.push($a($a({},o),i))},Ya=(e,t)=>{t.totalRoundTripTime=e.totalRoundTripTime,t.currentRoundTripTime=e.currentRoundTripTime,t.availableOutgoingBitrate=e.availableOutgoingBitrate,t.candidateType=t.raw.get(e.localCandidateId).candidateType},Ja=e=>e.mediaType||e.kind,Ka=(e,t)=>{var n;const{mimeType:r}=e&&null!==(n=t.get(e))&&void 0!==n?n:{};return{mimeType:r}},Za=(e,t)=>{const n={};return"video"===t&&(n.framesPerSecond=e.framesPerSecond,n.frameHeight=e.frameHeight,n.frameWidth=e.frameWidth),n.timestamp=e.timestamp,n},ec=(e,t)=>tc(e,t)/(e.totalPacketsReceived-t.totalPacketsReceived),tc=(e,t)=>e.totalPacketsLost-t.totalPacketsLost;var nc=je("species"),rc=RegExp.prototype,oc=j("".charAt),ic=j("".charCodeAt),sc=j("".slice),ac=function(e){return function(t,n){var r,o,i=ss(N(t)),s=yt(n),a=i.length;return s<0||s>=a?e?"":void 0:(r=ic(i,s))<55296||r>56319||s+1===a||(o=ic(i,s+1))<56320||o>57343?e?oc(i,s):r:e?sc(i,s,s+2):o-56320+(r-55296<<10)+65536}},cc={codeAt:ac(!1),charAt:ac(!0)}.charAt,uc=function(e,t,n){return t+(n?cc(e,t).length:1)},lc=Math.floor,dc=j("".charAt),fc=j("".replace),pc=j("".slice),hc=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,mc=/\$([$&'`]|\d{1,2})/g,vc=function(e,t,n,r,o,i){var s=n+e.length,a=r.length,c=mc;return void 0!==o&&(o=he(o),c=hc),fc(i,c,(function(i,c){var u;switch(dc(c,0)){case"$":return"$";case"&":return e;case"`":return pc(t,0,n);case"'":return pc(t,s);case"<":u=o[pc(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>a){var d=lc(l/10);return 0===d?i:d<=a?void 0===r[d-1]?dc(c,1):r[d-1]+dc(c,1):i}u=r[l-1]}return void 0===u?"":u}))},gc=TypeError,bc=function(e,t){var n=e.exec;if(D(n)){var r=v(n,e,t);return null!==r&&De(r),r}if("RegExp"===T(e))return v(ya,e,t);throw gc("RegExp#exec called on incompatible receiver")},yc=je("replace"),wc=Math.max,Sc=Math.min,Oc=j([].concat),Ec=j([].push),Cc=j("".indexOf),jc=j("".slice),xc="$0"==="a".replace(/./,"$0"),kc=!!/./[yc]&&""===/./[yc]("a","$0");!function(e,t,n,r){var o=je(e),i=!f((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=i&&!f((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[nc]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!s||n){var a=so(/./[o]),c=t(o,""[e],(function(e,t,n,r,o){var s=so(e),c=t.exec;return c===ya||c===rc.exec?i&&!o?{done:!0,value:a(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));mt(String.prototype,e,c[0]),mt(rc,o,c[1])}r&&qe(rc[o],"sham",!0)}("replace",(function(e,t,n){var r=kc?"$":"$0";return[function(e,n){var r=N(this),o=A(e)?void 0:se(e,yc);return o?v(o,e,r,n):v(t,ss(r),e,n)},function(e,o){var i=De(this),s=ss(e);if("string"==typeof o&&-1===Cc(o,r)&&-1===Cc(o,"$<")){var a=n(t,i,s,o);if(a.done)return a.value}var c=D(o);c||(o=ss(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var d=[];;){var f=bc(i,s);if(null===f)break;if(Ec(d,f),!u)break;""===ss(f[0])&&(i.lastIndex=uc(s,Et(i.lastIndex),l))}for(var p,h="",m=0,v=0;v<d.length;v++){for(var g=ss((f=d[v])[0]),b=wc(Sc(yt(f.index),s.length),0),y=[],w=1;w<f.length;w++)Ec(y,void 0===(p=f[w])?p:String(p));var S=f.groups;if(c){var O=Oc([g],y,b,s);void 0!==S&&Ec(O,S);var E=ss(Xt(o,void 0,O))}else E=vc(g,s,b,y,S,o);b>=m&&(h+=jc(s,m,b)+E,m=b+g.length)}return h+jc(s,m)}]}),!!f((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!xc||kc);var Tc,Ic="\t\n\v\f\r                　\u2028\u2029\ufeff",Pc=j("".replace),Vc="["+Ic+"]",Ac=RegExp("^"+Vc+Vc+"*"),Rc=RegExp(Vc+Vc+"*$"),Nc=function(e){return function(t){var n=ss(N(t));return 1&e&&(n=Pc(n,Ac,"")),2&e&&(n=Pc(n,Rc,"")),n}},Lc={start:Nc(1),end:Nc(2),trim:Nc(3)},_c=Je.PROPER,Mc=Lc.trim;Ht({target:"String",proto:!0,forced:(Tc="trim",f((function(){return!!Ic[Tc]()||"​᠎"!=="​᠎"[Tc]()||_c&&Ic[Tc].name!==Tc})))},{trim:function(){return Mc(this)}});var Bc=je("matchAll"),Dc="RegExp String",Fc=Dc+" Iterator",Uc=pt.set,zc=pt.getterFor(Fc),Gc=RegExp.prototype,$c=TypeError,Hc=so("".indexOf),Wc=so("".matchAll),qc=!!Wc&&!f((function(){Wc("a",/./)})),Qc=Jn((function(e,t,n,r){Uc(this,{type:Fc,regexp:e,string:t,global:n,unicode:r,done:!1})}),Dc,(function(){var e=zc(this);if(e.done)return lr(void 0,!0);var t=e.regexp,n=e.string,r=bc(t,n);return null===r?(e.done=!0,lr(void 0,!0)):e.global?(""===ss(r[0])&&(t.lastIndex=uc(n,Et(t.lastIndex),e.unicode)),lr(r,!1)):(e.done=!0,lr(r,!1))})),Xc=function(e){var t,n,r,o=De(this),i=ss(e),s=io(o,RegExp),a=ss(xs(o));return t=new s(s===RegExp?o.source:o,a),n=!!~Hc(a,"g"),r=!!~Hc(a,"u"),t.lastIndex=Et(o.lastIndex),new Qc(t,i,n,r)};Ht({target:"String",proto:!0,forced:qc},{matchAll:function(e){var t,n,r,o=N(this);if(A(e)){if(qc)return Wc(o,e)}else{if(Es(e)&&(t=ss(N(xs(e))),!~Hc(t,"g")))throw $c("`.matchAll` does not allow non-global regexes");if(qc)return Wc(o,e);if(r=se(e,Bc))return v(r,e,o)}return n=ss(o),new RegExp(e,"g")[Bc](n)}}),Bc in Gc||mt(Gc,Bc,Xc);var Yc=j([].reverse),Jc=[1,2];Ht({target:"Array",proto:!0,forced:String(Jc)===String(Jc.reverse())},{reverse:function(){return Yt(this)&&(this.length=this.length),Yc(this)}});var Kc=a((function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))})),Zc=a((function(e,t){var n=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,r){var o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:o?t[e.name]:t;!function(e,t,r,o){if(o&&!r)t[o]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var s=0;s<(Kc[t]||[]).length;s+=1){var a=Kc[t][s];if(a.reg.test(o))return r(a,i,o)}})),t.media=n,t};var i=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(i,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),o=0;o<r.length;o+=3)t.push({component:r[o],ip:r[o+1],port:r[o+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(i,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}})),eu=/%[sdv%]/g,tu=function(e){var t=1,n=arguments,r=n.length;return e.replace(eu,(function(e){if(t>=r)return e;var o=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}}))},nu=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var i=t.names[o];t.name?r.push(n[t.name][i]):r.push(n[t.names[o]])}else r.push(n[t.name]);return tu.apply(null,r)},ru=["v","o","s","i","u","e","p","c","b","t","r","z","a"],ou=["i","c","b","a"],iu={write:function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||ru,r=t.innerOrder||ou,o=[];return n.forEach((function(t){Kc[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(nu(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(nu(t,n,e))}))}))})),e.media.forEach((function(e){o.push(nu("m",Kc.m[0],e)),r.forEach((function(t){Kc[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(nu(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(nu(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"},parse:Zc.parse,parseParams:Zc.parseParams,parseFmtpConfig:Zc.parseFmtpConfig,parsePayloads:Zc.parsePayloads,parseRemoteCandidates:Zc.parseRemoteCandidates,parseImageAttributes:Zc.parseImageAttributes,parseSimulcastStreamList:Zc.parseSimulcastStreamList};class su{constructor(e,t,n,r,o,i,s,a,c){this.foundation=e,this.componentId=t,this.transport=n,this.priority=r,this.address=o,this.port=i,this.type=s,this.relAddr=a,this.relPort=c}equals(e){return e.foundation===this.foundation&&e.componentId===this.componentId&&e.transport===this.transport&&e.priority===this.priority&&e.address===this.address&&e.port===this.port&&e.type===this.type&&e.relAddr===this.relAddr&&e.relPort===this.relPort}clone(){return new su(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)}plain(){const e={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(e.relAddr=this.relAddr),this.relPort&&(e.relPort=this.relPort),e}getFoundation(){return this.foundation}getComponentId(){return this.componentId}getTransport(){return this.transport}getPriority(){return this.priority}getAddress(){return this.address}getPort(){return this.port}getType(){return this.type}getRelAddr(){return this.relAddr}getRelPort(){return this.relPort}}su.expand=function(e){return new su(e.foundation,e.componentId,e.transport,e.priority,e.address,e.port,e.type,e.relAddr,e.relPort)};var au=su;class cu{constructor(e,t){this.id=e,this.params=t||[]}clone(){return new cu(this.id,this.params)}plain(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}}getId(){return this.id}getParams(){return this.params}}cu.expand=function(e){return new cu(e.id,e.params)};var uu=cu;class lu{constructor(e,t,n){this.codec=e,this.type=t,this.params={},this.rtcpfbs=new Set,n&&this.addParams(n)}clone(){const e=new lu(this.codec,this.type,this.params);this.hasRTX()&&e.setRTX(this.getRTX());for(const t of this.rtcpfbs)e.addRTCPFeedback(t.clone());return this.hasChannels()&&e.setChannels(this.getChannels()),e}plain(){const e={codec:this.codec,type:this.type};this.rtx&&(e.rtx=this.rtx),this.channels&&(e.channels=this.channels),Object.keys(this.params).length&&(e.params=this.params);for(const t of this.rtcpfbs)e.rtcpfbs||(e.rtcpfbs=[]),e.rtcpfbs.push(t.plain());return e}setRTX(e){this.rtx=e}getType(){return this.type}setType(e){this.type=e}getCodec(){return this.codec}getParams(){return this.params}addParams(e){for(const t in e)this.params[t]=e[t]}addParam(e,t){this.params[e]=t}hasParam(e){return this.params.hasOwnProperty(e)}getParam(e,t){return this.hasParam(e)?this.params[e]:""+t}hasRTX(){return this.rtx}getRTX(){return this.rtx}hasChannels(){return this.channels}getChannels(){return this.channels}setChannels(e){this.channels=e}addRTCPFeedback(e){this.rtcpfbs.add(e)}getRTCPFeedbacks(){return this.rtcpfbs}}lu.expand=function(e){const t=new lu(e.codec,e.type,e.params);e.rtx&&t.setRTX(e.rtx),e.channels&&t.setChannels(e.channels);for(let n=0;e.rtcpfbs&&n<e.rtcpfbs.length;++n){const r=uu.expand(e.rtcpfbs[n]);t.addRTCPFeedback(r)}return t},lu.MapFromNames=function(e,t,n){const r=new Map;let o=96;for(let i=0;i<e.length;++i){let s;const a=e[i].split(";"),c=a[0].toLowerCase().trim();s="pcmu"===c?0:"pcma"===c?8:++o;const u=new lu(c,s);"opus"===c?u.setChannels(2):"multiopus"===c&&u.setChannels(6),t&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&u.setRTX(++o);for(let e=0;n&&e<n.length;++e)u.addRTCPFeedback(new uu(n[e].id,n[e].params));for(let e=1;e<a.length;++e){let t=a[e].split("=");u.addParam(t[0].trim(),t[1].trim())}r.set(u.getCodec().toLowerCase(),u)}return r};var du=lu,fu=function e(){var t=this;if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(e){t[e]=Symbol.for("MEDOOZE_SEMANTIC_SDP_"+e)}))};const pu=fu("ACTIVE","PASSIVE","ACTPASS","INACTIVE");pu.byValue=function(e){switch(e){case pu.ACTIVE:case pu.PASSIVE:case pu.ACTPASS:case pu.INACTIVE:return e}return pu[e.toUpperCase()]},pu.toString=function(e){switch(e){case pu.ACTIVE:return"active";case pu.PASSIVE:return"passive";case pu.ACTPASS:return"actpass";case pu.INACTIVE:return"inactive"}},pu.reverse=function(e){switch(e){case pu.ACTIVE:return pu.PASSIVE;case pu.PASSIVE:return pu.ACTIVE;case pu.ACTPASS:return pu.PASSIVE;case pu.INACTIVE:return pu.INACTIVE}};var hu=pu;class mu{constructor(e,t,n){this.setup=e,this.hash=t,this.fingerprint=n}clone(){return new mu(this.setup,this.hash,this.fingerprint)}plain(){return{setup:hu.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}}getFingerprint(){return this.fingerprint}getHash(){return this.hash}getSetup(){return this.setup}setSetup(e){this.setup=e}}mu.expand=function(e){return new mu(e.setup?hu.byValue(e.setup):hu.ACTPASS,e.hash,e.fingerprint)};var vu=mu;class gu{constructor(e,t,n,r){this.tag=e,this.suite=t,this.keyParams=n,this.sessionParams=r}clone(){return new gu(this.tag,this.suite,this.keyParams,this.sessionParams)}plain(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}}getSessionParams(){return this.sessionParams}getKeyParams(){return this.keyParams}getSuite(){return this.suite}getTag(){return this.tag}}gu.expand=function(e){return new gu(e.tag,e.suite,e.keyParams,e.sessionParams)};for(var bu=gu,yu=function(e){var t=Tu(e),n=t[0],r=t[1];return 3*(n+r)/4-r},wu=function(e){var t,n,r=Tu(e),o=r[0],i=r[1],s=new Cu(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,c=i>0?o-4:o;for(n=0;n<c;n+=4)t=Eu[e.charCodeAt(n)]<<18|Eu[e.charCodeAt(n+1)]<<12|Eu[e.charCodeAt(n+2)]<<6|Eu[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===i&&(t=Eu[e.charCodeAt(n)]<<2|Eu[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===i&&(t=Eu[e.charCodeAt(n)]<<10|Eu[e.charCodeAt(n+1)]<<4|Eu[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},Su=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(Iu(e,s,s+i>a?a:s+i));return 1===r?(t=e[n-1],o.push(Ou[t>>2]+Ou[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(Ou[t>>10]+Ou[t>>4&63]+Ou[t<<2&63]+"=")),o.join("")},Ou=[],Eu=[],Cu="undefined"!=typeof Uint8Array?Uint8Array:Array,ju="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",xu=0,ku=ju.length;xu<ku;++xu)Ou[xu]=ju[xu],Eu[ju.charCodeAt(xu)]=xu;function Tu(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Iu(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(Ou[(o=r)>>18&63]+Ou[o>>12&63]+Ou[o>>6&63]+Ou[63&o]);return i.join("")}Eu["-".charCodeAt(0)]=62,Eu["_".charCodeAt(0)]=63;var Pu={byteLength:yu,toByteArray:wu,fromByteArray:Su},Vu=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+e[t+d],d+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},Au=function(e,t,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=h,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+p]=255&s,p+=h,s/=256,u-=8);e[n+p-h]|=128*m},Ru=a((function(e,t){const n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50;const r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|f(e,t);let r=o(n);const s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(W(e,Uint8Array)){const t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(W(e,ArrayBuffer)||e&&W(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(W(e,SharedArrayBuffer)||e&&W(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);const s=function(e){if(i.isBuffer(e)){const t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||q(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return a(e),o(e<0?0:0|d(e))}function u(e){const t=e.length<0?0:0|d(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function d(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||W(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return E(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),q(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function g(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(q(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return H(G(t,e.length-n),e,n,r)}function y(e,t,n,r){return H(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return H($(t),e,n,r)}function S(e,t,n,r){return H(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?Pu.fromByteArray(e):Pu.fromByteArray(e.slice(t,n))}function E(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=C)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=C));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(W(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),W(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=i.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(W(t,Uint8Array))o+t.length>r.length?(i.isBuffer(t)||(t=i.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!i.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h(this,t,t+1);return this},i.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},i.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},i.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(W(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const c=Math.min(s,a),u=this.slice(r,o),l=e.slice(t,n);for(let i=0;i<c;++i)if(u[i]!==l[i]){s=u[i],a=l[i];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return y(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const C=4096;function j(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=Q[e[i]];return o}function T(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function V(e,t,n,r,o){D(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function A(e,t,n,r,o){D(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function R(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,4),Au(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||R(e,0,n,8),Au(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),i.prototype.readBigUInt64BE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),i.prototype.readBigInt64BE=X((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),i.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),Vu(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),Vu(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),Vu(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),Vu(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigUInt64LE=X((function(e,t=0){return V(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=X((function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigInt64LE=X((function(e,t=0){return V(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=X((function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const s=i.isBuffer(e)?e:i.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};const _={};function M(e,t,n){_[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function B(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function D(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new _.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||U(t,e.length-(n+1))}(r,o,i)}function F(e,t){if("number"!=typeof e)throw new _.ERR_INVALID_ARG_TYPE(t,"number",e)}function U(e,t,n){if(Math.floor(e)!==e)throw F(e,n),new _.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new _.ERR_BUFFER_OUT_OF_BOUNDS;throw new _.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}M("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),M("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),M("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=B(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=B(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(e){return Pu.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function H(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function W(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}const Q=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function X(e){return"undefined"==typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}})),Nu=a((function(e,t){var n=Ru.Buffer;function r(e,t){for(var n in e)t[n]=e[n]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=Ru:(r(Ru,t),t.Buffer=o),r(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=n(e);return void 0!==t?"string"==typeof r?o.fill(t,r):o.fill(t):o.fill(0),o},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Ru.SlowBuffer(e)}})),Lu=a((function(e){var t=65536,r=4294967295,o=Nu.Buffer,i=s.crypto||s.msCrypto;i&&i.getRandomValues?e.exports=function(e,s){if(e>r)throw new RangeError("requested too many random bytes");var a=o.allocUnsafe(e);if(e>0)if(e>t)for(var c=0;c<e;c+=t)i.getRandomValues(a.slice(c,c+t));else i.getRandomValues(a);return"function"==typeof s?n.nextTick((function(){s(null,a)})):a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}));class _u{constructor(e,t){this.ufrag=e,this.pwd=t,this.lite=!1,this.endOfCandidates=!1}clone(){const e=new _u(this.ufrag,this.pwd);return e.setLite(this.lite),e.setEndOfCandidates(this.endOfCandidates),e}plain(){const e={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(e.lite=this.lite),this.endOfCandidates&&(e.endOfCandidates=this.endOfCandidates),e}getUfrag(){return this.ufrag}getPwd(){return this.pwd}isLite(){return this.lite}setLite(e){this.lite=e}isEndOfCandidates(){return this.endOfCandidates}setEndOfCandidates(e){this.endOfCandidates=e}}_u.generate=function(e){const t=new _u,n=Lu(8),r=Lu(24);return t.ufrag=n.toString("hex"),t.pwd=r.toString("hex"),t.lite=e,t},_u.expand=function(e){const t=new _u(e.ufrag,e.pwd);return t.setLite(e.lite),t.setEndOfCandidates(e.endOfCandidates),t};var Mu=_u;const Bu=fu("SEND","RECV");Bu.byValue=function(e){return Bu[e.toUpperCase()]},Bu.toString=function(e){switch(e){case Bu.SEND:return"send";case Bu.RECV:return"recv"}},Bu.reverse=function(e){switch(e){case Bu.SEND:return Bu.RECV;case Bu.RECV:return Bu.SEND}};var Du=Bu;class Fu{constructor(e,t){this.id=e,this.direction=t,this.formats=[],this.params=new Map}clone(){var e=new Fu(this.id,this.direction);return e.setFormats(this.formats),e.setParams(this.params),e}plain(){var e={id:this.id,direction:Du.toString(this.direction)};for(var[t,n]of(this.formats&&(e.formats=this.formats),this.params.entries()))e.params||(e.params={}),e.params[t]=n;return e}getId(){return this.id}getDirection(){return this.direction}setDirection(e){this.direction=e}getFormats(){return this.formats}setFormats(e){this.formats=[];for(let t=0;t<e.length;++t)this.formats.push(parseInt(e[t]))}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}getDirection(){return this.direction}setDirection(e){this.direction=e}}Fu.expand=function(e){const t=new Fu(e.id,Du.byValue(e.direction));for(let n in e.params)t.addParam(n,e.params[n]);return e.formats&&t.setFormats(e.formats),t};var Uu=Fu;class zu{constructor(e,t){this.paused=t,this.id=e}clone(){return new zu(this.id,this.paused)}plain(){return{id:this.id,paused:this.paused}}isPaused(){return this.paused}getId(){return this.id}}zu.expand=function(e){return new zu(e.id,e.paused)};var Gu=zu;class $u{constructor(){this.send=[],this.recv=[]}clone(){const e=new $u;for(let t=0;t<this.send.length;++t){let n=[];for(let e=0;t<this.send[e].length;++t)n.push(this.send[t][e].clone());e.addSimulcastAlternativeStreams(Du.SEND,n)}for(let t=0;t<this.recv.length;++t){let n=[];for(let e=0;t<this.recv[e].length;++t)n.push(this.recv[t][e].clone());e.addSimulcastAlternativeStreams(Du.RECV,n)}return e}plain(){const e={send:[],recv:[]};for(let t=0;t<this.send.length;++t){let n=[];for(let e=0;e<this.send[t].length;++e)n.push(this.send[t][e].plain());e.send.push(n)}for(let t=0;t<this.recv.length;++t){let n=[];for(let e=0;e<this.recv[t].length;++e)n.push(this.recv[t][e].plain());e.recv.push(n)}return e}addSimulcastAlternativeStreams(e,t){return e===Du.SEND?this.send.push(t):this.recv.push(t)}addSimulcastStream(e,t){return e===Du.SEND?this.send.push([t]):this.recv.push([t])}getSimulcastStreams(e){return e===Du.SEND?this.send:this.recv}}$u.expand=function(e){const t=new $u;for(let n=0;n<e.send.length;++n){let r=[];for(let t=0;t<e.send[n].length;++t)r.push(Gu.expand(e.send[n][t]));t.addSimulcastAlternativeStreams(Du.SEND,r)}for(let n=0;n<e.recv.length;++n){let r=[];for(let t=0;t<e.recv[n].length;++t)r.push(Gu.expand(e.recv[n][t]));t.addSimulcastAlternativeStreams(Du.RECV,r)}return t};var Hu=$u;const Wu=fu("SENDRECV","SENDONLY","RECVONLY","INACTIVE");Wu.byValue=function(e){return Wu[e.toUpperCase()]},Wu.toString=function(e){switch(e){case Wu.SENDRECV:return"sendrecv";case Wu.SENDONLY:return"sendonly";case Wu.RECVONLY:return"recvonly";case Wu.INACTIVE:return"inactive"}},Wu.reverse=function(e){switch(e){case Wu.SENDRECV:return Wu.SENDRECV;case Wu.SENDONLY:return Wu.RECVONLY;case Wu.RECVONLY:return Wu.SENDONLY;case Wu.INACTIVE:return Wu.INACTIVE}};var qu=Wu;class Qu{constructor(e,t){this.port=e,this.maxMessageSize=t}clone(){return new Qu(this.port,this.maxMessageSize)}plain(){return{port:this.port,maxMessageSize:this.maxMessageSize}}getPort(){return this.port}getMaxMessageSize(){return this.maxMessageSize}}Qu.expand=function(e){return new Qu(e.port,e.maxMessageSize)};var Xu=Qu;class Yu{constructor(e,t){this.id=e,this.type=t,this.direction=qu.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}clone(){const e=new Yu(this.id,this.type);e.setDirection(this.direction),e.setBitrate(this.bitrate);for(const t of this.codecs.values())e.addCodec(t.clone());for(const[t,n]of this.extensions.entries())e.addExtension(t,n);for(const t of this.rids.values())e.addRID(t.clone());return this.simulcast&&e.setSimulcast(this.simulcast.clone()),this.control&&e.setControl(this.control),this.dataChannel&&e.setDatachannel(this.dataChannel.clone()),e}plain(){const e={id:this.id,type:this.type,direction:qu.toString(this.direction),codecs:[]};this.dataChannel&&(e.dataChannel=this.dataChannel.plain()),this.bitrate&&(e.bitrate=this.bitrate);for(const t of this.codecs.values())e.codecs.push(t.plain());for(const[t,n]of this.extensions.entries())e.extensions||(e.extensions={}),e.extensions[t]=n;for(const t of this.rids.values())e.rids||(e.rids=[]),e.rids.push(t.plain());return this.simulcast&&(e.simulcast=this.simulcast.plain()),this.control&&(e.control=this.control),e}getType(){return this.type}getId(){return this.id}setId(e){this.id=e}addExtension(e,t){this.extensions.set(e,t)}addRID(e){this.rids.set(e.getId(),e)}addCodec(e){this.codecs.set(e.getType(),e)}setCodecs(e){this.codecs=e}getCodecForType(e){return this.codecs.get(e)}getCodec(e){for(const t of this.codecs.values())if(t.getCodec().toLowerCase()===e.toLowerCase())return t;return null}hasCodec(e){return null!==this.getCodec(e)}getCodecs(){return this.codecs}hasRTX(){for(const e of this.codecs.values())if(e.hasRTX())return!0;return!1}getExtensions(){return this.extensions}getRIDs(){return this.rids}getRID(e){return this.rids.get(e)}getBitrate(){return this.bitrate}setBitrate(e){this.bitrate=e}getDirection(){return this.direction}setDirection(e){this.direction=e}hasControl(){return!!this.control}getControl(){return this.control}setControl(e){this.control=e}hasDataChannel(){return!!this.dataChannel}getDataChannel(){return this.dataChannel}setDataChannel(e){this.dataChannel=e}answer(e){const t=new Yu(this.id,this.type);if(e){if(t.setDirection(qu.reverse(this.direction)),e.codecs){let n;n=Array.isArray(e.codecs)?du.MapFromNames(e.codecs,e.rtx,e.rtcpfbs):e.codecs;for(let e of this.codecs.values())if(n.has(e.getCodec().toLowerCase())){const r=n.get(e.getCodec().toLowerCase());if("h264"===r.getCodec()&&r.hasParam("packetization-mode")&&r.getParam("packetization-mode")!=e.getParam("packetization-mode","0"))continue;if("h264"===r.getCodec()&&r.hasParam("profile-level-id")&&e.hasParam("profile-level-id")&&r.getParam("profile-level-id")!=e.getParam("profile-level-id"))continue;if("multiopus"===r.getCodec()&&r.hasParam("num_streams")&&e.hasParam("num_streams")&&r.getParam("num_streams")!=e.getParam("num_streams"))continue;const o=r.clone();o.setType(e.getType()),o.hasRTX()&&o.setRTX(e.getRTX()),e.hasChannels()&&o.setChannels(e.getChannels()),o.addParams(e.getParams()),t.addCodec(o)}}const r=new Set(e.extensions);for(let[e,n]of this.extensions)r.has(n)&&t.addExtension(e,n);if(e.simulcast&&this.simulcast){const e=new Hu,r=this.simulcast.getSimulcastStreams(Du.SEND);if(r)for(let t=0;t<r.length;++t){var n=[];for(let e=0;e<r[t].length;++e)n.push(r[t][e].clone());e.addSimulcastAlternativeStreams(Du.RECV,n)}const o=this.simulcast.getSimulcastStreams(Du.RECV);if(o)for(let t=0;t<o.length;++t){n=[];for(let e=0;e<o[t].length;++e)n.push(o[t][e].clone());e.addSimulcastAlternativeStreams(Du.SEND,n)}for(const n of this.rids.values()){const e=n.clone();e.setDirection(Du.reverse(n.getDirection())),t.addRID(e)}t.setSimulcast(e)}if(e.dataChannel&&this.dataChannel){const n=new Xu(this.dataChannel.getPort(),e.dataChannel.maxMessageSize?e.dataChannel.maxMessageSize:this.dataChannel.getMaxMessageSize());t.setDataChannel(n)}}else t.setDirection(qu.INACTIVE);return t}getSimulcast(){return this.simulcast}setSimulcast(e){this.simulcast=e}}Yu.create=function(e,t){const n=new Yu(e,e);return t?t.codecs&&(Array.isArray(t.codecs)?n.setCodecs(du.MapFromNames(t.codecs,t.rtx,t.rtcpfbs)):n.setCodecs(t.codecs)):n.setDirection(qu.INACTIVE),n},Yu.expand=function(e){const t=new Yu(e.id,e.type);if(e.direction&&t.setDirection(qu.byValue(e.direction)),t.setBitrate(e.bitrate),e.dataChannel){const n=Xu.expand(e.dataChannel);n&&t.setDataChannel(n)}for(let n in e.extensions)t.addExtension(n,e.extensions[n]);for(let n=0;e.codecs&&n<e.codecs.length;++n){const r=du.expand(e.codecs[n]);r&&t.addCodec(r)}for(let n=0;e.rids&&n<e.rids.length;++n){const r=Uu.expand(e.rids[n]);t.addRID(r)}return e.simulcast&&t.setSimulcast(Hu.expand(e.simulcast)),e.control&&t.setControl(e.control),t};var Ju=Yu;class Ku{constructor(e,t){this.semantics=e,this.ssrcs=[];for(let n=0;n<t.length;++n)this.ssrcs.push(parseInt(t[n]))}clone(){return new Ku(this.semantics,this.ssrcs)}plain(){const e={semantics:this.semantics,ssrcs:[]};for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);return e}getSemantics(){return this.semantics}getSSRCs(){return this.ssrcs}}Ku.expand=function(e){return new Ku(e.semantics,e.ssrcs)};var Zu=Ku;class el{constructor(e){this.ssrc=e}clone(){const e=new el(this.ssrc);e.setCName(this.cname),e.setStreamId(this.streamId),e.setTrackId(this.trackId)}plain(){const e={ssrc:this.ssrc};return this.cname&&(e.cname=this.cname),this.streamId&&(e.streamId=this.streamId),this.trackId&&(e.trackid=this.trackId),e}getCName(){return this.cname}setCName(e){this.cname=e}getStreamId(){return this.streamId}setStreamId(e){this.streamId=e}getTrackId(){return this.trackId}setTrackId(e){this.trackId=e}getSSRC(){return this.ssrc}}el.expand=function(e){const t=new el(e.ssrc);return t.setCName(e.cname),t.setStreamId(e.streamId),t.setTrackId(e.trackId),t};var tl=el;class nl{constructor(e,t){this.id=e,this.paused=t,this.codecs=new Map,this.params=new Map}clone(){var e=new nl(this.id,this.paused);for(let t of this.codecs.values())e.addCodec(t.clone());return e.setParams(this.params),e}plain(){var e={id:this.id,paused:this.paused,codecs:{},params:{}};for(var[t,n]of this.codecs.entries())e.codecs[t]=n.plain();for(var[t,r]of this.params.entries())e.params[t]=r;return e}getId(){return this.id}getCodecs(){return this.codecs}addCodec(e){this.codecs.set(e.getType(),e)}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}isPaused(){return this.paused}}nl.expand=function(e){const t=new nl(e.id,e.paused);for(let n in e.codecs)t.addCodec(du.expand(e.codecs[n]));for(let n in e.params)t.addParam(n,e.params[n]);return t};var rl=nl;class ol{constructor(e,t){this.media=e,this.id=t,this.ssrcs=[],this.groups=[],this.encodings=[]}clone(){const e=new ol(this.media,this.id);this.mediaId&&e.setMediaId(this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.addSSRC(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.addSourceGroup(this.groups[t].clone());for(let t=0;t<this.encodings.length;++t){const n=[];for(let e=0;e<this.encodings[t].length;++e)n.push(this.encodings[t][e].clone());e.addAlternativeEncodings(n)}return e}plain(){const e={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(e.mediaId=this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.groups||(e.groups=[]),e.groups.push(this.groups[t].plain());for(let t=0;t<this.encodings.length;++t){const n=[];for(let e=0;e<this.encodings[t].length;++e)n.push(this.encodings[t][e].plain());n.length&&(e.encodings||(e.encodings=[]),e.encodings.push(n))}return e}getMedia(){return this.media}setMediaId(e){this.mediaId=e}getMediaId(){return this.mediaId}getId(){return this.id}addSSRC(e){this.ssrcs.push(e)}getSSRCs(){return this.ssrcs}addSourceGroup(e){this.groups.push(e)}getSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return t;return null}getSourceGroups(){return this.groups}hasSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return!0;return!1}getEncodings(){return this.encodings}addEncoding(e){this.encodings.push([e])}addAlternativeEncodings(e){this.encodings.push(e)}setEncodings(e){this.encodings=e}}ol.expand=function(e){const t=new ol(e.media,e.id);e.mediaId&&t.setMediaId(e.mediaId);for(let n=0;e.ssrcs&&n<e.ssrcs.length;++n)t.addSSRC(e.ssrcs[n]);for(let n=0;e.groups&&n<e.groups.length;++n)t.addSourceGroup(Zu.expand(e.groups[n]));for(let n=0;e.encodings&&n<e.encodings.length;++n){const r=[];for(let t=0;t<e.encodings[n].length;++t)r.push(rl.expand(e.encodings[n][t]));t.addAlternativeEncodings(r)}return t};var il=ol;class sl{constructor(e){this.id=e,this.tracks=new Map}clone(){const e=new sl(this.id);for(const t of this.tracks.values())e.addTrack(t.clone());return e}plain(){const e={id:this.id,tracks:[]};for(const t of this.tracks.values())e.tracks.push(t.plain());return e}getId(){return this.id}addTrack(e){this.tracks.set(e.getId(),e)}removeTrack(e){return this.tracks.delete(e.getId())}removeTrackById(e){return this.tracks.delete(e)}getFirstTrack(e){for(let t of this.tracks.values())if(t.getMedia().toLowerCase()===e.toLowerCase())return t;return null}getTracks(){return this.tracks}removeAllTracks(){this.tracks.clear()}getTrack(e){return this.tracks.get(e)}}sl.expand=function(e){const t=new sl(e.id,e.paused);for(let n=0;n<e.tracks.length;++n){const r=il.expand(e.tracks[n]);r&&t.addTrack(r)}return t};var al=sl;class cl{constructor(e){this.version=e||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}clone(){const e=new cl(this.version);for(let t=0;t<this.medias.length;++t)e.addMedia(this.medias[t].clone());for(const t of this.streams.values())e.addStream(t.clone());for(let t=0;t<this.candidates.length;++t)e.addCandidate(this.candidates[t].clone());return e.setICE(this.ice.clone()),this.dtls&&e.setDTLS(this.dtls.clone()),this.crypto&&e.setCrypto(this.crypto.clone()),e.setExmapAllowMixed(this.extmapAllowMixed),e}plain(){const e={version:this.version,streams:[],medias:[],candidates:[]};for(let t=0;t<this.medias.length;++t)e.medias.push(this.medias[t].plain());for(const t of this.streams.values())e.streams.push(t.plain());for(let t=0;t<this.candidates.length;++t)e.candidates.push(this.candidates[t].plain());return this.ice&&(e.ice=this.ice.plain()),this.dtls&&(e.dtls=this.dtls.plain()),this.crypto&&(e.crypto=this.crypto.plain()),this.extmapAllowMixed||(e.extmapAllowMixedNotSupported=!this.extmapAllowMixed),e}unify(){const e=new cl(this.version);for(let n=0;n<this.medias.length;++n)e.addMedia(this.medias[n].clone());const t={audio:e.getMediasByType("audio"),video:e.getMediasByType("video")};for(const n of this.streams.values()){const r=n.clone();for(const n of r.getTracks().values()){let r=t[n.getMedia()].pop();r||(r=this.getMedia(n.getMedia()).clone(),r.setId(n.getId()),e.addMedia(r)),n.setMediaId(r.getId())}e.addStream(r)}for(let n=0;n<this.candidates.length;++n)e.addCandidate(this.candidates[n].clone());return this.ice&&e.setICE(this.ice.clone()),this.dtls&&e.setDTLS(this.dtls.clone()),this.crypto&&e.setCrypto(this.crypto.clone()),e}setVersion(e){this.version=e}addMedia(e){this.medias.push(e)}getMedia(e){for(let t in this.medias){let n=this.medias[t];if(n.getType().toLowerCase()===e.toLowerCase())return n}return null}getMediasByType(e){var t=[];for(let n in this.medias){let r=this.medias[n];r.getType().toLowerCase()===e.toLowerCase()&&t.push(r)}return t}getMediaById(e){for(let t in this.medias){let n=this.medias[t];if(n.getId().toLowerCase()===e.toLowerCase())return n}return null}replaceMedia(e){for(let t in this.medias)if(this.medias[t].getId()==e.getId())return this.medias[t]=e,!0;return!1}getMedias(){return this.medias}getVersion(){return this.version}getDTLS(){return this.dtls}setDTLS(e){this.dtls=e}hasCrypto(){return!!this.crypto}getCrypto(){return this.crypto}setCrypto(e){this.crypto=e}hasICE(){return!!this.ice}getICE(){return this.ice}setICE(e){this.ice=e}addCandidate(e){for(let t=0;t<this.candidates.length;++t)if(this.candidates[t].equals(e))return;this.candidates.push(e)}addCandidates(e){for(let t=0;t<e.length;++t)this.addCandidate(e[t])}getCandidates(){return this.candidates}getStream(e){return this.streams.get(e)}getStreams(){return this.streams}getFirstStream(){for(let e of this.streams.values())return e;return null}addStream(e){this.streams.set(e.getId(),e)}removeStream(e){return this.streams.delete(e.getId())}removeAllStreams(){this.streams.clear()}getTrackByMediaId(e){for(let t of this.streams.values())for(let[n,r]of t.getTracks())if(r.getMediaId()==e)return r;return null}getStreamByMediaId(e){for(let t of this.streams.values())for(let[n,r]of t.getTracks())if(r.getMediaId()==e)return t;return null}getExtmapAllowMixed(){return this.extmapAllowMixed}setExtmapAllowMixed(e){this.extmapAllowMixed=e}answer(e){const t=new cl;e.ice&&(e.ice instanceof Mu?t.setICE(e.ice.clone()):t.setICE(Mu.expand(e.ice))),e.dtls&&(e.dtls instanceof vu?t.setDTLS(e.dtls):t.setDTLS(vu.expand(e.dtls))),e.crypto&&(e.crypto instanceof bu?t.setCrypto(e.crypto):t.setCrypto(bu.expand(e.crypto)));for(let n=0;e.candidates&&n<e.candidates.length;++n)e.candidates[n]instanceof au?t.addCandidate(e.candidates[n].clone()):t.addCandidate(au.expand(e.candidates[n]));for(const n of this.medias){const r=e&&e.capabilities&&e.capabilities[n.getType()];t.addMedia(n.answer(r))}return t.setExtmapAllowMixed(this.extmapAllowMixed),t}toString(){let e={version:0,media:[]};e.version=0,e.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},e.name="semantic-sdp",e.connection={version:4,ip:"0.0.0.0"},e.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),e.msidSemantic={semantic:"WMS",token:"*"},e.groups=[],this.extmapAllowMixed&&(e.extmapAllowMixed="extmap-allow-mixed");let t={type:"BUNDLE",mids:[]};for(let n in this.medias){let r=this.medias[n],o={type:r.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};o.direction=qu.toString(r.getDirection()),this.extmapAllowMixed&&(o.extmapAllowMixed="extmap-allow-mixed"),o.mid=r.getId(),t.mids.push(r.getId()),r.hasControl()&&(o.control=r.getControl()),r.getBitrate()>0&&(o.bandwidth.push({type:"AS",limit:r.getBitrate()}),o.bandwidth.push({type:"TIAS",limit:1e3*r.getBitrate()}));let i=this.getCandidates();for(let e=0;e<i.length;++e){let t=i[e];o.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()})}if(this.getICE()&&(o.iceUfrag=this.getICE().getUfrag(),o.icePwd=this.getICE().getPwd()),["audio","video"].includes(r.getType().toLowerCase())){o.rtcpMux="rtcp-mux",o.rtcpRsize="rtcp-rsize",this.getDTLS()?(o.protocol="UDP/TLS/RTP/SAVPF",o.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},o.setup=hu.toString(this.getDTLS().getSetup())):this.getCrypto()?(o.protocol="RTP/SAVPF",o.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):o.protocol="RTP/AVP";for(let n of r.getCodecs().values()){"video"===r.getType().toLowerCase()?o.rtp.push({payload:n.getType(),codec:n.getCodec().toUpperCase(),rate:9e4}):"opus"===n.getCodec().toLowerCase()||"multiopus"===n.getCodec().toLowerCase()?o.rtp.push({payload:n.getType(),codec:n.getCodec(),rate:48e3,encoding:n.getChannels()}):o.rtp.push({payload:n.getType(),codec:n.getCodec(),rate:8e3});for(const t of n.getRTCPFeedbacks())o.rtcpFb.push({payload:n.getType(),type:t.getId(),subtype:t.getParams().join(" ")});n.hasRTX()&&(o.rtp.push({payload:n.getRTX(),codec:"rtx",rate:9e4}),o.fmtp.push({payload:n.getRTX(),config:"apt="+n.getType()}));const e=n.getParams();if(Object.keys(e).length){const t={payload:n.getType(),config:""};for(const n in e)t.config.length&&(t.config+=";"),e.hasOwnProperty(n)?t.config+=n+"="+e[n]:t.config+=n;o.fmtp.push(t)}}const e=[];for(let n=0;n<o.rtp.length;++n)e.push(o.rtp[n].payload);o.payloads=e.join(" ");for(let[n,i]of r.getExtensions().entries())o.ext.push({value:n,uri:i});for(let n of r.getRIDs().values()){let e={id:n.getId(),direction:Du.toString(n.getDirection()),params:""};n.getFormats().length&&(e.params="pt="+n.getFormats().join(","));for(let[t,r]of n.getParams().entries())e.params+=(e.params.length?";":"")+t+"="+r;o.rids.push(e)}const t=r.getSimulcast();if(t){let e=1;o.simulcast={};const n=t.getSimulcastStreams(Du.SEND),r=t.getSimulcastStreams(Du.RECV);if(n&&n.length){let t="";for(let e=0;e<n.length;++e){let r="";for(let t=0;t<n[e].length;++t)r+=(r.length?",":"")+(n[e][t].isPaused()?"~":"")+n[e][t].getId();t+=(t.length?";":"")+r}o.simulcast["dir"+e]="send",o.simulcast["list"+e]=t,e++}if(r&&r.length){let t=[];for(let e=0;e<r.length;++e){let n="";for(let t=0;t<r[e].length;++t)n+=(n.length?",":"")+(r[e][t].isPaused()?"~":"")+r[e][t].getId();t+=(t.length?";":"")+n}o.simulcast["dir"+e]="recv",o.simulcast["list"+e]=t,e++}}}else if(r.hasDataChannel()){o.protocol="UDP/DTLS/SCTP",o.payloads="webrtc-datachannel";const e=r.getDataChannel();o.sctpPort=e.getPort(),o.maxMessageSize=e.getMaxMessageSize()}e.media.push(o)}for(let n of this.streams.values())for(let t of n.getTracks().values())for(let r in e.media){let o=e.media[r];if(t.getMediaId()){if(t.getMediaId()==o.mid){let e=t.getSourceGroups();for(let t in e){let n=e[t];o.ssrcGroups.push({semantics:n.getSemantics(),ssrcs:n.getSSRCs().join(" ")})}let r=t.getSSRCs();for(let i in r)o.ssrcs.push({id:r[i],attribute:"cname",value:n.getId()}),o.ssrcs.push({id:r[i],attribute:"msid",value:n.getId()+" "+t.getId()});o.msid=n.getId()+" "+t.getId();break}}else if(o.type.toLowerCase()===t.getMedia().toLowerCase()){let e=t.getSourceGroups();for(let t in e){let n=e[t];o.ssrcGroups.push({semantics:n.getSemantics(),ssrcs:n.getSSRCs().join(" ")})}let r=t.getSSRCs();for(let i in r)o.ssrcs.push({id:r[i],attribute:"cname",value:n.getId()}),o.ssrcs.push({id:r[i],attribute:"msid",value:n.getId()+" "+t.getId()});break}}return t.mids=t.mids.join(" "),e.groups.push(t),iu.write(e)}toIceFragmentString(){let e={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),this.getICE()&&(e.iceUfrag=this.getICE().getUfrag(),e.icePwd=this.getICE().getPwd());for(const t of this.getCandidates())e.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()});return iu.write(e).slice(10)}}cl.create=function(e){const t=new cl;e.ice&&(e.ice instanceof Mu?t.setICE(e.ice.clone()):t.setICE(Mu.expand(e.ice))),e.dtls&&(e.dtls instanceof vu?t.setDTLS(e.dtls):t.setDTLS(vu.expand(e.dtls))),e.crypto&&(e.crypto instanceof bu?t.setCrypto(e.crypto):t.setCrypto(bu.expand(e.crypto)));for(let o=0;e.candidates&&o<e.candidates.length;++o)e.candidates[o]instanceof au?t.addCandidate(e.candidates[o].clone()):t.addCandidate(au.expand(e.candidates[o]));let n=96,r=1;for(let o in e.capabilities){const i=Ju.create(o,e.capabilities[o]);for(const[e,t]of i.getCodecs())t.getType()>=96&&t.setType(n++),t.getRTX()&&t.setRTX(n++);if(e.capabilities[o].extensions)for(let t of e.capabilities[o].extensions)15===r&&r++,i.addExtension(r++,t);t.addMedia(i)}return t},cl.expand=function(e){const t=new cl(e.version);for(let n=0;e.medias&&n<e.medias.length;++n){const r=Ju.expand(e.medias[n]);r&&t.addMedia(r)}for(let n=0;e.streams&&n<e.streams.length;++n){const r=al.expand(e.streams[n]);r&&t.addStream(r)}for(let n=0;e.candidates&&n<e.candidates.length;++n){const r=au.expand(e.candidates[n]);r&&t.addCandidate(r)}return e.ice&&t.setICE(Mu.expand(e.ice)),e.dtls&&t.setDTLS(vu.expand(e.dtls)),e.crypto&&t.setCrypto(vu.expand(e.crypto)),e.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!e.extmapAllowMixedNotSupported),t},cl.process=function(e){return cl.parse(e)},cl.parse=function(e){const t=iu.parse(e),n=new cl;if(n.setVersion(t.version),t.iceUfrag&&t.icePwd){const e=String(t.iceUfrag),r=String(t.icePwd),o=new Mu(e,r);o.setLite("ice-lite"==t.icelite),o.setEndOfCandidates("end-of-candidates"==t.endOfCandidates),n.setICE(o)}for(let r in t.media){const e=t.media[r],o=e.type,i=e.mid?e.mid.toString():r,s=new Ju(i,o);if(e.iceUfrag&&e.icePwd){const r=String(e.iceUfrag),o=String(e.icePwd),i=new Mu(r,o);i.setLite("ice-lite"==t.icelite),i.setEndOfCandidates("end-of-candidates"==e.endOfCandidates),n.setICE(i)}for(let t=0;e.candidates&&t<e.candidates.length;++t){const r=e.candidates[t],o=new au(r.foundation,r.component,r.transport,r.priority,r.ip,r.port,r.type,r.raddr,r.rport);n.addCandidate(o)}const a=e.fingerprint||t.fingerprint;if(a){const t=a.type,r=a.hash;let o=hu.ACTPASS;e.setup&&(o=hu.byValue(e.setup)),n.setDTLS(new vu(o,t,r))}if(e.crypto){const t=e.crypto[0];n.setCrypto(new bu(t.id,t.suite,t.config,t.sessionConfig))}let c=qu.SENDRECV;e.direction&&(c=qu.byValue(e.direction),s.setDirection(c)),e.control&&s.setControl(e.control),n.setExtmapAllowMixed("extmap-allow-mixed"==e.extmapAllowMixed||"extmap-allow-mixed"==t.extmapAllowMixed);const u=new Map;for(let t in e.rtp){const n=e.rtp[t],r=n.payload,o=n.codec;if("RED"===o.toUpperCase()||"ULPFEC"===o.toUpperCase())continue;let i={};for(let t in e.fmtp){const n=e.fmtp[t];if(n.payload===r){const e=n.config.split(";");for(let t in e){const n=e[t].split("="),r=n[0].trim(),o=n.splice(1).join("=").trim();i[r]=o}}}if("RTX"===o.toUpperCase())u.set(parseInt(i.apt),r);else{const e=new du(o,r,i);n.encoding>1&&e.setChannels(n.encoding),s.addCodec(e)}}for(let t of u.entries()){const e=s.getCodecForType(t[0]);e&&e.setRTX(t[1])}for(let t=0;e.rtcpFb&&t<e.rtcpFb.length;++t){const n=s.getCodecForType(e.rtcpFb[t].payload);if(n){const r=e.rtcpFb[t].type,o=e.rtcpFb[t].subtype?e.rtcpFb[t].subtype.split(" "):null;n.addRTCPFeedback(new uu(r,o))}}const l=e.ext;for(let t in l){const e=l[t];s.addExtension(e.value,e.uri)}const d=e.rids;for(let t in d){const e=d[t],n=new Uu(e.id,Du.byValue(e.direction));let r=[];const o=new Map;if(e.params){const t=iu.parseParams(e.params);for(let e in t)"pt"===e?r=t[e].split(","):o.set(e,t[e]);n.setFormats(r),n.setParams(o)}s.addRID(n)}const f=[];if(e.simulcast){const t=new Hu;if(e.simulcast.dir1){const n=Du.byValue(e.simulcast.dir1),r=iu.parseSimulcastStreamList(e.simulcast.list1);for(let e=0;e<r.length;++e){const o=[];for(let t=0;t<r[e].length;++t)o.push(new Gu(r[e][t].scid,r[e][t].paused));t.addSimulcastAlternativeStreams(n,o)}}if(e.simulcast.dir2){const n=Du.byValue(e.simulcast.dir2),r=iu.parseSimulcastStreamList(e.simulcast.list2);for(let e=0;e<r.length;++e){const o=[];for(let t=0;t<r[e].length;++t)o.push(new Gu(r[e][t].scid,r[e][t].paused));t.addSimulcastAlternativeStreams(n,o)}}for(let e of t.getSimulcastStreams(Du.SEND)){const t=[];for(let n=0;n<e.length;n++){const r=new rl(e[n].getId(),e[n].isPaused()),o=s.getRID(r.getId());if(o){const e=o.getFormats();for(let t=0;e&&t<e.length;++t){const n=s.getCodecForType(e[t]);n&&r.addCodec(n)}r.setParams(o.getParams()),t.push(r)}}t.length&&f.push(t)}s.setSimulcast(t)}const p=new Map;if(e.ssrcs)for(let t in e.ssrcs){let r=e.ssrcs[t],s=r.id,a=r.attribute,c=r.value,u=p.get(s);if(u||(u=new tl(s),p.set(u.getSSRC(),u)),"cname"===a.toLowerCase())u.setCName(c);else if("msid"===a.toLowerCase()){let e=c.split(" "),t=e[0],r=e[1];u.setStreamId(t),u.setTrackId(r);let a=n.getStream(t);a||(a=new al(t),n.addStream(a));let l=a.getTrack(r);l||(l=new il(o,r),l.setMediaId(i),l.setEncodings(f),a.addTrack(l)),l.addSSRC(s)}}if(e.msid){let t=e.msid.split(" "),r=t[0],s=t[1],a=n.getStream(r);a||(a=new al(r),n.addStream(a));let c=a.getTrack(s);c||(c=new il(o,s),c.setMediaId(i),c.setEncodings(f),a.addTrack(c));for(let[e,n]of p.entries())n.getStreamId()||(n.setStreamId(r),n.setTrackId(s),c.addSSRC(e))}for(let[t,r]of p.entries())if(!r.getStreamId()){let e=r.getCName(),s=i;r.setStreamId(e),r.setTrackId(s);let a=n.getStream(e);a||(a=new al(e),n.addStream(a));let c=a.getTrack(s);c||(c=new il(o,s),c.setMediaId(i),c.setEncodings(f),a.addTrack(c)),c.addSSRC(t)}if(e.ssrcGroups)for(let t in e.ssrcGroups){let r=e.ssrcGroups[t],o=r.ssrcs.split(" "),i=new Zu(r.semantics,o),s=p.get(parseInt(o[0]));s&&n.getStream(s.getStreamId()).getTrack(s.getTrackId()).addSourceGroup(i)}if("application"==e.type&&"webrtc-datachannel"==e.payloads){const t=new Xu(e.sctpPort,e.maxMessageSize);s.setDataChannel(t)}n.addMedia(s)}return n};var ul={SDPInfo:cl,CandidateInfo:au,CodecInfo:du,DTLSInfo:vu,CryptoInfo:bu,ICEInfo:Mu,MediaInfo:Ju,Setup:hu,SourceGroupInfo:Zu,SourceInfo:tl,StreamInfo:al,TrackInfo:il,RTCPFeedbackInfo:uu,TrackEncodingInfo:rl,Direction:qu},ll=a((function(e,t){!function(n,r){var o="function",i="undefined",s="object",a="string",c="model",u="name",l="type",d="vendor",f="version",p="architecture",h="console",m="mobile",v="tablet",g="smarttv",b="wearable",y="embedded",w="Amazon",S="Apple",O="ASUS",E="BlackBerry",C="Browser",j="Chrome",x="Firefox",k="Google",T="Huawei",I="LG",P="Microsoft",V="Motorola",A="Opera",R="Samsung",N="Sharp",L="Sony",_="Xiaomi",M="Zebra",B="Facebook",D=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},F=function(e,t){return typeof e===a&&-1!==U(t).indexOf(U(e))},U=function(e){return e.toLowerCase()},z=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,""),typeof t===i?e:e.substring(0,350)},G=function(e,t){for(var n,i,a,c,u,l,d=0;d<t.length&&!u;){var f=t[d],p=t[d+1];for(n=i=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(a=0;a<p.length;a++)l=u[++i],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):r:this[c[0]]=l?c[1].call(this,l,c[2]):r:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):r):this[c]=l||r;d+=2}},$=function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var o=0;o<t[n].length;o++)if(F(t[n][o],e))return"?"===n?r:n}else if(F(t[n],e))return"?"===n?r:n;return e},H={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},W={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,A+" Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,A]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UC"+C]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure "+C],f],[/\bfocus\/([\w\.]+)/i],[f,[u,x+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,A+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,A+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI "+C]],[/fxios\/([-\w\.]+)/i],[f,[u,x]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 "+C]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 "+C],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,B],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,j+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,j+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android "+C]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,$,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,x+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,f],[/(cobalt)\/([\w\.]+)/i],[u,[f,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,U]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",U]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,U]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,R],[l,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,R],[l,m]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,S],[l,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,S],[l,v]],[/(macintosh);/i],[c,[d,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,T],[l,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[c,[d,T],[l,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,_],[l,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,_],[l,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[l,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[l,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[l,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,V],[l,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,V],[l,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,I],[l,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,I],[l,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[l,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[l,m]],[/(pixel c)\b/i],[c,[d,k],[l,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,k],[l,m]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,L],[l,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,L],[l,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[l,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,w],[l,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,w],[l,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[l,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,E],[l,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,O],[l,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,O],[l,m]],[/(nexus 9)/i],[c,[d,"HTC"],[l,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[l,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[l,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[l,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,N],[l,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[l,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[l,v]],[/(surface duo)/i],[c,[d,P],[l,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[l,m]],[/(u304aa)/i],[c,[d,"AT&T"],[l,m]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[l,m]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[l,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[l,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[l,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[l,v]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[l,v]],[/\b(k88) b/i],[c,[d,"ZTE"],[l,v]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[l,m]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[l,m]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[l,v]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[l,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[l,v]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[l,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[l,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[l,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[l,m]],[/\b(ph-1) /i],[c,[d,"Essential"],[l,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[l,v]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[l,v]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[l,v]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[l,v]],[/(sprint) (\w+)/i],[d,c,[l,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,P],[l,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,M],[l,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,M],[l,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[l,h]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[l,h]],[/(playstation [345portablevi]+)/i],[c,[d,L],[l,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,P],[l,h]],[/smart-tv.+(samsung)/i],[d,[l,g]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,R],[l,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,I],[l,g]],[/(apple) ?tv/i],[d,[c,S+" TV"],[l,g]],[/crkey/i],[[c,j+"cast"],[d,k],[l,g]],[/droid.+aft(\w)( bui|\))/i],[c,[d,w],[l,g]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[c,[d,N],[l,g]],[/(bravia[\w ]+)( bui|\))/i],[c,[d,L],[l,g]],[/(mitv-\w{5}) bui/i],[c,[d,_],[l,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,z],[c,z],[l,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,g]],[/((pebble))app/i],[d,c,[l,b]],[/droid.+; (glass) \d/i],[c,[d,k],[l,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,M],[l,b]],[/(quest( 2)?)/i],[c,[d,B],[l,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[l,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[l,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[l,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[l,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,$,H]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,$,H]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,E]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,x+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[u,j+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,f]]},q=function(e,t){if(typeof e===s&&(t=e,e=r),!(this instanceof q))return new q(e,t).getResult();var o=e||(typeof n!==i&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),h=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(W,t):W;return this.getBrowser=function(){var e={};return e[u]=r,e[f]=r,G.call(e,o,h.browser),e.major=function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e.version),e},this.getCPU=function(){var e={};return e[p]=r,G.call(e,o,h.cpu),e},this.getDevice=function(){var e={};return e[d]=r,e[c]=r,e[l]=r,G.call(e,o,h.device),e},this.getEngine=function(){var e={};return e[u]=r,e[f]=r,G.call(e,o,h.engine),e},this.getOS=function(){var e={};return e[u]=r,e[f]=r,G.call(e,o,h.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===a&&e.length>350?z(e,350):e,this},this.setUA(o),this};q.VERSION="0.7.33",q.BROWSER=D([u,f,"major"]),q.CPU=D([p]),q.DEVICE=D([c,d,l,h,m,g,v,b,y]),q.ENGINE=q.OS=D([u,f]),e.exports&&(t=e.exports=q),t.UAParser=q;var Q=typeof n!==i&&(n.jQuery||n.Zepto);if(Q&&!Q.ua){var X=new q;Q.ua=X.getResult(),Q.ua.get=function(){return X.getUA()},Q.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var n in t)Q.ua[n]=t[n]}}}("object"==typeof window?window:s)}));const dl=["iOS"];class fl extends ll{constructor(){super(window.navigator.userAgent)}isChrome(){const e=this.getBrowser();if(!e.name)return!1;const t=this.getOS();let n=!0;return n=!new RegExp(dl.join("|"),"i").test(t.name),e.name.match(/Chrome/i)&&n}isFirefox(){const e=this.getBrowser();return!!e.name&&e.name.match(/Firefox/i)}isOpera(){const e=this.getBrowser();return!!e.name&&e.name.match(/Opera/i)}isSafari(){const e=this.getBrowser();return!!e.name&&e.name.match(/Safari/i)}}const pl=Rr.get("SdpParser"),hl=Array.from({length:31},(e,t)=>t+35),ml=Array.from({length:32},(e,t)=>t+96),vl=Array.from({length:14},(e,t)=>t+1),gl=Array.from({length:240},(e,t)=>t+16),bl={setSimulcast(e,t){if(pl.info("Setting simulcast. Codec: ",t),!(new fl).isChrome())return pl.warn("Simulcast is only available in Google Chrome browser"),e;if("h264"!==t&&"vp8"!==t)return pl.warn("Simulcast is only available in h264 and vp8 codecs"),e;try{const t=/m=video[\s\S]*?a=ssrc:(\d*) msid:([\s\S]+?)\r\n/,n=/m=video[\s\S]*?a=ssrc:(\d*) cname:([\s\S]+?)\r\n/.exec(e),r=n[1],o=n[2],i=t.exec(e)[2],s=2,a=[r];for(let c=0;c<s;++c){const t=100+2*c,n=t+1;a.push(t),e+="a=ssrc-group:FID "+t+" "+n+"\r\na=ssrc:"+t+" cname:"+o+"\r\na=ssrc:"+t+" msid:"+i+"\r\na=ssrc:"+n+" cname:"+o+"\r\na=ssrc:"+n+" msid:"+i+"\r\n"}return e+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",pl.info("Simulcast setted"),pl.debug("Simulcast SDP: ",e),e}catch(e){throw pl.error("Error setting SDP for simulcast: ",e),e}},setStereo:e=>(pl.info("Replacing SDP response for support stereo"),e=e.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),pl.info("Replaced SDP response for support stereo"),pl.debug("New SDP value: ",e),e),setDTX:e=>(pl.info("Replacing SDP response for support dtx"),e=e.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),pl.info("Replaced SDP response for support dtx"),pl.debug("New SDP value: ",e),e),setAbsoluteCaptureTime(e){const t="a=extmap:"+bl.getAvailableHeaderExtensionIdRange(e)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return e=e.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(e,n,r)=>n+t+r),pl.info("Replaced SDP response for setting absolute capture time"),pl.debug("New SDP value: ",e),e},setDependencyDescriptor(e){const t="a=extmap:"+bl.getAvailableHeaderExtensionIdRange(e)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return e=e.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(e,n,r)=>n+t+r),pl.info("Replaced SDP response for setting depency descriptor"),pl.debug("New SDP value: ",e),e},setVideoBitrate(e,t){if(t<1)pl.info("Remove bitrate restrictions"),e=e.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{const n=ul.SDPInfo.parse(e),r=n.getMedia("video");pl.info("Setting video bitrate"),r.setBitrate(t),e=n.toString()}return e},removeSdpLine:(e,t)=>(pl.debug("SDP before trimming: ",e),e=e.split("\n").filter(e=>e.trim()!==t).join("\n"),pl.debug("SDP trimmed result: ",e),e),adaptCodecName(e,t,n){if(!e)return e;const r=new RegExp("".concat(t),"i");return e.replace(r,n)},setMultiopus(e,t){if(!(new fl).isFirefox()&&(!t||yl(t)))if(e.includes("multiopus/48000/6"))pl.info("Multiopus already setted");else{pl.info("Setting multiopus");const t=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(e)[0],n=bl.getAvailablePayloadTypeRange(e)[0],r=t.replace("\r\n"," ")+n+"\r\na=rtpmap:"+n+" multiopus/48000/6\r\na=fmtp:"+n+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";e=e.replace(t,r),pl.info("Multiopus offer created"),pl.debug("SDP parsed for multioups: ",e)}return e},getAvailablePayloadTypeRange(e){const t=e.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm);let n=ml.concat(hl);for(const r of t){const e=r[1].split(" ").map(e=>parseInt(e));n=n.filter(t=>!e.includes(t))}return n},getAvailableHeaderExtensionIdRange(e){const t=e.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm);let n=vl.concat(gl);for(const r of t){const e=r[1].split(" ").map(e=>parseInt(e));n=n.filter(t=>!e.includes(t))}return n},renegotiate(e,t){const n=ul.SDPInfo.parse(e),r=ul.SDPInfo.parse(t);for(const o of n.getMedias()){let e=r.getMediaById(o.getId());if(!e){e=new ul.MediaInfo(o.getId(),o.getType()),e.setDirection(ul.Direction.reverse(o.getDirection()));const t=r.getMedia(o.getType());if(t){e.setCodecs(t.getCodecs());for(const[n,r]of t.getExtensions())e.addExtension(n,r)}r.addMedia(e)}}return r.toString()},updateMissingVideoExtensions(e,t){var n;const r=ul.SDPInfo.parse(e),o=null===(n=ul.SDPInfo.parse(t).getMediasByType("video")[0])||void 0===n?void 0:n.getExtensions();if(o||o.length){for(const t of r.getMediasByType("video")){const n=t.getExtensions();o.forEach((r,o)=>{if(!n.get(o)){const n=t.getId(),i="a=extmap:"+o+" "+r+"\r\n",s=new RegExp("(a=mid:"+n+"\r\n(?:.*\r\n)*?)","g");e=e.replace(s,(e,t,n)=>t+i)}})}return e}}},yl=e=>e.getAudioTracks().some(e=>e.getSettings().channelCount>2),wl={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},Sl={OPUS:"opus",MULTIOPUS:"multiopus"};function Ol(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function El(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ol(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ol(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Cl=Rr.get("PeerConnection"),jl={track:"track",connectionStateChange:"connectionStateChange"},xl={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0};class kl extends ka{constructor(){super(),this.sessionDescription=null,this.peer=null,this.peerConnectionStats=null}async createRTCPeer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Cl.info("Creating new RTCPeerConnection"),Cl.debug("RTC configuration provided by user: ",e),this.peer=Pl(this,e)}getRTCPeer(){return Cl.info("Getting RTC Peer"),this.peer}async closeRTCPeer(){var e;Cl.info("Closing RTCPeerConnection"),null===(e=this.peer)||void 0===e||e.close(),this.peer=null,this.stopStats(),this.emit(jl.connectionStateChange,"closed")}async setRTCRemoteSDP(e){Cl.info("Setting RTC Remote SDP");const t={type:"answer",sdp:e};try{await this.peer.setRemoteDescription(t),Cl.info("RTC Remote SDP was set successfully."),Cl.debug("RTC Remote SDP new value: ",e)}catch(e){throw Cl.error("Error while setting RTC Remote SDP: ",e),e}}async getRTCLocalSDP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xl;Cl.info("Getting RTC Local SDP"),e=El(El({},xl),e),Cl.debug("Options: ",e);const t=Il(e.mediaStream);t?Al(this.peer,t,e):Rl(this.peer,e),Cl.info("Creating peer offer");const n=await this.peer.createOffer();return Cl.info("Peer offer created"),Cl.debug("Peer offer response: ",n.sdp),this.sessionDescription=n,e.disableAudio||(e.stereo&&(this.sessionDescription.sdp=bl.setStereo(this.sessionDescription.sdp)),e.dtx&&(this.sessionDescription.sdp=bl.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=bl.setMultiopus(this.sessionDescription.sdp,t)),!e.disableVideo&&e.simulcast&&(this.sessionDescription.sdp=bl.setSimulcast(this.sessionDescription.sdp,e.codec)),e.absCaptureTime&&(this.sessionDescription.sdp=bl.setAbsoluteCaptureTime(this.sessionDescription.sdp)),e.dependencyDescriptor&&(this.sessionDescription.sdp=bl.setDependencyDescriptor(this.sessionDescription.sdp)),e.setSDPToPeer&&(await this.peer.setLocalDescription(this.sessionDescription),Cl.info("Peer local description set")),this.sessionDescription.sdp}async addRemoteTrack(e,t){try{let n=this.peer.addTransceiver(e,{direction:"recvonly",streams:t});return n=await Nl(n,t),n}catch(e){throw Cl.error("Error while adding the remote track: ",e),e}}updateBandwidthRestriction(e,t){return Cl.info("Updating bandwidth restriction, bitrate value: ",t),Cl.debug("SDP value: ",e),bl.setVideoBitrate(e,t)}async updateBitrate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.peer)throw Cl.error("Cannot update bitrate. No peer found."),new Error("Cannot update bitrate. No peer found.");Cl.info("Updating bitrate to value: ",e),this.sessionDescription=await this.peer.createOffer(),await this.peer.setLocalDescription(this.sessionDescription);const t=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,e);await this.setRTCRemoteSDP(t),Cl.info("Bitrate restirctions updated: ","".concat(e>0?e:"unlimited"," kbps"))}getRTCPeerStatus(){if(Cl.info("Getting RTC peer status"),!this.peer)return null;const e=Ll(this.peer);return Cl.info("RTC peer status getted, value: ",e),e}replaceTrack(e){if(!this.peer)return void Cl.error("Could not change track if there is not an active connection.");const t=this.peer.getSenders().find(t=>t.track.kind===e.kind);t?t.replaceTrack(e):Cl.error("There is no ".concat(e.kind," track in active broadcast."))}static getCapabilities(e){const t=new fl;if(t.isFirefox())return(e=>"video"===e?{codecs:[{codec:"vp8",mimeType:"video/VP8"},{codec:"vp9",mimeType:"video/VP9"},{codec:"h264",mimeType:"video/H264"}],headerExtensions:[]}:"audio"===e?{codecs:[{codec:"opus",mimeType:"audio/opus",channels:2}],headerExtensions:[]}:null)(e);const n=RTCRtpSender.getCapabilities(e);if(n){const r={};let o=new RegExp("^video/(".concat(Object.values(wl).join("|"),")x?$"),"i");"audio"===e&&(o=new RegExp("^audio/(".concat(Object.values(Sl).join("|"),")$"),"i"),t.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(const e of n.codecs){const t=e.mimeType.match(o);if(t){const n=t[1].toLowerCase();if(r[n]=El(El({},r[n]),{},{mimeType:e.mimeType}),e.scalabilityModes){let t=r[n].scalabilityModes||[];t=[...t,...e.scalabilityModes],r[n].scalabilityModes=[...new Set(t)]}e.channels&&(r[n].channels=e.channels)}}n.codecs=Object.keys(r).map(e=>El({codec:e},r[e]))}return n}getTracks(){var e,t;return null===(e=this.peer)||void 0===e||null===(t=e.getSenders())||void 0===t?void 0:t.map(e=>e.track)}initStats(){this.peerConnectionStats?Cl.warn("Cannot init peer stats: Already initialized"):this.peer?(this.peerConnectionStats=new qa(this.peer),this.peerConnectionStats.init(),Da(this.peerConnectionStats,this,[Wa])):Cl.warn("Cannot init peer stats: RTCPeerConnection not initialized")}stopStats(){var e;null===(e=this.peerConnectionStats)||void 0===e||e.stop(),this.peerConnectionStats=null}}const Tl=e=>(null==e?void 0:e.getAudioTracks().length)<=1&&(null==e?void 0:e.getVideoTracks().length)<=1,Il=e=>{if(!e)return null;if(e instanceof MediaStream&&Tl(e))return e;if(!(e instanceof MediaStream)){Cl.info("Creating MediaStream to add received tracks.");const t=new MediaStream;for(const n of e)t.addTrack(n);if(Tl(t))return t}throw Cl.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new Error("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Pl=(e,t)=>{const n=new RTCPeerConnection(t);return Vl(e,n),n},Vl=(e,t)=>{t.ontrack=t=>{Cl.info("New track from peer."),Cl.debug("Track event value: ",t),e.emit(jl.track,t)},t.connectionState?t.onconnectionstatechange=n=>{Cl.info("Peer connection state change: ",t.connectionState),e.emit(jl.connectionStateChange,t.connectionState)}:t.oniceconnectionstatechange=n=>{Cl.info("Peer ICE connection state change: ",t.iceConnectionState),e.emit(jl.connectionStateChange,t.iceConnectionState)},t.onnegotiationneeded=async e=>{if(!t.remoteDescription)return;Cl.info("Peer onnegotiationneeded, updating local description");const n=await t.createOffer();Cl.info("Peer onnegotiationneeded, got local offer",n.sdp),n.sdp=bl.updateMissingVideoExtensions(n.sdp,t.remoteDescription.sdp),await t.setLocalDescription(n);const r=bl.renegotiate(n.sdp,t.remoteDescription.sdp);Cl.info("Peer onnegotiationneeded, updating remote description",r),await t.setRemoteDescription({type:"answer",sdp:r}),Cl.info("Peer onnegotiationneeded, renegotiation done")}},Al=(e,t,n)=>{Cl.info("Adding mediaStream tracks to RTCPeerConnection");for(const r of t.getTracks()){const o={streams:[t]};"audio"===r.kind&&(o.direction=n.disableAudio?"inactive":"sendonly"),"video"===r.kind&&(o.direction=n.disableVideo?"inactive":"sendonly",n.scalabilityMode&&(new fl).isChrome()?(Cl.debug("Video track with scalability mode: ".concat(n.scalabilityMode,".")),o.sendEncodings=[{scalabilityMode:n.scalabilityMode}]):n.scalabilityMode&&Cl.warn("SVC is only supported in Google Chrome")),e.addTransceiver(r,o),Cl.info("Track '".concat(r.label,"' added: "),"id: ".concat(r.id),"kind: ".concat(r.kind))}},Rl=(e,t)=>{const n=new fl;if(!t.disableVideo){const t=e.addTransceiver("video",{direction:"recvonly"});n.isOpera()&&t.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter(e=>"video/H264"!==e.mimeType||e.sdpFmtpLine.includes("profile-level-id=4")))}t.disableAudio||e.addTransceiver("audio",{direction:"recvonly"});for(let r=0;r<t.multiplexedAudioTracks;r++)e.addTransceiver("audio",{direction:"recvonly"})},Nl=async function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((r,o)=>{if(e.mid){for(const n of t)n.addTrack(e.receiver.track);r(e)}else n>=10?o(new Error("Error, maximum number of retries has been reached")):(n++,setTimeout(()=>{Nl(e,t,n).then(r).catch(o)},50))})},Ll=e=>{var t;const n=null!==(t=e.connectionState)&&void 0!==t?t:e.iceConnectionState;switch(n){case"checking":return"connecting";case"completed":return"connected";default:return n}};class _l extends ka{constructor(e,t){super(),this.namespace=e,this.tm=t}cmd(e,t){return this.tm.cmd(e,t,this.namespace)}event(e,t){return this.tm.event(e,t,this.namespace)}close(){return this.tm.namespaces.delete(this.namespace)}}var Ml=class extends ka{constructor(e){super(),this.maxId=0,this.namespaces=new Map,this.transactions=new Map,this.transport=e,this.listener=t=>{let n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(e){return}switch(n.type){case"cmd":const t={name:n.name,data:n.data,namespace:n.namespace,accept:t=>{e.send(JSON.stringify({type:"response",transId:n.transId,data:t}))},reject:t=>{e.send(JSON.stringify({type:"error",transId:n.transId,data:t}))}};if(t.namespace){const e=this.namespaces.get(t.namespace);e?e.emit("cmd",t):this.emit("cmd",t)}else this.emit("cmd",t);break;case"response":{const e=this.transactions.get(n.transId);if(!e)return;this.transactions.delete(n.transId),e.resolve(n.data);break}case"error":{const e=this.transactions.get(n.transId);if(!e)return;this.transactions.delete(n.transId),e.reject(n.data);break}case"event":const o={name:n.name,data:n.data,namespace:n.namespace};if(o.namespace){var r=this.namespaces.get(o.namespace);r?r.emit("event",o):this.emit("event",o)}else this.emit("event",o)}},this.transport.addListener?this.transport.addListener("message",this.listener):this.transport.addEventListener("message",this.listener)}cmd(e,t,n){return new Promise((r,o)=>{if(!e||0===e.length)throw new Error("Bad command name");const i={type:"cmd",transId:this.maxId++,name:e,data:t};n&&(i.namespace=n);const s=JSON.stringify(i);i.resolve=r,i.reject=o,this.transactions.set(i.transId,i);try{this.transport.send(s)}catch(e){throw this.transactions.delete(i.transId),e}})}event(e,t,n){if(!e||0===e.length)throw new Error("Bad event name");const r={type:"event",name:e,data:t};n&&(r.namespace=n);const o=JSON.stringify(r);this.transport.send(o)}namespace(e){let t=this.namespaces.get(e);return t||(t=new _l(e,this),this.namespaces.set(e,t),t)}close(){for(const e of this.namespaces.values())e.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)}};const Bl=Rr.get("Signaling"),Dl="wsConnectionSuccess",Fl="wsConnectionError",Ul="wsConnectionClose",zl="broadcastEvent";class Gl extends ka{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{streamName:null,url:"ws://localhost:8080/"};super(),this.streamName=e.streamName,this.wsUrl=e.url,this.webSocket=null,this.transactionManager=null,this.serverId=null,this.clusterId=null}async connect(){var e;return Bl.info("Connecting to Signaling Server"),this.transactionManager&&(null===(e=this.webSocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN?(Bl.info("Connected to server: ",this.webSocket.url),Bl.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Dl,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new Promise((e,t)=>{this.webSocket=new WebSocket(this.wsUrl),this.transactionManager=new Ml(this.webSocket),this.webSocket.onopen=()=>{Bl.info("WebSocket opened"),this.transactionManager.on("event",e=>{this.emit(zl,e)}),Bl.info("Connected to server: ",this.webSocket.url),Bl.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Dl,{ws:this.webSocket,tm:this.transactionManager}),e(this.webSocket)},this.webSocket.onerror=()=>{Bl.error("WebSocket not connected: ",this.webSocket.url),this.emit(Fl,this.webSocket.url),t(this.webSocket.url)},this.webSocket.onclose=()=>{this.webSocket=null,this.transactionManager=null,Bl.info("Connection closed with Signaling Server."),this.emit(Ul)}})}close(){var e;Bl.info("Closing connection with Signaling Server."),null===(e=this.webSocket)||void 0===e||e.close()}async subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Bl.info("Starting subscription to streamName: ",this.streamName),Bl.debug("Subcription local description: ",e);const o=$l(t,n,r),i={sdp:e=bl.adaptCodecName(e,"AV1X",wl.AV1),streamId:this.streamName,pinnedSourceId:o.pinnedSourceId,excludedSourceIds:o.excludedSourceIds};o.vad&&(i.vad=!0),Array.isArray(o.events)&&(i.events=o.events),o.forcePlayoutDelay&&(i.forcePlayoutDelay=o.forcePlayoutDelay);try{var s,a,c,u,l;await this.connect(),Bl.info("Sending view command");const e=await this.transactionManager.cmd("view",i),t=null===(s=(a=RTCRtpReceiver).getCapabilities)||void 0===s||null===(c=s.call(a,"video"))||void 0===c||null===(u=c.codecs)||void 0===u||null===(l=u.find)||void 0===l?void 0:l.call(u,e=>"video/AV1X"===e.mimeType);return e.sdp=t?bl.adaptCodecName(e.sdp,wl.AV1,"AV1X"):e.sdp,Bl.info("Command sent, subscriberId: ",e.subscriberId),Bl.debug("Command result: ",e),this.serverId=e.subscriberId,this.clusterId=e.clusterId,e.sdp}catch(e){throw Bl.error("Error sending view command, error: ",e),e}}async publish(e,t){var n,r,o,i;const s=Hl(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);Bl.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(s.codec)),Bl.debug("Publishing local description: ",e);const a=null!==(n=null===(r=kl.getCapabilities)||void 0===r||null===(o=r.call(kl,"video"))||void 0===o||null===(i=o.codecs)||void 0===i?void 0:i.map(e=>e.codec))&&void 0!==n?n:[],c=Object.values(wl);if(-1===c.indexOf(s.codec))throw Bl.error("Invalid codec ".concat(s.codec,". Possible values are: "),c),new Error("Invalid codec ".concat(s.codec,". Possible values are: ").concat(c));if(a.length>0&&-1===a.indexOf(s.codec))throw Bl.error("Unsupported codec ".concat(s.codec,". Possible values are: "),a),new Error("Unsupported codec ".concat(s.codec,". Possible values are: ").concat(a));s.codec===wl.AV1&&(e=bl.adaptCodecName(e,"AV1X",wl.AV1));const u={name:this.streamName,sdp:e,codec:s.codec,sourceId:s.sourceId};if(s.priority){if(!(Number.isInteger(s.priority)&&s.priority>=-2147483648&&s.priority<=2147483647))throw new Error("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");u.priority=s.priority}null!==s.record&&(u.record=s.record),Array.isArray(s.events)&&(u.events=s.events);try{await this.connect(),Bl.info("Sending publish command");const e=await this.transactionManager.cmd("publish",u);if(s.codec===wl.AV1){var l,d,f,p,h;const t=null===(l=(d=RTCRtpSender).getCapabilities)||void 0===l||null===(f=l.call(d,"video"))||void 0===f||null===(p=f.codecs)||void 0===p||null===(h=p.find)||void 0===h?void 0:h.call(p,e=>"video/AV1X"===e.mimeType);e.sdp=t?bl.adaptCodecName(e.sdp,wl.AV1,"AV1X"):e.sdp}return Bl.info("Command sent, publisherId: ",e.publisherId),Bl.debug("Command result: ",e),this.serverId=e.publisherId,this.clusterId=e.clusterId,e.sdp}catch(e){throw Bl.error("Error sending publish command, error: ",e),e}}async cmd(e,t){return Bl.info("Sending cmd: ".concat(e)),this.transactionManager.cmd(e,t)}}const $l=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={vad:e,pinnedSourceId:t,excludedSourceIds:n}),r},Hl=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={codec:null!=e?e:wl.H264,record:t,sourceId:n}),r};class Wl extends Error{constructor(e,t){super(e),this.name="FetchError",this.status=t}}function ql(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ql(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ql(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Xl=Rr.get("Director"),Yl="WebRtc";let Jl="",Kl="https://director.millicast.com";const Zl={setEndpoint:e=>{Kl=e.replace(/\/$/,"")},getEndpoint:()=>Kl,setLiveDomain:e=>{Jl=e.replace(/\/$/,"")},getLiveDomain:()=>Jl,getPublisher:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yl;const r=ed(e,t,n);Xl.info("Getting publisher connection path for stream name: ",r.streamName);const o={streamName:r.streamName,streamType:r.streamType},i={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(Zl.getEndpoint(),"/api/director/publish");try{const e=await fetch(s,{method:"POST",headers:i,body:JSON.stringify(o)});let t=await e.json();if("fail"===t.status)throw new Wl(t.data.message,e.status);return t=nd(t),Xl.debug("Getting publisher response: ",t),t.data}catch(e){throw Xl.error("Error while getting publisher connection path. ",e),e}},getSubscriber:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const r=td(e,t,n);Xl.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId));const o={streamAccountId:r.streamAccountId,streamName:r.streamName};let i={"Content-Type":"application/json"};r.subscriberToken&&(i=Ql(Ql({},i),{},{Authorization:"Bearer ".concat(r.subscriberToken)}));const s="".concat(Zl.getEndpoint(),"/api/director/subscribe");try{const e=await fetch(s,{method:"POST",headers:i,body:JSON.stringify(o)});let t=await e.json();if("fail"===t.status)throw new Wl(t.data.message,e.status);return t=nd(t),Xl.debug("Getting subscriber response: ",t),t.data}catch(e){throw Xl.error("Error while getting subscriber connection path. ",e),e}}},ed=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={token:e,streamName:t,streamType:n}),r},td=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={streamName:e,streamAccountId:t,subscriberToken:n}),r},nd=e=>{if(Zl.getLiveDomain()){const t=/\/\/(.*?)\//,n=e.data.urls.map(e=>{const n=t.exec(e);return e.replace(n[1],Zl.getLiveDomain())});e.data.urls=n}return e};function rd(e){this.message=e}rd.prototype=new Error,rd.prototype.name="InvalidCharacterError";var od="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new rd("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,s="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function id(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(od(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return od(t)}}function sd(e){this.message=e}sd.prototype=new Error,sd.prototype.name="InvalidTokenError";var ad=a((function(e,t){!function(n){if(null!=t&&"number"!=typeof t.nodeType)e.exports=n();else{var r=n(),o="undefined"!=typeof self?self:$.global;"function"!=typeof o.btoa&&(o.btoa=r.btoa),"function"!=typeof o.atob&&(o.atob=r.atob)}}((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,o,i=String(n),s=0,a=e,c="";i.charAt(0|s)||(a="=",s%1);c+=a.charAt(63&r>>8-s%1*8)){if((o=i.charCodeAt(s+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return c},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,c="";i=r.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?c+=String.fromCharCode(255&o>>(-2*s&6)):0)i=e.indexOf(i);return c}}}))}));let cd;class ud extends ka{constructor(e,t,n,r){if(super(),cd=n,!e)throw cd.error("Stream Name is required to construct this module."),new Error("Stream Name is required to construct this module.");if(!t)throw cd.error("Token generator is required to construct this module."),new Error("Token generator is required to construct this module.");this.webRTCPeer=new kl,this.signaling=null,this.streamName=e,this.autoReconnect=r,this.reconnectionInterval=1e3,this.alreadyDisconnected=!1,this.firstReconnection=!0,this.stopReconnection=!1,this.isReconnecting=!1,this.tokenGenerator=t,this.options=null}getRTCPeerConnection(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null}stop(){var e;cd.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null===(e=this.signaling)||void 0===e||e.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new kl}isActive(){const e=this.webRTCPeer.getRTCPeerStatus();return cd.info("Broadcast status: ",e||"not_established"),"connected"===e}setReconnect(){this.signaling.on("migrate",()=>this.replaceConnection()),this.autoReconnect&&(this.signaling.on(Fl,()=>{!this.firstReconnection&&this.alreadyDisconnected||(this.firstReconnection=!1,this.reconnect({error:new Error("Signaling error: wsConnectionError")}))}),this.webRTCPeer.on(jl.connectionStateChange,e=>{("failed"===e||"disconnected"===e&&this.alreadyDisconnected)&&this.firstReconnection?(this.firstReconnection=!1,this.reconnect({error:new Error("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===e?(this.alreadyDisconnected=!0,setTimeout(()=>this.reconnect({error:new Error("Connection state change: RTCPeerConnectionState disconnected")}),1500)):this.alreadyDisconnected=!1}))}async reconnect(e){try{cd.info("Attempting to reconnect..."),this.isActive()||this.stopReconnection||this.isReconnecting||(this.stop(),this.emit("reconnect",{timeout:ld(this.reconnectionInterval),error:null!=e&&e.error?null==e?void 0:e.error:new Error("Attempting to reconnect")}),this.isReconnecting=!0,await this.connect(this.options),this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0,this.isReconnecting=!1)}catch(e){this.isReconnecting=!1,this.reconnectionInterval=ld(this.reconnectionInterval),cd.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),e),setTimeout(()=>this.reconnect({error:e}),this.reconnectionInterval)}}}const ld=e=>e<32e3?2*e:e;function dd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dd(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const pd=Rr.get("Publish"),hd={mediaStream:null,bandwidth:0,disableVideo:!1,disableAudio:!1,codec:wl.H264,simulcast:!1,scalabilityMode:null,peerConfig:{}};function md(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?md(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):md(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const gd=Rr.get("View"),bd={disableVideo:!1,disableAudio:!1,peerConfig:{}};t.Director=Zl,t.Logger=Rr,t.PeerConnection=kl,t.Publish=class extends ud{constructor(e,t){super(e,t,pd,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hd;this.options=fd(fd(fd({},hd),e),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async reconnect(e){var t,n;this.options.mediaStream=null!==(t=null===(n=this.webRTCPeer)||void 0===n?void 0:n.getTracks())&&void 0!==t?t:this.options.mediaStream,super.reconnect(e)}async replaceConnection(){var e,t;pd.info("Migrating current connection"),this.options.mediaStream=null!==(e=null===(t=this.webRTCPeer)||void 0===t?void 0:t.getTracks())&&void 0!==e?e:this.options.mediaStream,await this.initConnection({migrate:!0})}async record(){var e;this.recordingAvailable?(this.options.record=!0,await(null===(e=this.signaling)||void 0===e?void 0:e.cmd("record")),pd.info("Broadcaster start recording")):pd.error("Record not available")}async unrecord(){var e;this.recordingAvailable?(this.options.record=!1,await(null===(e=this.signaling)||void 0===e?void 0:e.cmd("unrecord")),pd.info("Broadcaster stop recording")):pd.error("Unrecord not available")}async initConnection(e){var t,n;let r,o;if(pd.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,!this.options.mediaStream)throw pd.error("Error while broadcasting. MediaStream required"),new Error("MediaStream required");if(!e.migrate&&this.isActive())throw pd.warn("Broadcast currently working"),new Error("Broadcast currently working");try{var i;o=await this.tokenGenerator(),this.options.peerConfig.iceServers=null===(i=o)||void 0===i?void 0:i.iceServers}catch(e){throw pd.error("Error generating token."),e instanceof Wl&&(401!==e.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),e}if(!o)throw pd.error("Error while broadcasting. Publisher data required"),new Error("Publisher data required");if(this.recordingAvailable=function(e,t){if("string"!=typeof e)throw new sd("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(id(e.split(".")[n]))}catch(e){throw new sd("Invalid token specified: "+e.message)}}(o.jwt)[ad.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw pd.error("Error while broadcasting. Record option detected but recording is not available"),new Error("Record option detected but recording is not available");const s=new Gl({streamName:this.streamName,url:"".concat(o.urls[0],"?token=").concat(o.jwt)}),a=e.migrate?new kl:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null===(t=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===t||t.call(this),null===(n=this.stopReemitingSignalingInstanceEvents)||void 0===n||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Da(a,this,[jl.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=Da(s,this,[zl]);const c=a.getRTCLocalSDP(this.options),u=s.connect();r=await Promise.all([c,u]);const l=r[0];let d=this.signaling;this.signaling=s;const f=this.signaling.publish(l,this.options),p=a.peer.setLocalDescription(a.sessionDescription);r=await Promise.all([f,p]);let h=r[0];!this.options.disableVideo&&this.options.bandwidth>0&&(h=a.updateBandwidthRestriction(h,this.options.bandwidth)),await a.setRTCRemoteSDP(h),pd.info("Broadcasting to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(jl.connectionStateChange,e=>{var t,n,r,o;["connected","disconnected","failed","closed"].includes(e)&&(null===(t=d)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===(r=m)||void 0===r||null===(o=r.closeRTCPeer)||void 0===o||o.call(r),d=m=null)})}},t.Signaling=Gl,t.View=class extends ud{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,gd,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),n&&this.on(jl.track,e=>{n.srcObject=e.streams[0]})}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bd;this.options=vd(vd(vd({},bd),e),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async select(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};gd.debug("Viewer select layer values: ",e),await this.signaling.cmd("select",{layer:e}),gd.info("Connected to streamName: ",this.streamName)}async addRemoteTrack(e,t){return gd.info("Viewer adding remote % track",e),this.webRTCPeer.addRemoteTrack(e,t)}async project(e,t){for(const n of t){if(!n.trackId&&!n.media)throw gd.error("Error in projection mapping, trackId or mediaId must be set"),new Error("Error in projection mapping, trackId or mediaId must be set");const e=this.webRTCPeer.getRTCPeer();if(n.mediaId&&!e.getTransceivers().find(e=>e.mid===n.mediaId.toString()))throw gd.error("Error in projection mapping, ".concat(n.mediaId," mid not found in local transceivers")),new Error("Error in projection mapping, ".concat(n.mediaId," mid not found in local transceivers"))}gd.debug("Viewer project source: layer mappings: ",e,t),await this.signaling.cmd("project",{sourceId:e,mapping:t}),gd.info("Projection done")}async unproject(e){gd.debug("Viewer unproject mediaIds: ",e),await this.signaling.cmd("unproject",{mediaIds:e}),gd.info("Unprojection done")}async replaceConnection(){gd.info("Migrating current connection"),await this.initConnection({migrate:!0})}async initConnection(e){var t,n;let r,o;if(gd.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,!e.migrate&&this.isActive())throw gd.warn("Viewer currently subscribed"),new Error("Viewer currently subscribed");try{var i;o=await this.tokenGenerator(),this.options.peerConfig.iceServers=null===(i=o)||void 0===i?void 0:i.iceServers}catch(e){throw gd.error("Error generating token."),e instanceof Wl&&(401!==e.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),e}if(!o)throw gd.error("Error while subscribing. Subscriber data required"),new Error("Subscriber data required");const s=new Gl({streamName:this.streamName,url:"".concat(o.urls[0],"?token=").concat(o.jwt)}),a=e.migrate?new kl:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null===(t=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===t||t.call(this),null===(n=this.stopReemitingSignalingInstanceEvents)||void 0===n||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Da(a,this,Object.values(jl)),this.stopReemitingSignalingInstanceEvents=Da(s,this,[zl]);const c=a.getRTCLocalSDP(vd(vd({},this.options),{},{stereo:!0})),u=s.connect();r=await Promise.all([c,u]);const l=r[0];let d=this.signaling;this.signaling=s;const f=this.signaling.subscribe(l,vd(vd({},this.options),{},{vad:this.options.multiplexedAudioTracks>0})),p=a.peer.setLocalDescription(a.sessionDescription);r=await Promise.all([f,p]);const h=r[0];await a.setRTCRemoteSDP(h),gd.info("Connected to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(jl.connectionStateChange,e=>{if("connected"===e)setTimeout(()=>{var e,t,n,r;null===(e=d)||void 0===e||null===(t=e.close)||void 0===t||t.call(e),null===(n=m)||void 0===n||null===(r=n.closeRTCPeer)||void 0===r||r.call(n),d=m=null,gd.info("Current connection migrated")},1e3);else if(["disconnected","failed","closed"].includes(e)){var t,n,r,o;null===(t=d)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===(r=m)||void 0===r||null===(o=r.closeRTCPeer)||void 0===o||o.call(r),d=m=null}})}},Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,n("c8ba"),n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),s=n("e330"),a=n("1a2d"),c=n("1626"),u=n("3a9b"),l=n("577e"),d=n("edd0"),f=n("e893"),p=i.Symbol,h=p&&p.prototype;if(o&&c(p)&&(!("description"in h)||void 0!==p().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};f(v,p),v.prototype=h,h.constructor=v;var g="Symbol(description detection)"===String(p("description detection")),b=s(h.valueOf),y=s(h.toString),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),O=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=b(this);if(a(m,e))return"";var t=y(e),n=g?O(t,7,-1):S(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},e065:function(e,t,n){"use strict";var r=n("428f"),o=n("1a2d"),i=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||s(t,e,{value:i.f(e)})}},e163:function(e,t,n){"use strict";var r=n("1a2d"),o=n("1626"),i=n("7b0b"),s=n("f772"),a=n("e177"),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},e177:function(e,t,n){"use strict";var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e25e:function(e,t,n){"use strict";var r=n("23e7"),o=n("c20d");r({global:!0,forced:parseInt!==o},{parseInt:o})},e260:function(e,t,n){"use strict";var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),s=n("69f3"),a=n("9bf2").f,c=n("c6d2"),u=n("4754"),l=n("c430"),d=n("83ab"),f="Array Iterator",p=s.set,h=s.getterFor(f);e.exports=c(Array,"Array",(function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,u(void 0,!0);switch(e.kind){case"keys":return u(n,!1);case"values":return u(t[n],!1)}return u([n,t[n]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(v){}},e267:function(e,t,n){"use strict";var r=n("e330"),o=n("e8b5"),i=n("1626"),s=n("c6b6"),a=n("577e"),c=r([].push);e.exports=function(e){if(i(e))return e;if(o(e)){for(var t=e.length,n=[],r=0;r<t;r++){var u=e[r];"string"==typeof u?c(n,u):"number"!=typeof u&&"Number"!==s(u)&&"String"!==s(u)||c(n,a(u))}var l=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(o(this))return t;for(var r=0;r<l;r++)if(n[r]===e)return t}}}},e330:function(e,t,n){"use strict";var r=n("40d5"),o=Function.prototype,i=o.call,s=r&&o.bind.bind(i,i);e.exports=r?s:function(e){return function(){return i.apply(e,arguments)}}},e391:function(e,t,n){"use strict";var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e444:function(e,t,n){},e4ca:function(e,t,n){},e538:function(e,t,n){"use strict";var r=n("b622");t.f=r},e5cb:function(e,t,n){"use strict";var r=n("d066"),o=n("1a2d"),i=n("9112"),s=n("3a9b"),a=n("d2bb"),c=n("e893"),u=n("aeb0"),l=n("7156"),d=n("e391"),f=n("ab36"),p=n("6f19"),h=n("83ab"),m=n("c430");e.exports=function(e,t,n,v){var g="stackTraceLimit",b=v?2:1,y=e.split("."),w=y[y.length-1],S=r.apply(null,y);if(S){var O=S.prototype;if(!m&&o(O,"cause")&&delete O.cause,!n)return S;var E=r("Error"),C=t((function(e,t){var n=d(v?t:e,void 0),r=v?new S(e):new S;return void 0!==n&&i(r,"message",n),p(r,C,r.stack,2),this&&s(O,this)&&l(r,this,C),arguments.length>b&&f(r,arguments[b]),r}));if(C.prototype=O,"Error"!==w?a?a(C,E):c(C,E,{name:!0}):h&&g in S&&(u(C,S,g),u(C,S,"prepareStackTrace")),c(C,S),!m)try{O.name!==w&&i(O,"name",w),O.constructor=C}catch(j){}return C}}},e667:function(e,t,n){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";n("5e7e"),n("14e5"),n("cc98"),n("3529"),n("f22b"),n("7149")},e893:function(e,t,n){"use strict";var r=n("1a2d"),o=n("56ef"),i=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=o(t),c=s.f,u=i.f,l=0;l<a.length;l++){var d=a[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},e8b5:function(e,t,n){"use strict";var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"===r(e)}},e95a:function(e,t,n){"use strict";var r=n("b622"),o=n("3f8c"),i=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},e9c4:function(e,t,n){"use strict";var r=n("23e7"),o=n("d066"),i=n("2ba4"),s=n("c65b"),a=n("e330"),c=n("d039"),u=n("1626"),l=n("d9b5"),d=n("f36a"),f=n("e267"),p=n("04f8"),h=String,m=o("JSON","stringify"),v=a(/./.exec),g=a("".charAt),b=a("".charCodeAt),y=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,E=/^[\uDC00-\uDFFF]$/,C=!p||c((function(){var e=o("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),j=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),x=function(e,t){var n=d(arguments),r=f(t);if(u(r)||void 0!==e&&!l(e))return n[1]=function(e,t){if(u(r)&&(t=s(r,this,h(e),t)),!l(t))return t},i(m,null,n)},k=function(e,t,n){var r=g(n,t-1),o=g(n,t+1);return v(O,e)&&!v(E,o)||v(E,e)&&!v(O,r)?"\\u"+w(b(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:C||j},{stringify:function(e,t,n){var r=d(arguments),o=i(C?x:m,null,r);return j&&"string"==typeof o?y(o,S,k):o}})},eb1d:function(e,t,n){"use strict";var r=n("c430"),o=n("da84"),i=n("d039"),s=n("512c");e.exports=r||!i((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}}))},edd0:function(e,t,n){"use strict";var r=n("13d2"),o=n("9bf2");e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),o.f(e,t,n)}},efec:function(e,t,n){"use strict";var r=n("1a2d"),o=n("cb2d"),i=n("51eb"),s=n("b622"),a=s("toPrimitive"),c=Date.prototype;r(c,a)||o(c,a,i)},f069:function(e,t,n){"use strict";var r=n("59ed"),o=TypeError,i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new o("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f22b:function(e,t,n){"use strict";var r=n("23e7"),o=n("f069"),i=n("4738").CONSTRUCTOR;r({target:"Promise",stat:!0,forced:i},{reject:function(e){var t=o.f(this),n=t.reject;return n(e),t.promise}})},f36a:function(e,t,n){"use strict";var r=n("e330");e.exports=r([].slice)},f45e:function(e,t,n){},f5b2:function(e,t,n){"use strict";var r=n("23e7"),o=n("6547").codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return o(this,e)}})},f5df:function(e,t,n){"use strict";var r=n("00ee"),o=n("1626"),i=n("c6b6"),s=n("b622"),a=s("toStringTag"),c=Object,u="Arguments"===i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=c(e),a))?n:u?i(t):"Object"===(r=i(t))&&o(t.callee)?"Arguments":r}},f772:function(e,t,n){"use strict";var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("4de4"),n("d3b7");var i=n("8bbf");function s(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerContainer");return Object(i["openBlock"])(),Object(i["createBlock"])(a,{class:"ml-viewer",id:"viewer-container"})}n("a4d3"),n("e01a"),n("b636"),n("d28b"),n("944a"),n("d9e2"),n("d401"),n("4160"),n("e260"),n("14d9"),n("26e9"),n("fb6a"),n("0c47"),n("23dc"),n("3410"),n("131a"),n("e6cf"),n("3ca3"),n("159b"),n("ddb0");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new A(r||[]);return o(s,"_invoke",{value:T(e,n,a)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",v="executing",g="completed",b={};function y(){}function w(){}function S(){}var O={};d(O,s,(function(){return this}));var E=Object.getPrototypeOf,C=E&&E(E(R([])));C&&C!==n&&r.call(C,s)&&(O=C);var j=S.prototype=y.prototype=Object.create(O);function x(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function k(e,t){function n(o,i,s,c){var u=p(e[o],e,i);if("throw"!==u.type){var l=u.arg,d=l.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,c)}))}c(u.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function T(t,n,r){var o=h;return function(i,s){if(o===v)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=I(a,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=v;var u=p(t,n,r);if("normal"===u.type){if(o=r.done?g:m,u.arg===b)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(o=g,r.method="throw",r.arg=u.arg)}}}function I(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,I(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function V(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function R(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=S,o(j,"constructor",{value:S,configurable:!0}),o(S,"constructor",{value:w,configurable:!0}),w.displayName=d(S,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,d(e,l,"GeneratorFunction")),e.prototype=Object.create(j),e},t.awrap=function(e){return{__await:e}},x(k.prototype),d(k.prototype,u,(function(){return this})),t.AsyncIterator=k,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new k(f(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},x(j),d(j,l,"Generator"),d(j,s,(function(){return this})),d(j,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=R,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(V),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),u=r.call(s,"finallyLoc");if(c&&u){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,b):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),V(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;V(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:R(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function u(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){u(i,r,o,s,a,"next",e)}function a(e){u(i,r,o,s,a,"throw",e)}s(void 0)}))}}n("cca6");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var f=function(e){return Object(i["pushScopeId"])("data-v-4d523a16"),e=e(),Object(i["popScopeId"])(),e},p={key:0,class:"overlay spinner-container"},h=f((function(){return Object(i["createElementVNode"])("div",{class:"spinner-border text-light",role:"status"},[Object(i["createElementVNode"])("span",{class:"sr-only"},"Loading...")],-1)})),m=[h],v=f((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",{class:"d-flex justify-content-center"},[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-volume-mute-fill pb-0"})]),Object(i["createElementVNode"])("p",{class:"text-center tap-text"},"Tap to unmute")],-1)})),g=[v],b=["id"],y={key:0,id:"controls",class:"controls"},w={class:"row"},S={class:"col-6 text-left"},O={class:"col-6 text-right"},E={key:1,class:"overlay d-flex flex-row justify-content-center align-items-center"},C={class:"d-flex flex-column ml-3"},j=f((function(){return Object(i["createElementVNode"])("h3",null,"Casting to",-1)})),x={class:"font-weight-bold"};function k(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerMedia"),c=Object(i["resolveComponent"])("VideoPlayerControlsUserCount"),u=Object(i["resolveComponent"])("VideoPlayerControlsBadge"),l=Object(i["resolveComponent"])("VideoPlayerControlsContainer"),d=Object(i["resolveComponent"])("VideoPlayerSideVideoSources");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:"container-fluid align-container",onMousemove:t[4]||(t[4]=function(){return s.showControls&&s.showControls.apply(s,arguments)})},[e.isLoading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",p,m)):Object(i["createCommentVNode"])("",!0),e.autoPlayMuted&&e.isLive?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,onClick:t[0]||(t[0]=function(){return s.tapUnmute&&s.tapUnmute.apply(s,arguments)}),class:"overlay tap-unmute d-flex align-items-center justify-content-center"},g)):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["mx-0",e.videoSources.length>1&&e.isGrid&&e.isSplittedView?"grid-container":"list-container"]),id:e.videoSources.length>1&&!e.isGrid&&e.isSplittedView?"lcontainer":""},[Object(i["createElementVNode"])("div",{id:"vplayer",ref:"player",class:Object(i["normalizeClass"])(["player",{show:o.show,"limit-screen":e.videoSources.length>1&&e.isSplittedView&&!e.isGrid,"grid-player":e.videoSources.length>1&&e.isSplittedView&&e.isGrid}]),style:Object(i["normalizeStyle"])({cursor:e.isGrid?"pointer":""}),onDblclick:t[2]||(t[2]=function(){return e.toggleFullscreen&&e.toggleFullscreen.apply(e,arguments)})},[Object(i["createElementVNode"])("div",{id:"main-source",onClick:t[1]||(t[1]=function(){return s.handleWholeScreen&&s.handleWholeScreen.apply(s,arguments)}),style:Object(i["normalizeStyle"])({height:e.isSplittedView?"":"100%"})},[Object(i["createVNode"])(a,{ref:"element"},null,512)],4),e.viewer.controls?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",y,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["gradient-top controls-top container-fluid pt-3",{hide:!o.show}])},[Object(i["createElementVNode"])("div",w,[Object(i["createElementVNode"])("div",S,[s.showButton("userCount")?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",O,[s.showButton("liveBadge")?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0})):Object(i["createCommentVNode"])("",!0)])])],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([{hide:!o.show},"gradient-bottom controls-bottom container-fluid pb-3"])},[Object(i["createVNode"])(l,{isConnected:o.cast.isConnected,showButton:s.showButton,currentTime:s.currentTime,streamId:e.viewer.streamId},null,8,["isConnected","showButton","currentTime","streamId"])],2)])):Object(i["createCommentVNode"])("",!0),o.cast.device?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",E,[Object(i["createElementVNode"])("div",C,[j,Object(i["createElementVNode"])("h1",x,Object(i["toDisplayString"])(o.cast.device.friendlyName),1)])])):Object(i["createCommentVNode"])("",!0)],38),e.videoSources.length>1&&e.isSplittedView?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])(e.isGrid?"":"side-panel overflow-auto sc1"),style:Object(i["normalizeStyle"])(e.isGrid?"display: contents":"scroll-snap-type: y mandatory"),onMousemove:t[3]||(t[3]=function(){return s.showControls&&s.showControls.apply(s,arguments)})},[Object(i["createVNode"])(d,{class:Object(i["normalizeClass"])(e.isGrid?"side-sources":"")},null,8,["class"])],38)):Object(i["createCommentVNode"])("",!0)],10,b)],32)}n("caad"),n("2532");var T=["poster"],I=["poster"],P={key:2};function V(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[e.isMigrating||"player"===e.currentElementRef?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[s.displayAudioOnly?(Object(i["openBlock"])(),Object(i["createElementBlock"])("audio",{key:0,playsinline:"",id:"player",ref:"player",class:Object(i["normalizeClass"])({"display: none;":"player2"===e.currentElementRef})},null,2)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("video",{key:1,playsinline:"",id:"player",ref:"player",poster:e.viewer.placeholderImg,class:Object(i["normalizeClass"])({"display: none;":"player2"===e.currentElementRef}),style:Object(i["normalizeStyle"])(e.isSplittedView?"border-radius: 0.25rem":"border-radius: 0")},null,14,T))],64)):Object(i["createCommentVNode"])("",!0),e.isMigrating||"player2"===e.currentElementRef?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[s.displayAudioOnly?(Object(i["openBlock"])(),Object(i["createElementBlock"])("audio",{key:0,playsinline:"",id:"player2",ref:"player2",class:Object(i["normalizeClass"])({"display: none;":"player"===e.currentElementRef})},null,2)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("video",{key:1,playsinline:"",id:"player2",ref:"player2",poster:e.viewer.placeholderImg,class:Object(i["normalizeClass"])({"display: none;":"player"===e.currentElementRef}),style:Object(i["normalizeStyle"])(e.isSplittedView?"border-radius: 0.25rem":"border-radius: 0")},null,14,I))],64)):Object(i["createCommentVNode"])("",!0),e.videoSources.length>1&&e.isSplittedView&&!e.fullscreen&&e.viewer.showLabels?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",P,Object(i["toDisplayString"])(this.mainLabel),1)):Object(i["createCommentVNode"])("",!0)],64)}n("7db0"),n("c975"),n("e25e"),n("ac1f"),n("00b4");var A=n("e014"),R=(n("466d"),n("abc5"));const N="devtools-plugin:setup",L="plugin:settings:set";var _=n("5134");class M{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const s in e.settings){const t=e.settings[s];n[s]=t.defaultValue}const r="__vue-devtools-plugin-settings__"+e.id;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(i){}this.fallbacks={getSettings(){return o},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(i){}o=e},now(){return Object(_["a"])()}},t&&t.on(L,(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(n=>{this.targetQueue.push({method:t,args:e,resolve:n})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function B(e,t){const n=e,r=Object(R["b"])(),o=Object(R["a"])(),i=R["c"]&&n.enableEarlyProxy;if(!o||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const e=i?new M(n,o):null,s=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(N,e,t)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var D="store";function F(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function U(e){return null!==e&&"object"===typeof e}function z(e){return e&&"function"===typeof e.then}function G(e,t){if(!e)throw new Error("[vuex] "+t)}function $(e,t){return function(){return e(t)}}function H(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function W(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Q(e,n,[],e._modules.root,!0),q(e,n,t)}function q(e,t,n){var r=e._state,o=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},c={},u=Object(i["effectScope"])(!0);u.run((function(){F(s,(function(t,n){a[n]=$(t,e),c[n]=Object(i["computed"])((function(){return a[n]()})),Object.defineProperty(e.getters,n,{get:function(){return c[n].value},enumerable:!0})}))})),e._state=Object(i["reactive"])({data:t}),e._scope=u,e.strict&&ee(e),r&&n&&e._withCommit((function(){r.data=null})),o&&o.stop()}function Q(e,t,n,r,o){var i=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[s]=r),!i&&!o){var a=te(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){c in a&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"'),a[c]=r.state}))}var u=r.context=X(e,s,n);r.forEachMutation((function(t,n){var r=s+n;J(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,o=t.handler||t;K(e,r,o,u)})),r.forEachGetter((function(t,n){var r=s+n;Z(e,r,t,u)})),r.forEachChild((function(r,i){Q(e,t,n.concat(i),r,o)}))}function X(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=ne(n,r,o),s=i.payload,a=i.options,c=i.type;if(a&&a.root||(c=t+c,e._actions[c]))return e.dispatch(c,s);console.error("[vuex] unknown local action type: "+i.type+", global type: "+c)},commit:r?e.commit:function(n,r,o){var i=ne(n,r,o),s=i.payload,a=i.options,c=i.type;a&&a.root||(c=t+c,e._mutations[c])?e.commit(c,s,a):console.error("[vuex] unknown local mutation type: "+i.type+", global type: "+c)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return Y(e,t)}},state:{get:function(){return te(e.state,n)}}}),o}function Y(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function J(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function K(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return z(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function Z(e,t,n,r){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}function ee(e){Object(i["watch"])((function(){return e._state.data}),(function(){G(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function te(e,t){return t.reduce((function(e,t){return e[t]}),e)}function ne(e,t,n){return U(e)&&e.type&&(n=t,t=e,e=e.type),G("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var re="vuex bindings",oe="vuex:mutations",ie="vuex:actions",se="vuex",ae=0;function ce(e,t){B({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[re]},(function(n){n.addTimelineLayer({id:oe,label:"Vuex Mutations",color:ue}),n.addTimelineLayer({id:ie,label:"Vuex Actions",color:ue}),n.addInspector({id:se,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===se)if(n.filter){var r=[];me(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[he(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===se){var r=n.nodeId;Y(t,r),n.state=ve(be(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===se){var r=n.nodeId,o=n.path;"root"!==r&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit((function(){n.set(t._state.data,o,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(se),n.sendInspectorState(se),n.addTimelineEvent({layerId:oe,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=ae++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:ie,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},o=Date.now()-e._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:ie,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var ue=8702998,le=6710886,de=16777215,fe={label:"namespaced",textColor:de,backgroundColor:le};function pe(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function he(e,t){return{id:t||"root",label:pe(t),tags:e.namespaced?[fe]:[],children:Object.keys(e._children).map((function(n){return he(e._children[n],t+n+"/")}))}}function me(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[fe]:[]}),Object.keys(t._children).forEach((function(o){me(e,t._children[o],n,r+o+"/")}))}function ve(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var i=ge(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?pe(e):e,editable:!1,value:ye((function(){return i[e]}))}}))}return o}function ge(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var o=t,i=r.pop();r.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=ye((function(){return e[n]}))}else t[n]=ye((function(){return e[n]}))})),t}function be(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,o){var i=e[r];if(!i)throw new Error('Missing module "'+r+'" for path "'+t+'".');return o===n.length-1?i:i._children}),"root"===t?e:e.root._children)}function ye(e){try{return e()}catch(t){return t}}var we=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},Se={namespaced:{configurable:!0}};Se.namespaced.get=function(){return!!this._rawModule.namespaced},we.prototype.addChild=function(e,t){this._children[e]=t},we.prototype.removeChild=function(e){delete this._children[e]},we.prototype.getChild=function(e){return this._children[e]},we.prototype.hasChild=function(e){return e in this._children},we.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},we.prototype.forEachChild=function(e){F(this._children,e)},we.prototype.forEachGetter=function(e){this._rawModule.getters&&F(this._rawModule.getters,e)},we.prototype.forEachAction=function(e){this._rawModule.actions&&F(this._rawModule.actions,e)},we.prototype.forEachMutation=function(e){this._rawModule.mutations&&F(this._rawModule.mutations,e)},Object.defineProperties(we.prototype,Se);var Oe=function(e){this.register([],e,!1)};function Ee(e,t,n){if(ke(e,n),t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");Ee(e.concat(r),t.getChild(r),n.modules[r])}}Oe.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},Oe.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},Oe.prototype.update=function(e){Ee([],this.root,e)},Oe.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0),ke(e,t);var o=new we(t,n);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&F(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},Oe.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r?r.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},Oe.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var Ce={assert:function(e){return"function"===typeof e},expected:"function"},je={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},xe={getters:Ce,mutations:Ce,actions:je};function ke(e,t){Object.keys(xe).forEach((function(n){if(t[n]){var r=xe[n];F(t[n],(function(t,o){G(r.assert(t),Te(e,n,o,t,r.expected))}))}}))}function Te(e,t,n,r,o){var i=t+" should be "+o+' but "'+t+"."+n+'"';return e.length>0&&(i+=' in module "'+e.join(".")+'"'),i+=" is "+JSON.stringify(r)+".",i}function Ie(e){return new Pe(e)}var Pe=function e(t){var n=this;void 0===t&&(t={}),G("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),G(this instanceof e,"store must be called with the new operator.");var r=t.plugins;void 0===r&&(r=[]);var o=t.strict;void 0===o&&(o=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new Oe(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=i;var s=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(e,t){return c.call(s,e,t)},this.commit=function(e,t,n){return u.call(s,e,t,n)},this.strict=o;var l=this._modules.root.state;Q(this,l,[],this._modules.root),q(this,l),r.forEach((function(e){return e(n)}))},Ve={state:{configurable:!0}};Pe.prototype.install=function(e,t){e.provide(t||D,this),e.config.globalProperties.$store=this;var n=void 0===this._devtools||this._devtools;n&&ce(e,this)},Ve.state.get=function(){return this._state.data},Ve.state.set=function(e){G(!1,"use store.replaceState() to explicit replace store state.")},Pe.prototype.commit=function(e,t,n){var r=this,o=ne(e,t,n),i=o.type,s=o.payload,a=o.options,c={type:i,payload:s},u=this._mutations[i];u?(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(c,r.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+i+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+i)},Pe.prototype.dispatch=function(e,t){var n=this,r=ne(e,t),o=r.type,i=r.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){console.warn("[vuex] error in before action subscribers: "),console.error(u)}var c=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){console.warn("[vuex] error in after action subscribers: "),console.error(u)}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){console.warn("[vuex] error in error action subscribers: "),console.error(u)}t(e)}))}))}console.error("[vuex] unknown action type: "+o)},Pe.prototype.subscribe=function(e,t){return H(e,this._subscribers,t)},Pe.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return H(n,this._actionSubscribers,t)},Pe.prototype.watch=function(e,t,n){var r=this;return G("function"===typeof e,"store.watch only accepts a function."),Object(i["watch"])((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},Pe.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Pe.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),G(Array.isArray(e),"module path must be a string or an Array."),G(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),Q(this,this.state,e,this._modules.get(e),n.preserveState),q(this,this.state)},Pe.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),G(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var n=te(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),W(this)},Pe.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),G(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},Pe.prototype.hotUpdate=function(e){this._modules.update(e),W(this,!0)},Pe.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Pe.prototype,Ve);var Ae=Be((function(e,t){var n={};return Me(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),_e(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=De(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),Re=Be((function(e,t){var n={};return Me(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),_e(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=De(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),Ne=Be((function(e,t){var n={};return Me(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),_e(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||De(this.$store,"mapGetters",e)){if(o in this.$store.getters)return this.$store.getters[o];console.error("[vuex] unknown getter: "+o)}},n[r].vuex=!0})),n})),Le=Be((function(e,t){var n={};return Me(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),_e(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=De(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n}));function _e(e){return Me(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function Me(e){return Array.isArray(e)||U(e)}function Be(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function De(e,t,n){var r=e._modulesNamespaceMap[n];return r||console.error("[vuex] module namespace not found in "+t+"(): "+n),r}n("c740"),n("a434"),n("b64b"),n("07ac");var Fe={videoSources:[],audioSources:[],selectedVideoSource:{name:"none"},selectedAudioSource:{name:"none"},isAudioOnly:!1,audioFollowsVideo:!1,stream:null,sourceRemoteTracks:[],mainLabel:"Main",transceiverSourceState:{},trackIdMidMap:{}},Ue={namespaced:!0,state:Fe,mutations:{setSelectedSource:function(e,t){var n=t.kind,r=t.selectedSource;"video"===n?e.selectedVideoSource=r:"audio"===n&&(e.selectedAudioSource=r)},setSources:function(e,t){var n=t.kind,r=t.sources;if("video"===n){e.videoSources=r;var o=r[0];"0"===(null===o||void 0===o?void 0:o.mid)&&(e.transceiverSourceState[o.mid]=o)}else"audio"===n&&(e.audioSources=r)},removeSource:function(e,t){var n=t.kind,r=t.sourceId;if("video"===n){var o=e.videoSources.findIndex((function(e){return e.sourceId===r}));-1!==o&&e.videoSources.splice(o,1)}else if("audio"===n){var i=e.audioSources.findIndex((function(e){return e.sourceId===r}));-1!==i&&e.audioSources.splice(i,1)}},setStream:function(e,t){e.stream=t},setIsAudioOnly:function(e,t){e.isAudioOnly=t},setAudioFollowsVideo:function(e,t){e.audioFollowsVideo=t},addTrackIdMidMapping:function(e,t){e.trackIdMidMap[t.mid]=t.trackId},addSourceRemoteTrack:function(e,t){e.sourceRemoteTracks.push(t);var n=e.videoSources.findIndex((function(e){return e.sourceId===t.sourceId}));if(-1!==n){var r=t.transceiver.mid;e.videoSources[n].mid=r,e.transceiverSourceState[r]=e.videoSources[n]}},replaceSourceRemoteTrack:function(e,t){var n=t.sourceRemoteTrack,r=t.remoteTrackIndex;e.sourceRemoteTracks[r]=n;var o=e.videoSources.findIndex((function(e){return e.sourceId===n.sourceId}));-1!==o&&(e.videoSources[o].mid=n.transceiver.mid,e.transceiverSourceState[n.transceiver.mid]=e.videoSources[o])},removeSourceRemoteTrack:function(e,t){var n=e.sourceRemoteTracks.findIndex((function(e){return e.sourceId===t}));-1!==n&&e.sourceRemoteTracks.splice(n,1)},removeTransceiverSourceState:function(e,t){var n=Object.keys(e.transceiverSourceState).find((function(n){return e.transceiverSourceState[n].sourceId===t})),r=Object.keys(e.transceiverSourceState).find((function(t){return null===e.transceiverSourceState[t].sourceId}));if(-1!==n&&null!==t){var o=Object.values(e.sourceRemoteTracks).find((function(e){return e.sourceId===t})).transceiver.mid;if("0"===e.transceiverSourceState[n].mid)if(o!==r){var i=e.transceiverSourceState[o];e.transceiverSourceState[n]=d(d({},e.transceiverSourceState[r]),{},{mid:n}),e.transceiverSourceState[r]=d(d({},i),{},{mid:r}),delete e.transceiverSourceState[o]}else o=e.videoSources.find((function(e){return e.sourceId===t})).mid,delete e.transceiverSourceState[o],e.transceiverSourceState[n]=e.videoSources[n];else e.transceiverSourceState[n]=d(d({},e.transceiverSourceState[o]),{},{mid:"".concat(n)}),delete e.transceiverSourceState[o]}else-1!==n&&"0"!==e.transceiverSourceState[n].mid&&(e.transceiverSourceState[n]=d(d({},e.transceiverSourceState[0]),{},{mid:"".concat(n)}),delete e.transceiverSourceState[0])},setMainLabel:function(e,t){e.mainLabel=t},updateTransceiverSourceState:function(e,t){var n=t.source,r=e.transceiverSourceState[e.videoSources[0].mid],o=Object.keys(e.transceiverSourceState).find((function(t){return e.transceiverSourceState[t].mid===n.mid})),i=e.transceiverSourceState[o];e.transceiverSourceState[e.videoSources[0].mid]=d(d({},i),{},{mid:e.videoSources[0].mid}),e.transceiverSourceState[o]=d(d({},r),{},{mid:o})}},getters:{getVideoSources:function(e){return e.videoSources},getAudioSources:function(e){return e.audioSources},getVideoHasMain:function(e){return-1!==e.videoSources.findIndex((function(e){return null===e.sourceId}))},getAudioHasMain:function(e){return-1!==e.audioSources.findIndex((function(e){return null===e.sourceId}))},getSelectedVideoSource:function(e){return e.selectedVideoSource},getTransceiverSourceState:function(e){return e.transceiverSourceState},getTrackIdMidMap:function(e){return e.trackIdMidMap}}},ze={medias:{active:[],inactive:[],layers:[]},selectedQuality:{name:"Auto"},mainTransceiverMedias:{active:[],inactive:[],layers:[]}},Ge={namespaced:!0,state:ze,mutations:{setMainTransceiverMedias:function(e,t){e.mainTransceiverMedias=t},setMedias:function(e,t){e.medias=t},setSelectedQuality:function(e,t){e.selectedQuality=t},selectQuality:function(e,t){e.selectedQuality=t}},getters:{getActiveMedias:function(e){return e.medias},getActiveMainTransceiverMedias:function(e){return e.mainTransceiverMedias.active}}},$e={video:null,playing:!1,muted:!1,player:null,srcObject:null,pip:null,autoPlayMuted:!1,volume:"1",isMobile:!1,dropup:"",fullscreen:!1,isLive:!1,isLoading:!0,trackWarning:!1,castOptions:{},castAvailable:!1,castIsConnected:!1,castDevice:{},viewerCount:null,reconnection:{status:!1,error:null,timeout:null},currentElementRef:"player",isMigrating:!1,viewerMigratingEvent:!1,migrateListenerIsSet:!1,isSplittedView:!1,previousSplitState:!1,isGrid:!1,isSelectingLayer:!1,hideToast:!1,selectingLayerTimeouts:null},He={namespaced:!0,state:$e,mutations:{setVideo:function(e,t){e.video=t},setPlaying:function(e,t){e.isMigrating||(e.playing=t)},setPip:function(e,t){e.pip=t},stopVideo:function(e){e.player.stop(),e.player.currentTime=null},setSrcObject:function(e,t){e.srcObject=t},setStateSrcObject:function(e,t){null!==t&&(e.srcObject=t)},setCurrentElementRef:function(e,t){e.currentElementRef=t},setVideoVolume:function(e,t){e.video.volume=t},setVideoMuted:function(e,t){e.video.muted=t,e.muted=t},setVideoAutoplay:function(e,t){e.video.autoplay=t},setVideoSource:function(e,t){e.video.srcObject=t},setAutoPlayMuted:function(e,t){e.autoPlayMuted=t},setDropup:function(e,t){e.dropup=t!=e.dropup?t:""},setMobile:function(e,t){e.isMobile=t},setIsLive:function(e,t){!t&&document.pictureInPictureElement&&document.exitPictureInPicture(),e.isLive=t},setIsLoading:function(e,t){e.isLoading=t,e.castOptions.loading=t},toggleFullscreen:function(e){e.fullscreen=!e.fullscreen},setTrackWarning:function(e,t){e.trackWarning=t},setCastOptions:function(e,t){e.castOptions=t},setCastDevice:function(e,t){e.castDevice=t},setCastAvailable:function(e,t){e.castAvailable=t},setCastIsConnected:function(e,t){e.castIsConnected=t},setViewerCount:function(e,t){e.viewerCount=t},handleReconnection:function(e,t){var n=t.error,r=t.timeout;e.reconnection.error=n,e.reconnection.timeout=r,e.reconnection.status=!0,setTimeout((function(){e.reconnection.status=!1,e.reconnection.error=null,e.reconnection.timeout=null}),r)},setIsMigrating:function(e,t){e.isMigrating=t},setViewerMigratingEvent:function(e,t){e.viewerMigratingEvent=t},setMigrateListenerIsSet:function(e,t){e.migrateListenerIsSet=t},setIsSplittedView:function(e,t){e.isSplittedView=t},setPreviousSplitState:function(e,t){e.isMigrating||(e.previousSplitState=t)},setIsGrid:function(e,t){e.isGrid=t},setIsSelectingLayer:function(e,t){e.isSelectingLayer=t},setHideToastError:function(e,t){e.hideToast=t},setSelectingLayerTimeout:function(e,t){e.selectingLayerTimeouts=t}},getters:{}},We={millicastView:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null},trackEvent:{audio:{track:null,transceiver:[null]},video:{track:null,transceiver:[null]}}},qe={namespaced:!0,state:We,mutations:{setMillicastView:function(e,t){e.millicastView=t}}},Qe=["play","volume","pip","fullscreen","cast","liveBadge","userCount","settings"],Xe={audioOnly:!1,autoplay:!0,videoOnly:!1,controls:!0,directorUrl:null,hideButtons:[],muted:!0,placeholderImg:null,streamId:null,token:null,forcePlayoutDelay:!1,multisource:!1,audioFollowsVideo:!1,layout:null,showLabels:!0,startingQuality:null,hideToast:null,mainLabel:null};function Ye(e){var t=e.streamId,n=e.audioOnly,r=e.videoOnly,o=e.token,i=e.image,s=e.directorUrl,a=e.hideButtons,c=e.autoplay,u=e.muted,l=e.noDelay,f=e.multisource,p=e.audioFollowsVideo,h=e.layout,m=e.showLabels,v=e.startingQuality,g=e.hideToast,b=e.mainLabel,y=e.forcePlayoutDelayMin,w=e.forcePlayoutDelayMax,S={};S.streamId=t,S.videoOnly=null!==r&&void 0!==r&&r,S.audioOnly=null!==n&&void 0!==n&&n,S.token=o,S.placeholderImg=i,S.directorUrl=s,S.hideButtons=null!==a&&void 0!==a?a:[],S.autoplay=null===c||void 0===c||c,S.muted=null!==u&&void 0!==u&&u,S.multisource=null!==f&&void 0!==f&&f,S.audioFollowsVideo=null!==p&&void 0!==p&&p,S.layout=h,S.showLabels=m,f&&rt.commit("Controls/setIsSplittedView",!0),p&&rt.commit("Sources/setAudioFollowsVideo",!0),l&&(S.forcePlayoutDelay={min:0,max:0}),S.layout&&"grid"===S.layout&&rt.commit("Controls/setIsGrid",!0),null!==v&&(S.startingQuality=v,rt.commit("Controls/setIsSelectingLayer",!0)),null!==g&&(S.hideToast=g,rt.commit("Controls/setHideToastError",g)),b&&(S.mainLabel=b,rt.commit("Sources/setMainLabel",S.mainLabel)),y&&w&&parseInt(y)&&parseInt(w)&&(S.forcePlayoutDelay={min:parseInt(y),max:parseInt(w)}),rt.commit("Params/setViewerOptions",d(d({},Xe),S))}var Je={NODE_ENV:"",VUE_APP_TURN_ENDPOINT:"",VUE_APP_LIVEWS_ENDPOINT:"",VUE_APP_DIRECTOR_ENDPOINT:"",VUE_APP_PUBLIC_PATH:"",VUE_APP_REPORT_URL:"",VUE_APP_CHROMECAST_ID:""};function Ke(e){var t,n,r,o,i,s,a,c={NODE_ENV:null!==(t=null===e||void 0===e?void 0:e.NODE_ENV)&&void 0!==t?t:Object({NODE_ENV:"production",VUE_APP_DEFAULT_TURN_ENDPOINT:"",VUE_APP_DEFAULT_LIVEWS_ENDPOINT:"",VUE_APP_DEFAULT_DIRECTOR_ENDPOINT:"https://director.millicast.com/",VUE_APP_DEFAULT_PUBLIC_PATH:"/",VUE_APP_DEFAULT_CHROMECAST_ID:"EC3A02DA",VUE_APP_DEFAULT_REPORT_URL:"https://playback-report.millicast.com",BASE_URL:"/"}).DEFAULT_NODE_ENV,VUE_APP_TURN_ENDPOINT:null!==(n=null===e||void 0===e?void 0:e.VUE_APP_TURN_ENDPOINT)&&void 0!==n?n:"",VUE_APP_LIVEWS_ENDPOINT:null!==(r=null===e||void 0===e?void 0:e.VUE_APP_LIVEWS_ENDPOINT)&&void 0!==r?r:"",VUE_APP_DIRECTOR_ENDPOINT:null!==(o=null===e||void 0===e?void 0:e.VUE_APP_DIRECTOR_ENDPOINT)&&void 0!==o?o:"https://director.millicast.com/",VUE_APP_PUBLIC_PATH:null!==(i=null===e||void 0===e?void 0:e.VUE_APP_PUBLIC_PATH)&&void 0!==i?i:"/",VUE_APP_REPORT_URL:null!==(s=null===e||void 0===e?void 0:e.VUE_APP_REPORT_URL)&&void 0!==s?s:"https://playback-report.millicast.com",VUE_APP_CHROMECAST_ID:null!==(a=null===e||void 0===e?void 0:e.VUE_APP_CHROMECAST_ID)&&void 0!==a?a:"EC3A02DA"};rt.commit("Params/setEnvironmentOptions",d(d({},Je),c))}var Ze={viewer:Xe,environment:Je},et={namespaced:!0,state:Ze,mutations:{setViewerOptions:function(e,t){e.viewer=t},setEnvironmentOptions:function(e,t){e.environment=t}}},tt={type:"",message:"",showError:!1},nt={namespaced:!0,state:tt,mutations:{setMessage:function(e,t){e.message=t},setType:function(e,t){e.type=t},setShowError:function(e,t){e.showError=t}}},rt=Ie({state:{sources:[]},mutations:{},actions:{},modules:{Sources:Ue,Layers:Ge,Controls:He,ViewConnection:qe,Params:et,Errors:nt}}),ot=rt.state,it=function(){var e;return null===(e=ot.Params.viewer.streamId)||void 0===e||null===(e=e.match(/^(.*?)\/.*$/))||void 0===e?void 0:e[1]},st=function(){var e;return null===(e=ot.Params.viewer.streamId)||void 0===e||null===(e=e.match(/^.*?\/(.*)$/))||void 0===e?void 0:e[1]},at=(n("99af"),n("12a8"),n("25f0"),n("5319"),new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"})),ct=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function ut(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function lt(e,t){var n=e.muted,r=e.timeout,o=e.inline,i=t(),s=i.element,a=i.source,c=void 0,u=void 0,l=void 0;return s.muted=n,!0===n&&s.setAttribute("muted","muted"),!0===o&&s.setAttribute("playsinline","playsinline"),s.src=a,new Promise((function(e){c=s.play(),u=setTimeout((function(){l(!1,new Error("Timeout "+r+" ms has been reached"))}),r),l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.remove(),s.srcObject=null,clearTimeout(u),e({result:t,error:n})},void 0!==c?c.then((function(){return l(!0)})).catch((function(e){return l(!1,e)})):l(!0)}))}function dt(e){return e=ut(e),lt(e,(function(){return{element:document.createElement("video"),source:URL.createObjectURL(ct)}}))}function ft(e){return e=ut(e),lt(e,(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(at)}}))}var pt={audio:ft,video:dt},ht=pt,mt=rt.commit,vt=rt.state,gt=function(){bt(),yt(),wt()},bt=function(){var e;(vt.Params.environment.VUE_APP_DIRECTOR_ENDPOINT||vt.Params.viewer.directorUrl)&&A["Director"].setEndpoint(null!==(e=vt.Params.viewer.directorUrl)&&void 0!==e?e:vt.Params.environment.VUE_APP_DIRECTOR_ENDPOINT)},yt=function(){vt.Params.environment.VUE_APP_LIVEWS_ENDPOINT&&A["Director"].setLiveDomain(vt.Params.environment.VUE_APP_LIVEWS_ENDPOINT)},wt=function(){vt.Params.environment.VUE_APP_TURN_ENDPOINT&&A["PeerConnection"].setTurnServerLocation(vt.Params.environment.VUE_APP_TURN_ENDPOINT)},St=function(e,t){if(!t||!e)throw new Error("Stream ID not provided.");gt();var n=function(){var n=A["Director"].getSubscriber(t,e,vt.Params.viewer.token);return n.catch((function(e){var t="".concat(e);if(!t.includes("stream not being published")){var n=t.replace("FetchError: ","");mt("Errors/setMessage",n),mt("Errors/setType","SubscriberError"),mt("Errors/setShowError",!0)}})),n},r=new A["View"](t,n);window.millicastView=r,window.__defineGetter__("peer",(function(){return r.getRTCPeerConnection()})),mt("ViewConnection/setMillicastView",r)},Ot=function(){var e=l(c().mark((function e(){var t,n,r,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=vt.ViewConnection.millicastView,!t.isActive()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,jt();case 6:return n={events:["active","inactive","layers","viewercount"],absCaptureTime:!0},vt.Params.viewer.audioOnly&&(n.disableVideo=!0),vt.Params.viewer.videoOnly&&(n.disableAudio=!0),vt.Params.viewer.forcePlayoutDelay&&(n.forcePlayoutDelay=vt.Params.viewer.forcePlayoutDelay),e.next=12,t.connect(n);case 12:Tt(),e.next=25;break;case 15:if(e.prev=15,e.t0=e["catch"](3),o=null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message,mt("Controls/setIsLoading",!1),mt("Controls/setIsLive",!1),t.reconnect(),o){e.next=23;break}return e.abrupt("return");case 23:if(o.toLowerCase().includes("stream not being published")){e.next=25;break}throw new Error("".concat(o.charAt(0).toUpperCase()).concat(o.slice(1)));case 25:case"end":return e.stop()}}),e,null,[[3,15]])})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=vt.ViewConnection.millicastView;e.on("track",function(){var e=l(c().mark((function e(t){var n,r,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("video"===(null===(n=t.track)||void 0===n?void 0:n.kind)&&mt("Sources/addTrackIdMidMapping",{trackId:null===(r=t.track)||void 0===r?void 0:r.id,mid:null===(o=t.transceiver)||void 0===o?void 0:o.mid}),!t.streams.length){e.next=4;break}return e.next=4,Ct(t.streams[0]);case 4:vt.ViewConnection.trackEvent[t.track.kind].transceiver[0]?vt.ViewConnection.trackEvent[t.track.kind].transceiver.push(t.transceiver):vt.ViewConnection.trackEvent[t.track.kind].transceiver[0]=t.transceiver,vt.ViewConnection.trackEvent[t.track.kind].track=!0;case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},Ct=function(){var e=l(c().mark((function e(t){var n,r,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=vt.Controls.video,Tt(),mt("Controls/setSrcObject",t),!n.srcObject||n.srcObject.id===t.id||vt.Controls.viewerMigratingEvent){e.next=5;break}return e.abrupt("return");case 5:if(!n.srcObject||n.srcObject.id===t.id||!vt.Controls.viewerMigratingEvent){e.next=24;break}return mt("Controls/setPreviousSplitState",vt.Controls.isSplittedView),mt("Controls/setIsMigrating",!0),mt("Controls/setIsSplittedView",!1),e.next=11,Object(i["nextTick"])();case 11:r="player"===vt.Controls.currentElementRef?"player2":"player",o=document.getElementById(r),o.srcObject=t,o.autoplay=vt.Controls.playing,o.muted=vt.Controls.muted,wn(),yn(o),o.onloadedmetadata=l(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:mt("Controls/setVideo",o),mt("Controls/setCurrentElementRef",r),mt("Controls/setIsMigrating",!1),mt("Controls/setIsSplittedView",vt.Controls.previousSplitState),document.pictureInPictureElement&&o.requestPictureInPicture();case 5:case"end":return e.stop()}}),e)}))),mt("Controls/setViewerMigratingEvent",!1),mt("Controls/setMigrateListenerIsSet",!1),Tt(),e.next=25;break;case 24:bn({videoPlayer:n,srcObject:t});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),jt=function(){var e=l(c().mark((function e(){var t,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(mt("Controls/setVideoAutoplay",vt.Params.viewer.autoplay),!vt.Params.viewer.autoplay){e.next=8;break}return e.next=4,ht.video({muted:vt.Params.viewer.muted});case 4:t=e.sent,n=vt.Params.viewer.muted?vt.Params.viewer.muted:!t.result,mt("Controls/setVideoMuted",n),mt("Controls/setAutoPlayMuted",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e;vt.ViewConnection.eventListeners.reconnect=null!==(e=vt.ViewConnection.eventListeners.reconnect)&&void 0!==e?e:vt.ViewConnection.millicastView.on("reconnect",(function(e){var t=e.timeout,n=e.error,r=null===n||void 0===n?void 0:n.toString().toLowerCase();null!==r&&void 0!==r&&r.toLowerCase().includes("stream not being published")?(mt("Controls/setIsLoading",!1),mt("Controls/setIsLive",!1)):(mt("Controls/setPreviousSplitState",vt.Controls.isSplittedView),mt("Controls/setVideoSource",null),mt("Controls/setSrcObject",null),mt("Controls/setIsSplittedView",!1),mt("Controls/setViewerMigratingEvent",!1),mt("Controls/setMigrateListenerIsSet",!1),mt("Controls/handleReconnection",{timeout:t,error:n}))}))},kt=function(){var e;null===(e=vt.ViewConnection.millicastView)||void 0===e||e.stop(),mt("Controls/setVideoSource",null),mt("Controls/setSrcObject",null)},Tt=function(){vt.Controls.viewerMigratingEvent||vt.Controls.migrateListenerIsSet||!vt.ViewConnection.millicastView.signaling||setTimeout((function(){vt.ViewConnection.millicastView.signaling.on("migrate",(function(){mt("Controls/setViewerMigratingEvent",!0)})),mt("Controls/setMigrateListenerIsSet",!0)}),50)},It=(n("a630"),n("d81d"),n("45fc"),n("3c65"),rt.commit),Pt=rt.state,Vt=null,At=null,Rt=null,Nt=function(){var e=l(c().mark((function e(){var t,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Rt){e.next=6;break}return e.next=3,new Promise((function(e){return setTimeout(e,20)}));case 3:Rt=Pt.Params.environment.VUE_APP_CHROMECAST_ID,e.next=0;break;case 6:t=function(){var e=l(c().mark((function e(t){var n,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=window,r=n.cast,e.t0=t,e.next=e.t0===r.framework.CastState.NO_DEVICES_AVAILABLE?4:e.t0===r.framework.CastState.NOT_CONNECTED?6:e.t0===r.framework.CastState.CONNECTED?8:11;break;case 4:return It("Controls/setCastAvailable",!1),e.abrupt("break",12);case 6:return It("Controls/setCastAvailable",!0),e.abrupt("break",12);case 8:return e.next=10,Lt();case 10:return e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(e){var t=window,n=t.cast;switch(e.sessionState){case n.framework.SessionState.SESSION_ENDED:At=null,En(),It("Controls/setCastIsConnected",!1);break;default:break}},window["__onGCastApiAvailable"]=function(){var e=l(c().mark((function e(r){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r&&setTimeout(l(c().mark((function e(){var r,o,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.cast.framework.CastContext.getInstance();case 2:if(Vt=e.sent,!window.chrome.cast||!window.chrome.cast.AutoJoinPolicy){e.next=12;break}return Vt.setOptions({autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.PAGE_SCOPED,receiverApplicationId:Rt}),r=window.cast.framework.CastContextEventType,o=r.CAST_STATE_CHANGED,i=r.SESSION_STATE_CHANGED,e.next=8,Vt.addEventListener(o,function(){var e=l(c().mark((function e(n){var r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.castState,e.next=3,t(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.next=10,Vt.addEventListener(i,(function(e){return n(e)}));case 10:e.next=13;break;case 12:It("Controls/setCastAvailable",!1);case 13:case"end":return e.stop()}}),e)}))),20);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Lt=function(){var e=l(c().mark((function e(){var t,n,r,o,i,s,a,u,l,d,f,p;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=window,s=i.chrome,a=Pt.Controls.castOptions,u=a.streamId,l=a.token,d={audioSource:Pt.Sources.selectedAudioSource,videoSource:Pt.Sources.selectedVideoSource,audioMediaId:null!==(t=null===(n=Pt.ViewConnection.trackEvent)||void 0===n||null===(n=n.audio)||void 0===n?void 0:n.transceiver.mid)&&void 0!==t?t:null,videoMediaId:null!==(r=null===(o=Pt.ViewConnection.trackEvent)||void 0===o||null===(o=o.video)||void 0===o?void 0:o.transceiver.mid)&&void 0!==r?r:null},e.next=5,Vt.getCurrentSession();case 5:At=e.sent,f=new s.cast.media.MediaInfo(u,""),f.customData={streamId:u,token:l,multiSourceOptions:d},f.streamType=s.cast.media.StreamType.LIVE,p=new s.cast.media.LoadRequest(f),At.loadMedia(p).then((function(){Cn(),It("Controls/setCastDevice",At.getCastDevice()),It("Controls/setCastIsConnected",!0)})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function _t(e){if(Array.isArray(e))return e}function Mt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Dt(e,t){if(e){if("string"===typeof e)return Bt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}function Ft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ut(e){return _t(e)||Mt(e)||Dt(e)||Ft()}n("13d5"),n("4e82"),n("4fad"),n("c1f9");var zt=rt.commit,Gt=rt.state,$t=["bps","kbps","mbps","gbps"],Ht={2:["High","Low"],3:["High","Medium","Low"]},Wt=[],qt=function(e){var t=e.data,n=[],r=[],o={0:t.medias[0]},i=Object.values(o),s=Object.entries(t.medias),a=Ut(s),c=a.slice(1),u=Object.fromEntries(c);if(zt("Layers/setMedias",t.medias),Jt(u),i.forEach((function(e){var t,o,i,s,a;1===(null===e||void 0===e?void 0:e.active.length)&&(null===e||void 0===e||null===(t=e.active[0])||void 0===t?void 0:t.layers.length)>1?(null===(o=e.active[0])||void 0===o||null===(o=o.layers)||void 0===o||o.forEach((function(t){n.some((function(e){return e.spatialLayerId===t.spatialLayerId}))||(t.id=e.active[0].id,t.selectId=t.spatialLayerId,t.disabled=!t.bitrate,n.push(t))})),null===(i=e.inactive[0])||void 0===i||null===(i=i.layers)||void 0===i||i.forEach((function(e){r.some((function(t){return t.spatialLayerId===e.spatialLayerId}))||r.push(e)}))):(null===(s=e.active)||void 0===s||s.forEach((function(e){n.some((function(t){return t.id===e.id}))||(e.selectId=e.id,e.disabled=!e.bitrate,n.push(e))})),null===(a=e.inactive)||void 0===a||a.forEach((function(e){r.some((function(t){return t.id===e.id}))||r.push(e)})))})),n.sort((function(e,t){return t.bitrate-e.bitrate})),n.length>=2){n.sort((function(e,t){return t.height-e.height}));var l=Ht[n.length]||[];n.forEach((function(e,t){e.name=e.height?"".concat(e.height,"p"):l[t]||Yt(e.bitrate)})),n.unshift({name:"Auto"})}n.length!=Gt.Layers.mainTransceiverMedias.active.length&&zt("Layers/setSelectedQuality",{name:"Auto"}),zt("Layers/setMainTransceiverMedias",{active:n,inactive:r})},Qt=function(){zt("Layers/setMainTransceiverMedias",{active:[],inactive:[]}),zt("Layers/setSelectedQuality",{name:"Auto"})},Xt=function(e){var t={};t.encodingId=e.id,t.encodingId||null===e.spatialLayerId||(t.spatialLayerId=parseInt(e.spatialLayerId));var n=t.encodingId||0===t.encodingId||t.spatialLayerId||0===t.spatialLayerId?t:{};Gt.ViewConnection.millicastView.select(n),zt("Layers/selectQuality",e)},Yt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t/1e3;return r<1||r>1&&n+1>$t.length?"".concat(Math.round(100*t)/100," ").concat($t[n]):r>1?e(r,n+1):void 0},Jt=function(e){var t=Gt.Controls,n=t.isSplittedView,r=t.isGrid;if(n&&!r){var o=Object.keys(Wt),i=Object.keys(e),s=i.filter((function(e){return!o.includes(e)})),a=s.reduce((function(t,n){var r=e[n].active.length>0?e[n].active:null;return null!=r&&(t[n]=r),t}),{}),c=Object.keys(a);if(0===c.length)return;var u=Gt.Sources.transceiverSourceState,l=c.reduce((function(e,t){return e.push(u[t]),e}),[]);l.forEach((function(e){var t;null!==e.sourceId&&e.mid in a&&(a[e.mid].sort((function(e,t){return t.id-e.id})),null===(t=Gt.ViewConnection.millicastView)||void 0===t||t.project(e.name,[{mediaId:e.mid,layer:{encodingId:a[e.mid].pop().id},trackId:e.trackId,media:"video"}]))})),Wt=e}},Kt=function(e){e||(Wt=[])};Object(i["watch"])((function(){return Gt.Controls.isSplittedView}),Kt,{deep:!0});var Zt=rt.commit,en=rt.state,tn=rt.getters,nn=function(e){var t=e.sourceId||null;e.tracks.forEach((function(e){"video"===e.media&&(rn(t),sn("video",t,e.trackId),1===en.Sources.videoSources.length&&Zt("Sources/setIsAudioOnly",!1)),"audio"===e.media&&(sn("audio",t,e.trackId),1===en.Sources.audioSources.length&&Zt("Sources/setIsAudioOnly",!en.Sources.videoSources.length))})),on()?setTimeout(an,1e3):en.Controls.trackWarning&&Zt("Controls/setTrackWarning",!1)},rn=function(){var e=l(c().mark((function e(t){var n,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:n=en.Sources.sourceRemoteTracks.findIndex((function(e){return e.sourceId===t})),r=new MediaStream,setTimeout(l(c().mark((function e(){var o,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,en.ViewConnection.millicastView.addRemoteTrack("video",[r]);case 2:o=e.sent,i={transceiver:o,mediaStream:r,sourceId:t},-1!==n?Zt("Sources/replaceSourceRemoteTrack",{sourceRemoteTrack:i,remoteTrackIndex:n}):Zt("Sources/addSourceRemoteTrack",i);case 5:case"end":return e.stop()}}),e)}))),50);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),on=function(){return!tn["Sources/getVideoHasMain"]&&en.Sources.videoSources.length||!tn["Sources/getAudioHasMain"]&&en.Sources.audioSources.length},sn=function(e,t,n){var r={name:null===t?en.Params.viewer.mainLabel:t,sourceId:t,trackId:n,mid:null===t?"video"===e?"0":"1":null},o="video"===e?en.Sources.videoSources:en.Sources.audioSources,i=Array.from(o);if(!i.some((function(e){return e.sourceId===r.sourceId}))){if(null===r.sourceId){i.unshift(r);var s="video"===e?en.Sources.selectedVideoSource:en.Sources.selectedAudioSource;s.name!==en.Params.viewer.mainLabel&&(Zt("Sources/setSelectedSource",{kind:e,selectedSource:r}),ln({kind:e,source:r}),Zt("Sources/setMainLabel",en.Params.viewer.mainLabel))}else i.push(r);Zt("Sources/setSources",{kind:e,sources:i})}},an=function(){on()&&!en.Sources.trackWarning&&(""===en.Controls.dropup&&Zt("Controls/setDropup","settings"),Zt("Controls/setTrackWarning",!0))},cn=function(e){en.Layers.mainTransceiverMedias.active.length&&Xt({name:"Auto"});var t=en.Sources.videoSources.findIndex((function(t){return t.sourceId===e})),n=en.Sources.audioSources.findIndex((function(t){return t.sourceId===e}));-1!==t&&(un("video",e),en.Sources.videoSources.length||Zt("Sources/setIsAudioOnly",!0)),-1!==n&&un("audio",e)},un=function(e,t){var n,r,o="video"===e?en.Sources.selectedVideoSource:en.Sources.selectedAudioSource,i="video"===e?en.Sources.videoSources:en.Sources.audioSources;i=i.filter((function(e){return e.sourceId!==t})),i.length?t!==o.sourceId&&null!==t||(o=i[0],en.Sources.isAudioOnly||Zt("Sources/setMainLabel",i[0].name)):o={name:"none"},"video"===e&&(n=Object.keys(en.Sources.transceiverSourceState).find((function(e){return en.Sources.transceiverSourceState[e].sourceId===t})),null!==t&&(r=Object.values(en.Sources.sourceRemoteTracks).find((function(e){return e.sourceId===t})).transceiver.mid),en.Controls.isSplittedView&&(null!==en.Sources.selectedVideoSource.sourceId&&null===t?(fn(en.Sources.selectedVideoSource.sourceId,"".concat(n),en.Sources.selectedVideoSource.trackId),en.Params.viewer.showLabels&&(document.getElementById("sideLabel".concat(en.Sources.selectedVideoSource.mid)).textContent=en.Sources.selectedVideoSource.sourceId)):null===en.Sources.selectedVideoSource.sourceId&&null!==t?n!==r&&(fn(en.Sources.transceiverSourceState[r].sourceId,en.Sources.transceiverSourceState[n].mid),en.Params.viewer.showLabels&&(document.getElementById("sideLabel".concat(en.Sources.transceiverSourceState[n].mid)).textContent=en.Sources.transceiverSourceState[r].sourceId)):null!==en.Sources.selectedVideoSource.sourceId&&null!==t&&n!==r&&(fn(en.Sources.transceiverSourceState[r].sourceId,en.Sources.selectedVideoSource.mid),en.Params.viewer.showLabels&&(document.getElementById("sideLabel".concat(en.Sources.transceiverSourceState[en.Sources.selectedVideoSource.mid].mid)).textContent=en.Sources.transceiverSourceState[r].sourceId))),Zt("Sources/removeTransceiverSourceState",t)),Zt("Sources/removeSourceRemoteTrack",t),Zt("Sources/removeSource",{kind:e,sourceId:t}),ln({kind:e,source:o})},ln=function(){var e=l(c().mark((function e(t){var n,r,o,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.kind,r=t.source,o=null,i=null,"video"===n?(Qt(),o=en.ViewConnection.trackEvent.video.track,i=en.Sources.selectedVideoSource):"audio"===n&&(o=en.ViewConnection.trackEvent.audio.track,i=en.Sources.selectedVideoSource,i=en.Sources.selectedAudioSource),Zt("Sources/setSelectedSource",{kind:n,selectedSource:r}),!r||"none"===(null===r||void 0===r?void 0:r.name)||!o){e.next=9;break}return e.next=8,dn({kind:n,source:r});case 8:"none"!==i.name&&Zt("Controls/setTrackWarning",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dn=function(){var e=l(c().mark((function e(t){var n,r,o,i,s,a,u,l,f,p;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.kind,r=t.source,o=null===r||void 0===r?void 0:r.sourceId,i=null,s=null,"video"===n?(i=en.Sources.videoSources,s=null===(a=en.ViewConnection.trackEvent)||void 0===a||null===(a=a.video)||void 0===a?void 0:a.transceiver):"audio"===n&&(i=en.Sources.audioSources,s=null===(u=en.ViewConnection.trackEvent)||void 0===u||null===(u=u.audio)||void 0===u?void 0:u.transceiver),!en.Controls.castIsConnected){e.next=9;break}Lt(),e.next=13;break;case 9:if(null===o&&!i.length){e.next=13;break}return p=null!==(l=null===(f=s)||void 0===f?void 0:f.mid)&&void 0!==l?l:null,e.next=13,en.ViewConnection.millicastView.project(o,[d(d({trackId:r.trackId,mediaId:p},"video"===n&&{promote:!0}),{},{media:n})]);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fn=function(){var e=l(c().mark((function e(t,n,r,o){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,en.ViewConnection.millicastView.project(t,[{trackId:r,mediaId:n,media:"video",layer:o}]);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),pn=function(){var e=l(c().mark((function e(t){var n,r,o,s,a,u;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["nextTick"])();case 2:a="sidePlayer"+(null===(n=t.transceiver)||void 0===n?void 0:n.mid),u=document.getElementById(a),u.srcObject=t.mediaStream,fn(t.sourceId,null!==(r=null===(o=t.transceiver)||void 0===o?void 0:o.mid)&&void 0!==r?r:null,en.Sources.transceiverSourceState[null===(s=t.transceiver)||void 0===s?void 0:s.mid].trackId),u.muted=!0,u.autoPlay=!0,u.playsInline=!0,u.play();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hn=function(){var e=l(c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=en.ViewConnection.millicastView.webRTCPeer.peer.getTransceivers().splice(2).map((function(e){return e.mid})),en.ViewConnection.millicastView.unproject(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),mn=rt.commit,vn=rt.state,gn=null,bn=function(e){var t=e.videoPlayer,n=e.srcObject,r=e.volume,o=e.muted,i=e.autoplay;t&&(mn("Controls/setVideo",t),mn("Controls/setCurrentElementRef",t.id)),n&&mn("Controls/setVideoSource",n),r&&mn("Controls/setVideoVolume",r),o&&mn("Controls/setVideoMuted",o),i&&mn("Controls/setVideoAutoplay",i),yn(vn.Controls.video)},yn=function(e){e.onplay=function(){return mn("Controls/setPlaying",!0)},e.addEventListener("emptied",Sn),e.addEventListener("pause",Sn),e.onenterpictureinpicture=function(){return mn("Controls/setPip",!0)},e.onleavepictureinpicture=function(){return mn("Controls/setPip",!1)}},wn=function(){vn.Controls.video.removeEventListener("emptied",Sn),vn.Controls.video.removeEventListener("pause",Sn)},Sn=function(){mn("Controls/setPlaying",!1)},On=function(){window.Version=Object({NODE_ENV:"production",VUE_APP_DEFAULT_TURN_ENDPOINT:"",VUE_APP_DEFAULT_LIVEWS_ENDPOINT:"",VUE_APP_DEFAULT_DIRECTOR_ENDPOINT:"https://director.millicast.com/",VUE_APP_DEFAULT_PUBLIC_PATH:"/",VUE_APP_DEFAULT_CHROMECAST_ID:"EC3A02DA",VUE_APP_DEFAULT_REPORT_URL:"https://playback-report.millicast.com",BASE_URL:"/"}).PACKAGE_VERSION,window.Logger=A["Logger"];var e=it(),t=st();St(e,t),jn()},En=function(){var e=l(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ot();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cn=function(){var e=l(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:kt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jn=function(){Et(),xn()},xn=function(){var e,t=vn.ViewConnection.millicastView;vn.ViewConnection.eventListeners.broadcastEvent=null!==(e=vn.ViewConnection.eventListeners.broadcastEvent)&&void 0!==e?e:t.on("broadcastEvent",(function(e){var t=e.name;switch(t){case"active":kn(e);break;case"stopped":Tn(e);break;case"inactive":In(e);break;case"layers":Pn(e);break;case"viewercount":Vn(e);break;default:break}}))},kn=function(e){if(nn(e.data),mn("Controls/setIsLive",!0),vn.Controls.isSelectingLayer||mn("Controls/setIsLoading",!1),xt(),vn.Controls.video.srcObject||mn("Controls/setVideoSource",vn.Controls.srcObject),null!=gn){var t=setTimeout((function(){console.warn("Starting quality selected, but no layer event available."),mn("Controls/setIsLoading",!1)}),5e3);gn=t}},Tn=function(){mn("Controls/setIsLoading",!1),mn("Controls/setIsLive",!1)},In=function(e){var t,n=e.data,r=vn.Sources.selectedVideoSource,o=vn.Sources.selectedAudioSource,i=(null===r.sourceId||null===o.sourceId)&&null===n.sourceId;cn(null!==(t=null===n||void 0===n?void 0:n.sourceId)&&void 0!==t?t:null),e.data.streamId||mn("Controls/setUserCount",null),vn.Sources.videoSources.length+vn.Sources.audioSources.length===0?(Qt(),mn("Controls/setTrackWarning",!1),mn("Controls/setIsLive",!1),mn("Controls/setPlaying",!1),mn("Controls/setVideoSource",null)):i&&(""===vn.Controls.dropup&&mn("Controls/setDropup","settings"),mn("Controls/setTrackWarning",i))},Pn=function(e){"0"in e.data.medias?qt(e):Qt();var t=vn.Layers.mainTransceiverMedias.active;if(0===t.length)return console.warn("No active layers available, will wait for next event. Switching to Auto until then."),null!=gn&&clearTimeout(gn),gn=null,void mn("Controls/setIsLoading",!1);if(vn.Controls.isSelectingLayer&&null!==vn.Params.viewer.startingQuality){var n,r={},o=vn.Params.viewer.startingQuality,i=["auto","high","medium","low"].indexOf(o.toLowerCase());if(/^\d{3,4}$/.test(o))r=t.find((function(e){return e.height===parseInt(o)})),console.log("Selected media, height:",null===(n=r)||void 0===n?void 0:n.id);else if(i>=0){var s;r="low"===o.toLowerCase()?t[t.length-1]:t[i],console.log("Selected media, level:",null===(s=r)||void 0===s?void 0:s.id)}else console.warn("Not valid starting quality, switching to Auto"),r={name:"Auto"};void 0==r&&(console.warn("Not valid starting quality, switching to Auto"),r={name:"Auto"}),setTimeout((function(){An(r),null!=gn&&clearTimeout(gn),gn=null,mn("Controls/setIsSelectingLayer",!1),mn("Controls/setIsLoading",!1)}),1500)}},Vn=function(e){mn("Controls/setViewerCount",e.data.viewercount)},An=function(e){Xt(e)},Rn=function(){var e=l(c().mark((function e(t){var n,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.kind,r=t.source,e.next=3,ln({kind:n,source:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Nn=function(){var e=l(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:pn(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ln=function(){var e=l(c().mark((function e(t,n,r,o){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:fn(t,n,r,o);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,o){return e.apply(this,arguments)}}(),_n=function(){var e=l(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:hn();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mn=function(){var e=l(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Nt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Bn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n("8172"),n("efec"),n("a9e3");function Dn(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Fn(e){var t=Dn(e,"string");return"symbol"==a(t)?t:String(t)}function Un(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fn(r.key),r)}}function zn(e,t,n){return t&&Un(e.prototype,t),n&&Un(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Gn=Object.defineProperty,$n=Object.getOwnPropertySymbols,Hn=Object.prototype.hasOwnProperty,Wn=Object.prototype.propertyIsEnumerable,qn=(e,t,n)=>t in e?Gn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qn=(e,t)=>{for(var n in t||(t={}))Hn.call(t,n)&&qn(e,n,t[n]);if($n)for(var n of $n(t))Wn.call(t,n)&&qn(e,n,t[n]);return e},Xn=e=>"function"===typeof e,Yn=e=>"string"===typeof e,Jn=e=>Yn(e)&&e.trim().length>0,Kn=e=>"number"===typeof e,Zn=e=>"undefined"===typeof e,er=e=>"object"===typeof e&&null!==e,tr=e=>ar(e,"tag")&&Jn(e.tag),nr=e=>window.TouchEvent&&e instanceof TouchEvent,rr=e=>ar(e,"component")&&ir(e.component),or=e=>Xn(e)||er(e),ir=e=>!Zn(e)&&(Yn(e)||or(e)||rr(e)),sr=e=>er(e)&&["height","width","right","left","top","bottom"].every(t=>Kn(e[t])),ar=(e,t)=>(er(e)||Xn(e))&&t in e,cr=(e=>()=>e++)(0);function ur(e){return nr(e)?e.targetTouches[0].clientX:e.clientX}function lr(e){return nr(e)?e.targetTouches[0].clientY:e.clientY}var dr,fr,pr,hr=e=>{Zn(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},mr=e=>rr(e)?mr(e.component):tr(e)?Object(i["defineComponent"])({render(){return e}}):"string"===typeof e?e:Object(i["toRaw"])(Object(i["unref"])(e)),vr=e=>{if("string"===typeof e)return e;const t=ar(e,"props")&&er(e.props)?e.props:{},n=ar(e,"listeners")&&er(e.listeners)?e.listeners:{};return{component:mr(e),props:t,listeners:n}},gr=()=>"undefined"!==typeof window,br=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){const n=this.getHandlers(e);n.forEach(e=>e(t))}},yr=e=>["on","off","emit"].every(t=>ar(e,t)&&Xn(e[t]));(function(e){e["SUCCESS"]="success",e["ERROR"]="error",e["WARNING"]="warning",e["INFO"]="info",e["DEFAULT"]="default"})(dr||(dr={})),function(e){e["TOP_LEFT"]="top-left",e["TOP_CENTER"]="top-center",e["TOP_RIGHT"]="top-right",e["BOTTOM_LEFT"]="bottom-left",e["BOTTOM_CENTER"]="bottom-center",e["BOTTOM_RIGHT"]="bottom-right"}(fr||(fr={})),function(e){e["ADD"]="add",e["DISMISS"]="dismiss",e["UPDATE"]="update",e["CLEAR"]="clear",e["UPDATE_DEFAULTS"]="update_defaults"}(pr||(pr={}));var wr="Vue-Toastification",Sr={type:{type:String,default:dr.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Or={type:Sr.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Er={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Sr.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},Cr={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},jr={transition:{type:[Object,String],default:wr+"__bounce"}},xr={position:{type:String,default:fr.TOP_RIGHT},draggable:Sr.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Sr.trueBoolean,pauseOnHover:Sr.trueBoolean,closeOnClick:Sr.trueBoolean,timeout:Cr.timeout,hideProgressBar:Cr.hideProgressBar,toastClassName:Sr.classNames,bodyClassName:Sr.classNames,icon:Or.customIcon,closeButton:Er.component,closeButtonClassName:Er.classNames,showCloseButtonOnHover:Er.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new br}},kr={id:{type:[String,Number],required:!0,default:0},type:Sr.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Tr={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Sr.trueBoolean,maxToasts:{type:Number,default:20},transition:jr.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Sr.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Ir={CORE_TOAST:xr,TOAST:kr,CONTAINER:Tr,PROGRESS_BAR:Cr,ICON:Or,TRANSITION:jr,CLOSE_BUTTON:Er},Pr=Object(i["defineComponent"])({name:"VtProgressBar",props:Ir.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:this.timeout+"ms",animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?wr+"__progress-bar":""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Vr(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{style:Object(i["normalizeStyle"])(e.style),class:Object(i["normalizeClass"])(e.cpClass)},null,6)}Pr.render=Vr;var Ar=Pr,Rr=Object(i["defineComponent"])({name:"VtCloseButton",props:Ir.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?mr(this.component):"button"},classes(){const e=[wr+"__close-button"];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Nr=Object(i["createTextVNode"])(" × ");function Lr(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.buttonComponent),Object(i["mergeProps"])({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Object(i["withCtx"])(()=>[Nr]),_:1},16,["aria-label","class"])}Rr.render=Lr;var _r=Rr,Mr={},Br={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Dr=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Fr=[Dr];function Ur(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Br,Fr)}Mr.render=Ur;var zr=Mr,Gr={},$r={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Hr=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Wr=[Hr];function qr(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",$r,Wr)}Gr.render=qr;var Qr=Gr,Xr={},Yr={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Jr=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Kr=[Jr];function Zr(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",Yr,Kr)}Xr.render=Zr;var eo=Xr,to={},no={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},ro=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),oo=[ro];function io(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",no,oo)}to.render=io;var so=to,ao=Object(i["defineComponent"])({name:"VtIcon",props:Ir.ICON,computed:{customIconChildren(){return ar(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Yn(this.customIcon)?this.trimValue(this.customIcon):ar(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return ar(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:ir(this.customIcon)?mr(this.customIcon):this.iconTypeComponent},iconTypeComponent(){const e={[dr.DEFAULT]:Qr,[dr.INFO]:Qr,[dr.SUCCESS]:zr,[dr.ERROR]:so,[dr.WARNING]:eo};return e[this.type]},iconClasses(){const e=[wr+"__icon"];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Jn(e)?e.trim():t}}});function co(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.component),{class:Object(i["normalizeClass"])(e.iconClasses)},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.customIconChildren),1)]),_:1},8,["class"])}ao.render=co;var uo=ao,lo=Object(i["defineComponent"])({name:"VtToast",components:{ProgressBar:Ar,CloseButton:_r,Icon:uo},inheritAttrs:!1,props:Object.assign({},Ir.CORE_TOAST,Ir.TOAST),data(){const e={isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}};return e},computed:{classes(){const e=[wr+"__toast",`${wr}__toast--${this.type}`,""+this.position].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(wr+"__toast--rtl"),e},bodyClasses(){const e=[`${wr}__toast-${Yn(this.content)?"body":"component-body"}`].concat(this.bodyClassName);return e},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return sr(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:ar,getVueComponentFromObj:mr,closeToast(){this.eventBus.emit(pr.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:ur(e),y:lr(e)},this.dragStart=ur(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:ur(e),y:lr(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,sr(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),fo=["role"];function po(e,t){const n=Object(i["resolveComponent"])("Icon"),r=Object(i["resolveComponent"])("CloseButton"),o=Object(i["resolveComponent"])("ProgressBar");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.classes),style:Object(i["normalizeStyle"])(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Object(i["createCommentVNode"])("v-if",!0),Object(i["createElementVNode"])("div",{role:e.accessibility.toastRole||"alert",class:Object(i["normalizeClass"])(e.bodyClasses)},["string"===typeof e.content?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.content),1)],2112)):(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.getVueComponentFromObj(e.content)),Object(i["mergeProps"])({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Object(i["toHandlers"])(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,fo),e.closeButton?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Object(i["withModifiers"])(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Object(i["createCommentVNode"])("v-if",!0),e.timeout?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Object(i["createCommentVNode"])("v-if",!0)],38)}lo.render=po;var ho=lo,mo=Object(i["defineComponent"])({name:"VtTransition",props:Ir.TRANSITION,emits:["leave"],methods:{hasProp:ar,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function vo(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(i["TransitionGroup"],{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:e.transition+"-enter-active","move-class":e.transition.move?e.transition.move:e.transition+"-move","leave-active-class":e.transition.leave?e.transition.leave:e.transition+"-leave-active",onLeave:e.leave},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}mo.render=vo;var go=mo,bo=Object(i["defineComponent"])({name:"VueToastification",devtools:{hide:!0},components:{Toast:ho,VtTransition:go},props:Object.assign({},Ir.CORE_TOAST,Ir.CONTAINER,Ir.TRANSITION),data(){const e={count:0,positions:Object.values(fr),toasts:{},defaults:{}};return e},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(pr.ADD,this.addToast),e.on(pr.CLEAR,this.clearToasts),e.on(pr.DISMISS,this.dismissToast),e.on(pr.UPDATE,this.updateToast),e.on(pr.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Xn(e)&&(e=await e()),hr(this.$el),e.appendChild(this.$el)},setToast(e){Zn(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=vr(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];Zn(t)||Zn(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(t=>t.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){Zn(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){const t=[wr+"__container",e];return t.concat(this.defaults.containerClassName)}}});function yo(e,t){const n=Object(i["resolveComponent"])("Toast"),r=Object(i["resolveComponent"])("VtTransition");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.positions,t=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t},[Object(i["createVNode"])(r,{transition:e.defaults.transition,class:Object(i["normalizeClass"])(e.getClasses(t))},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.getPositionToasts(t),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(n,Object(i["mergeProps"])({key:e.id},e),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}bo.render=yo;var wo=bo,So=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new br;t&&Object(i["nextTick"])(()=>{const t=Object(i["createApp"])(wo,Qn({},e)),n=t.mount(document.createElement("div")),r=e.onMounted;if(Zn(r)||r(n,t),e.shareAppContext){const n=e.shareAppContext;!0===n?console.warn(`[${wr}] App to share context with was not provided.`):(t._context.components=n._context.components,t._context.directives=n._context.directives,t._context.mixins=n._context.mixins,t._context.provides=n._context.provides,t.config.globalProperties=n.config.globalProperties)}});const r=(e,t)=>{const r=Object.assign({},{id:cr(),type:dr.DEFAULT},t,{content:e});return n.emit(pr.ADD,r),r.id};function o(e,{content:t,options:r},o=!1){const i=Object.assign({},r,{content:t});n.emit(pr.UPDATE,{id:e,options:i,create:o})}return r.clear=()=>n.emit(pr.CLEAR,void 0),r.updateDefaults=e=>{n.emit(pr.UPDATE_DEFAULTS,e)},r.dismiss=e=>{n.emit(pr.DISMISS,e)},r.update=o,r.success=(e,t)=>r(e,Object.assign({},t,{type:dr.SUCCESS})),r.info=(e,t)=>r(e,Object.assign({},t,{type:dr.INFO})),r.error=(e,t)=>r(e,Object.assign({},t,{type:dr.ERROR})),r.warning=(e,t)=>r(e,Object.assign({},t,{type:dr.WARNING})),r},Oo=()=>{const e=()=>console.warn(`[${wr}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Eo(e){return gr()?yr(e)?So({eventBus:e},!1):So(e,!0):Oo()}var Co=Symbol("VueToastification"),jo=new br,xo=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const n=Eo(Qn({eventBus:jo},t));e.provide(Co,n)},ko=e=>{if(e)return Eo(e);const t=Object(i["getCurrentInstance"])()?Object(i["inject"])(Co,void 0):void 0;return t||Eo(jo)},To=xo,Io={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},Po=function(){function e(){Bn(this,e),this.toast=ko(),this.store=rt}return zn(e,[{key:"showToast",value:function(e,t,n){this.toast=ko(),this.toast.clear(),this.shouldShowError(e)&&this.showToaster(e,t,n)}},{key:"showToaster",value:function(e,t,n){switch(e){case Io.ERROR:this.toast.error(t,n);break;case Io.WARNING:this.toast.warning(t,n);break;case Io.INFO:this.toast.info(t,n);break;case Io.SUCCESS:this.toast.success(t,n);break;default:break}}},{key:"shouldShowError",value:function(e){var t,n=null===(t=this.store)||void 0===t||null===(t=t._state)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.Controls.hideToast;return!(n&&n.includes(e))}},{key:"clear",value:function(){this.toast=ko(),this.toast.clear()}},{key:"updateDefaults",value:function(e){this.toast=ko(),this.toast.updateDefaults(e)}}]),e}(),Vo=Po,Ao={name:"VideoPlayerMedia",data:function(){return{accountId:null,streamName:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null,toast:null}}},mounted:function(){var e=this;return l(c().mark((function t(){var n;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.getElementById(e.currentElementRef),bn({videoPlayer:n,srcObject:null,volume:1,muted:e.viewer.muted,autoplay:e.viewer.autoplay});case 2:case"end":return t.stop()}}),t)})))()},computed:d(d(d(d(d(d(d({},Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ae("Sources",{isAudioOnly:function(e){return e.isAudioOnly},stream:function(e){return e.stream},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioSources:function(e){return e.audioSources},videoSources:function(e){return e.videoSources},mainLabel:function(e){return e.mainLabel}})),Ae("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},playerMuted:function(e){return e.muted},isLive:function(e){return e.isLive},reconnection:function(e){return e.reconnection},reconnectionStatus:function(e){return e.reconnection.status},currentElementRef:function(e){return e.currentElementRef},isMigrating:function(e){return e.isMigrating},isSplittedView:function(e){return e.isSplittedView},previousSplitState:function(e){return e.previousSplitState},isGrid:function(e){return e.isGrid},fullscreen:function(e){return e.fullscreen}})),Ae("Params",{viewer:function(e){return e.viewer}})),Ne("Sources",["getVideoHasMain","getAudioHasMain"])),{},{displayAudioOnly:function(){return this.isAudioOnly&&this.isLive||null===this.viewer.placeholderImg&&!this.isLive}}),methods:d(d(d(d(d(d({},Re("Sources",["addVideoSource","addAudioSource","setStream"])),Re("Layers",["addLayers","selectQuality","deleteLayers"])),Re("Controls",["setVideoMuted","setDropup","setTrackWarning","stopVideo","setAutoPlayMuted","userParamOptions","setIsSplittedView"])),Re("ViewConnection",["setMillicastView"])),Le("Sources",["updateBroadcastState"])),{},{stop:function(){var e;null===(e=this.millicastView)||void 0===e||e.stop(),this.stopCurrentVideo()},stopCurrentVideo:function(){this.eventListeners.stats=null,this.stopVideo()}}),watch:{reconnectionStatus:function(e){var t,n=this;if(this.toast=new Vo,this.toast.clear(),e){var r;this.setIsSplittedView(!1);var o,i="Connection lost. Retrying...";if(null!==(r=this.reconnection)&&void 0!==r&&r.timeout)t={timeout:null===(o=this.reconnection)||void 0===o?void 0:o.timeout};this.toast.showToast("warning",i,t)}else{var s=function e(t){["connected"].includes(t)&&(n.setIsSplittedView(n.previousSplitState),n.millicastView.removeListener("connectionStateChange",e),n.toast.clear())};this.millicastView.on("connectionStateChange",s)}},displayAudioOnly:function(){var e=l(c().mark((function e(){var t,n,r,o,s;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.video.srcObject,n=this.video.volume,r=this.video.muted,o=this.video.autoplay,e.next=6,Object(i["nextTick"])();case 6:s=document.getElementById(this.currentElementRef),bn({videoPlayer:s,srcObject:t,volume:n,muted:r,autoplay:o});case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewer:function(){var e=this;return l(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Cn();case 2:return t.next=4,Object(i["nextTick"])();case 4:return On(),t.prev=5,t.next=8,En();case 8:setTimeout((function(){e.setAutoPlayMuted(!1)}),6e3),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),e.toast.showToast("error",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})))()}}},Ro=(n("306f"),n("6b0d")),No=n.n(Ro);const Lo=No()(Ao,[["render",V],["__scopeId","data-v-35be14d8"]]);var _o=Lo,Mo=["onClick","id"],Bo=["id"];function Do(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.isGrid?"sources":"list-side")},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.sourceRemoteTracks,(function(t,n){var r,a,c,u;return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.isGrid?"grid-item":"list-item"),style:"scroll-snap-align: end",key:"p"+n},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["videoText",e.isGrid?"videoGrid":""])},[Object(i["createElementVNode"])("video",{onClick:function(){var e;return o.enableClick&&s.switchProjection(null===(e=t.transceiver)||void 0===e?void 0:e.mid)},id:"sidePlayer".concat(null===(r=t.transceiver)||void 0===r?void 0:r.mid),ref_for:!0,ref:"sidePlayer".concat(null===(a=t.transceiver)||void 0===a?void 0:a.mid),class:Object(i["normalizeClass"])(!e.isGrid&&e.isSplittedView?"hires-class":""),autoplay:"",muted:"",playsinline:""},null,10,Mo),e.viewer.showLabels?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,id:"sideLabel".concat(null===(c=t.transceiver)||void 0===c?void 0:c.mid),ref_for:!0,ref:"sideLabel".concat(null===(u=t.transceiver)||void 0===u?void 0:u.mid)},Object(i["toDisplayString"])(t.sourceId),9,Bo)):Object(i["createCommentVNode"])("",!0)],2)],2)})),128))],2)}var Fo={name:"VideoPlayerSideVideoSources",data:function(){return{indexSourceProjectedInMain:null,indexMainMediaSource:0,playerRef:null,enableClick:!0,toast:new Vo}},computed:d(d(d(d(d({},Ae("Sources",["sourceRemoteTracks","videoSources","audioSources","transceiverSourceState","audioFollowsVideo"])),Ae("Controls",{fullscreen:function(e){return e.fullscreen},isGrid:function(e){return e.isGrid},isSplittedView:function(e){return e.isSplittedView},currentElementRef:function(e){return e.currentElementRef}})),Ne("Sources",["getVideoHasMain","getSelectedVideoSource"])),Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Params",{viewer:function(e){return e.viewer}})),mounted:function(){var e=this;return l(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:Rn({kind:"video",source:e.videoSources[0]}),e.setMainLabel(e.videoSources[0].name),e.sourceRemoteTracks.forEach(function(){var e=l(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nn(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.playerRef=document.getElementById("player");case 4:case"end":return t.stop()}}),t)})))()},unmounted:function(){var e=this;return l(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.videoSources.forEach((function(t){e.transceiverSourceState[t.mid]=t})),_n();case 2:case"end":return t.stop()}}),t)})))()},watch:{"sourceRemoteTracks.length":{handler:function(){var e=l(c().mark((function e(t,n){var r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>n)){e.next=6;break}return r=t-1,e.next=4,Nn(this.sourceRemoteTracks[r]);case 4:e.next=7;break;case 6:this.sourceRemoteTracks.forEach(function(){var e=l(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Nn(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 7:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}},methods:d(d(d(d({},Re("Controls",["toggleFullscreen","setIsSplittedView"])),Re("Sources",["setMainLabel","setPreviousMainLabel","updateTransceiverSourceState"])),Ne("Layers",["getActiveMedias","getActiveMainTransceiverMedias"])),{},{switchProjection:function(e){var t=this;return l(c().mark((function n(){var r,o,s,a,u,l,d;return c().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(i["nextTick"])();case 2:return t.enableClick=!1,t.playerRef=document.getElementById(t.currentElementRef),o=t.transceiverSourceState[e],a=t.videoSources[0].mid,u=o.name,l=t.audioSources.find((function(e){return e.name===u})),t.getVideoHasMain&&(t.viewer.showLabels&&(t.$refs["sideLabel".concat(e)][0].textContent=t.transceiverSourceState[a].name),d=t.transceiverSourceState[a].sourceId,a=t.transceiverSourceState[a].mid,a in t.getActiveMedias()&&(s=t.getActiveMedias()[a].layers.slice(-1)[0]),Ln(d,e,t.transceiverSourceState[a].trackId,s),t.updateTransceiverSourceState({source:o})),t.setMainLabel(null!==(r=o.sourceId)&&void 0!==r?r:o.name),n.next=12,Rn({kind:"video",source:o});case 12:if(t.isGrid&&t.setIsSplittedView(!1),!l||!t.audioFollowsVideo){n.next=22;break}return n.prev=14,n.next=17,Rn({kind:"audio",source:l});case 17:n.next=22;break;case 19:n.prev=19,n.t0=n["catch"](14),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 22:t.enableClick=!0;case 23:case"end":return n.stop()}}),n,null,[[14,19]])})))()}})};n("da1f");const Uo=No()(Fo,[["render",Do],["__scopeId","data-v-aac4ed3c"]]);var zo=Uo,Go={key:0,class:"align-middle"},$o=["textContent"];function Ho(e,t,n,r,o,s){return e.isLoading?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h4",Go,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["badge badge-secondary",{"badge-danger":e.isLive}]),textContent:Object(i["toDisplayString"])(s.text),style:{border:"0px"}},null,10,$o)]))}var Wo={name:"VideoPlayerControlsBadge",computed:d(d({},Ae("Controls",{isLive:function(e){return e.isLive},isLoading:function(e){return e.isLoading}})),{},{text:function(){return this.isLive?"LIVE":"NOT LIVE"}})};const qo=No()(Wo,[["render",Ho]]);var Qo=qo;function Xo(e,t,n,r,o,s){return e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return n.click&&n.click.apply(n,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-fullscreen":!o.fullscreen,"ml-viewer-bi-fullscreen-exit":o.fullscreen}])},null,2),Object(i["createTextVNode"])(" Full Screen ")])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-fullscreen":!o.fullscreen,"ml-viewer-bi-fullscreen-exit":o.fullscreen}]),onClick:t[1]||(t[1]=function(){return n.click&&n.click.apply(n,arguments)})},null,2))}var Yo={name:"VideoPlayerControlsFullscreen",props:{click:Function},data:function(){return{fullscreen:!1}},mounted:function(){var e,t=this;document.onfullscreenchange=function(){t.fullscreen=!!document.fullscreenElement};var n=null!==(e=document.getElementById("player"))&&void 0!==e?e:document.getElementById("player2");n.onwebkitfullscreenchange=function(){t.fullscreen=n.fullscreenElement},this.fullscreen=!!document.fullscreenElement||n.fullscreenElement},computed:d({},Ae("Controls",{isMobile:function(e){return e.isMobile}}))};const Jo=No()(Yo,[["render",Xo]]);var Ko=Jo;function Zo(e,t,n,r,o,s){return e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2),Object(i["createTextVNode"])(" Miniplayer ")])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"mobile-setting",onClick:t[1]||(t[1]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2)]))}var ei={name:"VideoPlayerControlsPip",computed:d({},Ae("Controls",{isMobile:function(e){return e.isMobile},pip:function(e){return e.pip},video:function(e){return e.video}})),methods:{togglePip:function(){!this.pip&&this.video.srcObject&&"VIDEO"===this.video.nodeName?this.video.requestPictureInPicture():document.exitPictureInPicture()}}};n("6a15");const ti=No()(ei,[["render",Zo],["__scopeId","data-v-63e7514d"]]);var ni=ti;function ri(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-play-fill":!e.playing,"ml-viewer-bi-pause-fill":e.playing}]),onClick:t[0]||(t[0]=function(){return s.togglePlay&&s.togglePlay.apply(s,arguments)})},null,2)}var oi={name:"VideoPlayerControlsPlay",computed:d({},Ae("Controls",{video:function(e){return e.video},playing:function(e){return e.playing}})),methods:{togglePlay:function(){var e=l(c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.playing){e.next=5;break}return e.next=3,this.video.pause();case 3:e.next=10;break;case 5:if(null===(null===(t=this.video)||void 0===t?void 0:t.srcObject)){e.next=10;break}return e.next=8,En();case 8:return e.next=10,this.video.play();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};const ii=No()(oi,[["render",ri]]);var si=ii,ai=function(e){return Object(i["pushScopeId"])("data-v-464a8bef"),e=e(),Object(i["popScopeId"])(),e},ci={class:"dropup"},ui={key:0,class:"badge bg-light ms-2"},li=ai((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-exclamation-circle-fill p-0"},null,-1)})),di=[li],fi={class:"dropdown-header d-flex m-0 col-12"},pi=ai((function(){return Object(i["createElementVNode"])("h6",{class:"p-0 m-0"},"Settings",-1)})),hi={class:"p-0 ml-auto",style:{color:"#9e9e9e"}};function mi(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsSettingsQuality"),c=Object(i["resolveComponent"])("VideoPlayerControlsSettingsLayout"),u=Object(i["resolveComponent"])("VideoPlayerControlsSettingsSplitView"),l=Object(i["resolveComponent"])("VideoPlayerControlsSettingsVideoTrack"),d=Object(i["resolveComponent"])("VideoPlayerControlsSettingsAudioTrack"),f=Object(i["resolveComponent"])("VideoPlayerControlsSettingsStats"),p=Object(i["resolveComponent"])("VideoPlayerControlsSettingsReportIssue"),h=Object(i["resolveComponent"])("VideoPlayerControlsSettingsDropdown");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[""!==e.dropup?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#viewer-container"},[Object(i["createElementVNode"])("div",{class:"backdrop",onClick:t[0]||(t[0]=function(t){return e.setDropup("")})})])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("span",ci,[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-gear-fill h3 align-middle control-icon",onClick:t[1]||(t[1]=function(t){return e.setDropup("settings")})},[e.trackWarning?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ui,di)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{ref:"settings",class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"settings"===e.dropup}]),style:{"margin-bottom":"0.9rem"}},[Object(i["createElementVNode"])("div",fi,[pi,Object(i["createElementVNode"])("div",hi,Object(i["toDisplayString"])(o.viewerVersion),1)]),e.getActiveMainTransceiverMedias.length>1?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1&&e.isSplittedView?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:2})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1||!e.getVideoHasMain&&e.getVideoSources.length?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:3,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(i["createCommentVNode"])("",!0),e.getAudioSources.length>1||!e.getAudioHasMain&&e.getAudioSources.length?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:4,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(f),Object(i["createVNode"])(p,{streamId:n.streamId},null,8,["streamId"])],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:o.showDropup}]),style:Object(i["normalizeStyle"])([{width:o.settingsWidth},{"margin-bottom":"0.9rem"}])},[Object(i["createVNode"])(h,{selected:o.selected,items:o.items,compare:o.compare,handleClick:o.handleClick,title:o.dropupTitle,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["selected","items","compare","handleClick","title","unsupportedFlagEmoji","sourceFlagEmojiToPng"])],6)])],64)}function vi(e){if(Array.isArray(e))return Bt(e)}function gi(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bi(e){return vi(e)||Mt(e)||Dt(e)||gi()}n("a15b"),n("f5b2");var yi=function(e){return Object(i["pushScopeId"])("data-v-7ef173a6"),e=e(),Object(i["popScopeId"])(),e},wi={class:"back-header mr-2"},Si={class:"bi ml-viewer-bi-camera-video-fill"},Oi={key:0,class:"badge bg-danger"},Ei=["innerHTML"],Ci={key:1},ji=yi((function(){return Object(i["createElementVNode"])("div",{class:"back-arrow"},[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function xi(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("videoTracks")})},[Object(i["createElementVNode"])("span",wi,[Object(i["createElementVNode"])("i",Si,["none"===this.selectedVideoSource.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Oi)):Object(i["createCommentVNode"])("",!0)]),Object(i["createTextVNode"])(" Video Source: ")]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedVideoSource.name?"none":"",null===this.selectedVideoSource.sourceId?"main":""]])},[n.unsupportedFlagEmoji(this.selectedVideoSource.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:n.sourceFlagEmojiToPng(this.selectedVideoSource.name)},null,8,Ei)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ci,Object(i["toDisplayString"])(this.selectedVideoSource.name),1))],2),ji])}var ki={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:d({},Ae("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource}})),methods:d({},Re("Controls",["setDropup"]))};n("d8d3");const Ti=No()(ki,[["render",xi],["__scopeId","data-v-7ef173a6"]]);var Ii=Ti,Pi=function(e){return Object(i["pushScopeId"])("data-v-c75512c2"),e=e(),Object(i["popScopeId"])(),e},Vi={class:"back-header mr-2"},Ai={class:"bi ml-viewer-bi-soundwave"},Ri={key:0,class:"badge bg-danger"},Ni=["innerHTML"],Li={key:1},_i=Pi((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function Mi(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("audioTracks")})},[Object(i["createElementVNode"])("span",Vi,[Object(i["createElementVNode"])("i",Ai,["none"===this.selectedAudioSource.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ri)):Object(i["createCommentVNode"])("",!0)]),Object(i["createTextVNode"])(" Audio Source: ")]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedAudioSource.name?"none":"",null===this.selectedAudioSource.sourceId?"main":""]])},[n.unsupportedFlagEmoji(this.selectedAudioSource.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:n.sourceFlagEmojiToPng(this.selectedAudioSource.name)},null,8,Ni)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Li,Object(i["toDisplayString"])(this.selectedAudioSource.name),1))],2),_i])}var Bi={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:d({},Ae("Sources",{selectedAudioSource:function(e){return e.selectedAudioSource}})),methods:d({},Re("Controls",["setDropup"]))};n("4cb6");const Di=No()(Bi,[["render",Mi],["__scopeId","data-v-c75512c2"]]);var Fi=Di,Ui=Object(i["createElementVNode"])("span",{class:"back-header mr-2"},[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-sliders"}),Object(i["createTextVNode"])(" Video Quality: ")],-1),zi={class:"dropdown-item-name mr-auto"},Gi=Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1);function $i(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("qualities")})},[Ui,Object(i["createElementVNode"])("div",zi,Object(i["toDisplayString"])(this.selectedQuality.name),1),Gi])}var Hi={name:"VideoPlayerControlsSettingsQuality",computed:d({},Ae("Layers",{selectedQuality:function(e){return e.selectedQuality}})),methods:d({},Re("Controls",["setDropup"]))};const Wi=No()(Hi,[["render",$i]]);var qi=Wi,Qi=function(e){return Object(i["pushScopeId"])("data-v-00e40a59"),e=e(),Object(i["popScopeId"])(),e},Xi=Qi((function(){return Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-info-circle-fill align-middle control-icon"},null,-1)}));function Yi(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerStatsTable");return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:Object(i["normalizeClass"])(["dropdown-item",{disabled:!e.isLive}]),onClick:t[0]||(t[0]=function(){return s.toggleStats&&s.toggleStats.apply(s,arguments)})},[Xi,Object(i["createTextVNode"])(" Media Stats "),o.showStats?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#vplayer"},[Object(i["createVNode"])(a,{close:s.toggleStats},null,8,["close"])])):Object(i["createCommentVNode"])("",!0)],2)}var Ji=function(e){return Object(i["pushScopeId"])("data-v-2bf4d0e0"),e=e(),Object(i["popScopeId"])(),e},Ki={class:"table table-sm table-dark table-borderless fixed-top"},Zi={key:0,class:"d-flex align-items-center"},es=Ji((function(){return Object(i["createElementVNode"])("span",null,"Source:",-1)})),ts=["value"],ns={colspan:"2",class:"text-right"},rs=Ji((function(){return Object(i["createElementVNode"])("tr",{class:"row mx-0 text-left"},[Object(i["createElementVNode"])("th",{scope:"col",class:"col-6"},"Name"),Object(i["createElementVNode"])("th",{scope:"col",class:"col-6"},"Value")],-1)})),os={key:0,class:"row mx-0"},is=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Server Id",-1)})),ss={class:"col-6"},as={key:1,class:"row mx-0"},cs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"RTT",-1)})),us={class:"col-6"},ls={key:2,class:"row mx-0"},ds=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Resolution",-1)})),fs={class:"col-6"},ps={key:3,class:"row mx-0"},hs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"FPS",-1)})),ms={class:"col-6"},vs={key:4,class:"row mx-0"},gs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Bitrate",-1)})),bs={class:"col-6"},ys={key:5,class:"row mx-0"},ws=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Bitrate",-1)})),Ss={class:"col-6"},Os={key:6,class:"row mx-0"},Es=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Total Received",-1)})),Cs={class:"col-6"},js={key:7,class:"row mx-0"},xs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Total Received",-1)})),ks={class:"col-6"},Ts={key:8,class:"row mx-0"},Is=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Packet Loss",-1)})),Ps={class:"col-6"},Vs={key:9,class:"row mx-0"},As=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Packet Loss",-1)})),Rs={class:"col-6"},Ns={key:10,class:"row mx-0"},Ls=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Jitter",-1)})),_s={class:"col-6"},Ms={key:11,class:"row mx-0"},Bs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Jitter",-1)})),Ds={class:"col-6"},Fs={key:12,class:"row mx-0"},Us=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Capture timestamp",-1)})),zs=["textContent"],Gs={key:13,class:"row mx-0"},$s=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Capture delta time",-1)})),Hs=["textContent"],Ws={key:14,class:"row mx-0"},qs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Codecs",-1)})),Qs=["textContent"],Xs={key:15,class:"row mx-0"},Ys=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Timestamp",-1)})),Js=["textContent"],Ks={key:16,class:"row mx-0"},Zs=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Server",-1)})),ea=["textContent"],ta={key:17,class:"row mx-0"},na=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Cluster",-1)})),ra=["textContent"],oa={key:18,class:"row mx-0"},ia=Ji((function(){return Object(i["createElementVNode"])("td",{class:"col-12 center"},null,-1)})),sa=[ia],aa={key:19,class:"row mx-0"},ca={class:"col-12",align:"center"};function ua(e,t,n,r,o,s){var a,c,u,l,d,f,p,h,m,v,g,b;return Object(i["openBlock"])(),Object(i["createElementBlock"])("table",Ki,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",{class:Object(i["normalizeClass"])(["row mx-0 align-items-center",s.multiviewStatsAvailable?"justify-content-between":"justify-content-end"])},[s.multiviewStatsAvailable?(Object(i["openBlock"])(),Object(i["createElementBlock"])("th",Zi,[es,Object(i["withDirectives"])(Object(i["createElementVNode"])("select",{class:"ml-2 source-select","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.selectedSourceMid=e}),onChange:t[1]||(t[1]=function(){return s.handleSourceChange&&s.handleSourceChange.apply(s,arguments)})},[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.getTransceiverSourceState,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("option",{key:e.sourceId,value:e.mid},Object(i["toDisplayString"])(e.name),9,ts)})),128))],544),[[i["vModelSelect"],o.selectedSourceMid]])])):Object(i["createCommentVNode"])("",!0),Object(i["createElementVNode"])("th",ns,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-x-lg",onClick:t[2]||(t[2]=function(){return n.close&&n.close.apply(n,arguments)})})])],2),rs]),s.hasStats?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tbody",{key:0,style:Object(i["normalizeStyle"])([e.isMobile?"overflow-x: auto;":"overflow-x: hidden;"]),class:"text-left videoStats"},[null!==(a=e.millicastView)&&void 0!==a&&null!==(a=a.signaling)&&void 0!==a&&a.subscriberId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",os,[is,Object(i["createElementVNode"])("td",ss,Object(i["toDisplayString"])(e.millicastView.signaling.subscriberId),1)])):Object(i["createCommentVNode"])("",!0),o.stats.currentRoundTripTime?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",as,[cs,Object(i["createElementVNode"])("td",us,Object(i["toDisplayString"])(s.formatMilliseconds(o.stats.currentRoundTripTime)),1)])):Object(i["createCommentVNode"])("",!0),null!==(c=s.video)&&void 0!==c&&c.frameWidth&&null!==(u=s.video)&&void 0!==u&&u.frameHeight?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ls,[ds,Object(i["createElementVNode"])("td",fs,Object(i["toDisplayString"])("".concat(s.video.frameWidth,"x").concat(s.video.frameHeight)),1)])):Object(i["createCommentVNode"])("",!0),null!==(l=s.video)&&void 0!==l&&l.framesPerSecond?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ps,[hs,Object(i["createElementVNode"])("td",ms,Object(i["toDisplayString"])(s.video.framesPerSecond),1)])):Object(i["createCommentVNode"])("",!0),null!==(d=s.video)&&void 0!==d&&d.bitrate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",vs,[gs,Object(i["createElementVNode"])("td",bs,Object(i["toDisplayString"])(s.formatBitrate(s.video.bitrate)),1)])):Object(i["createCommentVNode"])("",!0),null!==(f=s.audio)&&void 0!==f&&f.bitrate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ys,[ws,Object(i["createElementVNode"])("td",Ss,Object(i["toDisplayString"])(s.formatBitrate(s.audio.bitrate)),1)])):Object(i["createCommentVNode"])("",!0),null!==(p=s.video)&&void 0!==p&&p.totalBytesReceived?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Os,[Es,Object(i["createElementVNode"])("td",Cs,Object(i["toDisplayString"])(s.formatTotalBytes(s.video.totalBytesReceived)),1)])):Object(i["createCommentVNode"])("",!0),null!==(h=s.audio)&&void 0!==h&&h.totalBytesReceived?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",js,[xs,Object(i["createElementVNode"])("td",ks,Object(i["toDisplayString"])(s.formatTotalBytes(s.audio.totalBytesReceived)),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(m=s.video)||void 0===m?void 0:m.totalPacketsLost)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ts,[Is,Object(i["createElementVNode"])("td",Ps,Object(i["toDisplayString"])(s.video.totalPacketsLost),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(v=s.audio)||void 0===v?void 0:v.totalPacketsLost)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Vs,[As,Object(i["createElementVNode"])("td",Rs,Object(i["toDisplayString"])(s.audio.totalPacketsLost),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(g=s.video)||void 0===g?void 0:g.jitter)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ns,[Ls,Object(i["createElementVNode"])("td",_s,Object(i["toDisplayString"])(s.formatMilliseconds(s.video.jitter)),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(b=s.audio)||void 0===b?void 0:b.jitter)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ms,[Bs,Object(i["createElementVNode"])("td",Ds,Object(i["toDisplayString"])(s.formatMilliseconds(s.audio.jitter)),1)])):Object(i["createCommentVNode"])("",!0),s.videoCaptureTimestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Fs,[Us,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.videoCaptureTimestamp),class:"col-6"},null,8,zs)])):Object(i["createCommentVNode"])("",!0),s.videoCaptureDelta?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Gs,[$s,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.videoCaptureDelta),class:"col-6"},null,8,Hs)])):Object(i["createCommentVNode"])("",!0),s.codecs?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ws,[qs,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.codecs),class:"col-6 text-break"},null,8,Qs)])):Object(i["createCommentVNode"])("",!0),s.timestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Xs,[Ys,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.timestamp),class:"col-6"},null,8,Js)])):Object(i["createCommentVNode"])("",!0),s.serverId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ks,[Zs,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.serverId),class:"col-6"},null,8,ea)])):Object(i["createCommentVNode"])("",!0),s.clusterId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ta,[na,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.clusterId),class:"col-6"},null,8,ra)])):Object(i["createCommentVNode"])("",!0),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",oa,sa)):Object(i["createCommentVNode"])("",!0),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",aa,[Object(i["createElementVNode"])("td",ca,[Object(i["createElementVNode"])("a",{onClick:t[3]||(t[3]=function(){return n.close&&n.close.apply(n,arguments)}),style:{cursor:"pointer"}},"Close stats")])])):Object(i["createCommentVNode"])("",!0)],4)):Object(i["createCommentVNode"])("",!0)])}n("accc");var la=["B","KB","MB","GB","TB"],da={name:"VideoPlayerStatsTable",props:{close:Function},data:function(){return{stats:{},statsIndex:0,selectedSourceMid:null,trackIdToStatsIndexMap:{},trackIdMidMap:{}}},mounted:function(){var e,t,n=this;this.millicastView.webRTCPeer.initStats(),this.millicastView.webRTCPeer.on("stats",(function(e){var t,r,o,i,s;n.trackIdMidMap=n.getTrackIdMidMap,null===(t=e.video)||void 0===t||null===(t=t.inbounds)||void 0===t||t.forEach((function(e,t){e.trackIdentifier&&(n.trackIdToStatsIndexMap[e.trackIdentifier]=t)})),null===(r=window.peer)||void 0===r||null===(o=r.getReceivers)||void 0===o||null===(i=(s=o.call(r)).forEach)||void 0===i||i.call(s,(function(e){n.stats.videoSynchronizationSources="video"===e.track.kind?e.getSynchronizationSources():n.stats.videoSynchronizationSources})),n.stats=d(d({},n.stats),e)})),this.selectedSourceMid=null!==(e=null===(t=this.getTransceiverSourceState[0])||void 0===t?void 0:t.mid)&&void 0!==e?e:Object.values(this.getTransceiverSourceState)[0].mid},beforeUnmount:function(){this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeAllListeners("stats")},methods:{closeTable:function(){this.close()},formatTotalBytes:function(e){return fa(e)},formatBitrate:function(e){return Yt(e)},formatMilliseconds:function(e){return"".concat(1e3*(e||0)," ms")},handleSourceChange:function(){var e,t=null!==(e=this.selectedSourceMid)&&void 0!==e?e:0,n=this.trackIdMidMap[t];this.statsIndex=this.trackIdToStatsIndexMap[n]},selectMidZero:function(){var e,t;this.selectedSourceMid=null!==(e=null===(t=this.getTransceiverSourceState[0])||void 0===t?void 0:t.mid)&&void 0!==e?e:Object.values(this.getTransceiverSourceState)[0].mid}},computed:d(d(d(d(d({},Ae("Controls",["isMobile","isSplittedView"])),Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Sources",["sourceRemoteTracks","videoSources"])),Ne("Sources",["getTransceiverSourceState","getTrackIdMidMap"])),{},{hasStats:function(){return Object.keys(this.stats).length>0},audio:function(){var e,t=null===(e=this.stats.audio)||void 0===e?void 0:e.inbounds;return(null===t||void 0===t?void 0:t.length)>0?t[0]:null},video:function(){var e,t=null===(e=this.stats.video)||void 0===e?void 0:e.inbounds,n=null===t||void 0===t?void 0:t.length;if(n){var r=this.trackIdMidMap[this.selectedSourceMid],o=this.trackIdToStatsIndexMap[r];return t[o]}return null},codecs:function(){var e,t,n=[];return null!==(e=this.video)&&void 0!==e&&e.mimeType&&n.push(this.video.mimeType),null!==(t=this.audio)&&void 0!==t&&t.mimeType&&n.push(this.audio.mimeType),n.join()},timestamp:function(){var e,t,n,r=null!==(e=null===(t=this.video)||void 0===t?void 0:t.timestamp)&&void 0!==e?e:null===(n=this.audio)||void 0===n?void 0:n.timestamp;return r?new Date(r).toISOString():null},videoCaptureTimestamp:function(){var e,t,n;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.captureTimestamp&&null!==(t=this.stats.videoSynchronizationSources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.timestamp){var r=pa(this.stats.videoSynchronizationSources[0].captureTimestamp);n=new Date(r).toISOString()}return n},videoCaptureDelta:function(){var e,t,n;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.captureTimestamp&&null!==(t=this.stats.videoSynchronizationSources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.timestamp){var r,o=pa(this.stats.videoSynchronizationSources[0].captureTimestamp);n=(null===(r=this.stats.videoSynchronizationSources)||void 0===r?void 0:r[0].timestamp)-o,n="".concat(n," ms")}return n},serverId:function(){var e;return null===(e=this.millicastView)||void 0===e||null===(e=e.signaling)||void 0===e?void 0:e.serverId},clusterId:function(){var e;return null===(e=this.millicastView)||void 0===e||null===(e=e.signaling)||void 0===e?void 0:e.clusterId},multiviewStatsAvailable:function(){var e=this.videoSources.length>1&&this.isSplittedView&&Object.keys(this.trackIdToStatsIndexMap).length;return e||this.selectMidZero(),e}})},fa=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t/1024;return r<1||r>1&&n+1>la.length?"".concat(Math.round(100*t)/100," ").concat(la[n]):r>1?e(r,n+1):void 0},pa=function(e){return e-22089888e5};n("7131");const ha=No()(da,[["render",ua],["__scopeId","data-v-2bf4d0e0"]]);var ma=ha,va={name:"VideoPlayerControlsSettingsStats",components:{VideoPlayerStatsTable:ma},data:function(){return{stats:{},showStats:!1}},computed:d({},Ae("Controls",["isLive"])),methods:d(d({},Re("Controls",["setDropup"])),{},{toggleStats:function(){this.showStats=!this.showStats,this.setDropup()}})};n("778f");const ga=No()(va,[["render",Yi],["__scopeId","data-v-00e40a59"]]);var ba=ga,ya=Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-flag-fill align-middle control-icon"},null,-1);function wa(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerReportModal");return o.showReportButton?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.toggleReport&&s.toggleReport.apply(s,arguments)})},[ya,Object(i["createTextVNode"])(" Report Playback Issue "),o.showReportModal?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#vplayer"},[Object(i["createVNode"])(a,{streamId:n.streamId,close:s.toggleReport},null,8,["streamId","close"])])):Object(i["createCommentVNode"])("",!0)])):Object(i["createCommentVNode"])("",!0)}var Sa=function(e){return Object(i["pushScopeId"])("data-v-35ddcbd6"),e=e(),Object(i["popScopeId"])(),e},Oa={class:"header"},Ea=Sa((function(){return Object(i["createElementVNode"])("span",{class:"ml-viewer-bi-flag-fill align-middle"},null,-1)})),Ca=["textContent"],ja={class:"form-group"},xa=Sa((function(){return Object(i["createElementVNode"])("label",{for:"name-input"},"Name",-1)})),ka={class:"form-group"},Ta=Sa((function(){return Object(i["createElementVNode"])("label",{for:"email-input"},"Email",-1)})),Ia={class:"form-group"},Pa=Sa((function(){return Object(i["createElementVNode"])("label",{for:"description-input"},"Description",-1)}));function Va(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("base-button"),c=Object(i["resolveComponent"])("base-modal");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{toggle:n.close},{"modal-header":Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",Oa,[Ea,Object(i["createElementVNode"])("h3",{textContent:Object(i["toDisplayString"])(o.title)},null,8,Ca)])]})),"modal-body":Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("form",{id:"reportForm",onSubmit:t[3]||(t[3]=Object(i["withModifiers"])((function(){return s.sendReport&&s.sendReport.apply(s,arguments)}),["prevent"]))},[Object(i["createElementVNode"])("div",ja,[xa,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",id:"name-input",placeholder:"Full name","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.report.name=e}),required:""},null,512),[[i["vModelText"],o.report.name]])]),Object(i["createElementVNode"])("div",ka,[Ta,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"email",class:"form-control",id:"email-input",placeholder:"name@example.com","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.report.email=e}),required:""},null,512),[[i["vModelText"],o.report.email]])]),Object(i["createElementVNode"])("div",Ia,[Pa,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",id:"description-input",rows:"4","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.report.description=e}),required:""},null,512),[[i["vModelText"],o.report.description]])])],32)]})),"modal-footer":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{btype:"btn-secondary",onClick:n.close},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])("Cancel")]})),_:1},8,["onClick"]),Object(i["createVNode"])(a,{type:"submit",btype:"btn-p",form:"reportForm",disabled:o.isLoading},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])("Submit")]})),_:1},8,["disabled"])]})),_:1},8,["toggle"])}n("e9c4");var Aa={name:"VideoPlayerReportModal",props:{close:Function,streamId:String},data:function(){return{title:"Report playback issue",report:{from:"Viewer",name:"",email:"",description:"",streamId:"",accountId:"",serverId:"",clusterId:"",url:"",log:[],statsInitialized:!1,toast:new Vo},localStats:[],isLoading:!1}},methods:{sendReport:function(){var e=this;return l(c().mark((function t(){var n,r,o,i,s,a,u,l,d;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:for(n=A["Logger"].getHistory(),r=0;r<e.localStats.length;r++)n.push("[PeerConnectionStats] - "+JSON.stringify(e.localStats[r]));return e.report.log=n,t.prev=5,e.isLoading=!0,u={"Content-Type":"application/json"},e.report.serverId=null!==(o=null===(i=e.millicastView)||void 0===i||null===(i=i.signaling)||void 0===i?void 0:i.serverId)&&void 0!==o?o:"NOT_CONNECTED",e.report.clusterId=null!==(s=null===(a=e.millicastView)||void 0===a||null===(a=a.signaling)||void 0===a?void 0:a.clusterId)&&void 0!==s?s:"NOT_CONNECTED",t.next=12,fetch(e.reportUrl+"/reports",{method:"POST",headers:u,body:JSON.stringify(e.report)});case 12:e.toast.showToast("success","Report sent successfully",{timeout:3e3}),t.next=20;break;case 15:t.prev=15,t.t0=t["catch"](5),d="Error: couldn't send report",null!==(l=t.t0.response)&&void 0!==l&&l.data&&(d+=", "+t.t0.response.data),e.toast.showToast("error",d,{timeout:3e3});case 20:return t.prev=20,e.isLoading=!1,e.close(),t.finish(20);case 24:case"end":return t.stop()}}),t,null,[[5,15,20,24]])})))()},statsHandler:function(e){var t=40;this.localStats.push(e),this.localStats.length>=t&&(this.localStats=this.localStats.slice(-t))}},computed:d(d({},Ae("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ae("Params",{reportUrl:function(e){return e.environment.VUE_APP_REPORT_URL}})),mounted:function(){var e,t,n,r;this.report.accountId=null===(e=this.streamId)||void 0===e?void 0:e.match(/^(.*?)\/.*$/)[1],this.report.streamId=null===(t=this.streamId)||void 0===t?void 0:t.match(/^.*?\/(.*)$/)[1],this.report.url=window.location.href,null===(n=this.millicastView)||void 0===n||!n.webRTCPeer||null!==(r=this.millicastView)&&void 0!==r&&null!==(r=r.webRTCPeer)&&void 0!==r&&r.peerConnectionStats||(this.millicastView.webRTCPeer.initStats(),this.statsInitialized=!0),this.millicastView.webRTCPeer.on("stats",this.statsHandler)},beforeUnmount:function(){this.statsInitialized&&this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeListener("stats",this.statsHandler)}};n("a42f");const Ra=No()(Aa,[["render",Va],["__scopeId","data-v-35ddcbd6"]]);var Na=Ra,La={name:"VideoPlayerControlsSettingsReportIssue",components:{VideoPlayerReportModal:Na},props:{streamId:String},data:function(){return{showReportModal:!1,showReportButton:!1}},methods:d(d({},Re("Controls",["setDropup"])),{},{toggleReport:function(){this.showReportModal=!this.showReportModal,this.setDropup("")}}),computed:d({},Ae("Params",{reportUrl:function(e){return this.showReportButton=!!e.environment.VUE_APP_REPORT_URL,e.environment.VUE_APP_REPORT_URL}})),watch:{reportUrl:function(e){this.showReportButton=!!e}}};const _a=No()(La,[["render",wa]]);var Ma=_a,Ba=function(e){return Object(i["pushScopeId"])("data-v-491ccd6e"),e=e(),Object(i["popScopeId"])(),e},Da=Ba((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-left p-0"},null,-1)})),Fa=["onClick"],Ua={class:"form-check p-0"},za={class:"row"},Ga={class:"col-1 mr-1"},$a={class:"bi ml-viewer-bi-check p-0"},Ha=["innerHTML"],Wa={key:1};function qa(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("h6",{class:"dropdown-header back-header",onClick:t[0]||(t[0]=function(t){return e.setDropup("settings")})},[Da,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(n.title),1)]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.items,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:e.selectId,class:Object(i["normalizeClass"])([{disabled:e.disabled},"dropdown-item"]),onClick:function(t){return s.handleSelect(e)}},[Object(i["createElementVNode"])("div",Ua,[Object(i["createElementVNode"])("div",za,[Object(i["createElementVNode"])("div",Ga,[Object(i["withDirectives"])(Object(i["createElementVNode"])("i",$a,null,512),[[i["vShow"],n.compare(n.selected,e)]])]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["item-name",[null===(null===e||void 0===e?void 0:e.sourceId)?"main":""]])},[null!==e&&void 0!==e&&e.name&&n.unsupportedFlagEmoji(null===e||void 0===e?void 0:e.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,innerHTML:n.sourceFlagEmojiToPng(null===e||void 0===e?void 0:e.name)},null,8,Ha)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Wa,Object(i["toDisplayString"])(null===e||void 0===e?void 0:e.name),1))],2)])])],10,Fa)})),128))],64)}var Qa={name:"VideoPlayerControlsSettingsDropdown",components:{},props:{title:String,handleClick:Function,selected:Object,items:Array,compare:Function,unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:{},methods:d(d({},Re("Controls",["setDropup"])),{},{handleSelect:function(e){this.handleClick(e),this.setDropup("")}})};n("7442");const Xa=No()(Qa,[["render",qa],["__scopeId","data-v-491ccd6e"]]);var Ya=Xa,Ja=Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-layout-sidebar-inset-reverse align-middle control-icon"},null,-1);function Ka(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.setIsSplittedView(!e.isSplittedView)})},[Ja,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(e.isSplittedView?"Hide":"Show")+" Multi View ",1)])}var Za={name:"VideoPlayerControlsSettingsSplitView",computed:d({},Ae("Controls",["isSplittedView"])),methods:d({},Re("Controls",["setIsSplittedView"]))};const ec=No()(Za,[["render",Ka]]);var tc=ec;function nc(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.setIsGrid(!e.isGrid)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])([e.isGrid?"bi ml-viewer-bi-grid":"bi ml-viewer-bi-grid-1x2","align-middle control-icon"])},null,2),Object(i["createTextVNode"])(" Change layout ")])}var rc={name:"VideoPlayerControlsSettingsLayout",computed:d({},Ae("Controls",["isGrid"])),methods:d({},Re("Controls",["setIsGrid"]))};const oc=No()(rc,[["render",nc]]);var ic=oc,sc=n("9224"),ac={name:"VideoPlayerControlsSettings",components:{VideoPlayerControlsSettingsVideoTrack:Ii,VideoPlayerControlsSettingsAudioTrack:Fi,VideoPlayerControlsSettingsQuality:qi,VideoPlayerControlsSettingsStats:ba,VideoPlayerControlsSettingsReportIssue:Ma,VideoPlayerControlsSettingsDropdown:Ya,VideoPlayerControlsSettingsSplitView:tc,VideoPlayerControlsSettingsLayout:ic},props:{streamId:String},data:function(){return{viewerVersion:"",showDropup:!1,settingsWidth:"0px",selected:{},items:[],dropupTitle:"",handleClick:function(){},compare:function(){},audioFollowVideoData:{mid:null,name:"AudioFollowVideo",sourceId:"AudioFollowVideo",trackId:null},toast:null}},computed:d(d(d(d(d({},Ne("Layers",["getActiveMainTransceiverMedias"])),Ne("Sources",["getVideoSources","getAudioSources","getVideoHasMain","getAudioHasMain"])),Ae("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ae("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioFollowsVideo:function(e){return e.audioFollowsVideo}})),Ae("Controls",{dropup:function(e){return e.dropup},trackWarning:function(e){return e.trackWarning},isSplittedView:function(e){return e.isSplittedView}})),methods:d(d(d({},Re("Controls",["setDropup","toggleFullscreen"])),Re("Sources",["setMainLabel","setAudioFollowsVideo"])),{},{compareItems:function(e,t){return(null===e||void 0===e?void 0:e.name)===(null===t||void 0===t?void 0:t.name)&&((null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)||"Auto"===(null===t||void 0===t?void 0:t.name))},compareSources:function(e,t){return(null===e||void 0===e?void 0:e.sourceId)===(null===t||void 0===t?void 0:t.sourceId)},setDropupSettings:function(e,t,n,r,o){this.selected=e,this.items=t,this.dropupTitle=n,this.handleClick=r,this.compare=o},unsupportedFlagEmoji:function(e){var t,n=navigator.userAgent,r=-1!==n.indexOf("Chrome"),o=null!==e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return!!r&&(t="Windows"==navigator.userAgentData.platform,o&&t)},sourceFlagEmojiToPng:function(e){var t=e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return t.forEach((function(t){var n=Array.from(t,(function(e){return e.codePointAt()})).map((function(e){return String.fromCharCode(e-127397).toLowerCase()})).join("");e=e.replace(t," <img src='https://flagcdn.com/20x15/".concat(n,'.png\' alt="FlagEmoji"}>'))})),e}}),mounted:function(){this.viewerVersion=sc["a"]?"v"+sc["a"]:"",this.toast=new Vo},watch:{dropup:function(e){var t=this;if("videoTracks"===e||"audioTracks"===e||"qualities"===e){switch(this.settingsWidth=this.$refs.settings.clientWidth+"px",e){case"videoTracks":var n=function(){var e=l(c().mark((function e(n){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Rn({kind:"video",source:n});case 3:return e.next=5,t.setMainLabel(n.name);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();this.setDropupSettings(this.selectedVideoSource,this.getVideoSources,"Video Source",n,this.compareSources);break;case"audioTracks":var r=function(){var e=l(c().mark((function e(n){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("AudioFollowVideo"!==n.name){e.next=4;break}t.setAudioFollowsVideo(!0),e.next=13;break;case 4:return t.setAudioFollowsVideo(!1),e.prev=5,e.next=8,Rn({kind:"audio",source:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](5),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),o=function(){return[t.audioFollowVideoData].concat(bi(t.getAudioSources))},i=function(){return t.audioFollowsVideo?t.audioFollowVideoData:t.selectedAudioSource};this.setDropupSettings(i(),o(),"Audio Source",r,this.compareSources);break;case"qualities":var s=function(e){An(e)};this.setDropupSettings(this.selectedQuality,this.getActiveMainTransceiverMedias,"Video Quality",s,this.compareItems);break}this.showDropup=!0}else this.showDropup=!1},getActiveMainTransceiverMedias:function(){"qualities"===this.dropup&&(this.items=this.getActiveMainTransceiverMedias)},getVideoSources:function(){"videoTracks"===this.dropup&&(this.items=this.getActiveMainTransceiverMedias)},getAudioSources:function(){"audioTracks"===this.dropup&&(this.items=this.getAudioSources)}}};n("3c34");const cc=No()(ac,[["render",mi],["__scopeId","data-v-464a8bef"]]);var uc=cc,lc=function(e){return Object(i["pushScopeId"])("data-v-48f1b614"),e=e(),Object(i["popScopeId"])(),e},dc={key:0,class:"align-middle"},fc={class:"badge",style:{border:"0px"}},pc=lc((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-person-fill"},null,-1)}));function hc(e,t,n,r,o,s){return s.count?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h4",dc,[Object(i["createElementVNode"])("span",fc,[pc,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(s.count),1)])])):Object(i["createCommentVNode"])("",!0)}var mc={name:"VideoPlayerControlsUserCount",computed:d(d({},Ae("Controls",["viewerCount"])),{},{count:function(){var e;return null===(e=this.viewerCount)||void 0===e?void 0:e.toLocaleString("en")}})};n("c03e");const vc=No()(mc,[["render",hc],["__scopeId","data-v-48f1b614"]]);var gc=vc,bc={class:"d-inline"};function yc(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("span",bc,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",s.volumeIcon]),onClick:t[0]||(t[0]=function(){return s.toggleMuted&&s.toggleMuted.apply(s,arguments)}),onMousemove:t[1]||(t[1]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"range",class:Object(i["normalizeClass"])(["align-middle mr-2 slider",{show:o.showVolume,volumeMobile:!0}]),id:"volumeSlider",min:"0",max:"1",step:".01","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.volume=e}),onMousemove:t[3]||(t[3]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),[[i["vModelText"],o.volume]])])}var wc={name:"VideoPlayerControlsVolume",data:function(){return{volume:1,showVolume:!1}},watch:{volume:function(e){0!==this.volume||this.muted?this.muted&&this.toggleMuted():this.toggleMuted(),this.setVideoVolume(e)}},computed:d(d({},Ae("Controls",{muted:function(e){return e.muted}})),{},{volumeIcon:function(){return this.muted||0===this.volume?"ml-viewer-bi-volume-mute-fill":this.volume<.1?"ml-viewer-bi-volume-off-fill":this.volume<.5?"ml-viewer-bi-volume-down-fill":"ml-viewer-bi-volume-up-fill"}}),methods:d(d({},Re("Controls",["setVideoMuted","setVideoVolume"])),{},{toggleVolumeSlider:function(){var e=this;this.showVolumeTimeout&&clearTimeout(this.showVolumeTimeout),this.showVolume=!0,this.showVolumeTimeout=setTimeout((function(){e.showVolume=!1}),4e3)},toggleMuted:function(){this.setVideoMuted(!this.muted)}})};n("c7df");const Sc=No()(wc,[["render",yc],["__scopeId","data-v-0cf82b5a"]]);var Oc=Sc,Ec=function(e){return Object(i["pushScopeId"])("data-v-6e3117e0"),e=e(),Object(i["popScopeId"])(),e},Cc={class:"row"},jc={key:0},xc=["textContent"],kc={key:0,class:"col-6 text-right"},Tc={key:1,class:"col-5 pl-0 pr-1 text-right"},Ic={key:1,class:"dropup"},Pc=Ec((function(){return Object(i["createElementVNode"])("div",{class:"dropdown-header d-flex m-0 col-12"},[Object(i["createElementVNode"])("h6",{class:"p-0 m-0"},"Options")],-1)}));function Vc(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsPlay"),c=Object(i["resolveComponent"])("VideoPlayerControlsVolume"),u=Object(i["resolveComponent"])("VideoPlayerControlsSettings"),l=Object(i["resolveComponent"])("VideoPlayerControlsCast"),d=Object(i["resolveComponent"])("VideoPlayerControlsPip"),f=Object(i["resolveComponent"])("VideoPlayerControlsFullscreen");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Cc,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([e.isMobile?"col-7 text-left pr-0":"col-6 text-left"])},[n.isConnected?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",jc,[n.showButton("play")?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0),n.showButton("volume")?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1})):Object(i["createCommentVNode"])("",!0),e.isMobile?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:2,class:"h5 align-middle p-2",textContent:Object(i["toDisplayString"])(n.currentTime)},null,8,xc))]))],2),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Tc,[n.showButton("settings")?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,streamId:n.streamId},null,8,["streamId"])):Object(i["createCommentVNode"])("",!0),n.showButton("cast")&&e.castAvailable||e.isLive&&s.pipEnabled&&n.showButton("pip")&&s.isVideoTag||n.showButton("fullscreen")?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ic,[Object(i["createElementVNode"])("i",{class:"h3 align-middle control-icon bi ml-viewer-bi-three-dots-vertical",onClick:t[0]||(t[0]=function(t){return e.setDropup("mobile")})}),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"mobile"===e.dropup}]),style:{"margin-bottom":"0.9rem"}},[Pc,n.showButton("cast")&&e.castAvailable?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0})):Object(i["createCommentVNode"])("",!0),s.pipEnabled?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1})):Object(i["createCommentVNode"])("",!0),n.showButton("fullscreen")?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:2,click:e.toggleFullscreen},null,8,["click"])):Object(i["createCommentVNode"])("",!0)],2)])):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",kc,[n.showButton("settings")?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,streamId:n.streamId},null,8,["streamId"])):Object(i["createCommentVNode"])("",!0),n.showButton("cast")&&e.castAvailable?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1})):Object(i["createCommentVNode"])("",!0),s.pipEnabled?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:2})):Object(i["createCommentVNode"])("",!0),n.showButton("fullscreen")?(Object(i["openBlock"])(),Object(i["createBlock"])(f,{key:3,click:e.toggleFullscreen},null,8,["click"])):Object(i["createCommentVNode"])("",!0)]))])}var Ac=function(e){return Object(i["pushScopeId"])("data-v-f9fa5040"),e=e(),Object(i["popScopeId"])(),e},Rc={key:0},Nc=Ac((function(){return Object(i["createElementVNode"])("span",{class:"align-middle"},"Cast",-1)})),Lc=[Nc];function _c(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("google-cast-launcher");return e.castAvailable&&!e.options.loading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,class:Object(i["normalizeClass"])([e.isMobile?"dropdown-item d-flex row mx-0":"mobile-setting"]),onClick:t[0]||(t[0]=function(){return s.clickCast&&s.clickCast.apply(s,arguments)})},[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([e.isMobile?"":"mobile-setting"])},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",e.isMobile?"mobile-icon":"h3"])},[Object(i["createVNode"])(a,{ref:"cast"},null,512)],2)],2),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Rc,Lc)):Object(i["createCommentVNode"])("",!0)],2)):Object(i["createCommentVNode"])("",!0)}var Mc={name:"VideoPlayerControlsCast",computed:d({},Ae("Controls",{isMobile:function(e){return e.isMobile},castAvailable:function(e){return e.castAvailable},options:function(e){return e.castOptions}})),methods:{clickCast:function(){this.$refs.cast.click()}}};n("a706");const Bc=No()(Mc,[["render",_c],["__scopeId","data-v-f9fa5040"]]);var Dc=Bc,Fc={name:"VideoPlayer",components:{VideoPlayerControlsFullscreen:Ko,VideoPlayerControlsPip:ni,VideoPlayerControlsPlay:si,VideoPlayerControlsSettings:uc,VideoPlayerControlsVolume:Oc,VideoPlayerControlsCast:Dc},props:{showButton:Function,streamId:String,isConnected:Boolean,currentTime:String},data:function(){return{dropupShow:!1}},computed:d(d({},Ae("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},isMobile:function(e){return e.isMobile},isLive:function(e){return e.isLive},castAvailable:function(e){return e.castAvailable}})),{},{isVideoTag:function(){var e;return"VIDEO"===(null===(e=this.video)||void 0===e?void 0:e.nodeName)},pipEnabled:function(){return this.showButton("pip")&&document.pictureInPictureEnabled&&this.isLive&&this.isVideoTag}}),methods:d({},Re("Controls",["setDropup","toggleFullscreen"])),beforeMount:function(){return l(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Mn();case 2:case"end":return e.stop()}}),e)})))()}};n("d745");const Uc=No()(Fc,[["render",Vc],["__scopeId","data-v-6e3117e0"]]);var zc=Uc,Gc={name:"VideoPlayerContainer",components:{VideoPlayerMedia:_o,VideoPlayerControlsBadge:Qo,VideoPlayerControlsUserCount:gc,VideoPlayerControlsContainer:zc,VideoPlayerSideVideoSources:zo},data:function(){return{show:!0,timeInterval:0,secondsElapsed:0,cast:{isConnected:!1},controlsTimeout:0,mobileFullscreen:!1,toast:new Vo}},mounted:function(){var e,t=this;null===(e=screen.orientation)||void 0===e||e.addEventListener("change",this.handleOrientationChange),this.controlsTimeout=setTimeout((function(){t.show=!1}),4e3),this.timeInterval=setInterval((function(){t.playing&&t.secondsElapsed++}),1e3),this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},beforeUnmount:function(){clearInterval(this.timeInterval)},computed:d(d(d(d(d({},Ae("Params",{viewer:function(e){return e.viewer}})),Ae("Errors",{type:function(e){return e.type},message:function(e){return e.message},showError:function(e){return e.showError}})),Ae("Sources",{videoSources:function(e){return e.videoSources},audioSources:function(e){return e.audioSources},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},sourceRemoteTracks:function(e){return e.sourceRemoteTracks}})),Ae("Controls",{video:function(e){return e.video},playing:function(e){return e.playing},player:function(e){return e.player},fullscreen:function(e){return e.fullscreen},dropup:function(e){return e.dropup},isLoading:function(e){return e.isLoading},volume:function(e){return e.volume},playerMuted:function(e){return e.muted},castIsConnected:function(e){return e.castIsConnected},castDevice:function(e){return e.castDevice},srcObject:function(e){return e.srcObject},autoPlayMuted:function(e){return e.autoPlayMuted},isLive:function(e){return e.isLive},isSplittedView:function(e){return e.isSplittedView},hideToast:function(e){return e.hideToast},isGrid:function(e){return e.isGrid}})),{},{currentTime:function(){var e=this.secondsElapsed,t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}}),methods:d(d(d(d(d({},Re("Layers",["deleteLayers"])),Re("Errors",["setShowError"])),Re("Sources",["deleteSource","setMainLabel"])),Re("Controls",["setVideo","setIsLive","setIsLoading","setTrackWarning","setDropup","setVideoVolume","setVideoMuted","setPlaying","setCastOptions","setAutoPlayMuted","toggleFullscreen","setIsSplittedView"])),{},{showControls:function(){this.controlsTimeout&&clearTimeout(this.controlsTimeout),this.show=!0,this.hideControls()},hideControls:function(){var e=this;this.playing&&""===this.dropup&&(this.controlsTimeout=setTimeout((function(){e.show=!1}),4e3))},showButton:function(e){var t=!this.viewer.hideButtons.includes(e);if(t&&"fullscreen"===e){var n,r,o,i=null!==(n=document.getElementById("player"))&&void 0!==n?n:document.getElementById("player2");i||(i=document.createElement("video")),t&&(t=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||(null===(r=i)||void 0===r?void 0:r.requestFullscreen)||(null===(o=i)||void 0===o?void 0:o.webkitEnterFullscreen)),t||console.warn("Fullscreen disabled due to incompatibility with the browser.")}return t},handleOrientationChange:function(){var e=screen.orientation.type;"portrait-primary"===e&&$c()&&!this.mobileFullscreen?this.leaveFullScreen():"landscape-primary"===e&&this.goFullScreen()},goFullScreen:function(){var e,t,n,r,o,i,s,a,c,u,l=document.getElementById("vplayer"),d=null!==(e=document.getElementById("player"))&&void 0!==e?e:document.getElementById("player2");null!==(t=null!==(n=null!==(r=null!==(o=null===l||void 0===l||null===(i=l.requestFullscreen)||void 0===i?void 0:i.call(l))&&void 0!==o?o:null===l||void 0===l||null===(s=l.webkitRequestFullscreen)||void 0===s?void 0:s.call(l))&&void 0!==r?r:null===l||void 0===l||null===(a=l.mozRequestFullScreen)||void 0===a?void 0:a.call(l))&&void 0!==n?n:null===l||void 0===l||null===(c=l.msRequestFullscreen)||void 0===c?void 0:c.call(l))&&void 0!==t||null===d||void 0===d||null===(u=d.webkitEnterFullscreen)||void 0===u||u.call(d)},leaveFullScreen:function(){var e,t,n,r,o,i,s,a,c,u,l;null!==(e=null!==(t=null!==(n=null===(r=(o=document).exitFullscreen)||void 0===r?void 0:r.call(o))&&void 0!==n?n:null===(i=(s=document).webkitExitFullscreen)||void 0===i?void 0:i.call(s))&&void 0!==t?t:null===(a=(c=document).mozCancelFullScreen)||void 0===a?void 0:a.call(c))&&void 0!==e||null===(u=(l=document).msExitFullscreen)||void 0===u||u.call(l)},tapUnmute:function(){this.setVideoMuted(!1),this.setAutoPlayMuted(!1)},handleWholeScreen:function(){var e;this.isGrid&&(this.setIsSplittedView(!this.isSplittedView),Rn({kind:"video",source:this.videoSources[0]}),this.setMainLabel(null!==(e=this.videoSources[0].sourceId)&&void 0!==e?e:this.videoSources[0].name))}}),watch:{playing:function(e){e?this.hideControls():this.showControls()},fullscreen:function(){document.pictureInPictureElement&&document.exitPictureInPicture(),$c()?(this.mobileFullscreen=!1,this.leaveFullScreen()):(this.mobileFullscreen=!0,this.goFullScreen())},dropup:function(){this.showControls()},token:function(){this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},castIsConnected:function(e){if(e){this.setPlaying(!1),this.setIsLoading(!1);var t=this.castDevice;this.cast={isConnected:e,device:t},this.showControls()}else this.cast={isConnected:e}},viewer:function(){this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},showError:function(e){e&&"SubscriberError"===this.type?this.toast.showToast("error",this.message):this.setShowError(!1)}}},$c=function(){return document.fullscreenElement||document.webkitFullscreenElement};n("0223");const Hc=No()(Gc,[["render",k],["__scopeId","data-v-4d523a16"]]);var Wc=Hc,qc=(n("cd74"),n("ab8b"),n("da96"),n("87d4")),Qc={name:"App",components:{VideoPlayerContainer:Wc},props:{paramsOptions:Object},methods:d(d({},Re("Controls",["setMobile"])),{},{updateParams:function(){var e;if(this.paramsOptions){var t,n,r,o,i,s,a,c,u,l,d,f,p,h,m,v,g,b,y,w,S,O,E,C,j,x,k,T,I,P,V=null!==(t=null===(n=this.paramsOptions)||void 0===n||null===(n=n.environment)||void 0===n?void 0:n.NODE_ENV)&&void 0!==t?t:"production";Ye({streamId:(null===(r=this.paramsOptions)||void 0===r?void 0:r.accountId)+"/"+(null===(o=this.paramsOptions)||void 0===o?void 0:o.streamName),audioOnly:null!==(i=null===(s=this.paramsOptions)||void 0===s?void 0:s.audioOnly)&&void 0!==i&&i,videoOnly:null!==(a=null===(c=this.paramsOptions)||void 0===c?void 0:c.videoOnly)&&void 0!==a&&a,token:null===(u=this.paramsOptions)||void 0===u?void 0:u.token,image:null===(l=this.paramsOptions)||void 0===l?void 0:l.image,directorUrl:"production"!==V?null===(d=this.paramsOptions)||void 0===d?void 0:d.directorUrl:null,hideButtons:!1===this.paramsOptions.controls?Qe:null!==(f=this.paramsOptions.hideButtons)&&void 0!==f?f:[],autoplay:null===(p=this.paramsOptions.autoplay)||void 0===p||p,muted:null!==(h=this.paramsOptions.muted)&&void 0!==h&&h,noDelay:null!==(m=null===(v=this.paramsOptions)||void 0===v?void 0:v.noDelay)&&void 0!==m&&m,multisource:null!==(g=null===(b=this.paramsOptions)||void 0===b?void 0:b.multisource)&&void 0!==g&&g,audioFollowsVideo:null!==(y=null===(w=this.paramsOptions)||void 0===w?void 0:w.audioFollowsVideo)&&void 0!==y&&y,layout:null!==(S=null===(O=this.paramsOptions)||void 0===O?void 0:O.layout)&&void 0!==S?S:null,showLabels:null===(E=null===(C=this.paramsOptions)||void 0===C?void 0:C.showLabels)||void 0===E||E,startingQuality:null===(j=this.paramsOptions)||void 0===j?void 0:j.startingQuality,hideToast:null===(x=this.paramsOptions)||void 0===x?void 0:x.hideToast,mainLabel:null!==(k=null===(T=this.paramsOptions)||void 0===T?void 0:T.mainLabel)&&void 0!==k?k:"Main",forcePlayoutDelayMin:null===(I=this.paramsOptions)||void 0===I?void 0:I.forcePlayoutDelayMin,forcePlayoutDelayMax:null===(P=this.paramsOptions)||void 0===P?void 0:P.forcePlayoutDelayMax})}Ke(null===(e=this.paramsOptions)||void 0===e?void 0:e.environment)}}),mounted:function(){var e=this;return l(c().mark((function t(){var n,r,o,i;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.getElementById("viewer-container"),t.next=3,new Vo;case 3:o=t.sent,o.updateDefaults({container:r,containerClassName:"toast-custom"}),e.updateParams(),null!==(n=e.paramsOptions)&&void 0!==n&&n.startingQuality&&o.showToast("info","Fetching starting quality layer",{timeout:1500}),qc["ElementQueries"].listen(),qc["ElementQueries"].init(),window.addEventListener("load",(function(){new qc["ResizeSensor"](r,(function(){e.setMobile(r.clientWidth<=575)}))})),i=document.createElement("script"),i.setAttribute("src","//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),i.async=!0,document.head.appendChild(i);case 14:case"end":return t.stop()}}),t)})))()},watch:{paramsOptions:function(){this.updateParams()}}};n("4c45");const Xc=No()(Qc,[["render",s],["__scopeId","data-v-aeca3842"]]);var Yc=Xc,Jc=function(e){return Object(i["pushScopeId"])("data-v-742b9a28"),e=e(),Object(i["popScopeId"])(),e},Kc={class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},Zc={class:"modal-dialog modal-dialog-scrollable",role:"document"},eu={class:"modal-content"},tu={class:"modal-header"},nu=["textContent"],ru=Jc((function(){return Object(i["createElementVNode"])("span",{"aria-hidden":"true"},"×",-1)})),ou=[ru],iu={class:"modal-body"},su={class:"modal-footer"};function au(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("base-button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Kc,[(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{to:"#viewer-container"},[Object(i["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(){return n.toggle&&n.toggle.apply(n,arguments)}),class:"backdrop"})])),Object(i["createElementVNode"])("div",Zc,[Object(i["createElementVNode"])("div",eu,[Object(i["createElementVNode"])("div",tu,[Object(i["renderSlot"])(e.$slots,"modal-header",{},(function(){return[Object(i["createElementVNode"])("h5",{class:"modal-title",textContent:Object(i["toDisplayString"])(n.title)},null,8,nu),Object(i["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=function(){return n.toggle&&n.toggle.apply(n,arguments)})},ou)]}),!0)]),Object(i["createElementVNode"])("div",iu,[Object(i["renderSlot"])(e.$slots,"modal-body",{},void 0,!0)]),Object(i["createElementVNode"])("div",su,[Object(i["renderSlot"])(e.$slots,"modal-footer",{},(function(){return[Object(i["createVNode"])(a,{btype:"btn-p",onClick:n.toggle},{default:Object(i["withCtx"])((function(){return[Object(i["createTextVNode"])("OK")]})),_:1},8,["onClick"])]}),!0)])])])])}var cu={name:"BaseModal",props:{title:String,toggle:Function}};n("3143");const uu=No()(cu,[["render",au],["__scopeId","data-v-742b9a28"]]);var lu=uu;function du(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{type:"button",class:Object(i["normalizeClass"])(["btn shadow-none",[n.btype]])},[Object(i["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var fu={name:"BaseButton",props:["btype","bstyle","bcolor"]};n("b3ad");const pu=No()(fu,[["render",du],["__scopeId","data-v-7037ab8a"]]);var hu=pu,mu=function(e,t){return 0===t.filter((function(t){return t.type===e.type})).length&&e},vu={install:function(e,t){t.store?(t.store.registerModule("Controls",He),t.store.registerModule("Layers",Ge),t.store.registerModule("Errors",nt),t.store.registerModule("Params",et),t.store.registerModule("Sources",Ue),t.store.registerModule("ViewConnection",qe)):e.use(rt),e.use(To,{transition:"Vue-Toastification__fade",maxToasts:2,newestOnTop:!0,position:"top-center",closeOnClick:!1,closeButton:!1,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!1,timeout:!1,filterBeforeCreate:mu}),e.component("base-modal",lu),e.component("base-button",hu),e.component("VideoPlayer",Yc)}};t["default"]=vu},fb6a:function(e,t,n){"use strict";var r=n("23e7"),o=n("e8b5"),i=n("68ee"),s=n("861d"),a=n("23cb"),c=n("07fa"),u=n("fc6a"),l=n("8418"),d=n("b622"),f=n("1dde"),p=n("f36a"),h=f("slice"),m=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,f=u(this),h=c(f),b=a(e,h),y=a(void 0===t?h:t,h);if(o(f)&&(n=f.constructor,i(n)&&(n===v||o(n.prototype))?n=void 0:s(n)&&(n=n[m],null===n&&(n=void 0)),n===v||void 0===n))return p(f,b,y);for(r=new(void 0===n?v:n)(g(y-b,0)),d=0;b<y;b++,d++)b in f&&l(r,d,f[b]);return r.length=d,r}})},fc6a:function(e,t,n){"use strict";var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fce3:function(e,t,n){"use strict";var r=n("d039"),o=n("da84"),i=o.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},fdbc:function(e,t,n){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){"use strict";var r=n("04f8");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=millicast-vue-viewer-plugin.umd.min.js.map