(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["millicast-vue-viewer-plugin"]=t(require("vue")):e["millicast-vue-viewer-plugin"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),o=n("c65b"),i=n("1626"),s=n("825a"),a=n("577e"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),u=/./.test;r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=s(this),n=a(e),r=t.exec;if(!i(r))return o(u,t,n);var c=o(r,t,n);return null!==c&&(s(c),!0)}})},"00ee":function(e,t,n){var r=n("b622"),o=r("toStringTag"),i={};i[o]="z",e.exports="[object z]"===String(i)},"01b4":function(e,t){var n=function(){this.head=null,this.tail=null};n.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=n},"0287":function(e,t,n){"use strict";n("7c86")},"0366":function(e,t,n){var r=n("e330"),o=n("59ed"),i=n("40d5"),s=r(r.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?s(e,t):function(){return e.apply(t,arguments)}}},"04d1":function(e,t,n){var r=n("342f"),o=r.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},"04f8":function(e,t,n){var r=n("2d00"),o=n("d039");e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"057f":function(e,t,n){var r=n("c6b6"),o=n("fc6a"),i=n("241c").f,s=n("4dae"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return i(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"==r(e)?c(e):i(o(e))}},"06cf":function(e,t,n){var r=n("83ab"),o=n("c65b"),i=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),u=n("1a2d"),l=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=c(t),l)try{return d(e,t)}catch(n){}if(u(e,t))return s(!o(i.f,e,t),e[t])}},"07ac":function(e,t,n){var r=n("23e7"),o=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return o(e)}})},"07fa":function(e,t,n){var r=n("50c4");e.exports=function(e){return r(e.length)}},"083a":function(e,t,n){"use strict";var r=n("0d51"),o=TypeError;e.exports=function(e,t){if(!delete e[t])throw o("Cannot delete property "+r(t)+" of "+r(e))}},"09e1":function(e,t,n){},"0ae6":function(e,t,n){"use strict";n("d897")},"0b42":function(e,t,n){var r=n("e8b5"),o=n("68ee"),i=n("861d"),s=n("b622"),a=s("species"),c=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,o(t)&&(t===c||r(t.prototype))?t=void 0:i(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?c:t}},"0b43":function(e,t,n){var r=n("04f8");e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},"0c47":function(e,t,n){var r=n("da84"),o=n("d44e");o(r.JSON,"JSON",!0)},"0cb2":function(e,t,n){var r=n("e330"),o=n("7b0b"),i=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,h=r.length,m=l;return void 0!==d&&(d=o(d),m=u),a(f,m,(function(o,a){var u;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":u=d[c(a,1,-1)];break;default:var l=+a;if(0===l)return o;if(l>h){var f=i(l/10);return 0===f?o:f<=h?void 0===r[f-1]?s(a,1):r[f-1]+s(a,1):o}u=r[l-1]}return void 0===u?"":u}))}},"0ccb":function(e,t,n){var r=n("e330"),o=n("50c4"),i=n("577e"),s=n("1148"),a=n("1d80"),c=r(s),u=r("".slice),l=Math.ceil,d=function(e){return function(t,n,r){var s,d,f=i(a(t)),p=o(n),h=f.length,m=void 0===r?" ":i(r);return p<=h||""==m?f:(s=p-h,d=c(m,l(s/m.length)),d.length>s&&(d=u(d,0,s)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},"0cfb":function(e,t,n){var r=n("83ab"),o=n("d039"),i=n("cc12");e.exports=!r&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},"0d26":function(e,t,n){var r=n("e330"),o=Error,i=r("".replace),s=function(e){return String(o(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)while(t--)e=i(e,a,"");return e}},"0d51":function(e,t){var n=String;e.exports=function(e){try{return n(e)}catch(t){return"Object"}}},"107c":function(e,t,n){var r=n("d039"),o=n("da84"),i=o.RegExp;e.exports=r((function(){var e=i("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1148:function(e,t,n){"use strict";var r=n("5926"),o=n("577e"),i=n("1d80"),s=RangeError;e.exports=function(e){var t=o(i(this)),n="",a=r(e);if(a<0||a==1/0)throw s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"12a8":function(e,t,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("eb1d"),s=n("59ed"),a=n("7b0b"),c=n("9bf2");o&&r({target:"Object",proto:!0,forced:i},{__defineGetter__:function(e,t){c.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"131a":function(e,t,n){var r=n("23e7"),o=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:o})},"13d2":function(e,t,n){var r=n("d039"),o=n("1626"),i=n("1a2d"),s=n("83ab"),a=n("5e77").CONFIGURABLE,c=n("8925"),u=n("69f3"),l=u.enforce,d=u.get,f=Object.defineProperty,p=s&&!r((function(){return 8!==f((function(){}),"length",{value:8}).length})),h=String(String).split("String"),m=e.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!i(e,"name")||a&&e.name!==t)&&(s?f(e,"name",{value:t,configurable:!0}):e.name=t),p&&n&&i(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&i(n,"constructor")&&n.constructor?s&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(o){}var r=l(e);return i(r,"source")||(r.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=m((function(){return o(this)&&d(this).source||c(this)}),"toString")},"14c3":function(e,t,n){var r=n("c65b"),o=n("825a"),i=n("1626"),s=n("c6b6"),a=n("9263"),c=TypeError;e.exports=function(e,t){var n=e.exec;if(i(n)){var u=r(n,e,t);return null!==u&&o(u),u}if("RegExp"===s(e))return r(a,e,t);throw c("RegExp#exec called on incompatible receiver")}},"14d9":function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("07fa"),s=n("3a34"),a=n("3511"),c=n("d039"),u=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:u||l},{push:function(e){var t=o(this),n=i(t),r=arguments.length;a(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return s(t,n),n}})},"14e5":function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("59ed"),s=n("f069"),a=n("e667"),c=n("2266"),u=n("5eed");r({target:"Promise",stat:!0,forced:u},{all:function(e){var t=this,n=s.f(t),r=n.resolve,u=n.reject,l=a((function(){var n=i(t.resolve),s=[],a=0,l=1;c(e,(function(e){var i=a++,c=!1;l++,o(n,t,e).then((function(e){c||(c=!0,s[i]=e,--l||r(s))}),u)})),--l||r(s)}));return l.error&&u(l.value),n.promise}})},"159b":function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("785a"),s=n("17c2"),a=n("9112"),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var u in o)o[u]&&c(r[u]&&r[u].prototype);c(i)},1626:function(e,t,n){var r=n("8ea1"),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,o=n("a640"),i=o("forEach");e.exports=i?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t,n){var r=n("3a9b"),o=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw o("Incorrect invocation")}},"1a2d":function(e,t,n){var r=n("e330"),o=n("7b0b"),i=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},"1be4":function(e,t,n){var r=n("d066");e.exports=r("document","documentElement")},"1c7e":function(e,t,n){var r=n("b622"),o=r("iterator"),i=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var r={};r[o]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){var r=n("342f");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d80":function(e,t,n){var r=n("7234"),o=TypeError;e.exports=function(e){if(r(e))throw o("Can't call method on "+e);return e}},"1dde":function(e,t,n){var r=n("d039"),o=n("b622"),i=n("2d00"),s=o("species");e.exports=function(e){return i>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"21e1":function(e,t,n){},2266:function(e,t,n){var r=n("0366"),o=n("c65b"),i=n("825a"),s=n("0d51"),a=n("e95a"),c=n("07fa"),u=n("3a9b"),l=n("9a1f"),d=n("35a1"),f=n("2a62"),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,g,b,y,w,S,O,C=n&&n.that,E=!(!n||!n.AS_ENTRIES),j=!(!n||!n.IS_RECORD),x=!(!n||!n.IS_ITERATOR),k=!(!n||!n.INTERRUPTED),T=r(t,C),I=function(e){return v&&f(v,"normal",e),new h(!0,e)},P=function(e){return E?(i(e),k?T(e[0],e[1],I):T(e[0],e[1])):k?T(e,I):T(e)};if(j)v=e.iterator;else if(x)v=e;else{if(g=d(e),!g)throw p(s(e)+" is not iterable");if(a(g)){for(b=0,y=c(e);y>b;b++)if(w=P(e[b]),w&&u(m,w))return w;return new h(!1)}v=l(e,g)}S=j?e.next:v.next;while(!(O=o(S,v)).done){try{w=P(O.value)}catch(A){f(v,"throw",A)}if("object"==typeof w&&w&&u(m,w))return w}return new h(!1)}},"23cb":function(e,t,n){var r=n("5926"),o=Math.max,i=Math.min;e.exports=function(e,t){var n=r(e);return n<0?o(n+t,0):i(n,t)}},"23dc":function(e,t,n){var r=n("d44e");r(Math,"Math",!0)},"23e7":function(e,t,n){var r=n("da84"),o=n("06cf").f,i=n("9112"),s=n("cb2d"),a=n("6374"),c=n("e893"),u=n("94ca");e.exports=function(e,t){var n,l,d,f,p,h,m=e.target,v=e.global,g=e.stat;if(l=v?r:g?r[m]||a(m,{}):(r[m]||{}).prototype,l)for(d in t){if(p=t[d],e.dontCallGetSet?(h=o(l,d),f=h&&h.value):f=l[d],n=u(v?d:m+(g?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),s(l,d,p,e)}}},"241c":function(e,t,n){var r=n("ca84"),o=n("7839"),i=o.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},2521:function(e,t,n){},2532:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("5a34"),s=n("1d80"),a=n("577e"),c=n("ab13"),u=o("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~u(a(s(this)),a(i(e)),arguments.length>1?arguments[1]:void 0)}})},2626:function(e,t,n){"use strict";var r=n("d066"),o=n("9bf2"),i=n("b622"),s=n("83ab"),a=i("species");e.exports=function(e){var t=r(e),n=o.f;s&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},"26e9":function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("e8b5"),s=o([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return i(this)&&(this.length=this.length),s(this)}})},"285e":function(e,t,n){"use strict";n("3a1a")},"2a62":function(e,t,n){var r=n("c65b"),o=n("825a"),i=n("dc4a");e.exports=function(e,t,n){var s,a;o(e);try{if(s=i(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(c){a=!0,s=c}if("throw"===t)throw n;if(a)throw s;return o(s),n}},"2a86":function(e,t,n){"use strict";n("c382")},"2ba4":function(e,t,n){var r=n("40d5"),o=Function.prototype,i=o.apply,s=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(i):function(){return s.apply(i,arguments)})},"2cf4":function(e,t,n){var r,o,i,s,a=n("da84"),c=n("2ba4"),u=n("0366"),l=n("1626"),d=n("1a2d"),f=n("d039"),p=n("1be4"),h=n("f36a"),m=n("cc12"),v=n("d6d6"),g=n("1cdc"),b=n("605d"),y=a.setImmediate,w=a.clearImmediate,S=a.process,O=a.Dispatch,C=a.Function,E=a.MessageChannel,j=a.String,x=0,k={},T="onreadystatechange";try{r=a.location}catch(V){}var I=function(e){if(d(k,e)){var t=k[e];delete k[e],t()}},P=function(e){return function(){I(e)}},A=function(e){I(e.data)},R=function(e){a.postMessage(j(e),r.protocol+"//"+r.host)};y&&w||(y=function(e){v(arguments.length,1);var t=l(e)?e:C(e),n=h(arguments,1);return k[++x]=function(){c(t,void 0,n)},o(x),x},w=function(e){delete k[e]},b?o=function(e){S.nextTick(P(e))}:O&&O.now?o=function(e){O.now(P(e))}:E&&!g?(i=new E,s=i.port2,i.port1.onmessage=A,o=u(s.postMessage,s)):a.addEventListener&&l(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(R)?(o=R,a.addEventListener("message",A,!1)):o=T in m("script")?function(e){p.appendChild(m("script"))[T]=function(){p.removeChild(this),I(e)}}:function(e){setTimeout(P(e),0)}),e.exports={set:y,clear:w}},"2d00":function(e,t,n){var r,o,i=n("da84"),s=n("342f"),a=i.process,c=i.Deno,u=a&&a.versions||c&&c.version,l=u&&u.v8;l&&(r=l.split("."),o=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!o&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(o=+r[1]))),e.exports=o},3038:function(e,t,n){"use strict";n("e852")},"31ef":function(e,t,n){"use strict";n("52b5")},3410:function(e,t,n){var r=n("23e7"),o=n("d039"),i=n("7b0b"),s=n("e163"),a=n("e177"),c=o((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(e){return s(i(e))}})},"342f":function(e,t,n){var r=n("d066");e.exports=r("navigator","userAgent")||""},3511:function(e,t){var n=TypeError,r=9007199254740991;e.exports=function(e){if(e>r)throw n("Maximum allowed index exceeded");return e}},3529:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("59ed"),s=n("f069"),a=n("e667"),c=n("2266"),u=n("5eed");r({target:"Promise",stat:!0,forced:u},{race:function(e){var t=this,n=s.f(t),r=n.reject,u=a((function(){var s=i(t.resolve);c(e,(function(e){o(s,t,e).then(n.resolve,r)}))}));return u.error&&r(u.value),n.promise}})},"35a1":function(e,t,n){var r=n("f5df"),o=n("dc4a"),i=n("7234"),s=n("3f8c"),a=n("b622"),c=a("iterator");e.exports=function(e){if(!i(e))return o(e,c)||o(e,"@@iterator")||s[r(e)]}},"37e8":function(e,t,n){var r=n("83ab"),o=n("aed9"),i=n("9bf2"),s=n("825a"),a=n("fc6a"),c=n("df75");t.f=r&&!o?Object.defineProperties:function(e,t){s(e);var n,r=a(t),o=c(t),u=o.length,l=0;while(u>l)i.f(e,n=o[l++],r[n]);return e}},3855:function(e,t,n){"use strict";n("21e1")},"3a1a":function(e,t,n){},"3a34":function(e,t,n){"use strict";var r=n("83ab"),o=n("e8b5"),i=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(o(e)&&!s(e,"length").writable)throw i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){var r=n("e330");e.exports=r({}.isPrototypeOf)},"3bbe":function(e,t,n){var r=n("1626"),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||r(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},"3c65":function(e,t,n){"use strict";var r=n("23e7"),o=n("7b0b"),i=n("07fa"),s=n("3a34"),a=n("083a"),c=n("3511"),u=1!==[].unshift(0),l=!function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}}();r({target:"Array",proto:!0,arity:1,forced:u||l},{unshift:function(e){var t=o(this),n=i(t),r=arguments.length;if(r){c(n+r);var u=n;while(u--){var l=u+r;u in t?t[l]=t[u]:a(t,l)}for(var d=0;d<r;d++)t[d]=arguments[d]}return s(t,n+r)}})},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,o=n("577e"),i=n("69f3"),s=n("c6d2"),a=n("4754"),c="String Iterator",u=i.set,l=i.getterFor(c);s(String,"String",(function(e){u(this,{type:c,string:o(e),index:0})}),(function(){var e,t=l(this),n=t.string,o=t.index;return o>=n.length?a(void 0,!0):(e=r(n,o),t.index+=e.length,a(e,!1))}))},"3f8c":function(e,t){e.exports={}},"40d5":function(e,t,n){var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4160:function(e,t,n){"use strict";var r=n("23e7"),o=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!=o},{forEach:o})},"428f":function(e,t,n){var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){var r=n("e330"),o=n("d039"),i=n("c6b6"),s=Object,a=r("".split);e.exports=o((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a(e,""):s(e)}:s},"44d2":function(e,t,n){var r=n("b622"),o=n("7c73"),i=n("9bf2").f,s=r("unscopables"),a=Array.prototype;void 0==a[s]&&i(a,s,{configurable:!0,value:o(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){var r=n("da84");e.exports=function(e,t){var n=r.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}},"44e7":function(e,t,n){var r=n("861d"),o=n("c6b6"),i=n("b622"),s=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==o(e))}},"45fc":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").some,i=n("a640"),s=i("some");r({target:"Array",proto:!0,forced:!s},{some:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"466d":function(e,t,n){"use strict";var r=n("c65b"),o=n("d784"),i=n("825a"),s=n("7234"),a=n("50c4"),c=n("577e"),u=n("1d80"),l=n("dc4a"),d=n("8aa5"),f=n("14c3");o("match",(function(e,t,n){return[function(t){var n=u(this),o=s(t)?void 0:l(t,e);return o?r(o,t,n):new RegExp(t)[e](c(n))},function(e){var r=i(this),o=c(e),s=n(t,r,o);if(s.done)return s.value;if(!r.global)return f(r,o);var u=r.unicode;r.lastIndex=0;var l,p=[],h=0;while(null!==(l=f(r,o))){var m=c(l[0]);p[h]=m,""===m&&(r.lastIndex=d(o,a(r.lastIndex),u)),h++}return 0===h?null:p}]}))},4738:function(e,t,n){var r=n("da84"),o=n("d256"),i=n("1626"),s=n("94ca"),a=n("8925"),c=n("b622"),u=n("6069"),l=n("6c59"),d=n("c430"),f=n("2d00"),p=o&&o.prototype,h=c("species"),m=!1,v=i(r.PromiseRejectionEvent),g=s("Promise",(function(){var e=a(o),t=e!==String(o);if(!t&&66===f)return!0;if(d&&(!p["catch"]||!p["finally"]))return!0;if(!f||f<51||!/native code/.test(e)){var n=new o((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},i=n.constructor={};if(i[h]=r,m=n.then((function(){}))instanceof r,!m)return!0}return!t&&(u||l)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},4754:function(e,t){e.exports=function(e,t){return{value:e,done:t}}},4840:function(e,t,n){var r=n("825a"),o=n("5087"),i=n("7234"),s=n("b622"),a=s("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||i(n=r(s)[a])?t:o(n)}},"485a":function(e,t,n){var r=n("c65b"),o=n("1626"),i=n("861d"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&o(n=e.toString)&&!i(a=r(n,e)))return a;if(o(n=e.valueOf)&&!i(a=r(n,e)))return a;if("string"!==t&&o(n=e.toString)&&!i(a=r(n,e)))return a;throw s("Can't convert object to primitive value")}},"4d64":function(e,t,n){var r=n("fc6a"),o=n("23cb"),i=n("07fa"),s=function(e){return function(t,n,s){var a,c=r(t),u=i(c),l=o(s,u);if(e&&n!=n){while(u>l)if(a=c[l++],a!=a)return!0}else for(;u>l;l++)if((e||l in c)&&c[l]===n)return e||l||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4dae":function(e,t,n){var r=n("23cb"),o=n("07fa"),i=n("8418"),s=Array,a=Math.max;e.exports=function(e,t,n){for(var c=o(e),u=r(t,c),l=r(void 0===n?c:n,c),d=s(a(l-u,0)),f=0;u<l;u++,f++)i(d,f,e[u]);return d.length=f,d}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").filter,i=n("1dde"),s=i("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),o=n("c65b"),i=n("7b0b"),s=n("9bdd"),a=n("e95a"),c=n("68ee"),u=n("07fa"),l=n("8418"),d=n("9a1f"),f=n("35a1"),p=Array;e.exports=function(e){var t=i(e),n=c(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=r(m,h>2?arguments[2]:void 0));var g,b,y,w,S,O,C=f(t),E=0;if(!C||this===p&&a(C))for(g=u(t),b=n?new this(g):p(g);g>E;E++)O=v?m(t[E],E):t[E],l(b,E,O);else for(w=d(t,C),S=w.next,b=n?new this:[];!(y=o(S,w)).done;E++)O=v?s(w,m,[y.value,E],!0):y.value,l(b,E,O);return b.length=E,b}},"4e82":function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("59ed"),s=n("7b0b"),a=n("07fa"),c=n("083a"),u=n("577e"),l=n("d039"),d=n("addb"),f=n("a640"),p=n("04d1"),h=n("d998"),m=n("2d00"),v=n("512c"),g=[],b=o(g.sort),y=o(g.push),w=l((function(){g.sort(void 0)})),S=l((function(){g.sort(null)})),O=f("sort"),C=!l((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),E=w||!S||!O||!C,j=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:u(t)>u(n)?1:-1}};r({target:"Array",proto:!0,forced:E},{sort:function(e){void 0!==e&&i(e);var t=s(this);if(C)return void 0===e?b(t):b(t,e);var n,r,o=[],u=a(t);for(r=0;r<u;r++)r in t&&y(o,t[r]);d(o,j(e)),n=a(o),r=0;while(r<n)t[r]=o[r++];while(r<u)c(t,r++);return t}})},5087:function(e,t,n){var r=n("68ee"),o=n("0d51"),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a constructor")}},"50c4":function(e,t,n){var r=n("5926"),o=Math.min;e.exports=function(e){return e>0?o(r(e),9007199254740991):0}},"512c":function(e,t,n){var r=n("342f"),o=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},5134:function(e,t,n){"use strict";(function(e){let r,o;function i(){var t;return void 0!==r||("undefined"!==typeof window&&window.performance?(r=!0,o=window.performance):"undefined"!==typeof e&&(null===(t=e.perf_hooks)||void 0===t?void 0:t.performance)?(r=!0,o=e.perf_hooks.performance):r=!1),r}function s(){return i()?o.now():Date.now()}n.d(t,"a",(function(){return s}))}).call(this,n("c8ba"))},"52b5":function(e,t,n){},5319:function(e,t,n){"use strict";var r=n("2ba4"),o=n("c65b"),i=n("e330"),s=n("d784"),a=n("d039"),c=n("825a"),u=n("1626"),l=n("7234"),d=n("5926"),f=n("50c4"),p=n("577e"),h=n("1d80"),m=n("8aa5"),v=n("dc4a"),g=n("0cb2"),b=n("14c3"),y=n("b622"),w=y("replace"),S=Math.max,O=Math.min,C=i([].concat),E=i([].push),j=i("".indexOf),x=i("".slice),k=function(e){return void 0===e?e:String(e)},T=function(){return"$0"==="a".replace(/./,"$0")}(),I=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),P=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var i=I?"$":"$0";return[function(e,n){var r=h(this),i=l(e)?void 0:v(e,w);return i?o(i,e,r,n):o(t,p(r),e,n)},function(e,o){var s=c(this),a=p(e);if("string"==typeof o&&-1===j(o,i)&&-1===j(o,"$<")){var l=n(t,s,a,o);if(l.done)return l.value}var h=u(o);h||(o=p(o));var v=s.global;if(v){var y=s.unicode;s.lastIndex=0}var w=[];while(1){var T=b(s,a);if(null===T)break;if(E(w,T),!v)break;var I=p(T[0]);""===I&&(s.lastIndex=m(a,f(s.lastIndex),y))}for(var P="",A=0,R=0;R<w.length;R++){T=w[R];for(var V=p(T[0]),N=S(O(d(T.index),a.length),0),L=[],B=1;B<T.length;B++)E(L,k(T[B]));var D=T.groups;if(h){var _=C([V],L,N,a);void 0!==D&&E(_,D);var M=p(r(o,void 0,_))}else M=g(V,a,N,L,D,o);N>=A&&(P+=x(a,A,N)+M,A=N+V.length)}return P+x(a,A)}]}),!P||!T||I)},5599:function(e,t,n){},5692:function(e,t,n){var r=n("c430"),o=n("c6cd");(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.2",mode:r?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){var r=n("d066"),o=n("e330"),i=n("241c"),s=n("7418"),a=n("825a"),c=o([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=i.f(a(e)),n=s.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){var r=n("f5df"),o=String;e.exports=function(e){if("Symbol"===r(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},"57b9":function(e,t,n){var r=n("c65b"),o=n("d066"),i=n("b622"),s=n("cb2d");e.exports=function(){var e=o("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=i("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var r=n("e330"),o=n("1d80"),i=n("577e"),s=n("5899"),a=r("".replace),c="["+s+"]",u=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),d=function(e){return function(t){var n=i(o(t));return 1&e&&(n=a(n,u,"")),2&e&&(n=a(n,l,"")),n}};e.exports={start:d(1),end:d(2),trim:d(3)}},5926:function(e,t,n){var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},"59ed":function(e,t,n){var r=n("1626"),o=n("0d51"),i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not a function")}},"5a34":function(e,t,n){var r=n("44e7"),o=TypeError;e.exports=function(e){if(r(e))throw o("The method doesn't accept regular expressions");return e}},"5a47":function(e,t,n){var r=n("23e7"),o=n("04f8"),i=n("d039"),s=n("7418"),a=n("7b0b"),c=!o||i((function(){s.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"5c6c":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5d57":function(e,t,n){"use strict";n("5599")},"5e77":function(e,t,n){var r=n("83ab"),o=n("1a2d"),i=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=o(i,"name"),c=a&&"something"===function(){}.name,u=a&&(!r||r&&s(i,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:u}},"5e7e":function(e,t,n){"use strict";var r,o,i,s,a=n("23e7"),c=n("c430"),u=n("605d"),l=n("da84"),d=n("c65b"),f=n("cb2d"),p=n("d2bb"),h=n("d44e"),m=n("2626"),v=n("59ed"),g=n("1626"),b=n("861d"),y=n("19aa"),w=n("4840"),S=n("2cf4").set,O=n("b575"),C=n("44de"),E=n("e667"),j=n("01b4"),x=n("69f3"),k=n("d256"),T=n("4738"),I=n("f069"),P="Promise",A=T.CONSTRUCTOR,R=T.REJECTION_EVENT,V=T.SUBCLASSING,N=x.getterFor(P),L=x.set,B=k&&k.prototype,D=k,_=B,M=l.TypeError,F=l.document,U=l.process,z=I.f,G=z,$=!!(F&&F.createEvent&&l.dispatchEvent),q="unhandledrejection",H="rejectionhandled",W=0,X=1,Q=2,Y=1,J=2,K=function(e){var t;return!(!b(e)||!g(t=e.then))&&t},Z=function(e,t){var n,r,o,i=t.value,s=t.state==X,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(s||(t.rejection===J&&oe(t),t.rejection=Y),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),o=!0)),n===e.promise?u(M("Promise-chain cycle")):(r=K(n))?d(r,n,c,u):c(n)):u(i)}catch(f){l&&!o&&l.exit(),u(f)}},ee=function(e,t){e.notified||(e.notified=!0,O((function(){var n,r=e.reactions;while(n=r.get())Z(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,o;$?(r=F.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},!R&&(o=l["on"+e])?o(r):e===q&&C("Unhandled promise rejection",n)},ne=function(e){d(S,l,(function(){var t,n=e.facade,r=e.value,o=re(e);if(o&&(t=E((function(){u?U.emit("unhandledRejection",r,n):te(q,n,r)})),e.rejection=u||re(e)?J:Y,t.error))throw t.value}))},re=function(e){return e.rejection!==Y&&!e.parent},oe=function(e){d(S,l,(function(){var t=e.facade;u?U.emit("rejectionHandled",t):te(H,t,e.value)}))},ie=function(e,t,n){return function(r){e(t,r,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=Q,ee(e,!0))},ae=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw M("Promise can't be resolved itself");var r=K(t);r?O((function(){var n={done:!1};try{d(r,t,ie(ae,n,e),ie(se,n,e))}catch(o){se(n,o,e)}})):(e.value=t,e.state=X,ee(e,!1))}catch(o){se({done:!1},o,e)}}};if(A&&(D=function(e){y(this,_),v(e),d(r,this);var t=N(this);try{e(ie(ae,t),ie(se,t))}catch(n){se(t,n)}},_=D.prototype,r=function(e){L(this,{type:P,done:!1,notified:!1,parent:!1,reactions:new j,rejection:!1,state:W,value:void 0})},r.prototype=f(_,"then",(function(e,t){var n=N(this),r=z(w(this,D));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=u?U.domain:void 0,n.state==W?n.reactions.add(r):O((function(){Z(r,n)})),r.promise})),o=function(){var e=new r,t=N(e);this.promise=e,this.resolve=ie(ae,t),this.reject=ie(se,t)},I.f=z=function(e){return e===D||e===i?new o(e):G(e)},!c&&g(k)&&B!==Object.prototype)){s=B.then,V||f(B,"then",(function(e,t){var n=this;return new D((function(e,t){d(s,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete B.constructor}catch(ce){}p&&p(B,_)}a({global:!0,constructor:!0,wrap:!0,forced:A},{Promise:D}),h(D,P,!1,!0),m(P)},"5eed":function(e,t,n){var r=n("d256"),o=n("1c7e"),i=n("4738").CONSTRUCTOR;e.exports=i||!o((function(e){r.all(e).then(void 0,(function(){}))}))},"605d":function(e,t,n){var r=n("c6b6"),o=n("da84");e.exports="process"==r(o.process)},6069:function(e,t,n){var r=n("6c59"),o=n("605d");e.exports=!r&&!o&&"object"==typeof window&&"object"==typeof document},"60da":function(e,t,n){"use strict";var r=n("83ab"),o=n("e330"),i=n("c65b"),s=n("d039"),a=n("df75"),c=n("7418"),u=n("d1e7"),l=n("7b0b"),d=n("44ad"),f=Object.assign,p=Object.defineProperty,h=o([].concat);e.exports=!f||s((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),o="abcdefghijklmnopqrst";return e[n]=7,o.split("").forEach((function(e){t[e]=e})),7!=f({},e)[n]||a(f({},t)).join("")!=o}))?function(e,t){var n=l(e),o=arguments.length,s=1,f=c.f,p=u.f;while(o>s){var m,v=d(arguments[s++]),g=f?h(a(v),f(v)):a(v),b=g.length,y=0;while(b>y)m=g[y++],r&&!i(p,v,m)||(n[m]=v[m])}return n}:f},6374:function(e,t,n){var r=n("da84"),o=Object.defineProperty;e.exports=function(e,t){try{o(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"64e5":function(e,t,n){"use strict";var r=n("e330"),o=n("d039"),i=n("0ccb").start,s=RangeError,a=isFinite,c=Math.abs,u=Date.prototype,l=u.toISOString,d=r(u.getTime),f=r(u.getUTCDate),p=r(u.getUTCFullYear),h=r(u.getUTCHours),m=r(u.getUTCMilliseconds),v=r(u.getUTCMinutes),g=r(u.getUTCMonth),b=r(u.getUTCSeconds);e.exports=o((function(){return"0385-07-25T07:06:39.999Z"!=l.call(new Date(-50000000000001))}))||!o((function(){l.call(new Date(NaN))}))?function(){if(!a(d(this)))throw s("Invalid time value");var e=this,t=p(e),n=m(e),r=t<0?"-":t>9999?"+":"";return r+i(c(t),r?6:4,0)+"-"+i(g(e)+1,2,0)+"-"+i(f(e),2,0)+"T"+i(h(e),2,0)+":"+i(v(e),2,0)+":"+i(b(e),2,0)+"."+i(n,3,0)+"Z"}:l},"652d":function(e,t,n){},6547:function(e,t,n){var r=n("e330"),o=n("5926"),i=n("577e"),s=n("1d80"),a=r("".charAt),c=r("".charCodeAt),u=r("".slice),l=function(e){return function(t,n){var r,l,d=i(s(t)),f=o(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=c(d,f),r<55296||r>56319||f+1===p||(l=c(d,f+1))<56320||l>57343?e?a(d,f):r:e?u(d,f,f+2):l-56320+(r-55296<<10)+65536)}};e.exports={codeAt:l(!1),charAt:l(!0)}},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"66a6":function(e,t,n){"use strict";n("9207")},"68b4":function(e,t,n){"use strict";n("09e1")},"68ee":function(e,t,n){var r=n("e330"),o=n("d039"),i=n("1626"),s=n("f5df"),a=n("d066"),c=n("8925"),u=function(){},l=[],d=a("Reflect","construct"),f=/^\s*(?:class|function)\b/,p=r(f.exec),h=!f.exec(u),m=function(e){if(!i(e))return!1;try{return d(u,l,e),!0}catch(t){return!1}},v=function(e){if(!i(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return h||!!p(f,c(e))}catch(t){return!0}};v.sham=!0,e.exports=!d||o((function(){var e;return m(m.call)||!m(Object)||!m((function(){e=!0}))||e}))?v:m},"69f3":function(e,t,n){var r,o,i,s=n("cdce"),a=n("da84"),c=n("e330"),u=n("861d"),l=n("9112"),d=n("1a2d"),f=n("c6cd"),p=n("f772"),h=n("d012"),m="Object already initialized",v=a.TypeError,g=a.WeakMap,b=function(e){return i(e)?o(e):r(e,{})},y=function(e){return function(t){var n;if(!u(t)||(n=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return n}};if(s||f.state){var w=f.state||(f.state=new g),S=c(w.get),O=c(w.has),C=c(w.set);r=function(e,t){if(O(w,e))throw v(m);return t.facade=e,C(w,e,t),t},o=function(e){return S(w,e)||{}},i=function(e){return O(w,e)}}else{var E=p("state");h[E]=!0,r=function(e,t){if(d(e,E))throw v(m);return t.facade=e,l(e,E,t),t},o=function(e){return d(e,E)?e[E]:{}},i=function(e){return d(e,E)}}e.exports={set:r,get:o,has:i,enforce:b,getterFor:y}},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n}},"6b15":function(e,t,n){},"6c59":function(e,t){e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},"6f53":function(e,t,n){var r=n("83ab"),o=n("e330"),i=n("df75"),s=n("fc6a"),a=n("d1e7").f,c=o(a),u=o([].push),l=function(e){return function(t){var n,o=s(t),a=i(o),l=a.length,d=0,f=[];while(l>d)n=a[d++],r&&!c(o,n)||u(f,e?[n,o[n]]:o[n]);return f}};e.exports={entries:l(!0),values:l(!1)}},"70ab":function(e,t,n){},7149:function(e,t,n){"use strict";var r=n("23e7"),o=n("d066"),i=n("c430"),s=n("d256"),a=n("4738").CONSTRUCTOR,c=n("cdf9"),u=o("Promise"),l=i&&!a;r({target:"Promise",stat:!0,forced:i||a},{resolve:function(e){return c(l&&this===u?s:this,e)}})},7156:function(e,t,n){var r=n("1626"),o=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var s,a;return i&&r(s=t.constructor)&&s!==n&&o(a=s.prototype)&&a!==n.prototype&&i(e,a),e}},7234:function(e,t){e.exports=function(e){return null===e||void 0===e}},7278:function(e,t,n){},7308:function(e,t,n){"use strict";n("2521")},7418:function(e,t){t.f=Object.getOwnPropertySymbols},7839:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){var r=n("cc12"),o=r("span").classList,i=o&&o.constructor&&o.constructor.prototype;e.exports=i===Object.prototype?void 0:i},"7b0b":function(e,t,n){var r=n("1d80"),o=Object;e.exports=function(e){return o(r(e))}},"7c73":function(e,t,n){var r,o=n("825a"),i=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),u=n("cc12"),l=n("f772"),d=">",f="<",p="prototype",h="script",m=l("IE_PROTO"),v=function(){},g=function(e){return f+h+d+e+f+"/"+h+d},b=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=u("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?b(r):y():b(r);var e=s.length;while(e--)delete w[p][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=o(e),n=new v,v[p]=null,n[m]=e):n=w(),void 0===t?n:i.f(n,t)}},"7c86":function(e,t,n){},"825a":function(e,t,n){var r=n("861d"),o=String,i=TypeError;e.exports=function(e){if(r(e))return e;throw i(o(e)+" is not an object")}},8313:function(e,t,n){"use strict";n("8a12")},"83ab":function(e,t,n){var r=n("d039");e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("a04b"),o=n("9bf2"),i=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?o.f(e,s,i(0,n)):e[s]=n}},"861d":function(e,t,n){var r=n("1626"),o=n("8ea1"),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:r(e)||e===i}:function(e){return"object"==typeof e?null!==e:r(e)}},8925:function(e,t,n){var r=n("e330"),o=n("1626"),i=n("c6cd"),s=r(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return s(e)}),e.exports=i.inspectSource},"8a12":function(e,t,n){},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"8ea1":function(e,t){var n="object"==typeof document&&document.all,r="undefined"==typeof n&&void 0!==n;e.exports={all:n,IS_HTMLDDA:r}},"90e3":function(e,t,n){var r=n("e330"),o=0,i=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++o+i,36)}},9112:function(e,t,n){var r=n("83ab"),o=n("9bf2"),i=n("5c6c");e.exports=r?function(e,t,n){return o.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},9207:function(e,t,n){},9263:function(e,t,n){"use strict";var r=n("c65b"),o=n("e330"),i=n("577e"),s=n("ad6d"),a=n("9f7f"),c=n("5692"),u=n("7c73"),l=n("69f3").get,d=n("fce3"),f=n("107c"),p=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,v=o("".charAt),g=o("".indexOf),b=o("".replace),y=o("".slice),w=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),S=a.BROKEN_CARET,O=void 0!==/()??/.exec("")[1],C=w||O||S||d||f;C&&(m=function(e){var t,n,o,a,c,d,f,C=this,E=l(C),j=i(e),x=E.raw;if(x)return x.lastIndex=C.lastIndex,t=r(m,x,j),C.lastIndex=x.lastIndex,t;var k=E.groups,T=S&&C.sticky,I=r(s,C),P=C.source,A=0,R=j;if(T&&(I=b(I,"y",""),-1===g(I,"g")&&(I+="g"),R=y(j,C.lastIndex),C.lastIndex>0&&(!C.multiline||C.multiline&&"\n"!==v(j,C.lastIndex-1))&&(P="(?: "+P+")",R=" "+R,A++),n=new RegExp("^(?:"+P+")",I)),O&&(n=new RegExp("^"+P+"$(?!\\s)",I)),w&&(o=C.lastIndex),a=r(h,T?n:C,R),T?a?(a.input=y(a.input,A),a[0]=y(a[0],A),a.index=C.lastIndex,C.lastIndex+=a[0].length):C.lastIndex=0:w&&a&&(C.lastIndex=C.global?a.index+a[0].length:o),O&&a&&a.length>1&&r(p,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&k)for(a.groups=d=u(null),c=0;c<k.length;c++)f=k[c],d[f[0]]=a[f[1]];return a}),e.exports=m},"944a":function(e,t,n){var r=n("d066"),o=n("e065"),i=n("d44e");o("toStringTag"),i(r("Symbol"),"Symbol")},"94ca":function(e,t,n){var r=n("d039"),o=n("1626"),i=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n==l||n!=u&&(o(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=s.data={},u=s.NATIVE="N",l=s.POLYFILL="P";e.exports=s},"99af":function(e,t,n){"use strict";var r=n("23e7"),o=n("d039"),i=n("e8b5"),s=n("861d"),a=n("7b0b"),c=n("07fa"),u=n("3511"),l=n("8418"),d=n("65f0"),f=n("1dde"),p=n("b622"),h=n("2d00"),m=p("isConcatSpreadable"),v=h>=51||!o((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=f("concat"),b=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:i(e)},y=!v||!g;r({target:"Array",proto:!0,arity:1,forced:y},{concat:function(e){var t,n,r,o,i,s=a(this),f=d(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(i=-1===t?s:arguments[t],b(i))for(o=c(i),u(p+o),n=0;n<o;n++,p++)n in i&&l(f,p,i[n]);else u(p+1),l(f,p++,i);return f.length=p,f}})},"9a1f":function(e,t,n){var r=n("c65b"),o=n("59ed"),i=n("825a"),s=n("0d51"),a=n("35a1"),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(o(n))return i(r(n,e));throw c(s(e)+" is not iterable")}},"9bdd":function(e,t,n){var r=n("825a"),o=n("2a62");e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(s){o(e,"throw",s)}}},"9bf2":function(e,t,n){var r=n("83ab"),o=n("0cfb"),i=n("aed9"),s=n("825a"),a=n("a04b"),c=TypeError,u=Object.defineProperty,l=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?i?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=l(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return u(e,t,n)}:u:function(e,t,n){if(s(e),t=a(t),s(n),o)try{return u(e,t,n)}catch(r){}if("get"in n||"set"in n)throw c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9f7f":function(e,t,n){var r=n("d039"),o=n("da84"),i=o.RegExp,s=r((function(){var e=i("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),a=s||r((function(){return!i("a","y").sticky})),c=s||r((function(){var e=i("^r","gy");return e.lastIndex=2,null!=e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:s}},a04b:function(e,t,n){var r=n("c04e"),o=n("d9b5");e.exports=function(e){var t=r(e,"string");return o(t)?t:t+""}},a15b:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("44ad"),s=n("fc6a"),a=n("a640"),c=o([].join),u=i!=Object,l=a("join",",");r({target:"Array",proto:!0,forced:u||!l},{join:function(e){return c(s(this),void 0===e?",":e)}})},a301:function(e,t,n){"use strict";n("7278")},a4b4:function(e,t,n){var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){n("d9f5"),n("b4f8"),n("c513"),n("e9c4"),n("5a47")},a630:function(e,t,n){var r=n("23e7"),o=n("4df4"),i=n("1c7e"),s=!i((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:o})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},aa1f:function(e,t,n){"use strict";var r=n("83ab"),o=n("d039"),i=n("825a"),s=n("7c73"),a=n("e391"),c=Error.prototype.toString,u=o((function(){if(r){var e=s(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==c.call(e))return!0}return"2: 1"!==c.call({message:1,name:2})||"Error"!==c.call({})}));e.exports=u?function(){var e=i(this),t=a(e.name,"Error"),n=a(e.message);return t?n?t+": "+n:t:n}:c},ab13:function(e,t,n){var r=n("b622"),o=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[o]=!1,"/./"[e](t)}catch(r){}}return!1}},ab36:function(e,t,n){var r=n("861d"),o=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&o(e,"cause",t.cause)}},ab8b:function(e,t,n){},abc5:function(e,t,n){"use strict";(function(e){function r(){return o().__VUE_DEVTOOLS_GLOBAL_HOOK__}function o(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));const i="function"===typeof Proxy}).call(this,n("c8ba"))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),o=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},accc:function(e,t,n){var r=n("23e7"),o=n("64e5");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==o},{toISOString:o})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},addb:function(e,t,n){var r=n("4dae"),o=Math.floor,i=function(e,t){var n=e.length,c=o(n/2);return n<8?s(e,t):a(e,i(r(e,0,c),t),i(r(e,c),t),t)},s=function(e,t){var n,r,o=e.length,i=1;while(i<o){r=i,n=e[i];while(r&&t(e[r-1],n)>0)e[r]=e[--r];r!==i++&&(e[r]=n)}return e},a=function(e,t,n,r){var o=t.length,i=n.length,s=0,a=0;while(s<o||a<i)e[s+a]=s<o&&a<i?r(t[s],n[a])<=0?t[s++]:n[a++]:s<o?t[s++]:n[a++];return e};e.exports=i},ae93:function(e,t,n){"use strict";var r,o,i,s=n("d039"),a=n("1626"),c=n("861d"),u=n("7c73"),l=n("e163"),d=n("cb2d"),f=n("b622"),p=n("c430"),h=f("iterator"),m=!1;[].keys&&(i=[].keys(),"next"in i?(o=l(l(i)),o!==Object.prototype&&(r=o)):m=!0);var v=!c(r)||s((function(){var e={};return r[h].call(e)!==e}));v?r={}:p&&(r=u(r)),a(r[h])||d(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},aeb0:function(e,t,n){var r=n("9bf2").f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){var r=n("83ab"),o=n("d039");e.exports=r&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(e,t,n){"use strict";var r=n("00ee"),o=n("f5df");e.exports=r?{}.toString:function(){return"[object "+o(this)+"]"}},b263:function(e,t,n){"use strict";n("6b15")},b42e:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?r:n)(t)}},b4f8:function(e,t,n){var r=n("23e7"),o=n("d066"),i=n("1a2d"),s=n("577e"),a=n("5692"),c=n("0b43"),u=a("string-to-symbol-registry"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(i(u,t))return u[t];var n=o("Symbol")(t);return u[t]=n,l[n]=t,n}})},b575:function(e,t,n){var r,o,i,s,a,c,u,l,d=n("da84"),f=n("0366"),p=n("06cf").f,h=n("2cf4").set,m=n("1cdc"),v=n("d4c3"),g=n("a4b4"),b=n("605d"),y=d.MutationObserver||d.WebKitMutationObserver,w=d.document,S=d.process,O=d.Promise,C=p(d,"queueMicrotask"),E=C&&C.value;E||(r=function(){var e,t;b&&(e=S.domain)&&e.exit();while(o){t=o.fn,o=o.next;try{t()}catch(n){throw o?s():i=void 0,n}}i=void 0,e&&e.enter()},m||b||g||!y||!w?!v&&O&&O.resolve?(u=O.resolve(void 0),u.constructor=O,l=f(u.then,u),s=function(){l(r)}):b?s=function(){S.nextTick(r)}:(h=f(h,d),s=function(){h(r)}):(a=!0,c=w.createTextNode(""),new y(r).observe(c,{characterData:!0}),s=function(){c.data=a=!a})),e.exports=E||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,s()),i=t}},b622:function(e,t,n){var r=n("da84"),o=n("5692"),i=n("1a2d"),s=n("90e3"),a=n("04f8"),c=n("fdbf"),u=o("wks"),l=r.Symbol,d=l&&l["for"],f=c?l:l&&l.withoutSetter||s;e.exports=function(e){if(!i(u,e)||!a&&"string"!=typeof u[e]){var t="Symbol."+e;a&&i(l,e)?u[e]=l[e]:u[e]=c&&d?d(t):f(t)}return u[e]}},b636:function(e,t,n){var r=n("e065");r("asyncIterator")},b64b:function(e,t,n){var r=n("23e7"),o=n("7b0b"),i=n("df75"),s=n("d039"),a=s((function(){i(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return i(o(e))}})},b727:function(e,t,n){var r=n("0366"),o=n("e330"),i=n("44ad"),s=n("7b0b"),a=n("07fa"),c=n("65f0"),u=o([].push),l=function(e){var t=1==e,n=2==e,o=3==e,l=4==e,d=6==e,f=7==e,p=5==e||d;return function(h,m,v,g){for(var b,y,w=s(h),S=i(w),O=r(m,v),C=a(S),E=0,j=g||c,x=t?j(h,C):n||f?j(h,0):void 0;C>E;E++)if((p||E in S)&&(b=S[E],y=O(b,E,w),e))if(t)x[E]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return E;case 2:u(x,b)}else switch(e){case 4:return!1;case 7:u(x,b)}return d?-1:o||l?l:x}};e.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},b980:function(e,t,n){var r=n("d039"),o=n("5c6c");e.exports=!r((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},c04e:function(e,t,n){var r=n("c65b"),o=n("861d"),i=n("d9b5"),s=n("dc4a"),a=n("485a"),c=n("b622"),u=TypeError,l=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var n,c=s(e,l);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!o(n)||i(n))return n;throw u("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c20d:function(e,t,n){var r=n("da84"),o=n("d039"),i=n("e330"),s=n("577e"),a=n("58a8").trim,c=n("5899"),u=r.parseInt,l=r.Symbol,d=l&&l.iterator,f=/^[+-]?0x/i,p=i(f.exec),h=8!==u(c+"08")||22!==u(c+"0x16")||d&&!o((function(){u(Object(d))}));e.exports=h?function(e,t){var n=a(s(e));return u(n,t>>>0||(p(f,n)?16:10))}:u},c382:function(e,t,n){},c430:function(e,t){e.exports=!1},c513:function(e,t,n){var r=n("23e7"),o=n("1a2d"),i=n("d9b5"),s=n("0d51"),a=n("5692"),c=n("0b43"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!i(e))throw TypeError(s(e)+" is not a symbol");if(o(u,e))return u[e]}})},c65b:function(e,t,n){var r=n("40d5"),o=Function.prototype.call;e.exports=r?o.bind(o):function(){return o.apply(o,arguments)}},c6b6:function(e,t,n){var r=n("e330"),o=r({}.toString),i=r("".slice);e.exports=function(e){return i(o(e),8,-1)}},c6cd:function(e,t,n){var r=n("da84"),o=n("6374"),i="__core-js_shared__",s=r[i]||o(i,{});e.exports=s},c6d2:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("c430"),s=n("5e77"),a=n("1626"),c=n("dcc3"),u=n("e163"),l=n("d2bb"),d=n("d44e"),f=n("9112"),p=n("cb2d"),h=n("b622"),m=n("3f8c"),v=n("ae93"),g=s.PROPER,b=s.CONFIGURABLE,y=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=h("iterator"),O="keys",C="values",E="entries",j=function(){return this};e.exports=function(e,t,n,s,h,v,x){c(n,t,s);var k,T,I,P=function(e){if(e===h&&L)return L;if(!w&&e in V)return V[e];switch(e){case O:return function(){return new n(this,e)};case C:return function(){return new n(this,e)};case E:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",R=!1,V=e.prototype,N=V[S]||V["@@iterator"]||h&&V[h],L=!w&&N||P(h),B="Array"==t&&V.entries||N;if(B&&(k=u(B.call(new e)),k!==Object.prototype&&k.next&&(i||u(k)===y||(l?l(k,y):a(k[S])||p(k,S,j)),d(k,A,!0,!0),i&&(m[A]=j))),g&&h==C&&N&&N.name!==C&&(!i&&b?f(V,"name",C):(R=!0,L=function(){return o(N,this)})),h)if(T={values:P(C),keys:v?L:P(O),entries:P(E)},x)for(I in T)(w||R||!(I in V))&&p(V,I,T[I]);else r({target:t,proto:!0,forced:w||R},T);return i&&!x||V[S]===L||p(V,S,L,{name:h}),m[t]=L,T}},c740:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,i=n("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(s)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),o=n("e330"),i=n("4d64").indexOf,s=n("a640"),a=o([].indexOf),c=!!a&&1/a([1],1,-0)<0,u=s("indexOf");r({target:"Array",proto:!0,forced:c||!u},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?a(this,e,t)||0:i(this,e,t)}})},ca84:function(e,t,n){var r=n("e330"),o=n("1a2d"),i=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=i(e),u=0,l=[];for(n in r)!o(a,n)&&o(r,n)&&c(l,n);while(t.length>u)o(r,n=t[u++])&&(~s(l,n)||c(l,n));return l}},caad:function(e,t,n){"use strict";var r=n("23e7"),o=n("4d64").includes,i=n("d039"),s=n("44d2"),a=i((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cb2d:function(e,t,n){var r=n("1626"),o=n("9bf2"),i=n("13d2"),s=n("6374");e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,u=void 0!==a.name?a.name:t;if(r(n)&&i(n,u,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(l){}c?e[t]=n:o.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cc12:function(e,t,n){var r=n("da84"),o=n("861d"),i=r.document,s=o(i)&&o(i.createElement);e.exports=function(e){return s?i.createElement(e):{}}},cc98:function(e,t,n){"use strict";var r=n("23e7"),o=n("c430"),i=n("4738").CONSTRUCTOR,s=n("d256"),a=n("d066"),c=n("1626"),u=n("cb2d"),l=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&c(s)){var d=a("Promise").prototype["catch"];l["catch"]!==d&&u(l,"catch",d,{unsafe:!0})}},cca6:function(e,t,n){var r=n("23e7"),o=n("60da");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==o},{assign:o})},cd74:function(e,t,n){},cdce:function(e,t,n){var r=n("da84"),o=n("1626"),i=r.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},cdf9:function(e,t,n){var r=n("825a"),o=n("861d"),i=n("f069");e.exports=function(e,t){if(r(e),o(t)&&t.constructor===e)return t;var n=i.f(e),s=n.resolve;return s(t),n.promise}},d012:function(e,t){e.exports={}},d039:function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){var r=n("da84"),o=n("1626"),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!r.call({1:2},1);t.f=i?function(e){var t=o(this,e);return!!t&&t.enumerable}:r},d256:function(e,t,n){var r=n("da84");e.exports=r.Promise},d28b:function(e,t,n){var r=n("e065");r("iterator")},d2bb:function(e,t,n){var r=n("e330"),o=n("825a"),i=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return o(n),i(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d3b7:function(e,t,n){var r=n("00ee"),o=n("cb2d"),i=n("b041");r||o(Object.prototype,"toString",i,{unsafe:!0})},d401:function(e,t,n){var r=n("cb2d"),o=n("aa1f"),i=Error.prototype;i.toString!==o&&r(i,"toString",o)},d405:function(e,t,n){"use strict";n("652d")},d44e:function(e,t,n){var r=n("9bf2").f,o=n("1a2d"),i=n("b622"),s=i("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!o(e,s)&&r(e,s,{configurable:!0,value:t})}},d4c3:function(e,t,n){var r=n("342f"),o=n("da84");e.exports=/ipad|iphone|ipod/i.test(r)&&void 0!==o.Pebble},d6d6:function(e,t){var n=TypeError;e.exports=function(e,t){if(e<t)throw n("Not enough arguments");return e}},d784:function(e,t,n){"use strict";n("ac1f");var r=n("e330"),o=n("cb2d"),i=n("9263"),s=n("d039"),a=n("b622"),c=n("9112"),u=a("species"),l=RegExp.prototype;e.exports=function(e,t,n,d){var f=a(e),p=!s((function(){var t={};return t[f]=function(){return 7},7!=""[e](t)})),h=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[u]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!h||n){var m=r(/./[f]),v=t(f,""[e],(function(e,t,n,o,s){var a=r(e),c=t.exec;return c===i||c===l.exec?p&&!s?{done:!0,value:m(t,n,o)}:{done:!0,value:a(n,t,o)}:{done:!1}}));o(String.prototype,e,v[0]),o(l,f,v[1])}d&&c(l[f],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").map,i=n("1dde"),s=i("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}})},d897:function(e,t,n){},d998:function(e,t,n){var r=n("342f");e.exports=/MSIE|Trident/.test(r)},d9b5:function(e,t,n){var r=n("d066"),o=n("1626"),i=n("3a9b"),s=n("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return o(t)&&i(t.prototype,a(e))}},d9e2:function(e,t,n){var r=n("23e7"),o=n("da84"),i=n("2ba4"),s=n("e5cb"),a="WebAssembly",c=o[a],u=7!==Error("e",{cause:7}).cause,l=function(e,t){var n={};n[e]=s(e,t,u),r({global:!0,constructor:!0,arity:1,forced:u},n)},d=function(e,t){if(c&&c[e]){var n={};n[e]=s(a+"."+e,t,u),r({target:a,stat:!0,constructor:!0,arity:1,forced:u},n)}};l("Error",(function(e){return function(t){return i(e,this,arguments)}})),l("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),l("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),l("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),l("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),l("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),l("URIError",(function(e){return function(t){return i(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},d9f5:function(e,t,n){"use strict";var r=n("23e7"),o=n("da84"),i=n("c65b"),s=n("e330"),a=n("c430"),c=n("83ab"),u=n("04f8"),l=n("d039"),d=n("1a2d"),f=n("3a9b"),p=n("825a"),h=n("fc6a"),m=n("a04b"),v=n("577e"),g=n("5c6c"),b=n("7c73"),y=n("df75"),w=n("241c"),S=n("057f"),O=n("7418"),C=n("06cf"),E=n("9bf2"),j=n("37e8"),x=n("d1e7"),k=n("cb2d"),T=n("5692"),I=n("f772"),P=n("d012"),A=n("90e3"),R=n("b622"),V=n("e538"),N=n("e065"),L=n("57b9"),B=n("d44e"),D=n("69f3"),_=n("b727").forEach,M=I("hidden"),F="Symbol",U="prototype",z=D.set,G=D.getterFor(F),$=Object[U],q=o.Symbol,H=q&&q[U],W=o.TypeError,X=o.QObject,Q=C.f,Y=E.f,J=S.f,K=x.f,Z=s([].push),ee=T("symbols"),te=T("op-symbols"),ne=T("wks"),re=!X||!X[U]||!X[U].findChild,oe=c&&l((function(){return 7!=b(Y({},"a",{get:function(){return Y(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=Q($,t);r&&delete $[t],Y(e,t,n),r&&e!==$&&Y($,t,r)}:Y,ie=function(e,t){var n=ee[e]=b(H);return z(n,{type:F,tag:e,description:t}),c||(n.description=t),n},se=function(e,t,n){e===$&&se(te,t,n),p(e);var r=m(t);return p(n),d(ee,r)?(n.enumerable?(d(e,M)&&e[M][r]&&(e[M][r]=!1),n=b(n,{enumerable:g(0,!1)})):(d(e,M)||Y(e,M,g(1,{})),e[M][r]=!0),oe(e,r,n)):Y(e,r,n)},ae=function(e,t){p(e);var n=h(t),r=y(n).concat(fe(n));return _(r,(function(t){c&&!i(ue,n,t)||se(e,t,n[t])})),e},ce=function(e,t){return void 0===t?b(e):ae(b(e),t)},ue=function(e){var t=m(e),n=i(K,this,t);return!(this===$&&d(ee,t)&&!d(te,t))&&(!(n||!d(this,t)||!d(ee,t)||d(this,M)&&this[M][t])||n)},le=function(e,t){var n=h(e),r=m(t);if(n!==$||!d(ee,r)||d(te,r)){var o=Q(n,r);return!o||!d(ee,r)||d(n,M)&&n[M][r]||(o.enumerable=!0),o}},de=function(e){var t=J(h(e)),n=[];return _(t,(function(e){d(ee,e)||d(P,e)||Z(n,e)})),n},fe=function(e){var t=e===$,n=J(t?te:h(e)),r=[];return _(n,(function(e){!d(ee,e)||t&&!d($,e)||Z(r,ee[e])})),r};u||(q=function(){if(f(H,this))throw W("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=A(e),n=function(e){this===$&&i(n,te,e),d(this,M)&&d(this[M],t)&&(this[M][t]=!1),oe(this,t,g(1,e))};return c&&re&&oe($,t,{configurable:!0,set:n}),ie(t,e)},H=q[U],k(H,"toString",(function(){return G(this).tag})),k(q,"withoutSetter",(function(e){return ie(A(e),e)})),x.f=ue,E.f=se,j.f=ae,C.f=le,w.f=S.f=de,O.f=fe,V.f=function(e){return ie(R(e),e)},c&&(Y(H,"description",{configurable:!0,get:function(){return G(this).description}}),a||k($,"propertyIsEnumerable",ue,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!u,sham:!u},{Symbol:q}),_(y(ne),(function(e){N(e)})),r({target:F,stat:!0,forced:!u},{useSetter:function(){re=!0},useSimple:function(){re=!1}}),r({target:"Object",stat:!0,forced:!u,sham:!c},{create:ce,defineProperty:se,defineProperties:ae,getOwnPropertyDescriptor:le}),r({target:"Object",stat:!0,forced:!u},{getOwnPropertyNames:de}),L(),B(q,F),P[M]=!0},da84:function(e,t,n){(function(t){var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},da96:function(e,t,n){},dc4a:function(e,t,n){var r=n("59ed"),o=n("7234");e.exports=function(e,t){var n=e[t];return o(n)?void 0:r(n)}},dcc3:function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n,u){var l=t+" Iterator";return e.prototype=o(r,{next:i(+!u,n)}),s(e,l,!1,!0),a[l]=c,e}},ddb0:function(e,t,n){var r=n("da84"),o=n("fdbc"),i=n("785a"),s=n("e260"),a=n("9112"),c=n("b622"),u=c("iterator"),l=c("toStringTag"),d=s.values,f=function(e,t){if(e){if(e[u]!==d)try{a(e,u,d)}catch(r){e[u]=d}if(e[l]||a(e,l,t),o[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var p in o)f(r[p]&&r[p].prototype,p);f(i,"DOMTokenList")},df75:function(e,t,n){var r=n("ca84"),o=n("7839");e.exports=Object.keys||function(e){return r(e,o)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,o=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!o){n=t+1;break}}else-1===r&&(o=!1,r=t+1);return-1===r?"":e.slice(n,r)}function o(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,i=arguments.length-1;i>=-1&&!r;i--){var s=i>=0?arguments[i]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(o(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===i(e,-1);return e=n(o(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),i=r(n.split("/")),s=Math.min(o.length,i.length),a=s,c=0;c<s;c++)if(o[c]!==i[c]){a=c;break}var u=[];for(c=a;c<o.length;c++)u.push("..");return u=u.concat(i.slice(a)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,o=!0,i=e.length-1;i>=1;--i)if(t=e.charCodeAt(i),47===t){if(!o){r=i;break}}else o=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,o=!0,i=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(o=!1,r=s+1),46===a?-1===t?t=s:1!==i&&(i=1):-1!==t&&(i=-1);else if(!o){n=s+1;break}}return-1===t||-1===r||0===i||1===i&&t===r-1&&t===n+1?"":e.slice(t,r)};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e014:function(e,t,n){(function(e,n){!function(e,n){n(t)}(0,(function(t){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof e?e:"undefined"!=typeof self?self:{};function i(e){var t={exports:{}};return e(t,t.exports),t.exports}var s,a,c=function(e){return e&&e.Math==Math&&e},u=c("object"==typeof globalThis&&globalThis)||c("object"==typeof window&&window)||c("object"==typeof self&&self)||c("object"==typeof o&&o)||function(){return this}()||Function("return this")(),l=function(e){try{return!!e()}catch(e){return!0}},d=!l((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),f=!l((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),p=Function.prototype.call,h=f?p.bind(p):function(){return p.apply(p,arguments)},m={}.propertyIsEnumerable,v=Object.getOwnPropertyDescriptor,g=v&&!m.call({1:2},1)?function(e){var t=v(this,e);return!!t&&t.enumerable}:m,b={f:g},y=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},w=Function.prototype,S=w.bind,O=w.call,C=f&&S.bind(O,O),E=f?function(e){return e&&C(e)}:function(e){return e&&function(){return O.apply(e,arguments)}},j=E({}.toString),x=E("".slice),k=function(e){return x(j(e),8,-1)},T=Object,I=E("".split),P=l((function(){return!T("z").propertyIsEnumerable(0)}))?function(e){return"String"==k(e)?I(e,""):T(e)}:T,A=function(e){return null==e},R=TypeError,V=function(e){if(A(e))throw R("Can't call method on "+e);return e},N=function(e){return P(V(e))},L="object"==typeof document&&document.all,B={all:L,IS_HTMLDDA:void 0===L&&void 0!==L},D=B.all,_=B.IS_HTMLDDA?function(e){return"function"==typeof e||e===D}:function(e){return"function"==typeof e},M=B.all,F=B.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:_(e)||e===M}:function(e){return"object"==typeof e?null!==e:_(e)},U=function(e){return _(e)?e:void 0},z=function(e,t){return arguments.length<2?U(u[e]):u[e]&&u[e][t]},G=E({}.isPrototypeOf),q=z("navigator","userAgent")||"",H=u.process,W=u.Deno,X=H&&H.versions||W&&W.version,Q=X&&X.v8;Q&&(a=(s=Q.split("."))[0]>0&&s[0]<4?1:+(s[0]+s[1])),!a&&q&&(!(s=q.match(/Edge\/(\d+)/))||s[1]>=74)&&(s=q.match(/Chrome\/(\d+)/))&&(a=+s[1]);var Y=a,J=!!Object.getOwnPropertySymbols&&!l((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&Y&&Y<41})),K=J&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,Z=Object,ee=K?function(e){return"symbol"==typeof e}:function(e){var t=z("Symbol");return _(t)&&G(t.prototype,Z(e))},te=String,ne=function(e){try{return te(e)}catch(e){return"Object"}},re=TypeError,oe=function(e){if(_(e))return e;throw re(ne(e)+" is not a function")},ie=function(e,t){var n=e[t];return A(n)?void 0:oe(n)},se=TypeError,ae=Object.defineProperty,ce=function(e,t){try{ae(u,e,{value:t,configurable:!0,writable:!0})}catch(o){u[e]=t}return t},ue="__core-js_shared__",le=u[ue]||ce(ue,{}),de=i((function(e){(e.exports=function(e,t){return le[e]||(le[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.25.2",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.25.2/LICENSE",source:"https://github.com/zloirock/core-js"})})),fe=Object,pe=function(e){return fe(V(e))},he=E({}.hasOwnProperty),me=Object.hasOwn||function(e,t){return he(pe(e),t)},ve=0,ge=Math.random(),be=E(1..toString),ye=function(e){return"Symbol("+(void 0===e?"":e)+")_"+be(++ve+ge,36)},we=de("wks"),Se=u.Symbol,Oe=Se&&Se.for,Ce=K?Se:Se&&Se.withoutSetter||ye,Ee=function(e){if(!me(we,e)||!J&&"string"!=typeof we[e]){var t="Symbol."+e;J&&me(Se,e)?we[e]=Se[e]:we[e]=K&&Oe?Oe(t):Ce(t)}return we[e]},je=TypeError,xe=Ee("toPrimitive"),ke=function(e,t){if(!F(e)||ee(e))return e;var n,r=ie(e,xe);if(r){if(void 0===t&&(t="default"),n=h(r,e,t),!F(n)||ee(n))return n;throw je("Can't convert object to primitive value")}return void 0===t&&(t="number"),function(e,t){var n,r;if("string"===t&&_(n=e.toString)&&!F(r=h(n,e)))return r;if(_(n=e.valueOf)&&!F(r=h(n,e)))return r;if("string"!==t&&_(n=e.toString)&&!F(r=h(n,e)))return r;throw se("Can't convert object to primitive value")}(e,t)},Te=function(e){var t=ke(e,"string");return ee(t)?t:t+""},Ie=u.document,Pe=F(Ie)&&F(Ie.createElement),Ae=function(e){return Pe?Ie.createElement(e):{}},Re=!d&&!l((function(){return 7!=Object.defineProperty(Ae("div"),"a",{get:function(){return 7}}).a})),Ve=Object.getOwnPropertyDescriptor,Ne={f:d?Ve:function(e,t){if(e=N(e),t=Te(t),Re)try{return Ve(e,t)}catch(e){}if(me(e,t))return y(!h(b.f,e,t),e[t])}},Le=d&&l((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Be=String,De=TypeError,_e=function(e){if(F(e))return e;throw De(Be(e)+" is not an object")},Me=TypeError,Fe=Object.defineProperty,Ue=Object.getOwnPropertyDescriptor,ze="enumerable",Ge="configurable",$e="writable",qe={f:d?Le?function(e,t,n){if(_e(e),t=Te(t),_e(n),"function"==typeof e&&"prototype"===t&&"value"in n&&$e in n&&!n.writable){var r=Ue(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:Ge in n?n.configurable:r.configurable,enumerable:ze in n?n.enumerable:r.enumerable,writable:!1})}return Fe(e,t,n)}:Fe:function(e,t,n){if(_e(e),t=Te(t),_e(n),Re)try{return Fe(e,t,n)}catch(e){}if("get"in n||"set"in n)throw Me("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},He=d?function(e,t,n){return qe.f(e,t,y(1,n))}:function(e,t,n){return e[t]=n,e},We=Function.prototype,Xe=d&&Object.getOwnPropertyDescriptor,Qe=me(We,"name"),Ye={EXISTS:Qe,PROPER:Qe&&"something"===function(){}.name,CONFIGURABLE:Qe&&(!d||d&&Xe(We,"name").configurable)},Je=E(Function.toString);_(le.inspectSource)||(le.inspectSource=function(e){return Je(e)});var Ke,Ze,et,tt=le.inspectSource,nt=u.WeakMap,rt=_(nt)&&/native code/.test(String(nt)),ot=de("keys"),it=function(e){return ot[e]||(ot[e]=ye(e))},st={},at="Object already initialized",ct=u.TypeError,ut=u.WeakMap;if(rt||le.state){var lt=le.state||(le.state=new ut),dt=E(lt.get),ft=E(lt.has),pt=E(lt.set);Ke=function(e,t){if(ft(lt,e))throw ct(at);return t.facade=e,pt(lt,e,t),t},Ze=function(e){return dt(lt,e)||{}},et=function(e){return ft(lt,e)}}else{var ht=it("state");st[ht]=!0,Ke=function(e,t){if(me(e,ht))throw ct(at);return t.facade=e,He(e,ht,t),t},Ze=function(e){return me(e,ht)?e[ht]:{}},et=function(e){return me(e,ht)}}var mt={set:Ke,get:Ze,has:et,enforce:function(e){return et(e)?Ze(e):Ke(e,{})},getterFor:function(e){return function(t){var n;if(!F(t)||(n=Ze(t)).type!==e)throw ct("Incompatible receiver, "+e+" required");return n}}},vt=i((function(e){var t=Ye.CONFIGURABLE,n=mt.enforce,r=mt.get,o=Object.defineProperty,i=d&&!l((function(){return 8!==o((function(){}),"length",{value:8}).length})),s=String(String).split("String"),a=e.exports=function(e,r,a){"Symbol("===String(r).slice(0,7)&&(r="["+String(r).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(r="get "+r),a&&a.setter&&(r="set "+r),(!me(e,"name")||t&&e.name!==r)&&(d?o(e,"name",{value:r,configurable:!0}):e.name=r),i&&a&&me(a,"arity")&&e.length!==a.arity&&o(e,"length",{value:a.arity});try{a&&me(a,"constructor")&&a.constructor?d&&o(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var c=n(e);return me(c,"source")||(c.source=s.join("string"==typeof r?r:"")),e};Function.prototype.toString=a((function(){return _(this)&&r(this).source||tt(this)}),"toString")})),gt=function(e,t,n,r){r||(r={});var o=r.enumerable,i=void 0!==r.name?r.name:t;if(_(n)&&vt(n,i,r),r.global)o?e[t]=n:ce(t,n);else{try{r.unsafe?e[t]&&(o=!0):delete e[t]}catch(e){}o?e[t]=n:qe.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},bt=Math.ceil,yt=Math.floor,wt=Math.trunc||function(e){var t=+e;return(t>0?yt:bt)(t)},St=function(e){var t=+e;return t!=t||0===t?0:wt(t)},Ot=Math.max,Ct=Math.min,Et=Math.min,jt=function(e){return e>0?Et(St(e),9007199254740991):0},xt=function(e){return jt(e.length)},kt=function(e){return function(t,n,r){var o,i=N(t),s=xt(i),a=function(e,t){var n=St(e);return n<0?Ot(n+t,0):Ct(n,t)}(r,s);if(e&&n!=n){for(;s>a;)if((o=i[a++])!=o)return!0}else for(;s>a;a++)if((e||a in i)&&i[a]===n)return e||a||0;return!e&&-1}},Tt={includes:kt(!0),indexOf:kt(!1)},It=Tt.indexOf,Pt=E([].push),At=function(e,t){var n,r=N(e),o=0,i=[];for(n in r)!me(st,n)&&me(r,n)&&Pt(i,n);for(;t.length>o;)me(r,n=t[o++])&&(~It(i,n)||Pt(i,n));return i},Rt=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Vt=Rt.concat("length","prototype"),Nt={f:Object.getOwnPropertyNames||function(e){return At(e,Vt)}},Lt={f:Object.getOwnPropertySymbols},Bt=E([].concat),Dt=z("Reflect","ownKeys")||function(e){var t=Nt.f(_e(e)),n=Lt.f;return n?Bt(t,n(e)):t},_t=function(e,t,n){for(var r=Dt(t),o=qe.f,i=Ne.f,s=0;s<r.length;s++){var a=r[s];me(e,a)||n&&me(n,a)||o(e,a,i(t,a))}},Mt=/#|\.prototype\./,Ft=function(e,t){var n=zt[Ut(e)];return n==$t||n!=Gt&&(_(t)?l(t):!!t)},Ut=Ft.normalize=function(e){return String(e).replace(Mt,".").toLowerCase()},zt=Ft.data={},Gt=Ft.NATIVE="N",$t=Ft.POLYFILL="P",qt=Ft,Ht=Ne.f,Wt=function(e,t){var n,r,o,i,s,a=e.target,c=e.global,l=e.stat;if(n=c?u:l?u[a]||ce(a,{}):(u[a]||{}).prototype)for(r in t){if(i=t[r],o=e.dontCallGetSet?(s=Ht(n,r))&&s.value:n[r],!qt(c?r:a+(l?".":"#")+r,e.forced)&&void 0!==o){if(typeof i==typeof o)continue;_t(i,o)}(e.sham||o&&o.sham)&&He(i,"sham",!0),gt(n,r,i,e)}},Xt=Function.prototype,Qt=Xt.apply,Yt=Xt.call,Jt="object"==typeof Reflect&&Reflect.apply||(f?Yt.bind(Qt):function(){return Yt.apply(Qt,arguments)}),Kt=Array.isArray||function(e){return"Array"==k(e)},Zt=E([].slice),en=z("JSON","stringify"),tn=E(/./.exec),nn=E("".charAt),rn=E("".charCodeAt),on=E("".replace),sn=E(1..toString),an=/[\uD800-\uDFFF]/g,cn=/^[\uD800-\uDBFF]$/,un=/^[\uDC00-\uDFFF]$/,ln=!J||l((function(){var e=z("Symbol")();return"[null]"!=en([e])||"{}"!=en({a:e})||"{}"!=en(Object(e))})),dn=l((function(){return'"\\udf06\\ud834"'!==en("\udf06\ud834")||'"\\udead"'!==en("\udead")})),fn=function(e,t){var n=Zt(arguments),r=t;if((F(t)||void 0!==e)&&!ee(e))return Kt(t)||(t=function(e,t){if(_(r)&&(t=h(r,this,e,t)),!ee(t))return t}),n[1]=t,Jt(en,null,n)},pn=function(e,t,n){var r=nn(n,t-1),o=nn(n,t+1);return tn(cn,e)&&!tn(un,o)||tn(un,e)&&!tn(cn,r)?"\\u"+sn(rn(e,0),16):e};en&&Wt({target:"JSON",stat:!0,arity:3,forced:ln||dn},{stringify:function(e,t,n){var r=Zt(arguments),o=Jt(ln?fn:en,null,r);return dn&&"string"==typeof o?on(o,an,pn):o}});var hn,mn={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},vn=Ae("span").classList,gn=vn&&vn.constructor&&vn.constructor.prototype,bn=gn===Object.prototype?void 0:gn,yn=Object.keys||function(e){return At(e,Rt)},wn=d&&!Le?Object.defineProperties:function(e,t){_e(e);for(var n,r=N(t),o=yn(t),i=o.length,s=0;i>s;)qe.f(e,n=o[s++],r[n]);return e},Sn={f:wn},On=z("document","documentElement"),Cn=it("IE_PROTO"),En=function(){},jn=function(e){return"<script>"+e+"<\/script>"},xn=function(e){e.write(jn("")),e.close();var t=e.parentWindow.Object;return e=null,t},kn=function(){try{hn=new ActiveXObject("htmlfile")}catch(e){}var e,t;kn="undefined"!=typeof document?document.domain&&hn?xn(hn):((t=Ae("iframe")).style.display="none",On.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(jn("document.F=Object")),e.close(),e.F):xn(hn);for(var n=Rt.length;n--;)delete kn.prototype[Rt[n]];return kn()};st[Cn]=!0;var Tn=Object.create||function(e,t){var n;return null!==e?(En.prototype=_e(e),n=new En,En.prototype=null,n[Cn]=e):n=kn(),void 0===t?n:Sn.f(n,t)},In=qe.f,Pn=Ee("unscopables"),An=Array.prototype;null==An[Pn]&&In(An,Pn,{configurable:!0,value:Tn(null)});var Rn,Vn,Nn,Ln=function(e){An[Pn][e]=!0},Bn={},Dn=!l((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),_n=it("IE_PROTO"),Mn=Object,Fn=Mn.prototype,Un=Dn?Mn.getPrototypeOf:function(e){var t=pe(e);if(me(t,_n))return t[_n];var n=t.constructor;return _(n)&&t instanceof n?n.prototype:t instanceof Mn?Fn:null},zn=Ee("iterator"),Gn=!1;[].keys&&("next"in(Nn=[].keys())?(Vn=Un(Un(Nn)))!==Object.prototype&&(Rn=Vn):Gn=!0);var $n=!F(Rn)||l((function(){var e={};return Rn[zn].call(e)!==e}));$n&&(Rn={}),_(Rn[zn])||gt(Rn,zn,(function(){return this}));var qn={IteratorPrototype:Rn,BUGGY_SAFARI_ITERATORS:Gn},Hn=qe.f,Wn=Ee("toStringTag"),Xn=function(e,t,n){e&&!n&&(e=e.prototype),e&&!me(e,Wn)&&Hn(e,Wn,{configurable:!0,value:t})},Qn=qn.IteratorPrototype,Yn=function(){return this},Jn=function(e,t,n,r){var o=t+" Iterator";return e.prototype=Tn(Qn,{next:y(+!r,n)}),Xn(e,o,!1),Bn[o]=Yn,e},Kn=String,Zn=TypeError,er=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=E(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return _e(n),function(e){if("object"==typeof e||_(e))return e;throw Zn("Can't set "+Kn(e)+" as a prototype")}(r),t?e(n,r):n.__proto__=r,n}}():void 0),tr=Ye.PROPER,nr=Ye.CONFIGURABLE,rr=qn.IteratorPrototype,or=qn.BUGGY_SAFARI_ITERATORS,ir=Ee("iterator"),sr="keys",ar="values",cr="entries",ur=function(){return this},lr=function(e,t){return{value:e,done:t}},dr=qe.f,fr="Array Iterator",pr=mt.set,hr=mt.getterFor(fr),mr=function(e,t,n,r,o,i,s){Jn(n,t,r);var a,c,u,l=function(e){if(e===o&&v)return v;if(!or&&e in p)return p[e];switch(e){case sr:case ar:case cr:return function(){return new n(this,e)}}return function(){return new n(this)}},d=t+" Iterator",f=!1,p=e.prototype,m=p[ir]||p["@@iterator"]||o&&p[o],v=!or&&m||l(o),g="Array"==t&&p.entries||m;if(g&&(a=Un(g.call(new e)))!==Object.prototype&&a.next&&(Un(a)!==rr&&(er?er(a,rr):_(a[ir])||gt(a,ir,ur)),Xn(a,d,!0)),tr&&o==ar&&m&&m.name!==ar&&(nr?He(p,"name",ar):(f=!0,v=function(){return h(m,this)})),o)if(c={values:l(ar),keys:i?v:l(sr),entries:l(cr)},s)for(u in c)(or||f||!(u in p))&&gt(p,u,c[u]);else Wt({target:t,proto:!0,forced:or||f},c);return p[ir]!==v&&gt(p,ir,v,{name:o}),Bn[t]=v,c}(Array,"Array",(function(e,t){pr(this,{type:fr,target:N(e),index:0,kind:t})}),(function(){var e=hr(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,lr(void 0,!0)):lr("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values"),vr=Bn.Arguments=Bn.Array;if(Ln("keys"),Ln("values"),Ln("entries"),d&&"values"!==vr.name)try{dr(vr,"name",{value:"values"})}catch(t){}var gr=Ee("iterator"),br=Ee("toStringTag"),yr=mr.values,wr=function(e,t){if(e){if(e[gr]!==yr)try{He(e,gr,yr)}catch(t){e[gr]=yr}if(e[br]||He(e,br,t),mn[t])for(var n in mr)if(e[n]!==mr[n])try{He(e,n,mr[n])}catch(t){e[n]=mr[n]}}};for(var Sr in mn)wr(u[Sr]&&u[Sr].prototype,Sr);wr(bn,"DOMTokenList");var Or=i((function(e){!function(t){var n,r={VERSION:"1.6.1"},o={},i=function(e,t){return function(){return t.apply(e,arguments)}},s=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},a=function(e,t){return{value:e,name:t}};r.TRACE=a(1,"TRACE"),r.DEBUG=a(2,"DEBUG"),r.INFO=a(3,"INFO"),r.TIME=a(4,"TIME"),r.WARN=a(5,"WARN"),r.ERROR=a(8,"ERROR"),r.OFF=a(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(r.TRACE,arguments)},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,s({level:e},this.context))}};var u,l=new c({filterLevel:r.OFF});(u=r).enabledFor=i(l,l.enabledFor),u.trace=i(l,l.trace),u.debug=i(l,l.debug),u.time=i(l,l.time),u.timeEnd=i(l,l.timeEnd),u.info=i(l,l.info),u.warn=i(l,l.warn),u.error=i(l,l.error),u.log=u.info,r.setHandler=function(e){n=e},r.setLevel=function(e){for(var t in l.setLevel(e),o)o.hasOwnProperty(t)&&o[t].setLevel(e)},r.getLevel=function(){return l.getLevel()},r.get=function(e){return o[e]||(o[e]=new c(s({name:e},l.context)))},r.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return"undefined"==typeof console?function(){}:function(o,i){o=Array.prototype.slice.call(o);var s,a=console.log;i.level===r.TIME?(s=(i.name?"["+i.name+"] ":"")+o[0],"start"===o[1]?console.time?console.time(s):t[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):n(a,[s+": "+((new Date).getTime()-t[s])+"ms"])):(i.level===r.WARN&&console.warn?a=console.warn:i.level===r.ERROR&&console.error?a=console.error:i.level===r.INFO&&console.info?a=console.info:i.level===r.DEBUG&&console.debug?a=console.debug:i.level===r.TRACE&&console.trace&&(a=console.trace),e.formatter(o,i),n(a,o))}},r.useDefaults=function(e){r.setLevel(e&&e.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(e))},r.setDefaults=r.useDefaults,e.exports?e.exports=r:(r._prevLogger=t.Logger,r.noConflict=function(){return t.Logger=r._prevLogger,r},t.Logger=r)}(o)}));function Cr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Er(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cr(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Or.useDefaults({defaultLevel:Or.TRACE});const jr=(e,t)=>{e.unshift("[".concat(t.name||"Global","] ").concat((new Date).toISOString()," - ").concat(t.level.name," -"))},xr=(e,t)=>t?e.value>=Ar[t].value:e.value>=Pr.value,kr=Or.createDefaultHandler({formatter:jr});Or.setHandler((e,t)=>{((e,t)=>{e=(e=Array.prototype.slice.call(e)).map(e=>"object"==typeof e?JSON.stringify(e):e),jr(e,t),0!==Tr?(Ir.push(e.join(" ")),Ir.length>=Tr&&(Ir=Ir.slice(-Tr))):Ir=[]})(e,t),xr(t.level,t.name)&&kr(e,t);for(const{handler:n,level:r}of Rr)t.level.value>=r.value&&n(e,t)});let Tr=1e4,Ir=[],Pr=Or.OFF;const Ar={},Rr=[],Vr=Er(Er({},Or),{},{enabledFor:xr,getHistory:()=>Ir,getHistoryMaxSize:()=>Tr,setHistoryMaxSize:e=>{Tr=e},setLevel:e=>{Pr=e;for(const t in Ar)Ar[t]=e},getLevel:()=>Pr,get:e=>{Ar[e]||(Ar[e]=Pr);const t=Or.get(e);return t.setLevel=t=>{Ar[e]=t},t.getLevel=()=>Ar[e],t},setHandler:(e,t)=>{Rr.push({handler:e,level:t})}});var Nr="process"==k(u.process),Lr=Ee("species"),Br=function(e){var t=z(e),n=qe.f;d&&t&&!t[Lr]&&n(t,Lr,{configurable:!0,get:function(){return this}})},Dr=TypeError,_r={};_r[Ee("toStringTag")]="z";var Mr="[object z]"===String(_r),Fr=Ee("toStringTag"),Ur=Object,zr="Arguments"==k(function(){return arguments}()),Gr=Mr?k:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Ur(e),Fr))?n:zr?k(t):"Object"==(r=k(t))&&_(t.callee)?"Arguments":r},$r=function(){},qr=[],Hr=z("Reflect","construct"),Wr=/^\s*(?:class|function)\b/,Xr=E(Wr.exec),Qr=!Wr.exec($r),Yr=function(e){if(!_(e))return!1;try{return Hr($r,qr,e),!0}catch(e){return!1}},Jr=function(e){if(!_(e))return!1;switch(Gr(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Qr||!!Xr(Wr,tt(e))}catch(e){return!0}};Jr.sham=!0;var Kr,Zr,eo,to,no=!Hr||l((function(){var e;return Yr(Yr.call)||!Yr(Object)||!Yr((function(){e=!0}))||e}))?Jr:Yr,ro=TypeError,oo=Ee("species"),io=function(e,t){var n,r=_e(e).constructor;return void 0===r||A(n=_e(r)[oo])?t:function(e){if(no(e))return e;throw ro(ne(e)+" is not a constructor")}(n)},so=E(E.bind),ao=function(e,t){return oe(e),void 0===t?e:f?so(e,t):function(){return e.apply(t,arguments)}},co=TypeError,uo=function(e,t){if(e<t)throw co("Not enough arguments");return e},lo=/(?:ipad|iphone|ipod).*applewebkit/i.test(q),fo=u.setImmediate,po=u.clearImmediate,ho=u.process,mo=u.Dispatch,vo=u.Function,go=u.MessageChannel,bo=u.String,yo=0,wo={},So="onreadystatechange";try{Kr=u.location}catch(t){}var Oo=function(e){if(me(wo,e)){var t=wo[e];delete wo[e],t()}},Co=function(e){return function(){Oo(e)}},Eo=function(e){Oo(e.data)},jo=function(e){u.postMessage(bo(e),Kr.protocol+"//"+Kr.host)};fo&&po||(fo=function(e){uo(arguments.length,1);var t=_(e)?e:vo(e),n=Zt(arguments,1);return wo[++yo]=function(){Jt(t,void 0,n)},Zr(yo),yo},po=function(e){delete wo[e]},Nr?Zr=function(e){ho.nextTick(Co(e))}:mo&&mo.now?Zr=function(e){mo.now(Co(e))}:go&&!lo?(to=(eo=new go).port2,eo.port1.onmessage=Eo,Zr=ao(to.postMessage,to)):u.addEventListener&&_(u.postMessage)&&!u.importScripts&&Kr&&"file:"!==Kr.protocol&&!l(jo)?(Zr=jo,u.addEventListener("message",Eo,!1)):Zr=So in Ae("script")?function(e){On.appendChild(Ae("script")).onreadystatechange=function(){On.removeChild(this),Oo(e)}}:function(e){setTimeout(Co(e),0)});var xo,ko,To,Io,Po,Ao,Ro,Vo,No={set:fo,clear:po},Lo=/ipad|iphone|ipod/i.test(q)&&void 0!==u.Pebble,Bo=/web0s(?!.*chrome)/i.test(q),Do=Ne.f,_o=No.set,Mo=u.MutationObserver||u.WebKitMutationObserver,Fo=u.document,Uo=u.process,zo=u.Promise,Go=Do(u,"queueMicrotask"),$o=Go&&Go.value;$o||(xo=function(){var e,t;for(Nr&&(e=Uo.domain)&&e.exit();ko;){t=ko.fn,ko=ko.next;try{t()}catch(e){throw ko?Io():To=void 0,e}}To=void 0,e&&e.enter()},lo||Nr||Bo||!Mo||!Fo?!Lo&&zo&&zo.resolve?((Ro=zo.resolve(void 0)).constructor=zo,Vo=ao(Ro.then,Ro),Io=function(){Vo(xo)}):Nr?Io=function(){Uo.nextTick(xo)}:(_o=ao(_o,u),Io=function(){_o(xo)}):(Po=!0,Ao=Fo.createTextNode(""),new Mo(xo).observe(Ao,{characterData:!0}),Io=function(){Ao.data=Po=!Po}));var qo=$o||function(e){var t={fn:e,next:void 0};To&&(To.next=t),ko||(ko=t,Io()),To=t},Ho=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},Wo=function(){this.head=null,this.tail=null};Wo.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var Xo=Wo,Qo=u.Promise,Yo="object"==typeof Deno&&Deno&&"object"==typeof Deno.version,Jo=!Yo&&!Nr&&"object"==typeof window&&"object"==typeof document;Qo&&Qo.prototype;var Ko,Zo,ei,ti=Ee("species"),ni=!1,ri=_(u.PromiseRejectionEvent),oi=qt("Promise",(function(){var e=tt(Qo),t=e!==String(Qo);if(!t&&66===Y)return!0;if(!Y||Y<51||!/native code/.test(e)){var n=new Qo((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};if((n.constructor={})[ti]=r,!(ni=n.then((function(){}))instanceof r))return!0}return!t&&(Jo||Yo)&&!ri})),ii={CONSTRUCTOR:oi,REJECTION_EVENT:ri,SUBCLASSING:ni},si=TypeError,ai=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw si("Bad Promise constructor");t=e,n=r})),this.resolve=oe(t),this.reject=oe(n)},ci={f:function(e){return new ai(e)}},ui=No.set,li="Promise",di=ii.CONSTRUCTOR,fi=ii.REJECTION_EVENT,pi=ii.SUBCLASSING,hi=mt.getterFor(li),mi=mt.set,vi=Qo&&Qo.prototype,gi=Qo,bi=vi,yi=u.TypeError,wi=u.document,Si=u.process,Oi=ci.f,Ci=Oi,Ei=!!(wi&&wi.createEvent&&u.dispatchEvent),ji="unhandledrejection",xi=function(e){var t;return!(!F(e)||!_(t=e.then))&&t},ki=function(e,t){var n,r,o,i=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,u=e.reject,l=e.domain;try{a?(s||(2===t.rejection&&Ri(t),t.rejection=1),!0===a?n=i:(l&&l.enter(),n=a(i),l&&(l.exit(),o=!0)),n===e.promise?u(yi("Promise-chain cycle")):(r=xi(n))?h(r,n,c,u):c(n)):u(i)}catch(e){l&&!o&&l.exit(),u(e)}},Ti=function(e,t){e.notified||(e.notified=!0,qo((function(){for(var n,r=e.reactions;n=r.get();)ki(n,e);e.notified=!1,t&&!e.rejection&&Pi(e)})))},Ii=function(e,t,n){var r,o;Ei?((r=wi.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!fi&&(o=u["on"+e])?o(r):e===ji&&function(e,t){var n=u.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))}("Unhandled promise rejection",n)},Pi=function(e){h(ui,u,(function(){var t,n=e.facade,r=e.value;if(Ai(e)&&(t=Ho((function(){Nr?Si.emit("unhandledRejection",r,n):Ii(ji,n,r)})),e.rejection=Nr||Ai(e)?2:1,t.error))throw t.value}))},Ai=function(e){return 1!==e.rejection&&!e.parent},Ri=function(e){h(ui,u,(function(){var t=e.facade;Nr?Si.emit("rejectionHandled",t):Ii("rejectionhandled",t,e.value)}))},Vi=function(e,t,n){return function(r){e(t,r,n)}},Ni=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,Ti(e,!0))},Li=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw yi("Promise can't be resolved itself");var r=xi(t);r?qo((function(){var n={done:!1};try{h(r,t,Vi(Li,n,e),Vi(Ni,n,e))}catch(t){Ni(n,t,e)}})):(e.value=t,e.state=1,Ti(e,!1))}catch(t){Ni({done:!1},t,e)}}};if(di&&(bi=(gi=function(e){!function(e,t){if(G(t,e))return e;throw Dr("Incorrect invocation")}(this,bi),oe(e),h(Ko,this);var t=hi(this);try{e(Vi(Li,t),Vi(Ni,t))}catch(e){Ni(t,e)}}).prototype,(Ko=function(e){mi(this,{type:li,done:!1,notified:!1,parent:!1,reactions:new Xo,rejection:!1,state:0,value:void 0})}).prototype=gt(bi,"then",(function(e,t){var n=hi(this),r=Oi(io(this,gi));return n.parent=!0,r.ok=!_(e)||e,r.fail=_(t)&&t,r.domain=Nr?Si.domain:void 0,0==n.state?n.reactions.add(r):qo((function(){ki(r,n)})),r.promise})),Zo=function(){var e=new Ko,t=hi(e);this.promise=e,this.resolve=Vi(Li,t),this.reject=Vi(Ni,t)},ci.f=Oi=function(e){return e===gi||void 0===e?new Zo(e):Ci(e)},_(Qo)&&vi!==Object.prototype)){ei=vi.then,pi||gt(vi,"then",(function(e,t){var n=this;return new gi((function(e,t){h(ei,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete vi.constructor}catch(t){}er&&er(vi,bi)}Wt({global:!0,constructor:!0,wrap:!0,forced:di},{Promise:gi}),Xn(gi,li,!1),Br(li);var Bi=Ee("iterator"),Di=Array.prototype,_i=Ee("iterator"),Mi=function(e){if(!A(e))return ie(e,_i)||ie(e,"@@iterator")||Bn[Gr(e)]},Fi=TypeError,Ui=function(e,t,n){var r,o;_e(e);try{if(!(r=ie(e,"return"))){if("throw"===t)throw n;return n}r=h(r,e)}catch(e){o=!0,r=e}if("throw"===t)throw n;if(o)throw r;return _e(r),n},zi=TypeError,Gi=function(e,t){this.stopped=e,this.result=t},$i=Gi.prototype,qi=function(e,t,n){var r,o,i,s,a,c,u,l,d=n&&n.that,f=!(!n||!n.AS_ENTRIES),p=!(!n||!n.IS_RECORD),m=!(!n||!n.IS_ITERATOR),v=!(!n||!n.INTERRUPTED),g=ao(t,d),b=function(e){return r&&Ui(r,"normal",e),new Gi(!0,e)},y=function(e){return f?(_e(e),v?g(e[0],e[1],b):g(e[0],e[1])):v?g(e,b):g(e)};if(p)r=e.iterator;else if(m)r=e;else{if(!(o=Mi(e)))throw zi(ne(e)+" is not iterable");if(void 0!==(l=o)&&(Bn.Array===l||Di[Bi]===l)){for(i=0,s=xt(e);s>i;i++)if((a=y(e[i]))&&G($i,a))return a;return new Gi(!1)}r=function(e,t){var n=arguments.length<2?Mi(e):t;if(oe(n))return _e(h(n,e));throw Fi(ne(e)+" is not iterable")}(e,o)}for(c=p?e.next:r.next;!(u=h(c,r)).done;){try{a=y(u.value)}catch(e){Ui(r,"throw",e)}if("object"==typeof a&&a&&G($i,a))return a}return new Gi(!1)},Hi=Ee("iterator"),Wi=!1;try{var Xi=0,Qi={next:function(){return{done:!!Xi++}},return:function(){Wi=!0}};Qi[Hi]=function(){return this},Array.from(Qi,(function(){throw 2}))}catch(t){}var Yi=ii.CONSTRUCTOR||!function(e,t){if(!t&&!Wi)return!1;var n=!1;try{var r={};r[Hi]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n}((function(e){Qo.all(e).then(void 0,(function(){}))}));Wt({target:"Promise",stat:!0,forced:Yi},{all:function(e){var t=this,n=ci.f(t),r=n.resolve,o=n.reject,i=Ho((function(){var n=oe(t.resolve),i=[],s=0,a=1;qi(e,(function(e){var c=s++,u=!1;a++,h(n,t,e).then((function(e){u||(u=!0,i[c]=e,--a||r(i))}),o)})),--a||r(i)}));return i.error&&o(i.value),n.promise}});var Ji=ii.CONSTRUCTOR,Ki=Qo&&Qo.prototype;if(Wt({target:"Promise",proto:!0,forced:Ji,real:!0},{catch:function(e){return this.then(void 0,e)}}),_(Qo)){var Zi=z("Promise").prototype.catch;Ki.catch!==Zi&&gt(Ki,"catch",Zi,{unsafe:!0})}Wt({target:"Promise",stat:!0,forced:Yi},{race:function(e){var t=this,n=ci.f(t),r=n.reject,o=Ho((function(){var o=oe(t.resolve);qi(e,(function(e){h(o,t,e).then(n.resolve,r)}))}));return o.error&&r(o.value),n.promise}}),Wt({target:"Promise",stat:!0,forced:ii.CONSTRUCTOR},{reject:function(e){var t=ci.f(this);return h(t.reject,void 0,e),t.promise}});var es=ii.CONSTRUCTOR;z("Promise"),Wt({target:"Promise",stat:!0,forced:es},{resolve:function(e){return function(e,t){if(_e(e),F(t)&&t.constructor===e)return t;var n=ci.f(e);return(0,n.resolve)(t),n.promise}(this,e)}});var ts=qe.f,ns=function(e,t,n){n in e||ts(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})},rs=function(e,t,n){var r,o;return er&&_(r=t.constructor)&&r!==n&&F(o=r.prototype)&&o!==n.prototype&&er(e,o),e},os=String,is=function(e){if("Symbol"===Gr(e))throw TypeError("Cannot convert a Symbol value to a string");return os(e)},ss=function(e,t){return void 0===e?arguments.length<2?"":t:is(e)},as=function(e,t){F(t)&&"cause"in t&&He(e,"cause",t.cause)},cs=Error,us=E("".replace),ls=String(cs("zxcasd").stack),ds=/\n\s*at [^:]*:[^\n]*/,fs=ds.test(ls),ps=function(e,t){if(fs&&"string"==typeof e&&!cs.prepareStackTrace)for(;t--;)e=us(e,ds,"");return e},hs=!l((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",y(1,7)),7!==e.stack)})),ms=function(e,t,n,r){var o="stackTraceLimit",i=r?2:1,s=e.split("."),a=s[s.length-1],c=z.apply(null,s);if(c){var u=c.prototype;if(me(u,"cause")&&delete u.cause,!n)return c;var l=z("Error"),f=t((function(e,t){var n=ss(r?t:e,void 0),o=r?new c(e):new c;return void 0!==n&&He(o,"message",n),hs&&He(o,"stack",ps(o.stack,2)),this&&G(u,this)&&rs(o,this,f),arguments.length>i&&as(o,arguments[i]),o}));f.prototype=u,"Error"!==a?er?er(f,l):_t(f,l,{name:!0}):d&&o in c&&(ns(f,c,o),ns(f,c,"prepareStackTrace")),_t(f,c);try{u.name!==a&&He(u,"name",a),u.constructor=f}catch(e){}return f}},vs="WebAssembly",gs=u.WebAssembly,bs=7!==Error("e",{cause:7}).cause,ys=function(e,t){var n={};n[e]=ms(e,t,bs),Wt({global:!0,constructor:!0,arity:1,forced:bs},n)},ws=function(e,t){if(gs&&gs[e]){var n={};n[e]=ms("WebAssembly."+e,t,bs),Wt({target:vs,stat:!0,constructor:!0,arity:1,forced:bs},n)}};ys("Error",(function(e){return function(t){return Jt(e,this,arguments)}})),ys("EvalError",(function(e){return function(t){return Jt(e,this,arguments)}})),ys("RangeError",(function(e){return function(t){return Jt(e,this,arguments)}})),ys("ReferenceError",(function(e){return function(t){return Jt(e,this,arguments)}})),ys("SyntaxError",(function(e){return function(t){return Jt(e,this,arguments)}})),ys("TypeError",(function(e){return function(t){return Jt(e,this,arguments)}})),ys("URIError",(function(e){return function(t){return Jt(e,this,arguments)}})),ws("CompileError",(function(e){return function(t){return Jt(e,this,arguments)}})),ws("LinkError",(function(e){return function(t){return Jt(e,this,arguments)}})),ws("RuntimeError",(function(e){return function(t){return Jt(e,this,arguments)}}));var Ss=Ee("match"),Os=function(e){var t;return F(e)&&(void 0!==(t=e[Ss])?!!t:"RegExp"==k(e))},Cs=function(){var e=_e(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t},Es=RegExp.prototype,js=function(e){var t=e.flags;return void 0!==t||"flags"in Es||me(e,"flags")||!G(Es,e)?t:h(Cs,e)},xs=u.RegExp,ks=l((function(){var e=xs("a","y");return e.lastIndex=2,null!=e.exec("abcd")})),Ts=ks||l((function(){return!xs("a","y").sticky})),Is={BROKEN_CARET:ks||l((function(){var e=xs("^r","gy");return e.lastIndex=2,null!=e.exec("str")})),MISSED_STICKY:Ts,UNSUPPORTED_Y:ks},Ps=u.RegExp,As=l((function(){var e=Ps(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)})),Rs=u.RegExp,Vs=l((function(){var e=Rs("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")})),Ns=Nt.f,Ls=mt.enforce,Bs=Ee("match"),Ds=u.RegExp,_s=Ds.prototype,Ms=u.SyntaxError,Fs=E(_s.exec),Us=E("".charAt),zs=E("".replace),Gs=E("".indexOf),$s=E("".slice),qs=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,Hs=/a/g,Ws=/a/g,Xs=new Ds(Hs)!==Hs,Qs=Is.MISSED_STICKY,Ys=Is.UNSUPPORTED_Y,Js=d&&(!Xs||Qs||As||Vs||l((function(){return Ws[Bs]=!1,Ds(Hs)!=Hs||Ds(Ws)==Ws||"/a/i"!=Ds(Hs,"i")})));if(qt("RegExp",Js)){for(var Ks=function(e,t){var n,r,o,i,s,a,c=G(_s,this),u=Os(e),l=void 0===t,d=[],f=e;if(!c&&u&&l&&e.constructor===Ks)return e;if((u||G(_s,e))&&(e=e.source,l&&(t=js(f))),e=void 0===e?"":is(e),t=void 0===t?"":is(t),f=e,As&&"dotAll"in Hs&&(r=!!t&&Gs(t,"s")>-1)&&(t=zs(t,/s/g,"")),n=t,Qs&&"sticky"in Hs&&(o=!!t&&Gs(t,"y")>-1)&&Ys&&(t=zs(t,/y/g,"")),Vs&&(i=function(e){for(var t,n=e.length,r=0,o="",i=[],s={},a=!1,c=!1,u=0,l="";r<=n;r++){if("\\"===(t=Us(e,r)))t+=Us(e,++r);else if("]"===t)a=!1;else if(!a)switch(!0){case"["===t:a=!0;break;case"("===t:Fs(qs,$s(e,r+1))&&(r+=2,c=!0),o+=t,u++;continue;case">"===t&&c:if(""===l||me(s,l))throw new Ms("Invalid capture group name");s[l]=!0,i[i.length]=[l,u],c=!1,l="";continue}c?l+=t:o+=t}return[o,i]}(e),e=i[0],d=i[1]),s=rs(Ds(e,t),c?this:_s,Ks),(r||o||d.length)&&(a=Ls(s),r&&(a.dotAll=!0,a.raw=Ks(function(e){for(var t,n=e.length,r=0,o="",i=!1;r<=n;r++)"\\"!==(t=Us(e,r))?i||"."!==t?("["===t?i=!0:"]"===t&&(i=!1),o+=t):o+="[\\s\\S]":o+=t+Us(e,++r);return o}(e),n)),o&&(a.sticky=!0),d.length&&(a.groups=d)),e!==f)try{He(s,"source",""===f?"(?:)":f)}catch(e){}return s},Zs=Ns(Ds),ea=0;Zs.length>ea;)ns(Ks,Ds,Zs[ea++]);_s.constructor=Ks,Ks.prototype=_s,gt(u,"RegExp",Ks,{constructor:!0})}Br("RegExp");var ta,na,ra,oa=mt.get,ia=RegExp.prototype,sa=TypeError;d&&As&&(ta=ia,na="dotAll",(ra={configurable:!0,get:function(){if(this!==ia){if("RegExp"===k(this))return!!oa(this).dotAll;throw sa("Incompatible receiver, RegExp required")}}}).get&&vt(ra.get,na,{getter:!0}),ra.set&&vt(ra.set,na,{setter:!0}),qe.f(ta,na,ra));var aa=mt.get,ca=de("native-string-replace",String.prototype.replace),ua=RegExp.prototype.exec,la=ua,da=E("".charAt),fa=E("".indexOf),pa=E("".replace),ha=E("".slice),ma=function(){var e=/a/,t=/b*/g;return h(ua,e,"a"),h(ua,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),va=Is.BROKEN_CARET,ga=void 0!==/()??/.exec("")[1];(ma||ga||va||As||Vs)&&(la=function(e){var t,n,r,o,i,s,a,c=this,u=aa(c),l=is(e),d=u.raw;if(d)return d.lastIndex=c.lastIndex,t=h(la,d,l),c.lastIndex=d.lastIndex,t;var f=u.groups,p=va&&c.sticky,m=h(Cs,c),v=c.source,g=0,b=l;if(p&&(m=pa(m,"y",""),-1===fa(m,"g")&&(m+="g"),b=ha(l,c.lastIndex),c.lastIndex>0&&(!c.multiline||c.multiline&&"\n"!==da(l,c.lastIndex-1))&&(v="(?: "+v+")",b=" "+b,g++),n=new RegExp("^(?:"+v+")",m)),ga&&(n=new RegExp("^"+v+"$(?!\\s)",m)),ma&&(r=c.lastIndex),o=h(ua,p?n:c,b),p?o?(o.input=ha(o.input,g),o[0]=ha(o[0],g),o.index=c.lastIndex,c.lastIndex+=o[0].length):c.lastIndex=0:ma&&o&&(c.lastIndex=c.global?o.index+o[0].length:r),ga&&o&&o.length>1&&h(ca,o[0],n,(function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(o[i]=void 0)})),o&&f)for(o.groups=s=Tn(null),i=0;i<f.length;i++)s[(a=f[i])[0]]=o[a[1]];return o});var ba=la;Wt({target:"RegExp",proto:!0,forced:/./.exec!==ba},{exec:ba});var ya,wa="object"==typeof Reflect?Reflect:null,Sa=wa&&"function"==typeof wa.apply?wa.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};ya=wa&&"function"==typeof wa.ownKeys?wa.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var Oa=Number.isNaN||function(e){return e!=e};function Ca(){Ca.init.call(this)}var Ea=Ca,ja=function(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}La(e,t,i,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&La(e,"error",t,n)}(e,o,{once:!0})}))};Ca.EventEmitter=Ca,Ca.prototype._events=void 0,Ca.prototype._eventsCount=0,Ca.prototype._maxListeners=void 0;var xa=10;function ka(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function Ta(e){return void 0===e._maxListeners?Ca.defaultMaxListeners:e._maxListeners}function Ia(e,t,n,r){var o,i,s,a;if(ka(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),s=i[t]),void 0===s)s=i[t]=n,++e._eventsCount;else if("function"==typeof s?s=i[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(o=Ta(e))>0&&s.length>o&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function Pa(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function Aa(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=Pa.bind(r);return o.listener=n,r.wrapFn=o,o}function Ra(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(o):Na(o,o.length)}function Va(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function Na(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function La(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(Ca,"defaultMaxListeners",{enumerable:!0,get:function(){return xa},set:function(e){if("number"!=typeof e||e<0||Oa(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");xa=e}}),Ca.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},Ca.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||Oa(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},Ca.prototype.getMaxListeners=function(){return Ta(this)},Ca.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,o=this._events;if(void 0!==o)r=r&&void 0===o.error;else if(!r)return!1;if(r){var i;if(t.length>0&&(i=t[0]),i instanceof Error)throw i;var s=new Error("Unhandled error."+(i?" ("+i.message+")":""));throw s.context=i,s}var a=o[e];if(void 0===a)return!1;if("function"==typeof a)Sa(a,this,t);else{var c=a.length,u=Na(a,c);for(n=0;n<c;++n)Sa(u[n],this,t)}return!0},Ca.prototype.addListener=function(e,t){return Ia(this,e,t,!1)},Ca.prototype.on=Ca.prototype.addListener,Ca.prototype.prependListener=function(e,t){return Ia(this,e,t,!0)},Ca.prototype.once=function(e,t){return ka(t),this.on(e,Aa(this,e,t)),this},Ca.prototype.prependOnceListener=function(e,t){return ka(t),this.prependListener(e,Aa(this,e,t)),this},Ca.prototype.removeListener=function(e,t){var n,r,o,i,s;if(ka(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(o=-1,i=n.length-1;i>=0;i--)if(n[i]===t||n[i].listener===t){s=n[i].listener,o=i;break}if(o<0)return this;0===o?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,o),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},Ca.prototype.off=Ca.prototype.removeListener,Ca.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var o,i=Object.keys(n);for(r=0;r<i.length;++r)"removeListener"!==(o=i[r])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},Ca.prototype.listeners=function(e){return Ra(this,e,!0)},Ca.prototype.rawListeners=function(e){return Ra(this,e,!1)},Ca.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):Va.call(e,t)},Ca.prototype.listenerCount=Va,Ca.prototype.eventNames=function(){return this._eventsCount>0?ya(this._events):[]},Ea.once=ja;var Ba=Ma,Da=function(e,t){var n=new _a;return Ma(e,n,t),n},_a=Ea.EventEmitter;function Ma(e,t,n){Array.isArray(n)||(n=[n]);var r=[];return n.forEach((function(n){var o=function(){var e=[].slice.call(arguments);e.unshift(n),t.emit.apply(t,e)};r.push(o),e.on(n,o)})),function(){n.forEach((function(t,n){e.removeListener(t,r[n])}))}}Ba.filter=Da;var Fa=Tt.includes,Ua=l((function(){return!Array(1).includes()}));function za(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ga(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?za(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):za(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Wt({target:"Array",proto:!0,forced:Ua},{includes:function(e){return Fa(this,e,arguments.length>1?arguments[1]:void 0)}}),Ln("includes");const $a=Vr.get("PeerConnectionStats"),qa="stats";class Ha extends Ea{constructor(e){super(),this.peer=e,this.stats=null,this.emitInterval=null,this.previousStats=null}init(){$a.info("Initializing peer connection stats"),this.emitInterval=setInterval(async()=>{const e=await this.peer.getStats();this.parseStats(e),this.emit(qa,this.stats)},1e3)}parseStats(e){this.previousStats=this.stats;const t={audio:{inbounds:[],outbounds:[]},video:{inbounds:[],outbounds:[]},raw:e};for(const n of e.values())switch(n.type){case"outbound-rtp":Wa(n,this.previousStats,t);break;case"inbound-rtp":Xa(n,this.previousStats,t);break;case"candidate-pair":n.nominated&&Qa(n,t)}this.stats=t}stop(){$a.info("Stopping peer connection stats"),clearInterval(this.emitInterval)}}const Wa=(e,t,n)=>{var r,o;const i=Ya(e),s=Ja(e.codecId,n.raw),a=Ka(e,i);a.totalBytesSent=e.bytesSent,a.id=e.id,a.mid=e.mid;const c=t?null!==(r=null===(o=t[i].outbounds.find(e=>e.id===a.id))||void 0===o?void 0:o.totalBytesSent)&&void 0!==r?r:0:null;a.bitrate=c?8*(e.bytesSent-c):0,"video"===i&&(a.qualityLimitationReason=e.qualityLimitationReason),n[i].outbounds.push(Ga(Ga({},s),a))},Xa=(e,t,n)=>{let r=Ya(e);const o=Ja(e.codecId,n.raw);["audio","video"].includes(r)||(r=e.id.includes("Video")?"video":"audio");const i=Ka(e,r);if(i.totalBytesReceived=e.bytesReceived,i.totalPacketsReceived=e.packetsReceived,i.totalPacketsLost=e.packetsLost,i.jitter=e.jitter,i.id=e.id,i.mid=e.mid,i.bitrate=0,i.packetsLostRatioPerSecond=0,i.packetsLostDeltaPerSecond=0,t){const n=t[r].inbounds.find(e=>e.id===i.id);if(n){const t=n.totalBytesReceived;i.bitrate=8*(e.bytesReceived-t),i.packetsLostRatioPerSecond=Za(i,n),i.packetsLostDeltaPerSecond=ec(i,n)}}n[r].inbounds.push(Ga(Ga({},o),i))},Qa=(e,t)=>{t.totalRoundTripTime=e.totalRoundTripTime,t.currentRoundTripTime=e.currentRoundTripTime,t.availableOutgoingBitrate=e.availableOutgoingBitrate,t.candidateType=t.raw.get(e.localCandidateId).candidateType},Ya=e=>e.mediaType||e.kind,Ja=(e,t)=>{var n;const{mimeType:r}=e&&null!==(n=t.get(e))&&void 0!==n?n:{};return{mimeType:r}},Ka=(e,t)=>{const n={};return"video"===t&&(n.framesPerSecond=e.framesPerSecond,n.frameHeight=e.frameHeight,n.frameWidth=e.frameWidth),n.timestamp=e.timestamp,n},Za=(e,t)=>ec(e,t)/(e.totalPacketsReceived-t.totalPacketsReceived),ec=(e,t)=>e.totalPacketsLost-t.totalPacketsLost;var tc=Ee("species"),nc=RegExp.prototype,rc=E("".charAt),oc=E("".charCodeAt),ic=E("".slice),sc=function(e){return function(t,n){var r,o,i=is(V(t)),s=St(n),a=i.length;return s<0||s>=a?e?"":void 0:(r=oc(i,s))<55296||r>56319||s+1===a||(o=oc(i,s+1))<56320||o>57343?e?rc(i,s):r:e?ic(i,s,s+2):o-56320+(r-55296<<10)+65536}},ac={codeAt:sc(!1),charAt:sc(!0)}.charAt,cc=function(e,t,n){return t+(n?ac(e,t).length:1)},uc=Math.floor,lc=E("".charAt),dc=E("".replace),fc=E("".slice),pc=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,hc=/\$([$&'`]|\d{1,2})/g,mc=function(e,t,n,r,o,i){var s=n+e.length,a=r.length,c=hc;return void 0!==o&&(o=pe(o),c=pc),dc(i,c,(function(i,c){var u;switch(lc(c,0)){case"$":return"$";case"&":return e;case"`":return fc(t,0,n);case"'":return fc(t,s);case"<":u=o[fc(c,1,-1)];break;default:var l=+c;if(0===l)return i;if(l>a){var d=uc(l/10);return 0===d?i:d<=a?void 0===r[d-1]?lc(c,1):r[d-1]+lc(c,1):i}u=r[l-1]}return void 0===u?"":u}))},vc=TypeError,gc=function(e,t){var n=e.exec;if(_(n)){var r=h(n,e,t);return null!==r&&_e(r),r}if("RegExp"===k(e))return h(ba,e,t);throw vc("RegExp#exec called on incompatible receiver")},bc=Ee("replace"),yc=Math.max,wc=Math.min,Sc=E([].concat),Oc=E([].push),Cc=E("".indexOf),Ec=E("".slice),jc="$0"==="a".replace(/./,"$0"),xc=!!/./[bc]&&""===/./[bc]("a","$0");!function(e,t,n,r){var o=Ee(e),i=!l((function(){var t={};return t[o]=function(){return 7},7!=""[e](t)})),s=i&&!l((function(){var t=!1,n=/a/;return"split"===e&&((n={}).constructor={},n.constructor[tc]=function(){return n},n.flags="",n[o]=/./[o]),n.exec=function(){return t=!0,null},n[o](""),!t}));if(!i||!s||n){var a=E(/./[o]),c=t(o,""[e],(function(e,t,n,r,o){var s=E(e),c=t.exec;return c===ba||c===nc.exec?i&&!o?{done:!0,value:a(t,n,r)}:{done:!0,value:s(n,t,r)}:{done:!1}}));gt(String.prototype,e,c[0]),gt(nc,o,c[1])}r&&He(nc[o],"sham",!0)}("replace",(function(e,t,n){var r=xc?"$":"$0";return[function(e,n){var r=V(this),o=A(e)?void 0:ie(e,bc);return o?h(o,e,r,n):h(t,is(r),e,n)},function(e,o){var i=_e(this),s=is(e);if("string"==typeof o&&-1===Cc(o,r)&&-1===Cc(o,"$<")){var a=n(t,i,s,o);if(a.done)return a.value}var c=_(o);c||(o=is(o));var u=i.global;if(u){var l=i.unicode;i.lastIndex=0}for(var d=[];;){var f=gc(i,s);if(null===f)break;if(Oc(d,f),!u)break;""===is(f[0])&&(i.lastIndex=cc(s,jt(i.lastIndex),l))}for(var p,h="",m=0,v=0;v<d.length;v++){for(var g=is((f=d[v])[0]),b=yc(wc(St(f.index),s.length),0),y=[],w=1;w<f.length;w++)Oc(y,void 0===(p=f[w])?p:String(p));var S=f.groups;if(c){var O=Sc([g],y,b,s);void 0!==S&&Oc(O,S);var C=is(Jt(o,void 0,O))}else C=mc(g,s,b,y,S,o);b>=m&&(h+=Ec(s,m,b)+C,m=b+g.length)}return h+Ec(s,m)}]}),!!l((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}))||!jc||xc);var kc,Tc="\t\n\v\f\r                　\u2028\u2029\ufeff",Ic=E("".replace),Pc="["+Tc+"]",Ac=RegExp("^"+Pc+Pc+"*"),Rc=RegExp(Pc+Pc+"*$"),Vc=function(e){return function(t){var n=is(V(t));return 1&e&&(n=Ic(n,Ac,"")),2&e&&(n=Ic(n,Rc,"")),n}},Nc={start:Vc(1),end:Vc(2),trim:Vc(3)},Lc=Ye.PROPER,Bc=Nc.trim;Wt({target:"String",proto:!0,forced:(kc="trim",l((function(){return!!Tc[kc]()||"​᠎"!=="​᠎"[kc]()||Lc&&Tc[kc].name!==kc})))},{trim:function(){return Bc(this)}});var Dc=Ee("matchAll"),_c="RegExp String",Mc="RegExp String Iterator",Fc=mt.set,Uc=mt.getterFor(Mc),zc=RegExp.prototype,Gc=TypeError,$c=E("".indexOf),qc=E("".matchAll),Hc=!!qc&&!l((function(){qc("a",/./)})),Wc=Jn((function(e,t,n,r){Fc(this,{type:Mc,regexp:e,string:t,global:n,unicode:r,done:!1})}),_c,(function(){var e=Uc(this);if(e.done)return lr(void 0,!0);var t=e.regexp,n=e.string,r=gc(t,n);return null===r?(e.done=!0,lr(void 0,!0)):e.global?(""===is(r[0])&&(t.lastIndex=cc(n,jt(t.lastIndex),e.unicode)),lr(r,!1)):(e.done=!0,lr(r,!1))})),Xc=function(e){var t,n,r,o=_e(this),i=is(e),s=io(o,RegExp),a=is(js(o));return t=new s(s===RegExp?o.source:o,a),n=!!~$c(a,"g"),r=!!~$c(a,"u"),t.lastIndex=jt(o.lastIndex),new Wc(t,i,n,r)};Wt({target:"String",proto:!0,forced:Hc},{matchAll:function(e){var t,n,r,o=V(this);if(A(e)){if(Hc)return qc(o,e)}else{if(Os(e)&&(t=is(V(js(e))),!~$c(t,"g")))throw Gc("`.matchAll` does not allow non-global regexes");if(Hc)return qc(o,e);if(r=ie(e,Dc))return h(r,e,o)}return n=is(o),new RegExp(e,"g")[Dc](n)}}),Dc in zc||gt(zc,Dc,Xc);var Qc=E([].reverse),Yc=[1,2];Wt({target:"Array",proto:!0,forced:String(Yc)===String(Yc.reverse())},{reverse:function(){return Kt(this)&&(this.length=this.length),Qc(this)}});var Jc=i((function(e){var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))})),Kc=i((function(e,t){var n=function(e){return String(Number(e))===e?Number(e):e},r=function(e,t,r){var o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:o?t[e.name]:t;!function(e,t,r,o){if(o&&!r)t[o]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},n=[],i=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),i=n[n.length-1]);for(var s=0;s<(Jc[t]||[]).length;s+=1){var a=Jc[t][s];if(a.reg.test(o))return r(a,i,o)}})),t.media=n,t};var i=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(i,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),o=0;o<r.length;o+=3)t.push({component:r[o],ip:r[o+1],port:r[o+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(i,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}})),Zc=/%[sdv%]/g,eu=function(e){var t=1,n=arguments,r=n.length;return e.replace(Zc,(function(e){if(t>=r)return e;var o=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}}))},tu=function(e,t,n){var r=[e+"="+(t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var i=t.names[o];t.name?r.push(n[t.name][i]):r.push(n[t.names[o]])}else r.push(n[t.name]);return eu.apply(null,r)},nu=["v","o","s","i","u","e","p","c","b","t","r","z","a"],ru=["i","c","b","a"],ou={write:function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||nu,r=t.innerOrder||ru,o=[];return n.forEach((function(t){Jc[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(tu(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(tu(t,n,e))}))}))})),e.media.forEach((function(e){o.push(tu("m",Jc.m[0],e)),r.forEach((function(t){Jc[t].forEach((function(n){n.name in e&&null!=e[n.name]?o.push(tu(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){o.push(tu(t,n,e))}))}))}))})),o.join("\r\n")+"\r\n"},parse:Kc.parse,parseParams:Kc.parseParams,parseFmtpConfig:Kc.parseFmtpConfig,parsePayloads:Kc.parsePayloads,parseRemoteCandidates:Kc.parseRemoteCandidates,parseImageAttributes:Kc.parseImageAttributes,parseSimulcastStreamList:Kc.parseSimulcastStreamList};class iu{constructor(e,t,n,r,o,i,s,a,c){this.foundation=e,this.componentId=t,this.transport=n,this.priority=r,this.address=o,this.port=i,this.type=s,this.relAddr=a,this.relPort=c}equals(e){return e.foundation===this.foundation&&e.componentId===this.componentId&&e.transport===this.transport&&e.priority===this.priority&&e.address===this.address&&e.port===this.port&&e.type===this.type&&e.relAddr===this.relAddr&&e.relPort===this.relPort}clone(){return new iu(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)}plain(){const e={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(e.relAddr=this.relAddr),this.relPort&&(e.relPort=this.relPort),e}getFoundation(){return this.foundation}getComponentId(){return this.componentId}getTransport(){return this.transport}getPriority(){return this.priority}getAddress(){return this.address}getPort(){return this.port}getType(){return this.type}getRelAddr(){return this.relAddr}getRelPort(){return this.relPort}}iu.expand=function(e){return new iu(e.foundation,e.componentId,e.transport,e.priority,e.address,e.port,e.type,e.relAddr,e.relPort)};var su=iu;class au{constructor(e,t){this.id=e,this.params=t||[]}clone(){return new au(this.id,this.params)}plain(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}}getId(){return this.id}getParams(){return this.params}}au.expand=function(e){return new au(e.id,e.params)};var cu=au;class uu{constructor(e,t,n){this.codec=e,this.type=t,this.params={},this.rtcpfbs=new Set,n&&this.addParams(n)}clone(){const e=new uu(this.codec,this.type,this.params);this.hasRTX()&&e.setRTX(this.getRTX());for(const t of this.rtcpfbs)e.addRTCPFeedback(t.clone());return this.hasChannels()&&e.setChannels(this.getChannels()),e}plain(){const e={codec:this.codec,type:this.type};this.rtx&&(e.rtx=this.rtx),this.channels&&(e.channels=this.channels),Object.keys(this.params).length&&(e.params=this.params);for(const t of this.rtcpfbs)e.rtcpfbs||(e.rtcpfbs=[]),e.rtcpfbs.push(t.plain());return e}setRTX(e){this.rtx=e}getType(){return this.type}setType(e){this.type=e}getCodec(){return this.codec}getParams(){return this.params}addParams(e){for(const t in e)this.params[t]=e[t]}addParam(e,t){this.params[e]=t}hasParam(e){return this.params.hasOwnProperty(e)}getParam(e,t){return this.hasParam(e)?this.params[e]:""+t}hasRTX(){return this.rtx}getRTX(){return this.rtx}hasChannels(){return this.channels}getChannels(){return this.channels}setChannels(e){this.channels=e}addRTCPFeedback(e){this.rtcpfbs.add(e)}getRTCPFeedbacks(){return this.rtcpfbs}}uu.expand=function(e){const t=new uu(e.codec,e.type,e.params);e.rtx&&t.setRTX(e.rtx),e.channels&&t.setChannels(e.channels);for(let n=0;e.rtcpfbs&&n<e.rtcpfbs.length;++n){const r=cu.expand(e.rtcpfbs[n]);t.addRTCPFeedback(r)}return t},uu.MapFromNames=function(e,t,n){const r=new Map;let o=96;for(let i=0;i<e.length;++i){let s;const a=e[i].split(";"),c=a[0].toLowerCase().trim();s="pcmu"===c?0:"pcma"===c?8:++o;const u=new uu(c,s);"opus"===c?u.setChannels(2):"multiopus"===c&&u.setChannels(6),t&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&u.setRTX(++o);for(let e=0;n&&e<n.length;++e)u.addRTCPFeedback(new cu(n[e].id,n[e].params));for(let e=1;e<a.length;++e){let t=a[e].split("=");u.addParam(t[0].trim(),t[1].trim())}r.set(u.getCodec().toLowerCase(),u)}return r};var lu=uu,du=function e(){var t=this;if(!(this instanceof e))return new(Function.prototype.bind.apply(e,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(e){t[e]=Symbol.for("MEDOOZE_SEMANTIC_SDP_"+e)}))};const fu=du("ACTIVE","PASSIVE","ACTPASS","INACTIVE");fu.byValue=function(e){switch(e){case fu.ACTIVE:case fu.PASSIVE:case fu.ACTPASS:case fu.INACTIVE:return e}return fu[e.toUpperCase()]},fu.toString=function(e){switch(e){case fu.ACTIVE:return"active";case fu.PASSIVE:return"passive";case fu.ACTPASS:return"actpass";case fu.INACTIVE:return"inactive"}},fu.reverse=function(e){switch(e){case fu.ACTIVE:return fu.PASSIVE;case fu.PASSIVE:return fu.ACTIVE;case fu.ACTPASS:return fu.PASSIVE;case fu.INACTIVE:return fu.INACTIVE}};var pu=fu;class hu{constructor(e,t,n){this.setup=e,this.hash=t,this.fingerprint=n}clone(){return new hu(this.setup,this.hash,this.fingerprint)}plain(){return{setup:pu.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}}getFingerprint(){return this.fingerprint}getHash(){return this.hash}getSetup(){return this.setup}setSetup(e){this.setup=e}}hu.expand=function(e){return new hu(e.setup?pu.byValue(e.setup):pu.ACTPASS,e.hash,e.fingerprint)};var mu=hu;class vu{constructor(e,t,n,r){this.tag=e,this.suite=t,this.keyParams=n,this.sessionParams=r}clone(){return new vu(this.tag,this.suite,this.keyParams,this.sessionParams)}plain(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}}getSessionParams(){return this.sessionParams}getKeyParams(){return this.keyParams}getSuite(){return this.suite}getTag(){return this.tag}}vu.expand=function(e){return new vu(e.tag,e.suite,e.keyParams,e.sessionParams)};for(var gu=vu,bu=function(e){var t=ku(e),n=t[0],r=t[1];return 3*(n+r)/4-r},yu=function(e){var t,n,r=ku(e),o=r[0],i=r[1],s=new Cu(function(e,t,n){return 3*(t+n)/4-n}(0,o,i)),a=0,c=i>0?o-4:o;for(n=0;n<c;n+=4)t=Ou[e.charCodeAt(n)]<<18|Ou[e.charCodeAt(n+1)]<<12|Ou[e.charCodeAt(n+2)]<<6|Ou[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===i&&(t=Ou[e.charCodeAt(n)]<<2|Ou[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===i&&(t=Ou[e.charCodeAt(n)]<<10|Ou[e.charCodeAt(n+1)]<<4|Ou[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},wu=function(e){for(var t,n=e.length,r=n%3,o=[],i=16383,s=0,a=n-r;s<a;s+=i)o.push(Tu(e,s,s+i>a?a:s+i));return 1===r?(t=e[n-1],o.push(Su[t>>2]+Su[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],o.push(Su[t>>10]+Su[t>>4&63]+Su[t<<2&63]+"=")),o.join("")},Su=[],Ou=[],Cu="undefined"!=typeof Uint8Array?Uint8Array:Array,Eu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ju=0,xu=Eu.length;ju<xu;++ju)Su[ju]=Eu[ju],Ou[Eu.charCodeAt(ju)]=ju;function ku(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function Tu(e,t,n){for(var r,o,i=[],s=t;s<n;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),i.push(Su[(o=r)>>18&63]+Su[o>>12&63]+Su[o>>6&63]+Su[63&o]);return i.join("")}Ou["-".charCodeAt(0)]=62,Ou["_".charCodeAt(0)]=63;var Iu={byteLength:bu,toByteArray:yu,fromByteArray:wu},Pu=function(e,t,n,r,o){var i,s,a=8*o-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?o-1:0,f=n?-1:1,p=e[t+d];for(d+=f,i=p&(1<<-l)-1,p>>=-l,l+=a;l>0;i=256*i+e[t+d],d+=f,l-=8);for(s=i&(1<<-l)-1,i>>=-l,l+=r;l>0;s=256*s+e[t+d],d+=f,l-=8);if(0===i)i=1-u;else{if(i===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),i-=u}return(p?-1:1)*s*Math.pow(2,i-r)},Au=function(e,t,n,r,o,i){var s,a,c,u=8*i-o-1,l=(1<<u)-1,d=l>>1,f=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:i-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=l):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+d>=1?f/c:f*Math.pow(2,1-d))*c>=2&&(s++,c/=2),s+d>=l?(a=0,s=l):s+d>=1?(a=(t*c-1)*Math.pow(2,o),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,o),s=0));o>=8;e[n+p]=255&a,p+=h,a/=256,o-=8);for(s=s<<o|a,u+=o;u>0;e[n+p]=255&s,p+=h,s/=256,u-=8);e[n+p-h]|=128*m},Ru=i((function(e,t){const n="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=i,t.SlowBuffer=function(e){return+e!=e&&(e=0),i.alloc(+e)},t.INSPECT_MAX_BYTES=50;const r=2147483647;function o(e){if(e>r)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,i.prototype),t}function i(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return c(e)}return s(e,t,n)}function s(e,t,n){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!i.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const n=0|f(e,t);let r=o(n);const s=r.write(e,t);return s!==n&&(r=r.slice(0,s)),r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(H(e,Uint8Array)){const t=new Uint8Array(e);return l(t.buffer,t.byteOffset,t.byteLength)}return u(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer))return l(e,t,n);if("undefined"!=typeof SharedArrayBuffer&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return l(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return i.from(r,t,n);const s=function(e){if(i.isBuffer(e)){const t=0|d(e.length),n=o(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||W(e.length)?o(0):u(e):"Buffer"===e.type&&Array.isArray(e.data)?u(e.data):void 0}(e);if(s)return s;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return i.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function a(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return a(e),o(e<0?0:0|d(e))}function u(e){const t=e.length<0?0:0|d(e.length),n=o(t);for(let r=0;r<t;r+=1)n[r]=255&e[r];return n}function l(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');let r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,i.prototype),r}function d(e){if(e>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function f(e,t){if(i.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;let o=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return G(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return $(e).length;default:if(o)return r?-1:G(e).length;t=(""+t).toLowerCase(),o=!0}}function p(e,t,n){let r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return k(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return j(this,t,n);case"latin1":case"binary":return x(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function h(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),W(n=+n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=i.from(t,r)),i.isBuffer(t))return 0===t.length?-1:v(e,t,n,r,o);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):v(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function v(e,t,n,r,o){let i,s=1,a=e.length,c=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(o){let r=-1;for(i=n;i<a;i++)if(u(e,i)===u(t,-1===r?0:i-r)){if(-1===r&&(r=i),i-r+1===c)return r*s}else-1!==r&&(i-=i-r),r=-1}else for(n+c>a&&(n=a-c),i=n;i>=0;i--){let n=!0;for(let r=0;r<c;r++)if(u(e,i+r)!==u(t,r)){n=!1;break}if(n)return i}return-1}function g(e,t,n,r){n=Number(n)||0;const o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;const i=t.length;let s;for(r>i/2&&(r=i/2),s=0;s<r;++s){const r=parseInt(t.substr(2*s,2),16);if(W(r))return s;e[n+s]=r}return s}function b(e,t,n,r){return q(G(t,e.length-n),e,n,r)}function y(e,t,n,r){return q(function(e){const t=[];for(let n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function w(e,t,n,r){return q($(t),e,n,r)}function S(e,t,n,r){return q(function(e,t){let n,r,o;const i=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?Iu.fromByteArray(e):Iu.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);const r=[];let o=t;for(;o<n;){const t=e[o];let i=null,s=t>239?4:t>223?3:t>191?2:1;if(o+s<=n){let n,r,a,c;switch(s){case 1:t<128&&(i=t);break;case 2:n=e[o+1],128==(192&n)&&(c=(31&t)<<6|63&n,c>127&&(i=c));break;case 3:n=e[o+1],r=e[o+2],128==(192&n)&&128==(192&r)&&(c=(15&t)<<12|(63&n)<<6|63&r,c>2047&&(c<55296||c>57343)&&(i=c));break;case 4:n=e[o+1],r=e[o+2],a=e[o+3],128==(192&n)&&128==(192&r)&&128==(192&a)&&(c=(15&t)<<18|(63&n)<<12|(63&r)<<6|63&a,c>65535&&c<1114112&&(i=c))}}null===i?(i=65533,s=1):i>65535&&(i-=65536,r.push(i>>>10&1023|55296),i=56320|1023&i),r.push(i),o+=s}return function(e){const t=e.length;if(t<=E)return String.fromCharCode.apply(String,e);let n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=E));return n}(r)}t.kMaxLength=r,i.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),i.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(i.prototype,"parent",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.buffer}}),Object.defineProperty(i.prototype,"offset",{enumerable:!0,get:function(){if(i.isBuffer(this))return this.byteOffset}}),i.poolSize=8192,i.from=function(e,t,n){return s(e,t,n)},Object.setPrototypeOf(i.prototype,Uint8Array.prototype),Object.setPrototypeOf(i,Uint8Array),i.alloc=function(e,t,n){return function(e,t,n){return a(e),e<=0?o(e):void 0!==t?"string"==typeof n?o(e).fill(t,n):o(e).fill(t):o(e)}(e,t,n)},i.allocUnsafe=function(e){return c(e)},i.allocUnsafeSlow=function(e){return c(e)},i.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==i.prototype},i.compare=function(e,t){if(H(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=i.from(t,t.offset,t.byteLength)),!i.isBuffer(e)||!i.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let n=e.length,r=t.length;for(let o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},i.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},i.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return i.alloc(0);let n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;const r=i.allocUnsafe(t);let o=0;for(n=0;n<e.length;++n){let t=e[n];if(H(t,Uint8Array))o+t.length>r.length?(i.isBuffer(t)||(t=i.from(t)),t.copy(r,o)):Uint8Array.prototype.set.call(r,t,o);else{if(!i.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(r,o)}o+=t.length}return r},i.byteLength=f,i.prototype._isBuffer=!0,i.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)h(this,t,t+1);return this},i.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)h(this,t,t+3),h(this,t+1,t+2);return this},i.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)h(this,t,t+7),h(this,t+1,t+6),h(this,t+2,t+5),h(this,t+3,t+4);return this},i.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):p.apply(this,arguments)},i.prototype.toLocaleString=i.prototype.toString,i.prototype.equals=function(e){if(!i.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===i.compare(this,e)},i.prototype.inspect=function(){let e="";const n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},n&&(i.prototype[n]=i.prototype.inspect),i.prototype.compare=function(e,t,n,r,o){if(H(e,Uint8Array)&&(e=i.from(e,e.offset,e.byteLength)),!i.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;let s=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0);const c=Math.min(s,a),u=this.slice(r,o),l=e.slice(t,n);for(let i=0;i<c;++i)if(u[i]!==l[i]){s=u[i],a=l[i];break}return s<a?-1:a<s?1:0},i.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},i.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},i.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},i.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}const o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");let i=!1;for(;;)switch(r){case"hex":return g(this,e,t,n);case"utf8":case"utf-8":return b(this,e,t,n);case"ascii":case"latin1":case"binary":return y(this,e,t,n);case"base64":return w(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},i.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const E=4096;function j(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function x(e,t,n){let r="";n=Math.min(e.length,n);for(let o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function k(e,t,n){const r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);let o="";for(let i=t;i<n;++i)o+=X[e[i]];return o}function T(e,t,n){const r=e.slice(t,n);let o="";for(let i=0;i<r.length-1;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function I(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function P(e,t,n,r,o,s){if(!i.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<s)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function A(e,t,n,r,o){M(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i,i>>=8,e[n++]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,s>>=8,e[n++]=s,n}function R(e,t,n,r,o){M(t,r,o,e,n,7);let i=Number(t&BigInt(4294967295));e[n+7]=i,i>>=8,e[n+6]=i,i>>=8,e[n+5]=i,i>>=8,e[n+4]=i;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=s,s>>=8,e[n+2]=s,s>>=8,e[n+1]=s,s>>=8,e[n]=s,n+8}function V(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function N(e,t,n,r,o){return t=+t,n>>>=0,o||V(e,0,n,4),Au(e,t,n,r,23,4),n+4}function L(e,t,n,r,o){return t=+t,n>>>=0,o||V(e,0,n,8),Au(e,t,n,r,52,8),n+8}i.prototype.slice=function(e,t){const n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);const r=this.subarray(e,t);return Object.setPrototypeOf(r,i.prototype),r},i.prototype.readUintLE=i.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return r},i.prototype.readUintBE=i.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e+--t],o=1;for(;t>0&&(o*=256);)r+=this[e+--t]*o;return r},i.prototype.readUint8=i.prototype.readUInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),this[e]},i.prototype.readUint16LE=i.prototype.readUInt16LE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]|this[e+1]<<8},i.prototype.readUint16BE=i.prototype.readUInt16BE=function(e,t){return e>>>=0,t||I(e,2,this.length),this[e]<<8|this[e+1]},i.prototype.readUint32LE=i.prototype.readUInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},i.prototype.readUint32BE=i.prototype.readUInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},i.prototype.readBigUInt64LE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,o=this[++e]+256*this[++e]+65536*this[++e]+n*2**24;return BigInt(r)+(BigInt(o)<<BigInt(32))})),i.prototype.readBigUInt64BE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=t*2**24+65536*this[++e]+256*this[++e]+this[++e],o=this[++e]*2**24+65536*this[++e]+256*this[++e]+n;return(BigInt(r)<<BigInt(32))+BigInt(o)})),i.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=this[e],o=1,i=0;for(;++i<t&&(o*=256);)r+=this[e+i]*o;return o*=128,r>=o&&(r-=Math.pow(2,8*t)),r},i.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||I(e,t,this.length);let r=t,o=1,i=this[e+--r];for(;r>0&&(o*=256);)i+=this[e+--r]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},i.prototype.readInt8=function(e,t){return e>>>=0,t||I(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},i.prototype.readInt16LE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt16BE=function(e,t){e>>>=0,t||I(e,2,this.length);const n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},i.prototype.readInt32LE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},i.prototype.readInt32BE=function(e,t){return e>>>=0,t||I(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},i.prototype.readBigInt64LE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=this[e+4]+256*this[e+5]+65536*this[e+6]+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),i.prototype.readBigInt64BE=Q((function(e){F(e>>>=0,"offset");const t=this[e],n=this[e+7];void 0!==t&&void 0!==n||U(e,this.length-8);const r=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+n)})),i.prototype.readFloatLE=function(e,t){return e>>>=0,t||I(e,4,this.length),Pu(this,e,!0,23,4)},i.prototype.readFloatBE=function(e,t){return e>>>=0,t||I(e,4,this.length),Pu(this,e,!1,23,4)},i.prototype.readDoubleLE=function(e,t){return e>>>=0,t||I(e,8,this.length),Pu(this,e,!0,52,8)},i.prototype.readDoubleBE=function(e,t){return e>>>=0,t||I(e,8,this.length),Pu(this,e,!1,52,8)},i.prototype.writeUintLE=i.prototype.writeUIntLE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},i.prototype.writeUintBE=i.prototype.writeUIntBE=function(e,t,n,r){e=+e,t>>>=0,n>>>=0,r||P(this,e,t,n,Math.pow(2,8*n)-1,0);let o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},i.prototype.writeUint8=i.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,255,0),this[t]=255&e,t+1},i.prototype.writeUint16LE=i.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeUint16BE=i.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeUint32LE=i.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},i.prototype.writeUint32BE=i.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigUInt64LE=Q((function(e,t=0){return A(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeBigUInt64BE=Q((function(e,t=0){return R(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),i.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let o=0,i=1,s=0;for(this[t]=255&e;++o<n&&(i*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},i.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){const r=Math.pow(2,8*n-1);P(this,e,t,n,r-1,-r)}let o=n-1,i=1,s=0;for(this[t+o]=255&e;--o>=0&&(i*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/i>>0)-s&255;return t+n},i.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},i.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},i.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},i.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},i.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||P(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},i.prototype.writeBigInt64LE=Q((function(e,t=0){return A(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeBigInt64BE=Q((function(e,t=0){return R(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),i.prototype.writeFloatLE=function(e,t,n){return N(this,e,t,!0,n)},i.prototype.writeFloatBE=function(e,t,n){return N(this,e,t,!1,n)},i.prototype.writeDoubleLE=function(e,t,n){return L(this,e,t,!0,n)},i.prototype.writeDoubleBE=function(e,t,n){return L(this,e,t,!1,n)},i.prototype.copy=function(e,t,n,r){if(!i.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);const o=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),o},i.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!i.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){const t=e.charCodeAt(0);("utf8"===r&&t<128||"latin1"===r)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;let o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{const s=i.isBuffer(e)?e:i.from(e,r),a=s.length;if(0===a)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%a]}return this};const B={};function D(e,t,n){B[e]=class extends n{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function _(e){let t="",n=e.length;const r="-"===e[0]?1:0;for(;n>=r+4;n-=3)t=`_${e.slice(n-3,n)}${t}`;return`${e.slice(0,n)}${t}`}function M(e,t,n,r,o,i){if(e>n||e<t){const r="bigint"==typeof t?"n":"";let o;throw o=i>3?0===t||t===BigInt(0)?`>= 0${r} and < 2${r} ** ${8*(i+1)}${r}`:`>= -(2${r} ** ${8*(i+1)-1}${r}) and < 2 ** ${8*(i+1)-1}${r}`:`>= ${t}${r} and <= ${n}${r}`,new B.ERR_OUT_OF_RANGE("value",o,e)}!function(e,t,n){F(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||U(t,e.length-(n+1))}(r,o,i)}function F(e,t){if("number"!=typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function U(e,t,n){if(Math.floor(e)!==e)throw F(e,n),new B.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(n||"offset",`>= ${n?1:0} and <= ${t}`,e)}D("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?e+" is outside of buffer bounds":"Attempt to access memory outside buffer bounds"}),RangeError),D("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),D("ERR_OUT_OF_RANGE",(function(e,t,n){let r=`The value of "${e}" is out of range.`,o=n;return Number.isInteger(n)&&Math.abs(n)>2**32?o=_(String(n)):"bigint"==typeof n&&(o=String(n),(n>BigInt(2)**BigInt(32)||n<-(BigInt(2)**BigInt(32)))&&(o=_(o)),o+="n"),r+=` It must be ${t}. Received ${o}`,r}),RangeError);const z=/[^+/0-9A-Za-z-_]/g;function G(e,t){let n;t=t||1/0;const r=e.length;let o=null;const i=[];for(let s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function $(e){return Iu.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(z,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function q(e,t,n,r){let o;for(o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function W(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let n=0;n<16;++n){const r=16*n;for(let o=0;o<16;++o)t[r+o]=e[n]+e[o]}return t}();function Q(e){return"undefined"==typeof BigInt?Y:e}function Y(){throw new Error("BigInt not supported")}})),Vu=i((function(e,t){var n=Ru.Buffer;function r(e,t){for(var n in e)t[n]=e[n]}function o(e,t,r){return n(e,t,r)}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?e.exports=Ru:(r(Ru,t),t.Buffer=o),o.prototype=Object.create(n.prototype),r(n,o),o.from=function(e,t,r){if("number"==typeof e)throw new TypeError("Argument must not be a number");return n(e,t,r)},o.alloc=function(e,t,r){if("number"!=typeof e)throw new TypeError("Argument must be a number");var o=n(e);return void 0!==t?"string"==typeof r?o.fill(t,r):o.fill(t):o.fill(0),o},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return Ru.SlowBuffer(e)}})),Nu=i((function(e){var t=65536,r=4294967295,i=Vu.Buffer,s=o.crypto||o.msCrypto;s&&s.getRandomValues?e.exports=function(e,o){if(e>r)throw new RangeError("requested too many random bytes");var a=i.allocUnsafe(e);if(e>0)if(e>t)for(var c=0;c<e;c+=t)s.getRandomValues(a.slice(c,c+t));else s.getRandomValues(a);return"function"==typeof o?n.nextTick((function(){o(null,a)})):a}:e.exports=function(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}}));class Lu{constructor(e,t){this.ufrag=e,this.pwd=t,this.lite=!1,this.endOfCandidates=!1}clone(){const e=new Lu(this.ufrag,this.pwd);return e.setLite(this.lite),e.setEndOfCandidates(this.endOfCandidates),e}plain(){const e={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(e.lite=this.lite),this.endOfCandidates&&(e.endOfCandidates=this.endOfCandidates),e}getUfrag(){return this.ufrag}getPwd(){return this.pwd}isLite(){return this.lite}setLite(e){this.lite=e}isEndOfCandidates(){return this.endOfCandidates}setEndOfCandidates(e){this.endOfCandidates=e}}Lu.generate=function(e){const t=new Lu,n=Nu(8),r=Nu(24);return t.ufrag=n.toString("hex"),t.pwd=r.toString("hex"),t.lite=e,t},Lu.expand=function(e){const t=new Lu(e.ufrag,e.pwd);return t.setLite(e.lite),t.setEndOfCandidates(e.endOfCandidates),t};var Bu=Lu;const Du=du("SEND","RECV");Du.byValue=function(e){return Du[e.toUpperCase()]},Du.toString=function(e){switch(e){case Du.SEND:return"send";case Du.RECV:return"recv"}},Du.reverse=function(e){switch(e){case Du.SEND:return Du.RECV;case Du.RECV:return Du.SEND}};var _u=Du;class Mu{constructor(e,t){this.id=e,this.direction=t,this.formats=[],this.params=new Map}clone(){var e=new Mu(this.id,this.direction);return e.setFormats(this.formats),e.setParams(this.params),e}plain(){var e={id:this.id,direction:_u.toString(this.direction)};for(var[t,n]of(this.formats&&(e.formats=this.formats),this.params.entries()))e.params||(e.params={}),e.params[t]=n;return e}getId(){return this.id}getDirection(){return this.direction}setDirection(e){this.direction=e}getFormats(){return this.formats}setFormats(e){this.formats=[];for(let t=0;t<e.length;++t)this.formats.push(parseInt(e[t]))}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}getDirection(){return this.direction}setDirection(e){this.direction=e}}Mu.expand=function(e){const t=new Mu(e.id,_u.byValue(e.direction));for(let n in e.params)t.addParam(n,e.params[n]);return e.formats&&t.setFormats(e.formats),t};var Fu=Mu;class Uu{constructor(e,t){this.paused=t,this.id=e}clone(){return new Uu(this.id,this.paused)}plain(){return{id:this.id,paused:this.paused}}isPaused(){return this.paused}getId(){return this.id}}Uu.expand=function(e){return new Uu(e.id,e.paused)};var zu=Uu;class Gu{constructor(){this.send=[],this.recv=[]}clone(){const e=new Gu;for(let t=0;t<this.send.length;++t){let n=[];for(let e=0;t<this.send[e].length;++t)n.push(this.send[t][e].clone());e.addSimulcastAlternativeStreams(_u.SEND,n)}for(let t=0;t<this.recv.length;++t){let n=[];for(let e=0;t<this.recv[e].length;++t)n.push(this.recv[t][e].clone());e.addSimulcastAlternativeStreams(_u.RECV,n)}return e}plain(){const e={send:[],recv:[]};for(let t=0;t<this.send.length;++t){let n=[];for(let e=0;e<this.send[t].length;++e)n.push(this.send[t][e].plain());e.send.push(n)}for(let t=0;t<this.recv.length;++t){let n=[];for(let e=0;e<this.recv[t].length;++e)n.push(this.recv[t][e].plain());e.recv.push(n)}return e}addSimulcastAlternativeStreams(e,t){return e===_u.SEND?this.send.push(t):this.recv.push(t)}addSimulcastStream(e,t){return e===_u.SEND?this.send.push([t]):this.recv.push([t])}getSimulcastStreams(e){return e===_u.SEND?this.send:this.recv}}Gu.expand=function(e){const t=new Gu;for(let n=0;n<e.send.length;++n){let r=[];for(let t=0;t<e.send[n].length;++t)r.push(zu.expand(e.send[n][t]));t.addSimulcastAlternativeStreams(_u.SEND,r)}for(let n=0;n<e.recv.length;++n){let r=[];for(let t=0;t<e.recv[n].length;++t)r.push(zu.expand(e.recv[n][t]));t.addSimulcastAlternativeStreams(_u.RECV,r)}return t};var $u=Gu;const qu=du("SENDRECV","SENDONLY","RECVONLY","INACTIVE");qu.byValue=function(e){return qu[e.toUpperCase()]},qu.toString=function(e){switch(e){case qu.SENDRECV:return"sendrecv";case qu.SENDONLY:return"sendonly";case qu.RECVONLY:return"recvonly";case qu.INACTIVE:return"inactive"}},qu.reverse=function(e){switch(e){case qu.SENDRECV:return qu.SENDRECV;case qu.SENDONLY:return qu.RECVONLY;case qu.RECVONLY:return qu.SENDONLY;case qu.INACTIVE:return qu.INACTIVE}};var Hu=qu;class Wu{constructor(e,t){this.port=e,this.maxMessageSize=t}clone(){return new Wu(this.port,this.maxMessageSize)}plain(){return{port:this.port,maxMessageSize:this.maxMessageSize}}getPort(){return this.port}getMaxMessageSize(){return this.maxMessageSize}}Wu.expand=function(e){return new Wu(e.port,e.maxMessageSize)};var Xu=Wu;class Qu{constructor(e,t){this.id=e,this.type=t,this.direction=Hu.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}clone(){const e=new Qu(this.id,this.type);e.setDirection(this.direction),e.setBitrate(this.bitrate);for(const t of this.codecs.values())e.addCodec(t.clone());for(const[t,n]of this.extensions.entries())e.addExtension(t,n);for(const t of this.rids.values())e.addRID(t.clone());return this.simulcast&&e.setSimulcast(this.simulcast.clone()),this.control&&e.setControl(this.control),this.dataChannel&&e.setDatachannel(this.dataChannel.clone()),e}plain(){const e={id:this.id,type:this.type,direction:Hu.toString(this.direction),codecs:[]};this.dataChannel&&(e.dataChannel=this.dataChannel.plain()),this.bitrate&&(e.bitrate=this.bitrate);for(const t of this.codecs.values())e.codecs.push(t.plain());for(const[t,n]of this.extensions.entries())e.extensions||(e.extensions={}),e.extensions[t]=n;for(const t of this.rids.values())e.rids||(e.rids=[]),e.rids.push(t.plain());return this.simulcast&&(e.simulcast=this.simulcast.plain()),this.control&&(e.control=this.control),e}getType(){return this.type}getId(){return this.id}setId(e){this.id=e}addExtension(e,t){this.extensions.set(e,t)}addRID(e){this.rids.set(e.getId(),e)}addCodec(e){this.codecs.set(e.getType(),e)}setCodecs(e){this.codecs=e}getCodecForType(e){return this.codecs.get(e)}getCodec(e){for(const t of this.codecs.values())if(t.getCodec().toLowerCase()===e.toLowerCase())return t;return null}hasCodec(e){return null!==this.getCodec(e)}getCodecs(){return this.codecs}hasRTX(){for(const e of this.codecs.values())if(e.hasRTX())return!0;return!1}getExtensions(){return this.extensions}getRIDs(){return this.rids}getRID(e){return this.rids.get(e)}getBitrate(){return this.bitrate}setBitrate(e){this.bitrate=e}getDirection(){return this.direction}setDirection(e){this.direction=e}hasControl(){return!!this.control}getControl(){return this.control}setControl(e){this.control=e}hasDataChannel(){return!!this.dataChannel}getDataChannel(){return this.dataChannel}setDataChannel(e){this.dataChannel=e}answer(e){const t=new Qu(this.id,this.type);if(e){if(t.setDirection(Hu.reverse(this.direction)),e.codecs){let n;n=Array.isArray(e.codecs)?lu.MapFromNames(e.codecs,e.rtx,e.rtcpfbs):e.codecs;for(let e of this.codecs.values())if(n.has(e.getCodec().toLowerCase())){const r=n.get(e.getCodec().toLowerCase());if("h264"===r.getCodec()&&r.hasParam("packetization-mode")&&r.getParam("packetization-mode")!=e.getParam("packetization-mode","0"))continue;if("h264"===r.getCodec()&&r.hasParam("profile-level-id")&&e.hasParam("profile-level-id")&&r.getParam("profile-level-id")!=e.getParam("profile-level-id"))continue;if("multiopus"===r.getCodec()&&r.hasParam("num_streams")&&e.hasParam("num_streams")&&r.getParam("num_streams")!=e.getParam("num_streams"))continue;const o=r.clone();o.setType(e.getType()),o.hasRTX()&&o.setRTX(e.getRTX()),e.hasChannels()&&o.setChannels(e.getChannels()),o.addParams(e.getParams()),t.addCodec(o)}}const r=new Set(e.extensions);for(let[e,n]of this.extensions)r.has(n)&&t.addExtension(e,n);if(e.simulcast&&this.simulcast){const e=new $u,r=this.simulcast.getSimulcastStreams(_u.SEND);if(r)for(let t=0;t<r.length;++t){var n=[];for(let e=0;e<r[t].length;++e)n.push(r[t][e].clone());e.addSimulcastAlternativeStreams(_u.RECV,n)}const o=this.simulcast.getSimulcastStreams(_u.RECV);if(o)for(let t=0;t<o.length;++t){n=[];for(let e=0;e<o[t].length;++e)n.push(o[t][e].clone());e.addSimulcastAlternativeStreams(_u.SEND,n)}for(const n of this.rids.values()){const e=n.clone();e.setDirection(_u.reverse(n.getDirection())),t.addRID(e)}t.setSimulcast(e)}if(e.dataChannel&&this.dataChannel){const n=new Xu(this.dataChannel.getPort(),e.dataChannel.maxMessageSize?e.dataChannel.maxMessageSize:this.dataChannel.getMaxMessageSize());t.setDataChannel(n)}}else t.setDirection(Hu.INACTIVE);return t}getSimulcast(){return this.simulcast}setSimulcast(e){this.simulcast=e}}Qu.create=function(e,t){const n=new Qu(e,e);return t?t.codecs&&(Array.isArray(t.codecs)?n.setCodecs(lu.MapFromNames(t.codecs,t.rtx,t.rtcpfbs)):n.setCodecs(t.codecs)):n.setDirection(Hu.INACTIVE),n},Qu.expand=function(e){const t=new Qu(e.id,e.type);if(e.direction&&t.setDirection(Hu.byValue(e.direction)),t.setBitrate(e.bitrate),e.dataChannel){const n=Xu.expand(e.dataChannel);n&&t.setDataChannel(n)}for(let n in e.extensions)t.addExtension(n,e.extensions[n]);for(let n=0;e.codecs&&n<e.codecs.length;++n){const r=lu.expand(e.codecs[n]);r&&t.addCodec(r)}for(let n=0;e.rids&&n<e.rids.length;++n){const r=Fu.expand(e.rids[n]);t.addRID(r)}return e.simulcast&&t.setSimulcast($u.expand(e.simulcast)),e.control&&t.setControl(e.control),t};var Yu=Qu;class Ju{constructor(e,t){this.semantics=e,this.ssrcs=[];for(let n=0;n<t.length;++n)this.ssrcs.push(parseInt(t[n]))}clone(){return new Ju(this.semantics,this.ssrcs)}plain(){const e={semantics:this.semantics,ssrcs:[]};for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);return e}getSemantics(){return this.semantics}getSSRCs(){return this.ssrcs}}Ju.expand=function(e){return new Ju(e.semantics,e.ssrcs)};var Ku=Ju;class Zu{constructor(e){this.ssrc=e}clone(){const e=new Zu(this.ssrc);e.setCName(this.cname),e.setStreamId(this.streamId),e.setTrackId(this.trackId)}plain(){const e={ssrc:this.ssrc};return this.cname&&(e.cname=this.cname),this.streamId&&(e.streamId=this.streamId),this.trackId&&(e.trackid=this.trackId),e}getCName(){return this.cname}setCName(e){this.cname=e}getStreamId(){return this.streamId}setStreamId(e){this.streamId=e}getTrackId(){return this.trackId}setTrackId(e){this.trackId=e}getSSRC(){return this.ssrc}}Zu.expand=function(e){const t=new Zu(e.ssrc);return t.setCName(e.cname),t.setStreamId(e.streamId),t.setTrackId(e.trackId),t};var el=Zu;class tl{constructor(e,t){this.id=e,this.paused=t,this.codecs=new Map,this.params=new Map}clone(){var e=new tl(this.id,this.paused);for(let t of this.codecs.values())e.addCodec(t.clone());return e.setParams(this.params),e}plain(){var e={id:this.id,paused:this.paused,codecs:{},params:{}};for(var[t,n]of this.codecs.entries())e.codecs[t]=n.plain();for(var[t,r]of this.params.entries())e.params[t]=r;return e}getId(){return this.id}getCodecs(){return this.codecs}addCodec(e){this.codecs.set(e.getType(),e)}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}isPaused(){return this.paused}}tl.expand=function(e){const t=new tl(e.id,e.paused);for(let n in e.codecs)t.addCodec(lu.expand(e.codecs[n]));for(let n in e.params)t.addParam(n,e.params[n]);return t};var nl=tl;class rl{constructor(e,t){this.media=e,this.id=t,this.ssrcs=[],this.groups=[],this.encodings=[]}clone(){const e=new rl(this.media,this.id);this.mediaId&&e.setMediaId(this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.addSSRC(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.addSourceGroup(this.groups[t].clone());for(let t=0;t<this.encodings.length;++t){const n=[];for(let e=0;e<this.encodings[t].length;++e)n.push(this.encodings[t][e].clone());e.addAlternativeEncodings(n)}return e}plain(){const e={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(e.mediaId=this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.groups||(e.groups=[]),e.groups.push(this.groups[t].plain());for(let t=0;t<this.encodings.length;++t){const n=[];for(let e=0;e<this.encodings[t].length;++e)n.push(this.encodings[t][e].plain());n.length&&(e.encodings||(e.encodings=[]),e.encodings.push(n))}return e}getMedia(){return this.media}setMediaId(e){this.mediaId=e}getMediaId(){return this.mediaId}getId(){return this.id}addSSRC(e){this.ssrcs.push(e)}getSSRCs(){return this.ssrcs}addSourceGroup(e){this.groups.push(e)}getSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return t;return null}getSourceGroups(){return this.groups}hasSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return!0;return!1}getEncodings(){return this.encodings}addEncoding(e){this.encodings.push([e])}addAlternativeEncodings(e){this.encodings.push(e)}setEncodings(e){this.encodings=e}}rl.expand=function(e){const t=new rl(e.media,e.id);e.mediaId&&t.setMediaId(e.mediaId);for(let n=0;e.ssrcs&&n<e.ssrcs.length;++n)t.addSSRC(e.ssrcs[n]);for(let n=0;e.groups&&n<e.groups.length;++n)t.addSourceGroup(Ku.expand(e.groups[n]));for(let n=0;e.encodings&&n<e.encodings.length;++n){const r=[];for(let t=0;t<e.encodings[n].length;++t)r.push(nl.expand(e.encodings[n][t]));t.addAlternativeEncodings(r)}return t};var ol=rl;class il{constructor(e){this.id=e,this.tracks=new Map}clone(){const e=new il(this.id);for(const t of this.tracks.values())e.addTrack(t.clone());return e}plain(){const e={id:this.id,tracks:[]};for(const t of this.tracks.values())e.tracks.push(t.plain());return e}getId(){return this.id}addTrack(e){this.tracks.set(e.getId(),e)}removeTrack(e){return this.tracks.delete(e.getId())}removeTrackById(e){return this.tracks.delete(e)}getFirstTrack(e){for(let t of this.tracks.values())if(t.getMedia().toLowerCase()===e.toLowerCase())return t;return null}getTracks(){return this.tracks}removeAllTracks(){this.tracks.clear()}getTrack(e){return this.tracks.get(e)}}il.expand=function(e){const t=new il(e.id,e.paused);for(let n=0;n<e.tracks.length;++n){const r=ol.expand(e.tracks[n]);r&&t.addTrack(r)}return t};var sl=il;class al{constructor(e){this.version=e||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}clone(){const e=new al(this.version);for(let t=0;t<this.medias.length;++t)e.addMedia(this.medias[t].clone());for(const t of this.streams.values())e.addStream(t.clone());for(let t=0;t<this.candidates.length;++t)e.addCandidate(this.candidates[t].clone());return e.setICE(this.ice.clone()),this.dtls&&e.setDTLS(this.dtls.clone()),this.crypto&&e.setCrypto(this.crypto.clone()),e.setExmapAllowMixed(this.extmapAllowMixed),e}plain(){const e={version:this.version,streams:[],medias:[],candidates:[]};for(let t=0;t<this.medias.length;++t)e.medias.push(this.medias[t].plain());for(const t of this.streams.values())e.streams.push(t.plain());for(let t=0;t<this.candidates.length;++t)e.candidates.push(this.candidates[t].plain());return this.ice&&(e.ice=this.ice.plain()),this.dtls&&(e.dtls=this.dtls.plain()),this.crypto&&(e.crypto=this.crypto.plain()),this.extmapAllowMixed||(e.extmapAllowMixedNotSupported=!this.extmapAllowMixed),e}unify(){const e=new al(this.version);for(let n=0;n<this.medias.length;++n)e.addMedia(this.medias[n].clone());const t={audio:e.getMediasByType("audio"),video:e.getMediasByType("video")};for(const n of this.streams.values()){const r=n.clone();for(const n of r.getTracks().values()){let r=t[n.getMedia()].pop();r||(r=this.getMedia(n.getMedia()).clone(),r.setId(n.getId()),e.addMedia(r)),n.setMediaId(r.getId())}e.addStream(r)}for(let n=0;n<this.candidates.length;++n)e.addCandidate(this.candidates[n].clone());return this.ice&&e.setICE(this.ice.clone()),this.dtls&&e.setDTLS(this.dtls.clone()),this.crypto&&e.setCrypto(this.crypto.clone()),e}setVersion(e){this.version=e}addMedia(e){this.medias.push(e)}getMedia(e){for(let t in this.medias){let n=this.medias[t];if(n.getType().toLowerCase()===e.toLowerCase())return n}return null}getMediasByType(e){var t=[];for(let n in this.medias){let r=this.medias[n];r.getType().toLowerCase()===e.toLowerCase()&&t.push(r)}return t}getMediaById(e){for(let t in this.medias){let n=this.medias[t];if(n.getId().toLowerCase()===e.toLowerCase())return n}return null}replaceMedia(e){for(let t in this.medias)if(this.medias[t].getId()==e.getId())return this.medias[t]=e,!0;return!1}getMedias(){return this.medias}getVersion(){return this.version}getDTLS(){return this.dtls}setDTLS(e){this.dtls=e}hasCrypto(){return!!this.crypto}getCrypto(){return this.crypto}setCrypto(e){this.crypto=e}hasICE(){return!!this.ice}getICE(){return this.ice}setICE(e){this.ice=e}addCandidate(e){for(let t=0;t<this.candidates.length;++t)if(this.candidates[t].equals(e))return;this.candidates.push(e)}addCandidates(e){for(let t=0;t<e.length;++t)this.addCandidate(e[t])}getCandidates(){return this.candidates}getStream(e){return this.streams.get(e)}getStreams(){return this.streams}getFirstStream(){for(let e of this.streams.values())return e;return null}addStream(e){this.streams.set(e.getId(),e)}removeStream(e){return this.streams.delete(e.getId())}removeAllStreams(){this.streams.clear()}getTrackByMediaId(e){for(let t of this.streams.values())for(let[n,r]of t.getTracks())if(r.getMediaId()==e)return r;return null}getStreamByMediaId(e){for(let t of this.streams.values())for(let[n,r]of t.getTracks())if(r.getMediaId()==e)return t;return null}getExtmapAllowMixed(){return this.extmapAllowMixed}setExtmapAllowMixed(e){this.extmapAllowMixed=e}answer(e){const t=new al;e.ice&&(e.ice instanceof Bu?t.setICE(e.ice.clone()):t.setICE(Bu.expand(e.ice))),e.dtls&&(e.dtls instanceof mu?t.setDTLS(e.dtls):t.setDTLS(mu.expand(e.dtls))),e.crypto&&(e.crypto instanceof gu?t.setCrypto(e.crypto):t.setCrypto(gu.expand(e.crypto)));for(let n=0;e.candidates&&n<e.candidates.length;++n)e.candidates[n]instanceof su?t.addCandidate(e.candidates[n].clone()):t.addCandidate(su.expand(e.candidates[n]));for(const n of this.medias){const r=e&&e.capabilities&&e.capabilities[n.getType()];t.addMedia(n.answer(r))}return t.setExtmapAllowMixed(this.extmapAllowMixed),t}toString(){let e={version:0,media:[]};e.version=0,e.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},e.name="semantic-sdp",e.connection={version:4,ip:"0.0.0.0"},e.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),e.msidSemantic={semantic:"WMS",token:"*"},e.groups=[],this.extmapAllowMixed&&(e.extmapAllowMixed="extmap-allow-mixed");let t={type:"BUNDLE",mids:[]};for(let n in this.medias){let r=this.medias[n],o={type:r.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};o.direction=Hu.toString(r.getDirection()),this.extmapAllowMixed&&(o.extmapAllowMixed="extmap-allow-mixed"),o.mid=r.getId(),t.mids.push(r.getId()),r.hasControl()&&(o.control=r.getControl()),r.getBitrate()>0&&(o.bandwidth.push({type:"AS",limit:r.getBitrate()}),o.bandwidth.push({type:"TIAS",limit:1e3*r.getBitrate()}));let i=this.getCandidates();for(let e=0;e<i.length;++e){let t=i[e];o.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()})}if(this.getICE()&&(o.iceUfrag=this.getICE().getUfrag(),o.icePwd=this.getICE().getPwd()),["audio","video"].includes(r.getType().toLowerCase())){o.rtcpMux="rtcp-mux",o.rtcpRsize="rtcp-rsize",this.getDTLS()?(o.protocol="UDP/TLS/RTP/SAVPF",o.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},o.setup=pu.toString(this.getDTLS().getSetup())):this.getCrypto()?(o.protocol="RTP/SAVPF",o.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):o.protocol="RTP/AVP";for(let n of r.getCodecs().values()){"video"===r.getType().toLowerCase()?o.rtp.push({payload:n.getType(),codec:n.getCodec().toUpperCase(),rate:9e4}):"opus"===n.getCodec().toLowerCase()||"multiopus"===n.getCodec().toLowerCase()?o.rtp.push({payload:n.getType(),codec:n.getCodec(),rate:48e3,encoding:n.getChannels()}):o.rtp.push({payload:n.getType(),codec:n.getCodec(),rate:8e3});for(const t of n.getRTCPFeedbacks())o.rtcpFb.push({payload:n.getType(),type:t.getId(),subtype:t.getParams().join(" ")});n.hasRTX()&&(o.rtp.push({payload:n.getRTX(),codec:"rtx",rate:9e4}),o.fmtp.push({payload:n.getRTX(),config:"apt="+n.getType()}));const e=n.getParams();if(Object.keys(e).length){const t={payload:n.getType(),config:""};for(const n in e)t.config.length&&(t.config+=";"),e.hasOwnProperty(n)?t.config+=n+"="+e[n]:t.config+=n;o.fmtp.push(t)}}const e=[];for(let n=0;n<o.rtp.length;++n)e.push(o.rtp[n].payload);o.payloads=e.join(" ");for(let[n,i]of r.getExtensions().entries())o.ext.push({value:n,uri:i});for(let n of r.getRIDs().values()){let e={id:n.getId(),direction:_u.toString(n.getDirection()),params:""};n.getFormats().length&&(e.params="pt="+n.getFormats().join(","));for(let[t,r]of n.getParams().entries())e.params+=(e.params.length?";":"")+t+"="+r;o.rids.push(e)}const t=r.getSimulcast();if(t){let e=1;o.simulcast={};const n=t.getSimulcastStreams(_u.SEND),r=t.getSimulcastStreams(_u.RECV);if(n&&n.length){let t="";for(let e=0;e<n.length;++e){let r="";for(let t=0;t<n[e].length;++t)r+=(r.length?",":"")+(n[e][t].isPaused()?"~":"")+n[e][t].getId();t+=(t.length?";":"")+r}o.simulcast["dir"+e]="send",o.simulcast["list"+e]=t,e++}if(r&&r.length){let t=[];for(let e=0;e<r.length;++e){let n="";for(let t=0;t<r[e].length;++t)n+=(n.length?",":"")+(r[e][t].isPaused()?"~":"")+r[e][t].getId();t+=(t.length?";":"")+n}o.simulcast["dir"+e]="recv",o.simulcast["list"+e]=t,e++}}}else if(r.hasDataChannel()){o.protocol="UDP/DTLS/SCTP",o.payloads="webrtc-datachannel";const e=r.getDataChannel();o.sctpPort=e.getPort(),o.maxMessageSize=e.getMaxMessageSize()}e.media.push(o)}for(let n of this.streams.values())for(let t of n.getTracks().values())for(let r in e.media){let o=e.media[r];if(t.getMediaId()){if(t.getMediaId()==o.mid){let e=t.getSourceGroups();for(let t in e){let n=e[t];o.ssrcGroups.push({semantics:n.getSemantics(),ssrcs:n.getSSRCs().join(" ")})}let r=t.getSSRCs();for(let i in r)o.ssrcs.push({id:r[i],attribute:"cname",value:n.getId()}),o.ssrcs.push({id:r[i],attribute:"msid",value:n.getId()+" "+t.getId()});o.msid=n.getId()+" "+t.getId();break}}else if(o.type.toLowerCase()===t.getMedia().toLowerCase()){let e=t.getSourceGroups();for(let t in e){let n=e[t];o.ssrcGroups.push({semantics:n.getSemantics(),ssrcs:n.getSSRCs().join(" ")})}let r=t.getSSRCs();for(let i in r)o.ssrcs.push({id:r[i],attribute:"cname",value:n.getId()}),o.ssrcs.push({id:r[i],attribute:"msid",value:n.getId()+" "+t.getId()});break}}return t.mids=t.mids.join(" "),e.groups.push(t),ou.write(e)}toIceFragmentString(){let e={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),this.getICE()&&(e.iceUfrag=this.getICE().getUfrag(),e.icePwd=this.getICE().getPwd());for(const t of this.getCandidates())e.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()});return ou.write(e).slice(10)}}al.create=function(e){const t=new al;e.ice&&(e.ice instanceof Bu?t.setICE(e.ice.clone()):t.setICE(Bu.expand(e.ice))),e.dtls&&(e.dtls instanceof mu?t.setDTLS(e.dtls):t.setDTLS(mu.expand(e.dtls))),e.crypto&&(e.crypto instanceof gu?t.setCrypto(e.crypto):t.setCrypto(gu.expand(e.crypto)));for(let o=0;e.candidates&&o<e.candidates.length;++o)e.candidates[o]instanceof su?t.addCandidate(e.candidates[o].clone()):t.addCandidate(su.expand(e.candidates[o]));let n=96,r=1;for(let o in e.capabilities){const i=Yu.create(o,e.capabilities[o]);for(const[e,t]of i.getCodecs())t.getType()>=96&&t.setType(n++),t.getRTX()&&t.setRTX(n++);if(e.capabilities[o].extensions)for(let t of e.capabilities[o].extensions)15===r&&r++,i.addExtension(r++,t);t.addMedia(i)}return t},al.expand=function(e){const t=new al(e.version);for(let n=0;e.medias&&n<e.medias.length;++n){const r=Yu.expand(e.medias[n]);r&&t.addMedia(r)}for(let n=0;e.streams&&n<e.streams.length;++n){const r=sl.expand(e.streams[n]);r&&t.addStream(r)}for(let n=0;e.candidates&&n<e.candidates.length;++n){const r=su.expand(e.candidates[n]);r&&t.addCandidate(r)}return e.ice&&t.setICE(Bu.expand(e.ice)),e.dtls&&t.setDTLS(mu.expand(e.dtls)),e.crypto&&t.setCrypto(mu.expand(e.crypto)),e.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!e.extmapAllowMixedNotSupported),t},al.process=function(e){return al.parse(e)},al.parse=function(e){const t=ou.parse(e),n=new al;if(n.setVersion(t.version),t.iceUfrag&&t.icePwd){const e=String(t.iceUfrag),r=String(t.icePwd),o=new Bu(e,r);o.setLite("ice-lite"==t.icelite),o.setEndOfCandidates("end-of-candidates"==t.endOfCandidates),n.setICE(o)}for(let r in t.media){const e=t.media[r],o=e.type,i=e.mid?e.mid.toString():r,s=new Yu(i,o);if(e.iceUfrag&&e.icePwd){const r=String(e.iceUfrag),o=String(e.icePwd),i=new Bu(r,o);i.setLite("ice-lite"==t.icelite),i.setEndOfCandidates("end-of-candidates"==e.endOfCandidates),n.setICE(i)}for(let t=0;e.candidates&&t<e.candidates.length;++t){const r=e.candidates[t],o=new su(r.foundation,r.component,r.transport,r.priority,r.ip,r.port,r.type,r.raddr,r.rport);n.addCandidate(o)}const a=e.fingerprint||t.fingerprint;if(a){const t=a.type,r=a.hash;let o=pu.ACTPASS;e.setup&&(o=pu.byValue(e.setup)),n.setDTLS(new mu(o,t,r))}if(e.crypto){const t=e.crypto[0];n.setCrypto(new gu(t.id,t.suite,t.config,t.sessionConfig))}let c=Hu.SENDRECV;e.direction&&(c=Hu.byValue(e.direction),s.setDirection(c)),e.control&&s.setControl(e.control),n.setExtmapAllowMixed("extmap-allow-mixed"==e.extmapAllowMixed||"extmap-allow-mixed"==t.extmapAllowMixed);const u=new Map;for(let t in e.rtp){const n=e.rtp[t],r=n.payload,o=n.codec;if("RED"===o.toUpperCase()||"ULPFEC"===o.toUpperCase())continue;let i={};for(let t in e.fmtp){const n=e.fmtp[t];if(n.payload===r){const e=n.config.split(";");for(let t in e){const n=e[t].split("="),r=n[0].trim(),o=n.splice(1).join("=").trim();i[r]=o}}}if("RTX"===o.toUpperCase())u.set(parseInt(i.apt),r);else{const e=new lu(o,r,i);n.encoding>1&&e.setChannels(n.encoding),s.addCodec(e)}}for(let t of u.entries()){const e=s.getCodecForType(t[0]);e&&e.setRTX(t[1])}for(let t=0;e.rtcpFb&&t<e.rtcpFb.length;++t){const n=s.getCodecForType(e.rtcpFb[t].payload);if(n){const r=e.rtcpFb[t].type,o=e.rtcpFb[t].subtype?e.rtcpFb[t].subtype.split(" "):null;n.addRTCPFeedback(new cu(r,o))}}const l=e.ext;for(let t in l){const e=l[t];s.addExtension(e.value,e.uri)}const d=e.rids;for(let t in d){const e=d[t],n=new Fu(e.id,_u.byValue(e.direction));let r=[];const o=new Map;if(e.params){const t=ou.parseParams(e.params);for(let e in t)"pt"===e?r=t[e].split(","):o.set(e,t[e]);n.setFormats(r),n.setParams(o)}s.addRID(n)}const f=[];if(e.simulcast){const t=new $u;if(e.simulcast.dir1){const n=_u.byValue(e.simulcast.dir1),r=ou.parseSimulcastStreamList(e.simulcast.list1);for(let e=0;e<r.length;++e){const o=[];for(let t=0;t<r[e].length;++t)o.push(new zu(r[e][t].scid,r[e][t].paused));t.addSimulcastAlternativeStreams(n,o)}}if(e.simulcast.dir2){const n=_u.byValue(e.simulcast.dir2),r=ou.parseSimulcastStreamList(e.simulcast.list2);for(let e=0;e<r.length;++e){const o=[];for(let t=0;t<r[e].length;++t)o.push(new zu(r[e][t].scid,r[e][t].paused));t.addSimulcastAlternativeStreams(n,o)}}for(let e of t.getSimulcastStreams(_u.SEND)){const t=[];for(let n=0;n<e.length;n++){const r=new nl(e[n].getId(),e[n].isPaused()),o=s.getRID(r.getId());if(o){const e=o.getFormats();for(let t=0;e&&t<e.length;++t){const n=s.getCodecForType(e[t]);n&&r.addCodec(n)}r.setParams(o.getParams()),t.push(r)}}t.length&&f.push(t)}s.setSimulcast(t)}const p=new Map;if(e.ssrcs)for(let t in e.ssrcs){let r=e.ssrcs[t],s=r.id,a=r.attribute,c=r.value,u=p.get(s);if(u||(u=new el(s),p.set(u.getSSRC(),u)),"cname"===a.toLowerCase())u.setCName(c);else if("msid"===a.toLowerCase()){let e=c.split(" "),t=e[0],r=e[1];u.setStreamId(t),u.setTrackId(r);let a=n.getStream(t);a||(a=new sl(t),n.addStream(a));let l=a.getTrack(r);l||(l=new ol(o,r),l.setMediaId(i),l.setEncodings(f),a.addTrack(l)),l.addSSRC(s)}}if(e.msid){let t=e.msid.split(" "),r=t[0],s=t[1],a=n.getStream(r);a||(a=new sl(r),n.addStream(a));let c=a.getTrack(s);c||(c=new ol(o,s),c.setMediaId(i),c.setEncodings(f),a.addTrack(c));for(let[e,n]of p.entries())n.getStreamId()||(n.setStreamId(r),n.setTrackId(s),c.addSSRC(e))}for(let[t,r]of p.entries())if(!r.getStreamId()){let e=r.getCName(),s=i;r.setStreamId(e),r.setTrackId(s);let a=n.getStream(e);a||(a=new sl(e),n.addStream(a));let c=a.getTrack(s);c||(c=new ol(o,s),c.setMediaId(i),c.setEncodings(f),a.addTrack(c)),c.addSSRC(t)}if(e.ssrcGroups)for(let t in e.ssrcGroups){let r=e.ssrcGroups[t],o=r.ssrcs.split(" "),i=new Ku(r.semantics,o),s=p.get(parseInt(o[0]));s&&n.getStream(s.getStreamId()).getTrack(s.getTrackId()).addSourceGroup(i)}if("application"==e.type&&"webrtc-datachannel"==e.payloads){const t=new Xu(e.sctpPort,e.maxMessageSize);s.setDataChannel(t)}n.addMedia(s)}return n};var cl={SDPInfo:al,CandidateInfo:su,CodecInfo:lu,DTLSInfo:mu,CryptoInfo:gu,ICEInfo:Bu,MediaInfo:Yu,Setup:pu,SourceGroupInfo:Ku,SourceInfo:el,StreamInfo:sl,TrackInfo:ol,RTCPFeedbackInfo:cu,TrackEncodingInfo:nl,Direction:Hu},ul=i((function(e,t){!function(n,r){var o="function",i="undefined",s="object",a="string",c="model",u="name",l="type",d="vendor",f="version",p="architecture",h="console",m="mobile",v="tablet",g="smarttv",b="wearable",y="embedded",w="Amazon",S="Apple",O="ASUS",C="BlackBerry",E="Firefox",j="Google",x="Huawei",k="LG",T="Microsoft",I="Motorola",P="Opera",A="Samsung",R="Sony",V="Xiaomi",N="Zebra",L="Facebook",B=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},D=function(e,t){return typeof e===a&&-1!==_(t).indexOf(_(e))},_=function(e){return e.toLowerCase()},M=function(e,t){if(typeof e===a)return e=e.replace(/^\s\s*/,"").replace(/\s\s*$/,""),typeof t===i?e:e.substring(0,255)},F=function(e,t){for(var n,i,a,c,u,l,d=0;d<t.length&&!u;){var f=t[d],p=t[d+1];for(n=i=0;n<f.length&&!u;)if(u=f[n++].exec(e))for(a=0;a<p.length;a++)l=u[++i],typeof(c=p[a])===s&&c.length>0?2===c.length?typeof c[1]==o?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==o||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):r:this[c[0]]=l?c[1].call(this,l,c[2]):r:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):r):this[c]=l||r;d+=2}},U=function(e,t){for(var n in t)if(typeof t[n]===s&&t[n].length>0){for(var o=0;o<t[n].length;o++)if(D(t[n][o],e))return"?"===n?r:n}else if(D(t[n],e))return"?"===n?r:n;return e},z={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},G={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[u,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[u,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[u,f],[/opios[\/ ]+([\w\.]+)/i],[f,[u,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[f,[u,P]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[u,f],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[u,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[f,[u,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[f,[u,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[u,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[u,"IE"]],[/yabrowser\/([\w\.]+)/i],[f,[u,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[u,/(.+)/,"$1 Secure Browser"],f],[/\bfocus\/([\w\.]+)/i],[f,[u,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[f,[u,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[u,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[u,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[u,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[u,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[f,[u,E]],[/\bqihu|(qi?ho?o?|360)browser/i],[[u,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[u,/(.+)/,"$1 Browser"],f],[/(comodo_dragon)\/([\w\.]+)/i],[[u,/_/g," "],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[u,f],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[u],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[u,L],f],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[u,f],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[u,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[u,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[u,"Chrome WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[u,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[u,f],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[f,[u,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[f,u],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[u,[f,U,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[u,f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[u,"Netscape"],f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[u,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[u,f]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[p,"amd64"]],[/(ia32(?=;))/i],[[p,_]],[/((?:i[346]|x)86)[;\)]/i],[[p,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/windows (ce|mobile); ppc;/i],[[p,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[p,/ower/,"",_]],[/(sun4\w)[;\)]/i],[[p,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[p,_]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[c,[d,A],[l,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[c,[d,A],[l,m]],[/\((ip(?:hone|od)[\w ]*);/i],[c,[d,S],[l,m]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[c,[d,S],[l,v]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[c,[d,x],[l,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[c,[d,x],[l,m]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[c,/_/g," "],[d,V],[l,m]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[c,/_/g," "],[d,V],[l,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[c,[d,"OPPO"],[l,m]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[c,[d,"Vivo"],[l,m]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[c,[d,"Realme"],[l,m]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[c,[d,I],[l,m]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[c,[d,I],[l,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[c,[d,k],[l,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[c,[d,k],[l,m]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[c,[d,"Lenovo"],[l,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[c,/_/g," "],[d,"Nokia"],[l,m]],[/(pixel c)\b/i],[c,[d,j],[l,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[c,[d,j],[l,m]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[c,[d,R],[l,m]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[c,"Xperia Tablet"],[d,R],[l,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[c,[d,"OnePlus"],[l,m]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[c,[d,w],[l,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[c,/(.+)/g,"Fire Phone $1"],[d,w],[l,m]],[/(playbook);[-\w\),; ]+(rim)/i],[c,d,[l,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[c,[d,C],[l,m]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[c,[d,O],[l,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[c,[d,O],[l,m]],[/(nexus 9)/i],[c,[d,"HTC"],[l,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[d,[c,/_/g," "],[l,m]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[c,[d,"Acer"],[l,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[c,[d,"Meizu"],[l,m]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[c,[d,"Sharp"],[l,m]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,c,[l,m]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,c,[l,v]],[/(surface duo)/i],[c,[d,T],[l,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[c,[d,"Fairphone"],[l,m]],[/(u304aa)/i],[c,[d,"AT&T"],[l,m]],[/\bsie-(\w*)/i],[c,[d,"Siemens"],[l,m]],[/\b(rct\w+) b/i],[c,[d,"RCA"],[l,v]],[/\b(venue[\d ]{2,7}) b/i],[c,[d,"Dell"],[l,v]],[/\b(q(?:mv|ta)\w+) b/i],[c,[d,"Verizon"],[l,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[c,[d,"Barnes & Noble"],[l,v]],[/\b(tm\d{3}\w+) b/i],[c,[d,"NuVision"],[l,v]],[/\b(k88) b/i],[c,[d,"ZTE"],[l,v]],[/\b(nx\d{3}j) b/i],[c,[d,"ZTE"],[l,m]],[/\b(gen\d{3}) b.+49h/i],[c,[d,"Swiss"],[l,m]],[/\b(zur\d{3}) b/i],[c,[d,"Swiss"],[l,v]],[/\b((zeki)?tb.*\b) b/i],[c,[d,"Zeki"],[l,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],c,[l,v]],[/\b(ns-?\w{0,9}) b/i],[c,[d,"Insignia"],[l,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[c,[d,"NextBook"],[l,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],c,[l,m]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],c,[l,m]],[/\b(ph-1) /i],[c,[d,"Essential"],[l,m]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[c,[d,"Envizen"],[l,v]],[/\b(trio[-\w\. ]+) b/i],[c,[d,"MachSpeed"],[l,v]],[/\btu_(1491) b/i],[c,[d,"Rotor"],[l,v]],[/(shield[\w ]+) b/i],[c,[d,"Nvidia"],[l,v]],[/(sprint) (\w+)/i],[d,c,[l,m]],[/(kin\.[onetw]{3})/i],[[c,/\./g," "],[d,T],[l,m]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[c,[d,N],[l,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[c,[d,N],[l,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,c,[l,h]],[/droid.+; (shield) bui/i],[c,[d,"Nvidia"],[l,h]],[/(playstation [345portablevi]+)/i],[c,[d,R],[l,h]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[c,[d,T],[l,h]],[/smart-tv.+(samsung)/i],[d,[l,g]],[/hbbtv.+maple;(\d+)/i],[[c,/^/,"SmartTV"],[d,A],[l,g]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,k],[l,g]],[/(apple) ?tv/i],[d,[c,"Apple TV"],[l,g]],[/crkey/i],[[c,"Chromecast"],[d,j],[l,g]],[/droid.+aft(\w)( bui|\))/i],[c,[d,w],[l,g]],[/\(dtv[\);].+(aquos)/i],[c,[d,"Sharp"],[l,g]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[d,M],[c,M],[l,g]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[l,g]],[/((pebble))app/i],[d,c,[l,b]],[/droid.+; (glass) \d/i],[c,[d,j],[l,b]],[/droid.+; (wt63?0{2,3})\)/i],[c,[d,N],[l,b]],[/(quest( 2)?)/i],[c,[d,L],[l,b]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[l,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[c,[l,m]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[c,[l,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[l,v]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[l,m]],[/(android[-\w\. ]{0,9});.+buil/i],[c,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[u,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[u,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[u,f],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,u]],os:[[/microsoft (windows) (vista|xp)/i],[u,f],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[u,[f,U,z]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[u,"Windows"],[f,U,z]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[u,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[u,"Mac OS"],[f,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[f,u],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[u,f],[/\(bb(10);/i],[f,[u,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[u,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[u,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[u,"webOS"]],[/crkey\/([\d\.]+)/i],[f,[u,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[u,"Chromium OS"],f],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[u,f],[/(sunos) ?([\w\.\d]*)/i],[[u,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[u,f]]},$=function(e,t){if(typeof e===s&&(t=e,e=r),!(this instanceof $))return new $(e,t).getResult();var o=e||(typeof n!==i&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),c=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2==0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(G,t):G;return this.getBrowser=function(){var e={};return e.name=r,e.version=r,F.call(e,o,c.browser),e.major=function(e){return typeof e===a?e.replace(/[^\d\.]/g,"").split(".")[0]:r}(e.version),e},this.getCPU=function(){var e={};return e.architecture=r,F.call(e,o,c.cpu),e},this.getDevice=function(){var e={};return e.vendor=r,e.model=r,e.type=r,F.call(e,o,c.device),e},this.getEngine=function(){var e={};return e.name=r,e.version=r,F.call(e,o,c.engine),e},this.getOS=function(){var e={};return e.name=r,e.version=r,F.call(e,o,c.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(e){return o=typeof e===a&&e.length>255?M(e,255):e,this},this.setUA(o),this};$.VERSION="0.7.31",$.BROWSER=B([u,f,"major"]),$.CPU=B([p]),$.DEVICE=B([c,d,l,h,m,g,v,b,y]),$.ENGINE=$.OS=B([u,f]),e.exports&&(t=e.exports=$),t.UAParser=$;var q=typeof n!==i&&(n.jQuery||n.Zepto);if(q&&!q.ua){var H=new $;q.ua=H.getResult(),q.ua.get=function(){return H.getUA()},q.ua.set=function(e){H.setUA(e);var t=H.getResult();for(var n in t)q.ua[n]=t[n]}}}("object"==typeof window?window:o)}));const ll=["iOS"];class dl extends ul{constructor(){super(window.navigator.userAgent)}isChrome(){const e=this.getBrowser();if(!e.name)return!1;const t=this.getOS();let n=!0;return n=!new RegExp(ll.join("|"),"i").test(t.name),e.name.match(/Chrome/i)&&n}isFirefox(){const e=this.getBrowser();return!!e.name&&e.name.match(/Firefox/i)}}const fl=Vr.get("SdpParser"),pl=Array.from({length:31},(e,t)=>t+35),hl=Array.from({length:32},(e,t)=>t+96),ml=Array.from({length:14},(e,t)=>t+1),vl=Array.from({length:240},(e,t)=>t+16);class gl{static setSimulcast(e,t){if(fl.info("Setting simulcast. Codec: ",t),!(new dl).isChrome())return fl.warn("Simulcast is only available in Google Chrome browser"),e;if("h264"!==t&&"vp8"!==t)return fl.warn("Simulcast is only available in h264 and vp8 codecs"),e;try{const t=/m=video[\s\S]*?a=ssrc:(\d*) msid:([\s\S]+?)\r\n/,n=/m=video[\s\S]*?a=ssrc:(\d*) cname:([\s\S]+?)\r\n/.exec(e),r=n[1],o=n[2],i=t.exec(e)[2],s=2,a=[r];for(let c=0;c<s;++c){const t=100+2*c,n=t+1;a.push(t),e+="a=ssrc-group:FID "+t+" "+n+"\r\na=ssrc:"+t+" cname:"+o+"\r\na=ssrc:"+t+" msid:"+i+"\r\na=ssrc:"+n+" cname:"+o+"\r\na=ssrc:"+n+" msid:"+i+"\r\n"}return e+="a=ssrc-group:SIM "+a.join(" ")+"\r\n",fl.info("Simulcast setted"),fl.debug("Simulcast SDP: ",e),e}catch(e){throw fl.error("Error setting SDP for simulcast: ",e),e}}static setStereo(e){return fl.info("Replacing SDP response for support stereo"),e=e.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),fl.info("Replaced SDP response for support stereo"),fl.debug("New SDP value: ",e),e}static setDTX(e){return fl.info("Replacing SDP response for support dtx"),e=e.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),fl.info("Replaced SDP response for support dtx"),fl.debug("New SDP value: ",e),e}static setAbsoluteCaptureTime(e){const t="a=extmap:"+gl.getAvailableHeaderExtensionIdRange(e)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n";return e=e.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(e,n,r)=>n+t+r),fl.info("Replaced SDP response for setting absolute capture time"),fl.debug("New SDP value: ",e),e}static setDependencyDescriptor(e){const t="a=extmap:"+gl.getAvailableHeaderExtensionIdRange(e)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n";return e=e.replace(/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm,(e,n,r)=>n+t+r),fl.info("Replaced SDP response for setting depency descriptor"),fl.debug("New SDP value: ",e),e}static setVideoBitrate(e,t){if(t<1)fl.info("Remove bitrate restrictions"),e=e.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{const n=cl.SDPInfo.parse(e),r=n.getMedia("video");fl.info("Setting video bitrate"),r.setBitrate(t),e=n.toString()}return e}static removeSdpLine(e,t){return fl.debug("SDP before trimming: ",e),e=e.split("\n").filter(e=>e.trim()!==t).join("\n"),fl.debug("SDP trimmed result: ",e),e}static adaptCodecName(e,t,n){if(!e)return e;const r=new RegExp("".concat(t),"i");return e.replace(r,n)}static setMultiopus(e,t){if((new dl).isChrome()&&(!t||bl(t)))if(e.includes("multiopus/48000/6"))fl.info("Multiopus already setted");else{fl.info("Setting multiopus");const t=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(e)[0],n=gl.getAvailablePayloadTypeRange(e)[0],r=t.replace("\r\n"," ")+n+"\r\na=rtpmap:"+n+" multiopus/48000/6\r\na=fmtp:"+n+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";e=e.replace(t,r),fl.info("Multiopus offer created"),fl.debug("SDP parsed for multioups: ",e)}return e}static getAvailablePayloadTypeRange(e){const t=e.matchAll(/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm);let n=hl.concat(pl);for(const r of t){const e=r[1].split(" ").map(e=>parseInt(e));n=n.filter(t=>!e.includes(t))}return n}static getAvailableHeaderExtensionIdRange(e){const t=e.matchAll(/a=extmap:(\d+)(?:.*)\r\n/gm);let n=ml.concat(vl);for(const r of t){const e=r[1].split(" ").map(e=>parseInt(e));n=n.filter(t=>!e.includes(t))}return n}static renegotiate(e,t){const n=cl.SDPInfo.parse(e),r=cl.SDPInfo.parse(t);for(const o of n.getMedias()){let e=r.getMediaById(o.getId());if(!e){e=new cl.MediaInfo(o.getId(),o.getType()),e.setDirection(cl.Direction.reverse(o.getDirection()));const t=r.getMedia(o.getType());if(t){e.setCodecs(t.getCodecs());for(const[n,r]of t.getExtensions())e.addExtension(n,r)}r.addMedia(e)}}return r.toString()}static updateMissingVideoExtensions(e,t){var n;const r=cl.SDPInfo.parse(e),o=null===(n=cl.SDPInfo.parse(t).getMediasByType("video")[0])||void 0===n?void 0:n.getExtensions();if(o||o.length){for(const t of r.getMediasByType("video")){const n=t.getExtensions();o.forEach((r,o)=>{if(!n.get(o)){const n=t.getId(),i="a=extmap:"+o+" "+r+"\r\n",s=new RegExp("(a=mid:"+n+"\r\n(?:.*\r\n)*?)","g");e=e.replace(s,(e,t,n)=>t+i)}})}return e}}}const bl=e=>e.getAudioTracks().some(e=>e.getSettings().channelCount>2);class yl extends Ea{constructor(e,t){super(),this.namespace=e,this.tm=t}cmd(e,t){return this.tm.cmd(e,t,this.namespace)}event(e,t){return this.tm.event(e,t,this.namespace)}close(){return this.tm.namespaces.delete(this.namespace)}}var wl=class extends Ea{constructor(e){super(),this.maxId=0,this.namespaces=new Map,this.transactions=new Map,this.transport=e,this.listener=t=>{let n;try{n=JSON.parse(t.utf8Data||t.data||t)}catch(e){return}switch(n.type){case"cmd":const t={name:n.name,data:n.data,namespace:n.namespace,accept:t=>{e.send(JSON.stringify({type:"response",transId:n.transId,data:t}))},reject:t=>{e.send(JSON.stringify({type:"error",transId:n.transId,data:t}))}};if(t.namespace){const e=this.namespaces.get(t.namespace);e?e.emit("cmd",t):this.emit("cmd",t)}else this.emit("cmd",t);break;case"response":{const e=this.transactions.get(n.transId);if(!e)return;this.transactions.delete(n.transId),e.resolve(n.data);break}case"error":{const e=this.transactions.get(n.transId);if(!e)return;this.transactions.delete(n.transId),e.reject(n.data);break}case"event":const o={name:n.name,data:n.data,namespace:n.namespace};if(o.namespace){var r=this.namespaces.get(o.namespace);r?r.emit("event",o):this.emit("event",o)}else this.emit("event",o)}},this.transport.addListener?this.transport.addListener("message",this.listener):this.transport.addEventListener("message",this.listener)}cmd(e,t,n){return new Promise((r,o)=>{if(!e||0===e.length)throw new Error("Bad command name");const i={type:"cmd",transId:this.maxId++,name:e,data:t};n&&(i.namespace=n);const s=JSON.stringify(i);i.resolve=r,i.reject=o,this.transactions.set(i.transId,i);try{this.transport.send(s)}catch(e){throw this.transactions.delete(i.transId),e}})}event(e,t,n){if(!e||0===e.length)throw new Error("Bad event name");const r={type:"event",name:e,data:t};n&&(r.namespace=n);const o=JSON.stringify(r);this.transport.send(o)}namespace(e){let t=this.namespaces.get(e);return t||(t=new yl(e,this),this.namespaces.set(e,t),t)}close(){for(const e of this.namespaces.values())e.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)}};const Sl=Vr.get("Signaling"),Ol="wsConnectionSuccess",Cl="wsConnectionError",El="wsConnectionClose",jl="broadcastEvent",xl={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1"},kl={OPUS:"opus",MULTIOPUS:"multiopus"};class Tl extends Ea{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{streamName:null,url:"ws://localhost:8080/"};super(),this.streamName=e.streamName,this.wsUrl=e.url,this.webSocket=null,this.transactionManager=null,this.serverId=null,this.clusterId=null}async connect(){var e;return Sl.info("Connecting to Signaling Server"),this.transactionManager&&(null===(e=this.webSocket)||void 0===e?void 0:e.readyState)===WebSocket.OPEN?(Sl.info("Connected to server: ",this.webSocket.url),Sl.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Ol,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new Promise((e,t)=>{this.webSocket=new WebSocket(this.wsUrl),this.transactionManager=new wl(this.webSocket),this.webSocket.onopen=()=>{Sl.info("WebSocket opened"),this.transactionManager.on("event",e=>{this.emit(jl,e)}),Sl.info("Connected to server: ",this.webSocket.url),Sl.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Ol,{ws:this.webSocket,tm:this.transactionManager}),e(this.webSocket)},this.webSocket.onerror=()=>{Sl.error("WebSocket not connected: ",this.webSocket.url),this.emit(Cl,this.webSocket.url),t(this.webSocket.url)},this.webSocket.onclose=()=>{this.webSocket=null,this.transactionManager=null,Sl.info("Connection closed with Signaling Server."),this.emit(El)}})}close(){var e;Sl.info("Closing connection with Signaling Server."),null===(e=this.webSocket)||void 0===e||e.close()}async subscribe(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Sl.info("Starting subscription to streamName: ",this.streamName),Sl.debug("Subcription local description: ",e);const o=Il(t,n,r),i={sdp:e=gl.adaptCodecName(e,"AV1X",xl.AV1),streamId:this.streamName,pinnedSourceId:o.pinnedSourceId,excludedSourceIds:o.excludedSourceIds};o.vad&&(i.vad=!0),Array.isArray(o.events)&&(i.events=o.events);try{var s,a,c,u,l;await this.connect(),Sl.info("Sending view command");const e=await this.transactionManager.cmd("view",i),t=null===(s=(a=RTCRtpReceiver).getCapabilities)||void 0===s||null===(c=s.call(a,"video"))||void 0===c||null===(u=c.codecs)||void 0===u||null===(l=u.find)||void 0===l?void 0:l.call(u,e=>"video/AV1X"===e.mimeType);return e.sdp=t?gl.adaptCodecName(e.sdp,xl.AV1,"AV1X"):e.sdp,Sl.info("Command sent, subscriberId: ",e.subscriberId),Sl.debug("Command result: ",e),this.serverId=e.subscriberId,this.clusterId=e.clusterId,e.sdp}catch(e){throw Sl.error("Error sending view command, error: ",e),e}}async publish(e,t){const n=Pl(t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null);Sl.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(n.codec)),Sl.debug("Publishing local description: ",e);const r=Object.values(xl);if(-1===r.indexOf(n.codec))throw Sl.error("Invalid codec. Possible values are: ",r),new Error("Invalid codec. Possible values are: ".concat(r));n.codec===xl.AV1&&(e=gl.adaptCodecName(e,"AV1X",xl.AV1));const o={name:this.streamName,sdp:e,codec:n.codec,sourceId:n.sourceId};null!==n.record&&(o.record=n.record),Array.isArray(n.events)&&(o.events=n.events);try{await this.connect(),Sl.info("Sending publish command");const e=await this.transactionManager.cmd("publish",o);if(n.codec===xl.AV1){var i,s,a,c,u;const t=null===(i=(s=RTCRtpSender).getCapabilities)||void 0===i||null===(a=i.call(s,"video"))||void 0===a||null===(c=a.codecs)||void 0===c||null===(u=c.find)||void 0===u?void 0:u.call(c,e=>"video/AV1X"===e.mimeType);e.sdp=t?gl.adaptCodecName(e.sdp,xl.AV1,"AV1X"):e.sdp}return Sl.info("Command sent, publisherId: ",e.publisherId),Sl.debug("Command result: ",e),this.serverId=e.publisherId,this.clusterId=e.clusterId,e.sdp}catch(e){throw Sl.error("Error sending publish command, error: ",e),e}}async cmd(e,t){return Sl.info("Sending cmd: ".concat(e)),this.transactionManager.cmd(e,t)}}const Il=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={vad:e,pinnedSourceId:t,excludedSourceIds:n}),r},Pl=(e,t,n)=>{let r="object"==typeof e?e:{};if(0===Object.keys(r).length){const o=xl.H264;r={codec:null!=e?e:o,record:t,sourceId:n}}return r};function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Vl=Vr.get("PeerConnection"),Nl={track:"track",connectionStateChange:"connectionStateChange"},Ll={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0};class Bl extends Ea{constructor(){super(),this.sessionDescription=null,this.peer=null,this.peerConnectionStats=null}async createRTCPeer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Vl.info("Creating new RTCPeerConnection"),Vl.debug("RTC configuration provided by user: ",e),this.peer=Ml(this,e)}getRTCPeer(){return Vl.info("Getting RTC Peer"),this.peer}async closeRTCPeer(){var e;Vl.info("Closing RTCPeerConnection"),null===(e=this.peer)||void 0===e||e.close(),this.peer=null,this.stopStats(),this.emit(Nl.connectionStateChange,"closed")}async setRTCRemoteSDP(e){Vl.info("Setting RTC Remote SDP");const t={type:"answer",sdp:e};try{await this.peer.setRemoteDescription(t),Vl.info("RTC Remote SDP was set successfully."),Vl.debug("RTC Remote SDP new value: ",e)}catch(e){throw Vl.error("Error while setting RTC Remote SDP: ",e),e}}async getRTCLocalSDP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ll;Vl.info("Getting RTC Local SDP"),e=Rl(Rl({},Ll),e),Vl.debug("Options: ",e);const t=_l(e.mediaStream);t?Ul(this.peer,t,e):zl(this.peer,e),Vl.info("Creating peer offer");const n=await this.peer.createOffer();return Vl.info("Peer offer created"),Vl.debug("Peer offer response: ",n.sdp),this.sessionDescription=n,e.disableAudio||(e.stereo&&(this.sessionDescription.sdp=gl.setStereo(this.sessionDescription.sdp)),e.dtx&&(this.sessionDescription.sdp=gl.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=gl.setMultiopus(this.sessionDescription.sdp,t)),!e.disableVideo&&e.simulcast&&(this.sessionDescription.sdp=gl.setSimulcast(this.sessionDescription.sdp,e.codec)),e.absCaptureTime&&(this.sessionDescription.sdp=gl.setAbsoluteCaptureTime(this.sessionDescription.sdp)),e.dependencyDescriptor&&(this.sessionDescription.sdp=gl.setDependencyDescriptor(this.sessionDescription.sdp)),e.setSDPToPeer&&(await this.peer.setLocalDescription(this.sessionDescription),Vl.info("Peer local description set")),this.sessionDescription.sdp}async addRemoteTrack(e,t){return new Promise((n,r)=>{try{const r=this.peer.addTransceiver(e,{direction:"recvonly"});for(const e of t)e.addTrack(r.receiver.track);r.resolve=n,r.streams=t}catch(e){r(e)}})}updateBandwidthRestriction(e,t){return Vl.info("Updating bandwidth restriction, bitrate value: ",t),Vl.debug("SDP value: ",e),gl.setVideoBitrate(e,t)}async updateBitrate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.peer)throw Vl.error("Cannot update bitrate. No peer found."),new Error("Cannot update bitrate. No peer found.");Vl.info("Updating bitrate to value: ",e),this.sessionDescription=await this.peer.createOffer(),await this.peer.setLocalDescription(this.sessionDescription);const t=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,e);await this.setRTCRemoteSDP(t),Vl.info("Bitrate restirctions updated: ","".concat(e>0?e:"unlimited"," kbps"))}getRTCPeerStatus(){if(Vl.info("Getting RTC peer status"),!this.peer)return null;const e=Gl(this.peer);return Vl.info("RTC peer status getted, value: ",e),e}replaceTrack(e){if(!this.peer)return void Vl.error("Could not change track if there is not an active connection.");const t=this.peer.getSenders().find(t=>t.track.kind===e.kind);t?t.replaceTrack(e):Vl.error("There is no ".concat(e.kind," track in active broadcast."))}static getCapabilities(e){const t=new dl;if(t.isFirefox())return(e=>"video"===e?{codecs:[{codec:"vp8",mimeType:"video/VP8"},{codec:"vp9",mimeType:"video/VP9"},{codec:"h264",mimeType:"video/H264"}],headerExtensions:[]}:"audio"===e?{codecs:[{codec:"opus",mimeType:"audio/opus",channels:2}],headerExtensions:[]}:null)(e);const n=RTCRtpSender.getCapabilities(e);if(n){const r={};let o=new RegExp("^video/(".concat(Object.values(xl).join("|"),")x?$"),"i");"audio"===e&&(o=new RegExp("^audio/(".concat(Object.values(kl).join("|"),")$"),"i"),t.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(const e of n.codecs){const t=e.mimeType.match(o);if(t){const n=t[1].toLowerCase();if(r[n]=Rl(Rl({},r[n]),{},{mimeType:e.mimeType}),e.scalabilityModes){let t=r[n].scalabilityModes||[];t=[...t,...e.scalabilityModes],r[n].scalabilityModes=[...new Set(t)]}e.channels&&(r[n].channels=e.channels)}}n.codecs=Object.keys(r).map(e=>Rl({codec:e},r[e]))}return n}getTracks(){var e,t;return null===(e=this.peer)||void 0===e||null===(t=e.getSenders())||void 0===t?void 0:t.map(e=>e.track)}initStats(){this.peerConnectionStats?Vl.warn("Cannot init peer stats: Already initialized"):this.peer?(this.peerConnectionStats=new Ha(this.peer),this.peerConnectionStats.init(),Ba(this.peerConnectionStats,this,[qa])):Vl.warn("Cannot init peer stats: RTCPeerConnection not initialized")}stopStats(){var e;null===(e=this.peerConnectionStats)||void 0===e||e.stop(),this.peerConnectionStats=null}}const Dl=e=>(null==e?void 0:e.getAudioTracks().length)<=1&&(null==e?void 0:e.getVideoTracks().length)<=1,_l=e=>{if(!e)return null;if(e instanceof MediaStream&&Dl(e))return e;if(!(e instanceof MediaStream)){Vl.info("Creating MediaStream to add received tracks.");const t=new MediaStream;for(const n of e)t.addTrack(n);if(Dl(t))return t}throw Vl.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new Error("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},Ml=(e,t)=>{const n=new RTCPeerConnection(t);return Fl(e,n),n},Fl=(e,t)=>{t.ontrack=t=>{var n;if(Vl.info("New track from peer."),Vl.debug("Track event value: ",t),null!=t&&null!==(n=t.transceiver)&&void 0!==n&&n.resolve){const e=t.transceiver.resolve;delete t.transceiver.resolve,e(t.transceiver)}e.emit(Nl.track,t)},t.connectionState?t.onconnectionstatechange=n=>{Vl.info("Peer connection state change: ",t.connectionState),e.emit(Nl.connectionStateChange,t.connectionState)}:t.oniceconnectionstatechange=n=>{Vl.info("Peer ICE connection state change: ",t.iceConnectionState),e.emit(Nl.connectionStateChange,t.iceConnectionState)},t.onnegotiationneeded=async e=>{if(!t.remoteDescription)return;Vl.info("Peer onnegotiationneeded, updating local description");const n=await t.createOffer();Vl.info("Peer onnegotiationneeded, got local offer",n.sdp),n.sdp=gl.updateMissingVideoExtensions(n.sdp,t.remoteDescription.sdp),await t.setLocalDescription(n);const r=gl.renegotiate(n.sdp,t.remoteDescription.sdp);Vl.info("Peer onnegotiationneeded, updating remote description",r),await t.setRemoteDescription({type:"answer",sdp:r}),Vl.info("Peer onnegotiationneeded, renegotiation done")}},Ul=(e,t,n)=>{Vl.info("Adding mediaStream tracks to RTCPeerConnection");for(const r of t.getTracks()){const o={streams:[t]};"audio"===r.kind&&(o.direction=n.disableAudio?"inactive":"sendonly"),"video"===r.kind&&(o.direction=n.disableVideo?"inactive":"sendonly",n.scalabilityMode&&(new dl).isChrome()?(Vl.debug("Video track with scalability mode: ".concat(n.scalabilityMode,".")),o.sendEncodings=[{scalabilityMode:n.scalabilityMode}]):n.scalabilityMode&&Vl.warn("SVC is only supported in Google Chrome")),e.addTransceiver(r,o),Vl.info("Track '".concat(r.label,"' added: "),"id: ".concat(r.id),"kind: ".concat(r.kind))}},zl=(e,t)=>{t.disableVideo||e.addTransceiver("video",{direction:"recvonly"}),t.disableAudio||e.addTransceiver("audio",{direction:"recvonly"});for(let n=0;n<t.multiplexedAudioTracks;n++)e.addTransceiver("audio",{direction:"recvonly"})},Gl=e=>{var t;const n=null!==(t=e.connectionState)&&void 0!==t?t:e.iceConnectionState;switch(n){case"checking":return"connecting";case"completed":return"connected";default:return n}};function $l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ql(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const Hl=Vr.get("Director"),Wl="WebRtc";let Xl="",Ql="https://director.millicast.com";class Yl{static setEndpoint(e){Ql=e.replace(/\/$/,"")}static getEndpoint(){return Ql}static setLiveDomain(e){Xl=e.replace(/\/$/,"")}static getLiveDomain(){return Xl}static async getPublisher(e){const t=Jl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wl);Hl.info("Getting publisher connection path for stream name: ",t.streamName);const n={streamName:t.streamName,streamType:t.streamType},r={"Content-Type":"application/json",Authorization:"Bearer ".concat(t.token)},o="".concat(this.getEndpoint(),"/api/director/publish");try{let e=await fetch(o,{method:"POST",headers:r,body:JSON.stringify(n)});return e=await e.json(),e=Zl(e),Hl.debug("Getting publisher response: ",e),e.data}catch(e){var i;throw Hl.error("Error while getting publisher connection path: ",null===(i=e.response)||void 0===i?void 0:i.data),e}}static async getSubscriber(e){const t=Kl(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:null);Hl.info("Getting subscriber connection data for stream name: ".concat(t.streamName," and account id: ").concat(t.streamAccountId));const n={streamAccountId:t.streamAccountId,streamName:t.streamName};let r={"Content-Type":"application/json"};t.subscriberToken&&(r=ql(ql({},r),{},{Authorization:"Bearer ".concat(t.subscriberToken)}));const o="".concat(this.getEndpoint(),"/api/director/subscribe");try{let e=await fetch(o,{method:"POST",headers:r,body:JSON.stringify(n)});return e=await e.json(),e=Zl(e),Hl.debug("Getting subscriber response: ",e),e.data}catch(e){var i;throw Hl.error("Error while getting subscriber connection path: ",null===(i=e.response)||void 0===i?void 0:i.data),e}}}const Jl=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={token:e,streamName:t,streamType:n}),r},Kl=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={streamName:e,streamAccountId:t,subscriberToken:n}),r},Zl=e=>{if(Yl.getLiveDomain()){const t=/\/\/(.*?)\//,n=e.data.urls.map(e=>{const n=t.exec(e);return e.replace(n[1],Yl.getLiveDomain())});e.data.urls=n}return e};function ed(e){this.message=e}ed.prototype=new Error,ed.prototype.name="InvalidCharacterError";var td="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new ed("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,o=0,i=0,s="";r=t.charAt(i++);~r&&(n=o%4?64*n+r:r,o++%4)?s+=String.fromCharCode(255&n>>(-2*o&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function nd(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(td(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(e){return td(t)}}function rd(e){this.message=e}rd.prototype=new Error,rd.prototype.name="InvalidTokenError";var od=i((function(e,t){!function(n){if(null!=t&&"number"!=typeof t.nodeType)e.exports=n();else{var r=n(),o="undefined"!=typeof self?self:$.global;"function"!=typeof o.btoa&&(o.btoa=r.btoa),"function"!=typeof o.atob&&(o.atob=r.atob)}}((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:function(n){for(var r,o,i=String(n),s=0,a=e,c="";i.charAt(0|s)||(a="=",s%1);c+=a.charAt(63&r>>8-s%1*8)){if((o=i.charCodeAt(s+=3/4))>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");r=r<<8|o}return c},atob:function(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,i,s=0,a=0,c="";i=r.charAt(a++);~i&&(o=s%4?64*o+i:i,s++%4)?c+=String.fromCharCode(255&o>>(-2*s&6)):0)i=e.indexOf(i);return c}}}))}));let id;class sd extends Ea{constructor(e,t,n,r){if(super(),id=n,!e)throw id.error("Stream Name is required to construct this module."),new Error("Stream Name is required to construct this module.");if(!t)throw id.error("Token generator is required to construct this module."),new Error("Token generator is required to construct this module.");this.webRTCPeer=new Bl,this.signaling=null,this.streamName=e,this.autoReconnect=r,this.reconnectionInterval=1e3,this.alreadyDisconnected=!1,this.firstReconnection=!0,this.tokenGenerator=t,this.options=null}getRTCPeerConnection(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null}stop(){var e;id.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null===(e=this.signaling)||void 0===e||e.close(),this.signaling=null,this.webRTCPeer=new Bl}isActive(){const e=this.webRTCPeer.getRTCPeerStatus();return id.info("Broadcast status: ",e||"not_established"),"connected"===e}setReconnect(){this.signaling.on("migrate",()=>this.replaceConnection()),this.autoReconnect&&(this.signaling.on(Cl,()=>{!this.firstReconnection&&this.alreadyDisconnected||(this.firstReconnection=!1,this.reconnect())}),this.webRTCPeer.on(Nl.connectionStateChange,e=>{("failed"===e||"disconnected"===e&&this.alreadyDisconnected)&&this.firstReconnection?(this.firstReconnection=!1,this.reconnect()):"disconnected"===e?(this.alreadyDisconnected=!0,setTimeout(()=>this.reconnect(),1500)):this.alreadyDisconnected=!1}))}async reconnect(){try{this.isActive()||(this.stop(),await this.connect(this.options),this.alreadyDisconnected=!1,this.reconnectionInterval=1e3,this.firstReconnection=!0)}catch(t){this.reconnectionInterval=ad(this.reconnectionInterval),id.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. Error was: "),t),this.emit("reconnect",{timeout:this.reconnectionInterval,error:t}),setTimeout(()=>this.reconnect(),this.reconnectionInterval)}}}const ad=e=>e<32e3?2*e:e;function cd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ud(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cd(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const ld=Vr.get("Publish"),dd={mediaStream:null,bandwidth:0,disableVideo:!1,disableAudio:!1,codec:xl.H264,simulcast:!1,scalabilityMode:null,peerConfig:{}};function fd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pd(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fd(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fd(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const hd=Vr.get("View"),md={disableVideo:!1,disableAudio:!1,peerConfig:{}};t.Director=Yl,t.Logger=Vr,t.PeerConnection=Bl,t.Publish=class extends sd{constructor(e,t){super(e,t,ld,!(arguments.length>2&&void 0!==arguments[2])||arguments[2])}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dd;this.options=ud(ud(ud({},dd),e),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}reconnect(){var e,t;this.options.mediaStream=null!==(e=null===(t=this.webRTCPeer)||void 0===t?void 0:t.getTracks())&&void 0!==e?e:this.options.mediaStream,super.reconnect()}async replaceConnection(){var e,t;ld.info("Migrating current connection"),this.options.mediaStream=null!==(e=null===(t=this.webRTCPeer)||void 0===t?void 0:t.getTracks())&&void 0!==e?e:this.options.mediaStream,await this.initConnection({migrate:!0})}async record(){var e;this.recordingAvailable?(this.options.record=!0,await(null===(e=this.signaling)||void 0===e?void 0:e.cmd("record")),ld.info("Broadcaster start recording")):ld.error("Record not available")}async unrecord(){var e;this.recordingAvailable?(this.options.record=!1,await(null===(e=this.signaling)||void 0===e?void 0:e.cmd("unrecord")),ld.info("Broadcaster stop recording")):ld.error("Unrecord not available")}async initConnection(e){var t,n;let r,o;if(ld.debug("Broadcast option values: ",this.options),!this.options.mediaStream)throw ld.error("Error while broadcasting. MediaStream required"),new Error("MediaStream required");if(!e.migrate&&this.isActive())throw ld.warn("Broadcast currently working"),new Error("Broadcast currently working");try{var i;o=await this.tokenGenerator(),this.options.peerConfig.iceServers=null===(i=o)||void 0===i?void 0:i.iceServers}catch(e){throw ld.error("Error generating token."),e}if(!o)throw ld.error("Error while broadcasting. Publisher data required"),new Error("Publisher data required");if(this.recordingAvailable=function(e,t){if("string"!=typeof e)throw new rd("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(nd(e.split(".")[n]))}catch(e){throw new rd("Invalid token specified: "+e.message)}}(o.jwt)[od.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw ld.error("Error while broadcasting. Record option detected but recording is not available"),new Error("Record option detected but recording is not available");const s=new Tl({streamName:this.streamName,url:"".concat(o.urls[0],"?token=").concat(o.jwt)}),a=e.migrate?new Bl:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null===(t=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===t||t.call(this),null===(n=this.stopReemitingSignalingInstanceEvents)||void 0===n||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Ba(a,this,[Nl.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=Ba(s,this,[jl]);const c=a.getRTCLocalSDP(this.options),u=s.connect();r=await Promise.all([c,u]);const l=r[0];let d=this.signaling;this.signaling=s;const f=this.signaling.publish(l,this.options),p=a.peer.setLocalDescription(a.sessionDescription);r=await Promise.all([f,p]);let h=r[0];!this.options.disableVideo&&this.options.bandwidth>0&&(h=a.updateBandwidthRestriction(h,this.options.bandwidth)),await a.setRTCRemoteSDP(h),ld.info("Broadcasting to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(Nl.connectionStateChange,e=>{var t,n,r,o;["connected","disconnected","failed","closed"].includes(e)&&(null===(t=d)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===(r=m)||void 0===r||null===(o=r.closeRTCPeer)||void 0===o||o.call(r),d=m=null)})}},t.Signaling=Tl,t.View=class extends sd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;super(e,t,hd,!(arguments.length>3&&void 0!==arguments[3])||arguments[3]),n&&this.on(Nl.track,e=>{n.srcObject=e.streams[0]})}async connect(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:md;this.options=pd(pd(pd({},md),e),{},{setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async select(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};hd.debug("Viewer select layer values: ",e),await this.signaling.cmd("select",{layer:e}),hd.info("Connected to streamName: ",this.streamName)}async addRemoteTrack(e,t){return hd.info("Viewer adding remote % track",e),this.webRTCPeer.addRemoteTrack(e,t)}async project(e,t){for(const n of t){if(!n.trackId&&!n.media)throw hd.error("Error in projection mapping, trackId or mediaId must be set"),new Error("Error in projection mapping, trackId or mediaId must be set");const e=this.webRTCPeer.getRTCPeer();if(n.mediaId&&!e.getTransceivers().find(e=>e.mid===n.mediaId))throw hd.error("Error in projection mapping, ".concat(n.mediaId," mid not found in local transceivers")),new Error("Error in projection mapping, ".concat(n.mediaId," mid not found in local transceivers"))}hd.debug("Viewer project source:%s layer mappings: ",e,t),await this.signaling.cmd("project",{sourceId:e,mapping:t}),hd.info("Projection done")}async unproject(e){hd.debug("Viewer unproject mediaIds: ",e),await this.signaling.cmd("unproject",{mediaIds:e}),hd.info("Unprojection done")}async replaceConnection(){hd.info("Migrating current connection"),await this.initConnection({migrate:!0})}async initConnection(e){var t,n;let r,o;if(hd.debug("Viewer connect options values: ",this.options),!e.migrate&&this.isActive())throw hd.warn("Viewer currently subscribed"),new Error("Viewer currently subscribed");try{var i;o=await this.tokenGenerator(),this.options.peerConfig.iceServers=null===(i=o)||void 0===i?void 0:i.iceServers}catch(e){throw hd.error("Error generating token."),e}if(!o)throw hd.error("Error while subscribing. Subscriber data required"),new Error("Subscriber data required");const s=new Tl({streamName:this.streamName,url:"".concat(o.urls[0],"?token=").concat(o.jwt)}),a=e.migrate?new Bl:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null===(t=this.stopReemitingWebRTCPeerInstanceEvents)||void 0===t||t.call(this),null===(n=this.stopReemitingSignalingInstanceEvents)||void 0===n||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=Ba(a,this,Object.values(Nl)),this.stopReemitingSignalingInstanceEvents=Ba(s,this,[jl]);const c=a.getRTCLocalSDP(pd(pd({},this.options),{},{stereo:!0})),u=s.connect();r=await Promise.all([c,u]);const l=r[0];let d=this.signaling;this.signaling=s;const f=this.signaling.subscribe(l,pd(pd({},this.options),{},{vad:this.options.multiplexedAudioTracks>0})),p=a.peer.setLocalDescription(a.sessionDescription);r=await Promise.all([f,p]);const h=r[0];await a.setRTCRemoteSDP(h),hd.info("Connected to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(Nl.connectionStateChange,e=>{if("connected"===e)setTimeout(()=>{var e,t,n,r;null===(e=d)||void 0===e||null===(t=e.close)||void 0===t||t.call(e),null===(n=m)||void 0===n||null===(r=n.closeRTCPeer)||void 0===r||r.call(n),d=m=null,hd.info("Current connection migrated")},1e3);else if(["disconnected","failed","closed"].includes(e)){var t,n,r,o;null===(t=d)||void 0===t||null===(n=t.close)||void 0===n||n.call(t),null===(r=m)||void 0===r||null===(o=r.closeRTCPeer)||void 0===o||o.call(r),d=m=null}})}},Object.defineProperty(t,"__esModule",{value:!0})}))}).call(this,n("c8ba"),n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),o=n("83ab"),i=n("da84"),s=n("e330"),a=n("1a2d"),c=n("1626"),u=n("3a9b"),l=n("577e"),d=n("9bf2").f,f=n("e893"),p=i.Symbol,h=p&&p.prototype;if(o&&c(p)&&(!("description"in h)||void 0!==p().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),t=u(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};f(v,p),v.prototype=h,h.constructor=v;var g="Symbol(test)"==String(p("test")),b=s(h.valueOf),y=s(h.toString),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),O=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=b(this);if(a(m,e))return"";var t=y(e),n=g?O(t,7,-1):S(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},e065:function(e,t,n){var r=n("428f"),o=n("1a2d"),i=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});o(t,e)||s(t,e,{value:i.f(e)})}},e163:function(e,t,n){var r=n("1a2d"),o=n("1626"),i=n("7b0b"),s=n("f772"),a=n("e177"),c=s("IE_PROTO"),u=Object,l=u.prototype;e.exports=a?u.getPrototypeOf:function(e){var t=i(e);if(r(t,c))return t[c];var n=t.constructor;return o(n)&&t instanceof n?n.prototype:t instanceof u?l:null}},e177:function(e,t,n){var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e25e:function(e,t,n){var r=n("23e7"),o=n("c20d");r({global:!0,forced:parseInt!=o},{parseInt:o})},e260:function(e,t,n){"use strict";var r=n("fc6a"),o=n("44d2"),i=n("3f8c"),s=n("69f3"),a=n("9bf2").f,c=n("c6d2"),u=n("4754"),l=n("c430"),d=n("83ab"),f="Array Iterator",p=s.set,h=s.getterFor(f);e.exports=c(Array,"Array",(function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,u(void 0,!0)):u("keys"==n?r:"values"==n?t[r]:[r,t[r]],!1)}),"values");var m=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(v){}},e330:function(e,t,n){var r=n("40d5"),o=Function.prototype,i=o.bind,s=o.call,a=r&&i.bind(s,s);e.exports=r?function(e){return e&&a(e)}:function(e){return e&&function(){return s.apply(e,arguments)}}},e391:function(e,t,n){var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e538:function(e,t,n){var r=n("b622");t.f=r},e5cb:function(e,t,n){"use strict";var r=n("d066"),o=n("1a2d"),i=n("9112"),s=n("3a9b"),a=n("d2bb"),c=n("e893"),u=n("aeb0"),l=n("7156"),d=n("e391"),f=n("ab36"),p=n("0d26"),h=n("b980"),m=n("83ab"),v=n("c430");e.exports=function(e,t,n,g){var b="stackTraceLimit",y=g?2:1,w=e.split("."),S=w[w.length-1],O=r.apply(null,w);if(O){var C=O.prototype;if(!v&&o(C,"cause")&&delete C.cause,!n)return O;var E=r("Error"),j=t((function(e,t){var n=d(g?t:e,void 0),r=g?new O(e):new O;return void 0!==n&&i(r,"message",n),h&&i(r,"stack",p(r.stack,2)),this&&s(C,this)&&l(r,this,j),arguments.length>y&&f(r,arguments[y]),r}));if(j.prototype=C,"Error"!==S?a?a(j,E):c(j,E,{name:!0}):m&&b in O&&(u(j,O,b),u(j,O,"prepareStackTrace")),c(j,O),!v)try{C.name!==S&&i(C,"name",S),C.constructor=j}catch(x){}return j}}},e667:function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){n("5e7e"),n("14e5"),n("cc98"),n("3529"),n("f22b"),n("7149")},e852:function(e,t,n){},e893:function(e,t,n){var r=n("1a2d"),o=n("56ef"),i=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=o(t),c=s.f,u=i.f,l=0;l<a.length;l++){var d=a[l];r(e,d)||n&&r(n,d)||c(e,d,u(t,d))}}},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}},e95a:function(e,t,n){var r=n("b622"),o=n("3f8c"),i=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||s[i]===e)}},e9c4:function(e,t,n){var r=n("23e7"),o=n("d066"),i=n("2ba4"),s=n("c65b"),a=n("e330"),c=n("d039"),u=n("e8b5"),l=n("1626"),d=n("861d"),f=n("d9b5"),p=n("f36a"),h=n("04f8"),m=o("JSON","stringify"),v=a(/./.exec),g=a("".charAt),b=a("".charCodeAt),y=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,O=/^[\uD800-\uDBFF]$/,C=/^[\uDC00-\uDFFF]$/,E=!h||c((function(){var e=o("Symbol")();return"[null]"!=m([e])||"{}"!=m({a:e})||"{}"!=m(Object(e))})),j=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),x=function(e,t){var n=p(arguments),r=t;if((d(t)||void 0!==e)&&!f(e))return u(t)||(t=function(e,t){if(l(r)&&(t=s(r,this,e,t)),!f(t))return t}),n[1]=t,i(m,null,n)},k=function(e,t,n){var r=g(n,t-1),o=g(n,t+1);return v(O,e)&&!v(C,o)||v(C,e)&&!v(O,r)?"\\u"+w(b(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:E||j},{stringify:function(e,t,n){var r=p(arguments),o=i(E?x:m,null,r);return j&&"string"==typeof o?y(o,S,k):o}})},eb1d:function(e,t,n){"use strict";var r=n("c430"),o=n("da84"),i=n("d039"),s=n("512c");e.exports=r||!i((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete o[e]}}))},f069:function(e,t,n){"use strict";var r=n("59ed"),o=TypeError,i=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw o("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},f22b:function(e,t,n){"use strict";var r=n("23e7"),o=n("c65b"),i=n("f069"),s=n("4738").CONSTRUCTOR;r({target:"Promise",stat:!0,forced:s},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},f36a:function(e,t,n){var r=n("e330");e.exports=r([].slice)},f5b2:function(e,t,n){"use strict";var r=n("23e7"),o=n("6547").codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return o(this,e)}})},f5df:function(e,t,n){var r=n("00ee"),o=n("1626"),i=n("c6b6"),s=n("b622"),a=s("toStringTag"),c=Object,u="Arguments"==i(function(){return arguments}()),l=function(e,t){try{return e[t]}catch(n){}};e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=l(t=c(e),a))?n:u?i(t):"Object"==(r=i(t))&&o(t.callee)?"Arguments":r}},f772:function(e,t,n){var r=n("5692"),o=n("90e3"),i=r("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,o=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);o&&(n.p=o[1])}n("4de4"),n("d3b7");var i=n("8bbf"),s={id:"viewer-container"};function a(e,t,n,r,o,a){var c=Object(i["resolveComponent"])("VideoPlayerContainer");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",s,[Object(i["createVNode"])(c,{class:"ml-viewer"})])}n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("3ca3"),n("ddb0"),n("b636"),n("944a"),n("0c47"),n("23dc"),n("d9e2"),n("d401"),n("3410"),n("4160"),n("14d9"),n("159b"),n("131a"),n("e6cf"),n("26e9"),n("fb6a");function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
u=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",s=r.toStringTag||"@@toStringTag";function a(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{a({},"")}catch(T){a=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof p?t:p,i=Object.create(o.prototype),s=new j(r||[]);return i._invoke=function(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return k()}for(n.method=o,n.arg=i;;){var s=n.delegate;if(s){var a=O(s,n);if(a){if(a===f)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=d(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===f)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}(e,n,s),i}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(T){return{type:"throw",arg:T}}}e.wrap=l;var f={};function p(){}function h(){}function m(){}var v={};a(v,o,(function(){return this}));var g=Object.getPrototypeOf,b=g&&g(g(x([])));b&&b!==t&&n.call(b,o)&&(v=b);var y=m.prototype=p.prototype=Object.create(v);function w(e){["next","throw","return"].forEach((function(t){a(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function r(o,i,s,a){var u=d(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==c(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){r("next",e,s,a)}),(function(e){r("throw",e,s,a)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return r("throw",e,s,a)}))}a(u.arg)}var o;this._invoke=function(e,n){function i(){return new t((function(t,o){r(e,n,t,o)}))}return o=o?o.then(i,i):i()}}function O(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator["return"]&&(t.method="return",t.arg=void 0,O(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=d(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function x(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=m,a(y,"constructor",m),a(m,"constructor",h),h.displayName=a(m,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,a(e,s,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},w(S.prototype),a(S.prototype,i,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var s=new S(l(t,n,r,o),i);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(y),a(y,s,"Generator"),a(y,o,(function(){return this})),a(y,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=x,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],s=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var a=n.call(i,"catchLoc"),c=n.call(i,"finallyLoc");if(a&&c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:x(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}function l(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(u){return void n(u)}a.done?t(c):Promise.resolve(c).then(r,o)}function d(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){l(i,r,o,s,a,"next",e)}function a(e){l(i,r,o,s,a,"throw",e)}s(void 0)}))}}var f=function(e){return Object(i["pushScopeId"])("data-v-0cdb4307"),e=e(),Object(i["popScopeId"])(),e},p={key:0,id:"controls"},h={class:"row"},m={class:"col-6 text-left"},v={class:"col-6 text-right"},g={key:1,class:"overlay d-flex justify-content-center align-items-center"},b=f((function(){return Object(i["createElementVNode"])("div",{class:"spinner-border text-light",role:"status"},[Object(i["createElementVNode"])("span",{class:"sr-only"},"Loading...")],-1)})),y=[b],w=f((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("div",{class:"d-flex justify-content-center"},[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-volume-mute-fill pb-0"})]),Object(i["createElementVNode"])("p",{class:"text-center tap-text"},"Tap to unmute")],-1)})),S=[w];function O(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsUserCount"),c=Object(i["resolveComponent"])("VideoPlayerControlsBadge"),u=Object(i["resolveComponent"])("VideoPlayerMedia"),l=Object(i["resolveComponent"])("VideoPlayerControlsContainer");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{id:"vplayer",ref:"player",class:Object(i["normalizeClass"])(["player",{show:o.show}]),onMousemove:t[1]||(t[1]=function(){return s.showControls&&s.showControls.apply(s,arguments)}),onDblclick:t[2]||(t[2]=function(){return e.toggleFullscreen&&e.toggleFullscreen.apply(e,arguments)}),onKeydown:t[3]||(t[3]=Object(i["withKeys"])((function(){return e.toggleFullscreen&&e.toggleFullscreen.apply(e,arguments)}),["esc"]))},[e.queryParams.controls?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",p,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["container-fluid pt-3 gradient-top",{show:o.show,"fixed-top":e.fullscreen}]),style:{"margin-bottom":"-55px","z-index":"1"}},[Object(i["createElementVNode"])("div",h,[Object(i["createElementVNode"])("div",m,[s.showButton("userCount")?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",v,[s.showButton("liveBadge")?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:0})):Object(i["createCommentVNode"])("",!0)])])],2),Object(i["createVNode"])(u,{ref:"element"},null,512),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["container-fluid pb-2 gradient-bottom",{show:o.show,"fixed-bottom":e.fullscreen}]),style:{"margin-top":"-50px"}},[Object(i["createVNode"])(l,{isConnected:o.cast.isConnected,showButton:s.showButton,currentTime:s.currentTime,streamId:e.queryParams.streamId},null,8,["isConnected","showButton","currentTime","streamId"])],2)])):Object(i["createCommentVNode"])("",!0),e.isLoading?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",g,y)):Object(i["createCommentVNode"])("",!0),e.autoPlayMuted&&e.isLive?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:2,onClick:t[0]||(t[0]=function(){return s.tapUnmute&&s.tapUnmute.apply(s,arguments)}),class:"overlay tap-unmute d-flex align-items-center justify-content-center"},S)):Object(i["createCommentVNode"])("",!0)],34)}n("cca6");function C(){return C=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},C.apply(this,arguments)}n("caad"),n("2532");var E=["poster"],j=["poster"];function x(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[e.isMigrating||"player"===e.currentElementRef?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[s.displayAudioOnly?(Object(i["openBlock"])(),Object(i["createElementBlock"])("audio",{key:0,playsinline:"",id:"player",ref:"player",class:Object(i["normalizeClass"])({"display: none;":"player2"===e.currentElementRef})},null,2)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("video",{key:1,playsinline:"",id:"player",ref:"player",poster:e.queryParams.placeholderImg,class:Object(i["normalizeClass"])({"display: none;":"player2"===e.currentElementRef})},null,10,E))],64)):Object(i["createCommentVNode"])("",!0),e.isMigrating||"player2"===e.currentElementRef?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:1},[s.displayAudioOnly?(Object(i["openBlock"])(),Object(i["createElementBlock"])("audio",{key:0,playsinline:"",id:"player2",ref:"player2",class:Object(i["normalizeClass"])({"display: none;":"player"===e.currentElementRef})},null,2)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("video",{key:1,playsinline:"",id:"player2",ref:"player2",poster:e.queryParams.placeholderImg,class:Object(i["normalizeClass"])({"display: none;":"player"===e.currentElementRef})},null,10,j))],64)):Object(i["createCommentVNode"])("",!0)],64)}var k=n("e014"),T=(n("ac1f"),n("466d"),n("abc5"));const I="devtools-plugin:setup",P="plugin:settings:set";var A=n("5134");class R{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const s in e.settings){const t=e.settings[s];n[s]=t.defaultValue}const r="__vue-devtools-plugin-settings__"+e.id;let o=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(o,t)}catch(i){}this.fallbacks={getSettings(){return o},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(i){}o=e},now(){return Object(A["a"])()}},t&&t.on(P,(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(n=>{this.targetQueue.push({method:t,args:e,resolve:n})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function V(e,t){const n=e,r=Object(T["b"])(),o=Object(T["a"])(),i=T["c"]&&n.enableEarlyProxy;if(!o||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&i){const e=i?new R(n,o):null,s=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else o.emit(I,e,t)}
/*!
 * vuex v4.0.2
 * (c) 2021 Evan You
 * @license MIT
 */var N="store";function L(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function B(e){return null!==e&&"object"===typeof e}function D(e){return e&&"function"===typeof e.then}function _(e,t){if(!e)throw new Error("[vuex] "+t)}function M(e,t){return function(){return e(t)}}function F(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function U(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;G(e,n,[],e._modules.root,!0),z(e,n,t)}function z(e,t,n){var r=e._state;e.getters={},e._makeLocalGettersCache=Object.create(null);var o=e._wrappedGetters,s={};L(o,(function(t,n){s[n]=M(t,e),Object.defineProperty(e.getters,n,{get:function(){return s[n]()},enumerable:!0})})),e._state=Object(i["reactive"])({data:t}),e.strict&&Q(e),r&&n&&e._withCommit((function(){r.data=null}))}function G(e,t,n,r,o){var i=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[s]=r),!i&&!o){var a=Y(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){c in a&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"'),a[c]=r.state}))}var u=r.context=$(e,s,n);r.forEachMutation((function(t,n){var r=s+n;H(e,r,t,u)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,o=t.handler||t;W(e,r,o,u)})),r.forEachGetter((function(t,n){var r=s+n;X(e,r,t,u)})),r.forEachChild((function(r,i){G(e,t,n.concat(i),r,o)}))}function $(e,t,n){var r=""===t,o={dispatch:r?e.dispatch:function(n,r,o){var i=J(n,r,o),s=i.payload,a=i.options,c=i.type;if(a&&a.root||(c=t+c,e._actions[c]))return e.dispatch(c,s);console.error("[vuex] unknown local action type: "+i.type+", global type: "+c)},commit:r?e.commit:function(n,r,o){var i=J(n,r,o),s=i.payload,a=i.options,c=i.type;a&&a.root||(c=t+c,e._mutations[c])?e.commit(c,s,a):console.error("[vuex] unknown local mutation type: "+i.type+", global type: "+c)}};return Object.defineProperties(o,{getters:{get:r?function(){return e.getters}:function(){return q(e,t)}},state:{get:function(){return Y(e.state,n)}}}),o}function q(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(o){if(o.slice(0,r)===t){var i=o.slice(r);Object.defineProperty(n,i,{get:function(){return e.getters[o]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function H(e,t,n,r){var o=e._mutations[t]||(e._mutations[t]=[]);o.push((function(t){n.call(e,r.state,t)}))}function W(e,t,n,r){var o=e._actions[t]||(e._actions[t]=[]);o.push((function(t){var o=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return D(o)||(o=Promise.resolve(o)),e._devtoolHook?o.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):o}))}function X(e,t,n,r){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}function Q(e){Object(i["watch"])((function(){return e._state.data}),(function(){_(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function Y(e,t){return t.reduce((function(e,t){return e[t]}),e)}function J(e,t,n){return B(e)&&e.type&&(n=t,t=e,e=e.type),_("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var K="vuex bindings",Z="vuex:mutations",ee="vuex:actions",te="vuex",ne=0;function re(e,t){V({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[K]},(function(n){n.addTimelineLayer({id:Z,label:"Vuex Mutations",color:oe}),n.addTimelineLayer({id:ee,label:"Vuex Actions",color:oe}),n.addInspector({id:te,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===te)if(n.filter){var r=[];le(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[ue(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===te){var r=n.nodeId;q(t,r),n.state=de(pe(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===te){var r=n.nodeId,o=n.path;"root"!==r&&(o=r.split("/").filter(Boolean).concat(o)),t._withCommit((function(){n.set(t._state.data,o,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(te),n.sendInspectorState(te),n.addTimelineEvent({layerId:Z,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=ne++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:ee,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},o=Date.now()-e._time;r.duration={_custom:{type:"duration",display:o+"ms",tooltip:"Action duration",value:o}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:ee,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var oe=8702998,ie=6710886,se=16777215,ae={label:"namespaced",textColor:se,backgroundColor:ie};function ce(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function ue(e,t){return{id:t||"root",label:ce(t),tags:e.namespaced?[ae]:[],children:Object.keys(e._children).map((function(n){return ue(e._children[n],t+n+"/")}))}}function le(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[ae]:[]}),Object.keys(t._children).forEach((function(o){le(e,t._children[o],n,r+o+"/")}))}function de(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),o={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var i=fe(t);o.getters=Object.keys(i).map((function(e){return{key:e.endsWith("/")?ce(e):e,editable:!1,value:he((function(){return i[e]}))}}))}return o}function fe(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var o=t,i=r.pop();r.forEach((function(e){o[e]||(o[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),o=o[e]._custom.value})),o[i]=he((function(){return e[n]}))}else t[n]=he((function(){return e[n]}))})),t}function pe(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,o){var i=e[r];if(!i)throw new Error('Missing module "'+r+'" for path "'+t+'".');return o===n.length-1?i:i._children}),"root"===t?e:e.root._children)}function he(e){try{return e()}catch(t){return t}}var me=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},ve={namespaced:{configurable:!0}};ve.namespaced.get=function(){return!!this._rawModule.namespaced},me.prototype.addChild=function(e,t){this._children[e]=t},me.prototype.removeChild=function(e){delete this._children[e]},me.prototype.getChild=function(e){return this._children[e]},me.prototype.hasChild=function(e){return e in this._children},me.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},me.prototype.forEachChild=function(e){L(this._children,e)},me.prototype.forEachGetter=function(e){this._rawModule.getters&&L(this._rawModule.getters,e)},me.prototype.forEachAction=function(e){this._rawModule.actions&&L(this._rawModule.actions,e)},me.prototype.forEachMutation=function(e){this._rawModule.mutations&&L(this._rawModule.mutations,e)},Object.defineProperties(me.prototype,ve);var ge=function(e){this.register([],e,!1)};function be(e,t,n){if(Oe(e,n),t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");be(e.concat(r),t.getChild(r),n.modules[r])}}ge.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},ge.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},ge.prototype.update=function(e){be([],this.root,e)},ge.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0),Oe(e,t);var o=new me(t,n);if(0===e.length)this.root=o;else{var i=this.get(e.slice(0,-1));i.addChild(e[e.length-1],o)}t.modules&&L(t.modules,(function(t,o){r.register(e.concat(o),t,n)}))},ge.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r?r.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},ge.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var ye={assert:function(e){return"function"===typeof e},expected:"function"},we={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},Se={getters:ye,mutations:ye,actions:we};function Oe(e,t){Object.keys(Se).forEach((function(n){if(t[n]){var r=Se[n];L(t[n],(function(t,o){_(r.assert(t),Ce(e,n,o,t,r.expected))}))}}))}function Ce(e,t,n,r,o){var i=t+" should be "+o+' but "'+t+"."+n+'"';return e.length>0&&(i+=' in module "'+e.join(".")+'"'),i+=" is "+JSON.stringify(r)+".",i}function Ee(e){return new je(e)}var je=function e(t){var n=this;void 0===t&&(t={}),_("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),_(this instanceof e,"store must be called with the new operator.");var r=t.plugins;void 0===r&&(r=[]);var o=t.strict;void 0===o&&(o=!1);var i=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new ge(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._devtools=i;var s=this,a=this,c=a.dispatch,u=a.commit;this.dispatch=function(e,t){return c.call(s,e,t)},this.commit=function(e,t,n){return u.call(s,e,t,n)},this.strict=o;var l=this._modules.root.state;G(this,l,[],this._modules.root),z(this,l),r.forEach((function(e){return e(n)}))},xe={state:{configurable:!0}};je.prototype.install=function(e,t){e.provide(t||N,this),e.config.globalProperties.$store=this;var n=void 0===this._devtools||this._devtools;n&&re(e,this)},xe.state.get=function(){return this._state.data},xe.state.set=function(e){_(!1,"use store.replaceState() to explicit replace store state.")},je.prototype.commit=function(e,t,n){var r=this,o=J(e,t,n),i=o.type,s=o.payload,a=o.options,c={type:i,payload:s},u=this._mutations[i];u?(this._withCommit((function(){u.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(c,r.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+i+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+i)},je.prototype.dispatch=function(e,t){var n=this,r=J(e,t),o=r.type,i=r.payload,s={type:o,payload:i},a=this._actions[o];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(u){console.warn("[vuex] error in before action subscribers: "),console.error(u)}var c=a.length>1?Promise.all(a.map((function(e){return e(i)}))):a[0](i);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(u){console.warn("[vuex] error in after action subscribers: "),console.error(u)}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(u){console.warn("[vuex] error in error action subscribers: "),console.error(u)}t(e)}))}))}console.error("[vuex] unknown action type: "+o)},je.prototype.subscribe=function(e,t){return F(e,this._subscribers,t)},je.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return F(n,this._actionSubscribers,t)},je.prototype.watch=function(e,t,n){var r=this;return _("function"===typeof e,"store.watch only accepts a function."),Object(i["watch"])((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},je.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},je.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),_(Array.isArray(e),"module path must be a string or an Array."),_(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),G(this,this.state,e,this._modules.get(e),n.preserveState),z(this,this.state)},je.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),_(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var n=Y(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),U(this)},je.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),_(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},je.prototype.hotUpdate=function(e){this._modules.update(e),U(this,!0)},je.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(je.prototype,xe);var ke=Ve((function(e,t){var n={};return Re(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),Ae(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=Ne(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof o?o.call(this,t,n):t[o]},n[r].vuex=!0})),n})),Te=Ve((function(e,t){var n={};return Re(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),Ae(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var i=Ne(this.$store,"mapMutations",e);if(!i)return;r=i.context.commit}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n})),Ie=Ve((function(e,t){var n={};return Re(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),Ae(t).forEach((function(t){var r=t.key,o=t.val;o=e+o,n[r]=function(){if(!e||Ne(this.$store,"mapGetters",e)){if(o in this.$store.getters)return this.$store.getters[o];console.error("[vuex] unknown getter: "+o)}},n[r].vuex=!0})),n})),Pe=Ve((function(e,t){var n={};return Re(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),Ae(t).forEach((function(t){var r=t.key,o=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var i=Ne(this.$store,"mapActions",e);if(!i)return;r=i.context.dispatch}return"function"===typeof o?o.apply(this,[r].concat(t)):r.apply(this.$store,[o].concat(t))}})),n}));function Ae(e){return Re(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function Re(e){return Array.isArray(e)||B(e)}function Ve(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function Ne(e,t,n){var r=e._modulesNamespaceMap[n];return r||console.error("[vuex] module namespace not found in "+t+"(): "+n),r}n("c740");var Le={videoSources:[],audioSources:[],selectedVideoSource:{name:"none"},selectedAudioSource:{name:"none"},isAudioOnly:!1,stream:null},Be={namespaced:!0,state:Le,mutations:{setSelectedSource:function(e,t){var n=t.kind,r=t.selectedSource;"video"===n?e.selectedVideoSource=r:"audio"===n&&(e.selectedAudioSource=r)},setSources:function(e,t){var n=t.kind,r=t.sources;"video"===n?e.videoSources=r:"audio"===n&&(e.audioSources=r)},setStream:function(e,t){e.stream=t},setIsAudioOnly:function(e,t){e.isAudioOnly=t}},getters:{getVideoSources:function(e){return e.videoSources},getAudioSources:function(e){return e.audioSources},getVideoHasMain:function(e){return-1!==e.videoSources.findIndex((function(e){return null===e.sourceId}))},getAudioHasMain:function(e){return-1!==e.audioSources.findIndex((function(e){return null===e.sourceId}))}}},De={medias:{active:[],inactive:[]},selectedQuality:{name:"Auto"}},_e={namespaced:!0,state:De,mutations:{setMedias:function(e,t){e.medias=t},setSelectedQuality:function(e,t){e.selectedQuality=t},selectQuality:function(e,t){e.selectedQuality=t}},getters:{getActiveMedias:function(e){return e.medias.active}}},Me={video:null,playing:!1,muted:!1,player:null,srcObject:null,pip:null,autoPlayMuted:!1,volume:"1",isMobile:!1,dropup:"",fullscreen:!1,isLive:!1,isLoading:!0,trackWarning:!1,castOptions:{},castAvailable:!1,castIsConnected:!1,castDevice:{},viewerCount:null,reconnection:{status:!1,error:null,timeout:null},currentElementRef:"player",isMigrating:!1},Fe={namespaced:!0,state:Me,mutations:{setVideo:function(e,t){e.video=t},setPlaying:function(e,t){e.isMigrating||(e.playing=t)},setPip:function(e,t){e.pip=t},stopVideo:function(e){e.player.stop(),e.player.currentTime=null},setSrcObject:function(e,t){e.srcObject=t},setStateSrcObject:function(e,t){null!==t&&(e.srcObject=t)},setCurrentElementRef:function(e,t){e.currentElementRef=t},setVideoVolume:function(e,t){e.video.volume=t},setVideoMuted:function(e,t){e.video.muted=t,e.muted=t},setVideoAutoplay:function(e,t){e.video.autoplay=t},setVideoSource:function(e,t){e.video.srcObject=t},setAutoPlayMuted:function(e,t){e.autoPlayMuted=t},setDropup:function(e,t){e.dropup=t!=e.dropup?t:""},setMobile:function(e,t){e.isMobile=t},setIsLive:function(e,t){!t&&document.pictureInPictureElement&&document.exitPictureInPicture(),e.isLive=t},setIsLoading:function(e,t){e.isLoading=t,e.castOptions.loading=t},toggleFullscreen:function(e){e.fullscreen=!e.fullscreen},setTrackWarning:function(e,t){e.trackWarning=t},setCastOptions:function(e,t){e.castOptions=t},setCastDevice:function(e,t){e.castDevice=t},setCastAvailable:function(e,t){e.castAvailable=t},setCastIsConnected:function(e,t){e.castIsConnected=t},setViewerCount:function(e,t){e.viewerCount=t},handleReconnection:function(e,t){var n=t.error,r=t.timeout;e.reconnection.error=n,e.reconnection.timeout=r,e.reconnection.status=!0,setTimeout((function(){e.reconnection.status=!1,e.reconnection.error=null,e.reconnection.timeout=null}),r)},setIsMigrating:function(e,t){e.isMigrating=t}},getters:{}},Ue={millicastView:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null},trackEvent:{audio:{track:null,transceiver:null},video:{track:null,transceiver:null}}},ze={namespaced:!0,state:Ue,mutations:{setMillicastView:function(e,t){e.millicastView=t}}},Ge={audioOnly:!1,autoplay:!0,controls:!0,directorUrl:null,hideButtons:[],muted:!0,placeholderImg:null,streamId:null,token:null};function $e(e){var t=e.streamId,n=e.audioOnly,r=e.token,o=e.image,i=e.directorUrl,s=e.hideButtons,a=e.autoplay,c=e.muted,u={};u.streamId=t,u.audioOnly=null!==n&&void 0!==n&&n,u.token=r,u.placeholderImg=o,u.directorUrl=i,u.hideButtons=null!==s&&void 0!==s?s:[],u.autoplay=null===a||void 0===a||a,u.muted=null!==c&&void 0!==c&&c,We.commit("Params/setQueryParams",C(C({},Ge),u))}var qe={queryParams:Ge},He={namespaced:!0,state:qe,mutations:{setQueryParams:function(e,t){e.queryParams=t}}},We=Ee({state:{sources:[]},mutations:{},actions:{},modules:{Sources:Be,Layers:_e,Controls:Fe,ViewConnection:ze,Params:He}}),Xe=We.state,Qe=function(){var e,t;return null===(e=Xe.Params.queryParams.streamId)||void 0===e||null===(t=e.match(/^(.*)\/.*$/))||void 0===t?void 0:t[1]},Ye=function(){var e,t;return null===(e=Xe.Params.queryParams.streamId)||void 0===e||null===(t=e.match(/^.*\/(.*)$/))||void 0===t?void 0:t[1]},Je=(n("12a8"),n("99af"),new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"})),Ke=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function Ze(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function et(e,t){var n=e.muted,r=e.timeout,o=e.inline,i=t(),s=i.element,a=i.source,c=void 0,u=void 0,l=void 0;return s.muted=n,!0===n&&s.setAttribute("muted","muted"),!0===o&&s.setAttribute("playsinline","playsinline"),s.src=a,new Promise((function(e){c=s.play(),u=setTimeout((function(){l(!1,new Error("Timeout "+r+" ms has been reached"))}),r),l=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.remove(),s.srcObject=null,clearTimeout(u),e({result:t,error:n})},void 0!==c?c.then((function(){return l(!0)})).catch((function(e){return l(!1,e)})):l(!0)}))}function tt(e){return e=Ze(e),et(e,(function(){return{element:document.createElement("video"),source:URL.createObjectURL(Ke)}}))}function nt(e){return e=Ze(e),et(e,(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(Je)}}))}var rt={audio:nt,video:tt},ot=rt,it=We.commit,st=We.state,at=function(){ct(),ut(),lt()},ct=function(){var e;(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DIRECTOR_ENDPOINT||st.Params.queryParams.directorUrl)&&k["Director"].setEndpoint(null!==(e=st.Params.queryParams.directorUrl)&&void 0!==e?e:Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_DIRECTOR_ENDPOINT)},ut=function(){Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_LIVEWS_ENDPOINT&&k["Director"].setLiveDomain(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_LIVEWS_ENDPOINT)},lt=function(){Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_TURN_ENDPOINT&&k["PeerConnection"].setTurnServerLocation(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_TURN_ENDPOINT)},dt=function(e,t){if(!t||!e)throw new Error("Stream ID not provided.");at();var n=function(){return k["Director"].getSubscriber(t,e,st.Params.queryParams.token)},r=new k["View"](t,n);window.millicastView=r,window.__defineGetter__("peer",(function(){return r.getRTCPeerConnection()})),it("ViewConnection/setMillicastView",r)},ft=function(){var e=d(u().mark((function e(){var t,n,r,o,i;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=st.ViewConnection.millicastView,!t.isActive()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,mt();case 6:return e.next=8,t.connect({events:["active","inactive","layers","viewercount"],absCaptureTime:!0});case 8:e.next=20;break;case 10:if(e.prev=10,e.t0=e["catch"](3),i=null===(n=e.t0.response)||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.data)||void 0===o?void 0:o.message,it("Controls/setIsLoading",!1),it("Controls/setIsLive",!1),t.reconnect(),i){e.next=18;break}return e.abrupt("return");case 18:if(i.toLowerCase().includes("stream not being published")){e.next=20;break}throw new Error("".concat(i.charAt(0).toUpperCase()).concat(i.slice(1)));case 20:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}(),pt=function(){var e=st.ViewConnection.millicastView;e.on("track",function(){var e=d(u().mark((function e(t){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ht(t.streams[0]);case 2:st.ViewConnection.trackEvent[t.track.kind].transceiver=t.transceiver,st.ViewConnection.trackEvent[t.track.kind].track=t.track;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},ht=function(){var e=d(u().mark((function e(t){var n,r,o;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=st.Controls.video,it("Controls/setSrcObject",t),!n.srcObject||n.srcObject.id===t.id){e.next=16;break}return it("Controls/setIsMigrating",!0),e.next=6,Object(i["nextTick"])();case 6:r="player"===st.Controls.currentElementRef?"player2":"player",o=document.getElementById(r),o.srcObject=t,o.autoplay=st.Controls.playing,o.muted=st.Controls.muted,qt(),$t(o),o.onloadedmetadata=d(u().mark((function e(){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:it("Controls/setVideo",o),it("Controls/setCurrentElementRef",r),it("Controls/setIsMigrating",!1),document.pictureInPictureElement&&o.requestPictureInPicture();case 4:case"end":return e.stop()}}),e)}))),e.next=17;break;case 16:Gt({videoPlayer:n,srcObject:t});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mt=function(){var e=d(u().mark((function e(){var t,n;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(it("Controls/setVideoAutoplay",st.Params.queryParams.autoplay),!st.Params.queryParams.autoplay){e.next=8;break}return e.next=4,ot.video({muted:st.Params.queryParams.muted});case 4:t=e.sent,n=st.Params.queryParams.muted?st.Params.queryParams.muted:!t.result,it("Controls/setVideoMuted",n),it("Controls/setAutoPlayMuted",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),vt=function(){var e;st.ViewConnection.eventListeners.reconnect=null!==(e=st.ViewConnection.eventListeners.reconnect)&&void 0!==e?e:st.ViewConnection.millicastView.on("reconnect",(function(e){var t,n,r,o,i=e.timeout,s=e.error,a=null===(t=s.response)||void 0===t||null===(n=t.data)||void 0===n||null===(r=n.data)||void 0===r||null===(o=r.message)||void 0===o?void 0:o.toLowerCase();null!==a&&void 0!==a&&a.toLowerCase().includes("stream not being published")?(it("Controls/setIsLoading",!1),it("Controls/setIsLive",!1)):it("Controls/handleReconnection",{timeout:i,error:s})}))},gt=function(){var e;null===(e=st.ViewConnection.millicastView)||void 0===e||e.stop(),it("Controls/setVideoSource",null)},bt=(n("a630"),n("45fc"),n("3c65"),We.commit),yt=We.state,wt=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_CHROMECAST_ID,St=null,Ot=null,Ct=function(){var e=d(u().mark((function e(){var t,n;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=function(){var e=d(u().mark((function e(t){var n,r;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=window,r=n.cast,e.t0=t,e.next=e.t0===r.framework.CastState.NO_DEVICES_AVAILABLE?4:e.t0===r.framework.CastState.NOT_CONNECTED?6:e.t0===r.framework.CastState.CONNECTED?8:11;break;case 4:return bt("Controls/setCastAvailable",!1),e.abrupt("break",12);case 6:return bt("Controls/setCastAvailable",!0),e.abrupt("break",12);case 8:return e.next=10,Et();case 10:return e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(e){var t=window,n=t.cast;switch(e.sessionState){case n.framework.SessionState.SESSION_ENDED:Ot=null,Xt(),bt("Controls/setCastIsConnected",!1);break;default:break}},window["__onGCastApiAvailable"]=function(){var e=d(u().mark((function e(r){var o,i,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!r){e.next=5;break}return e.next=3,window.cast.framework.CastContext.getInstance();case 3:St=e.sent,window.chrome.cast&&window.chrome.cast.AutoJoinPolicy?St.setOptions({autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.PAGE_SCOPED,receiverApplicationId:wt}):bt("Controls/setCastAvailable",!1);case 5:return o=window.cast.framework.CastContextEventType,i=o.CAST_STATE_CHANGED,s=o.SESSION_STATE_CHANGED,e.next=8,St.addEventListener(i,function(){var e=d(u().mark((function e(n){var r;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.castState,e.next=3,t(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.next=10,St.addEventListener(s,(function(e){return n(e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Et=function(){var e=d(u().mark((function e(){var t,n,r,o,i,s,a,c,l,d,f,p,h,m;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=window,c=a.chrome,l=yt.Controls.castOptions,d=l.streamId,f=l.token,p={audioSource:yt.Sources.selectedAudioSource,videoSource:yt.Sources.selectedVideoSource,audioMediaId:null!==(t=null===(n=yt.ViewConnection.trackEvent)||void 0===n||null===(r=n.audio)||void 0===r?void 0:r.transceiver.mid)&&void 0!==t?t:null,videoMediaId:null!==(o=null===(i=yt.ViewConnection.trackEvent)||void 0===i||null===(s=i.video)||void 0===s?void 0:s.transceiver.mid)&&void 0!==o?o:null},e.next=5,St.getCurrentSession();case 5:Ot=e.sent,h=new c.cast.media.MediaInfo(d,""),h.customData={streamId:d,token:f,multiSourceOptions:p},h.streamType=c.cast.media.StreamType.LIVE,m=new c.cast.media.LoadRequest(h),Ot.loadMedia(m).then((function(){Qt(),bt("Controls/setCastDevice",Ot.getCastDevice()),bt("Controls/setCastIsConnected",!0)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),jt=(n("07ac"),n("4e82"),n("e25e"),We.commit),xt=We.state,kt=function(e){var t=e.data,n=[],r=[],o=Object.values(t.medias);o.forEach((function(e){var t,o,i,s,a,c,u;1===(null===e||void 0===e?void 0:e.active.length)&&(null===e||void 0===e||null===(t=e.active[0])||void 0===t?void 0:t.layers.length)>1?(null===(o=e.active[0])||void 0===o||null===(i=o.layers)||void 0===i||i.forEach((function(t){n.some((function(e){return e.spatialLayerId===t.spatialLayerId}))||(t.id=e.active[0].id,t.selectId=t.spatialLayerId,t.disabled=!t.bitrate,n.push(t))})),null===(s=e.inactive[0])||void 0===s||null===(a=s.layers)||void 0===a||a.forEach((function(e){r.some((function(t){return t.spatialLayerId===e.spatialLayerId}))||r.push(e)}))):(null===(c=e.active)||void 0===c||c.forEach((function(e){n.some((function(t){return t.id===e.id}))||(e.selectId=e.id,e.disabled=!e.bitrate,n.push(e))})),null===(u=e.inactive)||void 0===u||u.forEach((function(e){r.some((function(t){return t.id===e.id}))||r.push(e)})))})),n.sort((function(e,t){return t.bitrate-e.bitrate})),2===n.length?(n[0].name="High",n[1].name="Low",n.unshift({name:"Auto"})):3===n.length&&(n[0].name="High",n[1].name="Medium",n[2].name="Low",n.unshift({name:"Auto"})),n.length!=xt.Layers.medias.active.length&&jt("Layers/setSelectedQuality",{name:"Auto"}),jt("Layers/setMedias",{active:n,inactive:r})},Tt=function(){jt("Layers/setMedias",{active:[],inactive:[]}),jt("Layers/setSelectedQuality",{name:"Auto"})},It=function(e){var t={};t.encodingId=e.id,t.encodingId||null===e.spatialLayerId||(t.spatialLayerId=parseInt(e.spatialLayerId));var n=t.encodingId||0===t.encodingId||t.spatialLayerId||0===t.spatialLayerId?t:{};xt.ViewConnection.millicastView.select(n),jt("Layers/selectQuality",e)},Pt=We.commit,At=We.state,Rt=We.getters,Vt=function(e){var t=e.sourceId||null;e.tracks.forEach((function(e){"video"===e.media&&(Lt("video",t,e.trackId),1===At.Sources.videoSources.length&&Pt("Sources/setIsAudioOnly",!1)),"audio"===e.media&&(Lt("audio",t,e.trackId),1===At.Sources.audioSources.length&&Pt("Sources/setIsAudioOnly",!At.Sources.videoSources.length))})),Nt()?setTimeout(Bt,1e3):At.Controls.trackWarning&&Pt("Controls/setTrackWarning",!1)},Nt=function(){return!Rt["Sources/getVideoHasMain"]&&At.Sources.videoSources.length||!Rt["Sources/getAudioHasMain"]&&At.Sources.audioSources.length},Lt=function(e,t,n){var r={name:null===t?"Main":t,sourceId:t,trackId:n},o="video"===e?At.Sources.videoSources:At.Sources.audioSources,i=Array.from(o);if(!i.some((function(e){return e.sourceId===r.sourceId}))){if(null===r.sourceId){i.unshift(r);var s="video"===e?At.Sources.selectedVideoSource:At.Sources.selectedAudioSource;"none"===s.name&&Pt("Sources/setSelectedSource",{kind:e,selectedSource:r})}else i.push(r);Pt("Sources/setSources",{kind:e,sources:i})}},Bt=function(){Nt()&&!At.Sources.trackWarning&&(""===At.Controls.dropup&&Pt("Controls/setDropup","settings"),Pt("Controls/setTrackWarning",!0))},Dt=function(e){var t=At.Sources.videoSources.findIndex((function(t){return t.sourceId===e})),n=At.Sources.audioSources.findIndex((function(t){return t.sourceId===e}));-1!==t&&(_t("video",e),At.Sources.videoSources.length||Pt("Sources/setIsAudioOnly",!0)),-1!==n&&_t("audio",e)},_t=function(e,t){var n="video"===e?At.Sources.selectedVideoSource:At.Sources.selectedAudioSource,r="video"===e?At.Sources.videoSources:At.Sources.audioSources;r=r.filter((function(e){return e.sourceId!==t})),t===n.sourceId&&(n=-1!==r.findIndex((function(e){return null===e.sourceId}))?r[0]:{name:"none",sourceId:0}),Pt("Sources/setSources",{kind:e,sources:r}),Mt({kind:e,source:n})},Mt=function(){var e=d(u().mark((function e(t){var n,r,o,i;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.kind,r=t.source,o=null,i=null,"video"===n?(Tt(),o=At.ViewConnection.trackEvent.video.track,i=At.Sources.selectedAudioSource):"audio"===n&&(o=At.ViewConnection.trackEvent.audio.track,i=At.Sources.selectedVideoSource),Pt("Sources/setSelectedSource",{kind:n,selectedSource:r}),!r||"none"===(null===r||void 0===r?void 0:r.name)||!o){e.next=9;break}return e.next=8,Ft({kind:n,source:r});case 8:"none"!==i.name&&Pt("Controls/setTrackWarning",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ft=function(){var e=d(u().mark((function e(t){var n,r,o,i,s,a,c,l,d,f,p,h;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.kind,r=t.source,o=null===r||void 0===r?void 0:r.sourceId,i=null,s=null,"video"===n?(i=At.Sources.videoSources,s=null===(a=At.ViewConnection.trackEvent)||void 0===a||null===(c=a.video)||void 0===c?void 0:c.transceiver):"audio"===n&&(i=At.Sources.audioSources,s=null===(l=At.ViewConnection.trackEvent)||void 0===l||null===(d=l.audio)||void 0===d?void 0:d.transceiver),"none"===r.name||null===o&&!i.length||At.Controls.castIsConnected){e.next=11;break}return h=null!==(f=null===(p=s)||void 0===p?void 0:p.mid)&&void 0!==f?f:null,e.next=9,At.ViewConnection.millicastView.project(o,[{trackId:r.trackId,mediaId:h}]);case 9:e.next=17;break;case 11:if(!At.Controls.castIsConnected){e.next=15;break}Et(),e.next=17;break;case 15:return e.next=17,Mt({kind:n,source:r});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ut=We.commit,zt=We.state,Gt=function(e){var t=e.videoPlayer,n=e.srcObject,r=e.volume,o=e.muted,i=e.autoplay;t&&(Ut("Controls/setVideo",t),Ut("Controls/setCurrentElementRef",t.id)),n&&Ut("Controls/setVideoSource",n),r&&Ut("Controls/setVideoVolume",r),o&&Ut("Controls/setVideoMuted",o),i&&Ut("Controls/setVideoAutoplay",i),$t(zt.Controls.video)},$t=function(e){e.onplay=function(){return Ut("Controls/setPlaying",!0)},e.addEventListener("emptied",Ht),e.addEventListener("pause",Ht),e.onenterpictureinpicture=function(){return Ut("Controls/setPip",!0)},e.onleavepictureinpicture=function(){return Ut("Controls/setPip",!1)}},qt=function(){zt.Controls.video.removeEventListener("emptied",Ht),zt.Controls.video.removeEventListener("pause",Ht)},Ht=function(){Ut("Controls/setPlaying",!1)},Wt=function(){window.Version=Object({NODE_ENV:"production",BASE_URL:"/"}).PACKAGE_VERSION,window.Logger=k["Logger"];var e=Qe(),t=Ye();dt(e,t),Yt()},Xt=function(){var e=d(u().mark((function e(){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:ft();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qt=function(){var e=d(u().mark((function e(){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:gt();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Yt=function(){pt(),Jt()},Jt=function(){var e,t=zt.ViewConnection.millicastView;zt.ViewConnection.eventListeners.broadcastEvent=null!==(e=zt.ViewConnection.eventListeners.broadcastEvent)&&void 0!==e?e:t.on("broadcastEvent",(function(e){var t=e.name;switch(t){case"active":Kt(e);break;case"stopped":Zt(e);break;case"inactive":en(e);break;case"layers":tn(e);break;case"viewercount":nn(e);break;default:break}}))},Kt=function(e){Vt(e.data),Ut("Controls/setIsLoading",!1),Ut("Controls/setIsLive",!0),vt(),zt.Controls.video.srcObject||Ut("Controls/setVideoSource",zt.Controls.srcObject)},Zt=function(){Ut("Controls/setIsLoading",!1),Ut("Controls/setIsLive",!1)},en=function(e){var t,n=e.data,r=zt.Sources.selectedVideoSource,o=zt.Sources.selectedAudioSource,i=(null===r.sourceId||null===o.sourceId)&&null===n.sourceId;Dt(null!==(t=null===n||void 0===n?void 0:n.sourceId)&&void 0!==t?t:null),e.data.streamId||Ut("Controls/setUserCount",null),zt.Sources.videoSources.length+zt.Sources.audioSources.length===0?(Tt(),Ut("Controls/setTrackWarning",!1),Ut("Controls/setIsLive",!1),Ut("Controls/setPlaying",!1),Ut("Controls/setVideoSource",null)):i&&(""===zt.Controls.dropup&&Ut("Controls/setDropup","settings"),Ut("Controls/setTrackWarning",i))},tn=function(e){kt(e)},nn=function(e){Ut("Controls/setViewerCount",e.data.viewercount)},rn=function(e){It(e)},on=function(){var e=d(u().mark((function e(t){var n,r;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=t.kind,r=t.source,Mt({kind:n,source:r});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sn=function(){var e=d(u().mark((function e(){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Ct();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),an=Object.defineProperty,cn=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,dn=(e,t,n)=>t in e?an(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,fn=(e,t)=>{for(var n in t||(t={}))un.call(t,n)&&dn(e,n,t[n]);if(cn)for(var n of cn(t))ln.call(t,n)&&dn(e,n,t[n]);return e},pn=e=>"function"===typeof e,hn=e=>"string"===typeof e,mn=e=>hn(e)&&e.trim().length>0,vn=e=>"number"===typeof e,gn=e=>"undefined"===typeof e,bn=e=>"object"===typeof e&&null!==e,yn=e=>jn(e,"tag")&&mn(e.tag),wn=e=>window.TouchEvent&&e instanceof TouchEvent,Sn=e=>jn(e,"component")&&Cn(e.component),On=e=>pn(e)||bn(e),Cn=e=>!gn(e)&&(hn(e)||On(e)||Sn(e)),En=e=>bn(e)&&["height","width","right","left","top","bottom"].every(t=>vn(e[t])),jn=(e,t)=>(bn(e)||pn(e))&&t in e,xn=(e=>()=>e++)(0);function kn(e){return wn(e)?e.targetTouches[0].clientX:e.clientX}function Tn(e){return wn(e)?e.targetTouches[0].clientY:e.clientY}var In,Pn,An,Rn=e=>{gn(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},Vn=e=>Sn(e)?Vn(e.component):yn(e)?Object(i["defineComponent"])({render(){return e}}):"string"===typeof e?e:Object(i["toRaw"])(Object(i["unref"])(e)),Nn=e=>{if("string"===typeof e)return e;const t=jn(e,"props")&&bn(e.props)?e.props:{},n=jn(e,"listeners")&&bn(e.listeners)?e.listeners:{};return{component:Vn(e),props:t,listeners:n}},Ln=()=>"undefined"!==typeof window,Bn=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){const n=this.getHandlers(e);n.forEach(e=>e(t))}},Dn=e=>["on","off","emit"].every(t=>jn(e,t)&&pn(e[t]));(function(e){e["SUCCESS"]="success",e["ERROR"]="error",e["WARNING"]="warning",e["INFO"]="info",e["DEFAULT"]="default"})(In||(In={})),function(e){e["TOP_LEFT"]="top-left",e["TOP_CENTER"]="top-center",e["TOP_RIGHT"]="top-right",e["BOTTOM_LEFT"]="bottom-left",e["BOTTOM_CENTER"]="bottom-center",e["BOTTOM_RIGHT"]="bottom-right"}(Pn||(Pn={})),function(e){e["ADD"]="add",e["DISMISS"]="dismiss",e["UPDATE"]="update",e["CLEAR"]="clear",e["UPDATE_DEFAULTS"]="update_defaults"}(An||(An={}));var _n="Vue-Toastification",Mn={type:{type:String,default:In.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},Fn={type:Mn.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},Un={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:Mn.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},zn={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},Gn={transition:{type:[Object,String],default:_n+"__bounce"}},$n={position:{type:String,default:Pn.TOP_RIGHT},draggable:Mn.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:Mn.trueBoolean,pauseOnHover:Mn.trueBoolean,closeOnClick:Mn.trueBoolean,timeout:zn.timeout,hideProgressBar:zn.hideProgressBar,toastClassName:Mn.classNames,bodyClassName:Mn.classNames,icon:Fn.customIcon,closeButton:Un.component,closeButtonClassName:Un.classNames,showCloseButtonOnHover:Un.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new Bn}},qn={id:{type:[String,Number],required:!0,default:0},type:Mn.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},Hn={container:{type:[Object,Function],default:()=>document.body},newestOnTop:Mn.trueBoolean,maxToasts:{type:Number,default:20},transition:Gn.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:Mn.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},Wn={CORE_TOAST:$n,TOAST:qn,CONTAINER:Hn,PROGRESS_BAR:zn,ICON:Fn,TRANSITION:Gn,CLOSE_BUTTON:Un},Xn=Object(i["defineComponent"])({name:"VtProgressBar",props:Wn.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:this.timeout+"ms",animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?_n+"__progress-bar":""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function Qn(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{style:Object(i["normalizeStyle"])(e.style),class:Object(i["normalizeClass"])(e.cpClass)},null,6)}Xn.render=Qn;var Yn=Xn,Jn=Object(i["defineComponent"])({name:"VtCloseButton",props:Wn.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?Vn(this.component):"button"},classes(){const e=[_n+"__close-button"];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),Kn=Object(i["createTextVNode"])(" × ");function Zn(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.buttonComponent),Object(i["mergeProps"])({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Object(i["withCtx"])(()=>[Kn]),_:1},16,["aria-label","class"])}Jn.render=Zn;var er=Jn,tr={},nr={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},rr=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),or=[rr];function ir(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",nr,or)}tr.render=ir;var sr=tr,ar={},cr={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ur=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),lr=[ur];function dr(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",cr,lr)}ar.render=dr;var fr=ar,pr={},hr={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},mr=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),vr=[mr];function gr(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",hr,vr)}pr.render=gr;var br=pr,yr={},wr={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},Sr=Object(i["createElementVNode"])("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Or=[Sr];function Cr(e,t){return Object(i["openBlock"])(),Object(i["createElementBlock"])("svg",wr,Or)}yr.render=Cr;var Er=yr,jr=Object(i["defineComponent"])({name:"VtIcon",props:Wn.ICON,computed:{customIconChildren(){return jn(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return hn(this.customIcon)?this.trimValue(this.customIcon):jn(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return jn(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Cn(this.customIcon)?Vn(this.customIcon):this.iconTypeComponent},iconTypeComponent(){const e={[In.DEFAULT]:fr,[In.INFO]:fr,[In.SUCCESS]:sr,[In.ERROR]:Er,[In.WARNING]:br};return e[this.type]},iconClasses(){const e=[_n+"__icon"];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return mn(e)?e.trim():t}}});function xr(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.component),{class:Object(i["normalizeClass"])(e.iconClasses)},{default:Object(i["withCtx"])(()=>[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.customIconChildren),1)]),_:1},8,["class"])}jr.render=xr;var kr=jr,Tr=Object(i["defineComponent"])({name:"VtToast",components:{ProgressBar:Yn,CloseButton:er,Icon:kr},inheritAttrs:!1,props:Object.assign({},Wn.CORE_TOAST,Wn.TOAST),data(){const e={isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}};return e},computed:{classes(){const e=[_n+"__toast",`${_n}__toast--${this.type}`,""+this.position].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(_n+"__toast--rtl"),e},bodyClasses(){const e=[`${_n}__toast-${hn(this.content)?"body":"component-body"}`].concat(this.bodyClassName);return e},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return En(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:jn,getVueComponentFromObj:Vn,closeToast(){this.eventBus.emit(An.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:kn(e),y:Tn(e)},this.dragStart=kn(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:kn(e),y:Tn(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,En(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),Ir=["role"];function Pr(e,t){const n=Object(i["resolveComponent"])("Icon"),r=Object(i["resolveComponent"])("CloseButton"),o=Object(i["resolveComponent"])("ProgressBar");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{class:Object(i["normalizeClass"])(e.classes),style:Object(i["normalizeStyle"])(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?(Object(i["openBlock"])(),Object(i["createBlock"])(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Object(i["createCommentVNode"])("v-if",!0),Object(i["createElementVNode"])("div",{role:e.accessibility.toastRole||"alert",class:Object(i["normalizeClass"])(e.bodyClasses)},["string"===typeof e.content?(Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],{key:0},[Object(i["createTextVNode"])(Object(i["toDisplayString"])(e.content),1)],2112)):(Object(i["openBlock"])(),Object(i["createBlock"])(Object(i["resolveDynamicComponent"])(e.getVueComponentFromObj(e.content)),Object(i["mergeProps"])({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Object(i["toHandlers"])(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,Ir),e.closeButton?(Object(i["openBlock"])(),Object(i["createBlock"])(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Object(i["withModifiers"])(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Object(i["createCommentVNode"])("v-if",!0),e.timeout?(Object(i["openBlock"])(),Object(i["createBlock"])(o,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Object(i["createCommentVNode"])("v-if",!0)],38)}Tr.render=Pr;var Ar=Tr,Rr=Object(i["defineComponent"])({name:"VtTransition",props:Wn.TRANSITION,emits:["leave"],methods:{hasProp:jn,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function Vr(e,t){return Object(i["openBlock"])(),Object(i["createBlock"])(i["TransitionGroup"],{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:e.transition+"-enter-active","move-class":e.transition.move?e.transition.move:e.transition+"-move","leave-active-class":e.transition.leave?e.transition.leave:e.transition+"-leave-active",onLeave:e.leave},{default:Object(i["withCtx"])(()=>[Object(i["renderSlot"])(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}Rr.render=Vr;var Nr=Rr,Lr=Object(i["defineComponent"])({name:"VueToastification",devtools:{hide:!0},components:{Toast:Ar,VtTransition:Nr},props:Object.assign({},Wn.CORE_TOAST,Wn.CONTAINER,Wn.TRANSITION),data(){const e={count:0,positions:Object.values(Pn),toasts:{},defaults:{}};return e},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(An.ADD,this.addToast),e.on(An.CLEAR,this.clearToasts),e.on(An.DISMISS,this.dismissToast),e.on(An.UPDATE,this.updateToast),e.on(An.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){pn(e)&&(e=await e()),Rn(this.$el),e.appendChild(this.$el)},setToast(e){gn(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=Nn(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];gn(t)||gn(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(t=>t.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){gn(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){const t=[_n+"__container",e];return t.concat(this.defaults.containerClassName)}}});function Br(e,t){const n=Object(i["resolveComponent"])("Toast"),r=Object(i["resolveComponent"])("VtTransition");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",null,[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.positions,t=>(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:t},[Object(i["createVNode"])(r,{transition:e.defaults.transition,class:Object(i["normalizeClass"])(e.getClasses(t))},{default:Object(i["withCtx"])(()=>[(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(e.getPositionToasts(t),e=>(Object(i["openBlock"])(),Object(i["createBlock"])(n,Object(i["mergeProps"])({key:e.id},e),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}Lr.render=Br;var Dr=Lr,_r=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new Bn;t&&Object(i["nextTick"])(()=>{const t=Object(i["createApp"])(Dr,fn({},e)),n=t.mount(document.createElement("div")),r=e.onMounted;if(gn(r)||r(n,t),e.shareAppContext){const n=e.shareAppContext;!0===n?console.warn(`[${_n}] App to share context with was not provided.`):(t._context.components=n._context.components,t._context.directives=n._context.directives,t._context.mixins=n._context.mixins,t._context.provides=n._context.provides,t.config.globalProperties=n.config.globalProperties)}});const r=(e,t)=>{const r=Object.assign({},{id:xn(),type:In.DEFAULT},t,{content:e});return n.emit(An.ADD,r),r.id};function o(e,{content:t,options:r},o=!1){const i=Object.assign({},r,{content:t});n.emit(An.UPDATE,{id:e,options:i,create:o})}return r.clear=()=>n.emit(An.CLEAR,void 0),r.updateDefaults=e=>{n.emit(An.UPDATE_DEFAULTS,e)},r.dismiss=e=>{n.emit(An.DISMISS,e)},r.update=o,r.success=(e,t)=>r(e,Object.assign({},t,{type:In.SUCCESS})),r.info=(e,t)=>r(e,Object.assign({},t,{type:In.INFO})),r.error=(e,t)=>r(e,Object.assign({},t,{type:In.ERROR})),r.warning=(e,t)=>r(e,Object.assign({},t,{type:In.WARNING})),r},Mr=()=>{const e=()=>console.warn(`[${_n}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function Fr(e){return Ln()?Dn(e)?_r({eventBus:e},!1):_r(e,!0):Mr()}var Ur=Symbol("VueToastification"),zr=new Bn,Gr=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const n=Fr(fn({eventBus:zr},t));e.provide(Ur,n)},$r=e=>{if(e)return Fr(e);const t=Object(i["getCurrentInstance"])()?Object(i["inject"])(Ur,void 0):void 0;return t||Fr(zr)},qr=Gr,Hr={name:"VideoPlayerMedia",data:function(){return{accountId:null,streamName:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null}}},mounted:function(){var e=this;return d(u().mark((function t(){var n;return u().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.getElementById(e.currentElementRef),Gt({videoPlayer:n,srcObject:null,volume:1,muted:e.queryParams.muted,autoplay:e.queryParams.autoplay});case 2:case"end":return t.stop()}}),t)})))()},computed:C(C(C(C(C(C(C({},ke("ViewConnection",{millicastView:function(e){return e.millicastView}})),ke("Layers",{selectedQuality:function(e){return e.selectedQuality}})),ke("Sources",{isAudioOnly:function(e){return e.isAudioOnly},stream:function(e){return e.stream},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioSources:function(e){return e.audioSources},videoSources:function(e){return e.videoSources}})),ke("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},playerMuted:function(e){return e.muted},isLive:function(e){return e.isLive},reconnection:function(e){return e.reconnection},reconnectionStatus:function(e){return e.reconnection.status},currentElementRef:function(e){return e.currentElementRef},isMigrating:function(e){return e.isMigrating}})),ke("Params",{queryParams:function(e){return e.queryParams}})),Ie("Sources",["getVideoHasMain","getAudioHasMain"])),{},{displayAudioOnly:function(){return this.isAudioOnly&&this.isLive||null===this.queryParams.placeholderImg&&!this.isLive}}),methods:C(C(C(C(C(C({},Te("Sources",["addVideoSource","addAudioSource","setStream"])),Te("Layers",["addLayers","selectQuality","deleteLayers"])),Te("Controls",["setVideoMuted","setDropup","setTrackWarning","stopVideo","setAutoPlayMuted","userParamOptions"])),Te("ViewConnection",["setMillicastView"])),Pe("Sources",["updateBroadcastState"])),{},{stop:function(){var e;null===(e=this.millicastView)||void 0===e||e.stop(),this.stopCurrentVideo()},stopCurrentVideo:function(){this.eventListeners.stats=null,this.stopVideo()}}),watch:{reconnectionStatus:function(e){var t=$r();t.clear(),e&&t.warning("Connection lost. Retrying...")},displayAudioOnly:function(){var e=d(u().mark((function e(){var t,n,r,o,s;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.video.srcObject,n=this.video.volume,r=this.video.muted,o=this.video.autoplay,e.next=6,Object(i["nextTick"])();case 6:s=document.getElementById(this.currentElementRef),Gt({videoPlayer:s,srcObject:t,volume:n,muted:r,autoplay:o});case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),queryParams:function(){var e=this;return d(u().mark((function t(){var n;return u().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Qt();case 2:return t.next=4,Object(i["nextTick"])();case 4:return t.next=6,$r();case 6:return n=t.sent,Wt(),t.prev=8,t.next=11,Xt();case 11:setTimeout((function(){e.setAutoPlayMuted(!1)}),6e3),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](8),n.error(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[8,14]])})))()}}},Wr=(n("3855"),n("6b0d")),Xr=n.n(Wr);const Qr=Xr()(Hr,[["render",x],["__scopeId","data-v-5a2ad1b6"]]);var Yr=Qr,Jr={key:0,class:"align-middle"},Kr=["textContent"];function Zr(e,t,n,r,o,s){return e.isLoading?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("h4",Jr,[Object(i["createElementVNode"])("span",{class:Object(i["normalizeClass"])(["badge badge-secondary",{"badge-danger":e.isLive}]),textContent:Object(i["toDisplayString"])(s.text),style:{border:"0px"}},null,10,Kr)]))}var eo={name:"VideoPlayerControlsBadge",computed:C(C({},ke("Controls",{isLive:function(e){return e.isLive},isLoading:function(e){return e.isLoading}})),{},{text:function(){return this.isLive?"LIVE":"NOT LIVE"}})};const to=Xr()(eo,[["render",Zr]]);var no=to,ro=Object(i["createTextVNode"])(" Full Screen ");function oo(e,t,n,r,o,s){return e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return n.click&&n.click.apply(n,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-fullscreen":!o.fullscreen,"ml-viewer-bi-fullscreen-exit":o.fullscreen}])},null,2),ro])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{key:1,class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-fullscreen":!o.fullscreen,"ml-viewer-bi-fullscreen-exit":o.fullscreen}]),onClick:t[1]||(t[1]=function(){return n.click&&n.click.apply(n,arguments)})},null,2))}var io={name:"VideoPlayerControlsFullscreen",props:{click:Function},data:function(){return{fullscreen:null!==document.fullscreenElement}},mounted:function(){var e=this;document.onfullscreenchange=function(){e.fullscreen=null!==document.fullscreenElement}},computed:C({},ke("Controls",{isMobile:function(e){return e.isMobile}}))};const so=Xr()(io,[["render",oo]]);var ao=so,co=Object(i["createTextVNode"])(" Miniplayer ");function uo(e,t,n,r,o,s){return e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2),co])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:1,class:"mobile-setting",onClick:t[1]||(t[1]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2)]))}var lo={name:"VideoPlayerControlsPip",computed:C({},ke("Controls",{isMobile:function(e){return e.isMobile},pip:function(e){return e.pip},video:function(e){return e.video}})),methods:{togglePip:function(){!this.pip&&this.video.srcObject&&"VIDEO"===this.video.nodeName?this.video.requestPictureInPicture():document.exitPictureInPicture()}}};n("5d57");const fo=Xr()(lo,[["render",uo],["__scopeId","data-v-017a7be6"]]);var po=fo;function ho(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-play-fill":!e.playing,"ml-viewer-bi-pause-fill":e.playing}]),onClick:t[0]||(t[0]=function(){return s.togglePlay&&s.togglePlay.apply(s,arguments)})},null,2)}var mo={name:"VideoPlayerControlsPlay",computed:C({},ke("Controls",{video:function(e){return e.video},playing:function(e){return e.playing}})),methods:{togglePlay:function(){var e=d(u().mark((function e(){var t;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.playing){e.next=5;break}return e.next=3,this.video.pause();case 3:e.next=10;break;case 5:if(null===(null===(t=this.video)||void 0===t?void 0:t.srcObject)){e.next=10;break}return e.next=8,Xt();case 8:return e.next=10,this.video.play();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};const vo=Xr()(mo,[["render",ho]]);var go=vo,bo=function(e){return Object(i["pushScopeId"])("data-v-665c11a7"),e=e(),Object(i["popScopeId"])(),e},yo={class:"dropup"},wo={key:0,class:"badge bg-light ms-2"},So=bo((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-exclamation-circle-fill p-0"},null,-1)})),Oo=[So],Co={class:"dropdown-header d-flex m-0 col-12"},Eo=bo((function(){return Object(i["createElementVNode"])("h6",{class:"p-0 m-0"},"Settings",-1)})),jo={class:"p-0 ml-auto",style:{color:"#9e9e9e"}};function xo(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsSettingsQuality"),c=Object(i["resolveComponent"])("VideoPlayerControlsSettingsVideoTrack"),u=Object(i["resolveComponent"])("VideoPlayerControlsSettingsAudioTrack"),l=Object(i["resolveComponent"])("VideoPlayerControlsSettingsStats"),d=Object(i["resolveComponent"])("VideoPlayerControlsSettingsReportIssue"),f=Object(i["resolveComponent"])("VideoPlayerControlsSettingsDropdown");return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("div",{class:"backdrop",onClick:t[0]||(t[0]=function(t){return e.setDropup("")})}),Object(i["createElementVNode"])("span",yo,[Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-gear-fill h3 align-middle control-icon",onClick:t[1]||(t[1]=function(t){return e.setDropup("settings")})},[e.trackWarning?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",wo,Oo)):Object(i["createCommentVNode"])("",!0)]),Object(i["createElementVNode"])("div",{ref:"settings",class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"settings"===e.dropup}])},[Object(i["createElementVNode"])("div",Co,[Eo,Object(i["createElementVNode"])("div",jo,Object(i["toDisplayString"])(o.viewerVersion),1)]),e.getActiveMedias.length>1?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0),e.getVideoSources.length>1||!e.getVideoHasMain&&e.getVideoSources.length?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(i["createCommentVNode"])("",!0),e.getAudioSources.length>1||!e.getAudioHasMain&&e.getAudioSources.length?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:2,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(i["createCommentVNode"])("",!0),Object(i["createVNode"])(l),Object(i["createVNode"])(d,{streamId:n.streamId},null,8,["streamId"])],2),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:o.showDropup}]),style:Object(i["normalizeStyle"])({width:o.settingsWidth})},[Object(i["createVNode"])(f,{selected:o.selected,items:o.items,compare:o.compare,handleClick:o.handleClick,title:o.dropupTitle,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["selected","items","compare","handleClick","title","unsupportedFlagEmoji","sourceFlagEmojiToPng"])],6)])],64)}n("c975"),n("a15b"),n("d81d"),n("f5b2"),n("5319");var ko=function(e){return Object(i["pushScopeId"])("data-v-09e8462d"),e=e(),Object(i["popScopeId"])(),e},To={class:"back-header mr-2"},Io={class:"bi ml-viewer-bi-camera-video-fill"},Po={key:0,class:"badge bg-danger"},Ao=Object(i["createTextVNode"])(" Video Source: "),Ro=["innerHTML"],Vo={key:1},No=ko((function(){return Object(i["createElementVNode"])("div",{class:"back-arrow"},[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function Lo(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("videoTracks")})},[Object(i["createElementVNode"])("span",To,[Object(i["createElementVNode"])("i",Io,["none"===this.selectedVideoSource.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Po)):Object(i["createCommentVNode"])("",!0)]),Ao]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedVideoSource.name?"none":"",null===this.selectedVideoSource.sourceId?"main":""]])},[n.unsupportedFlagEmoji(this.selectedVideoSource.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:n.sourceFlagEmojiToPng(this.selectedVideoSource.name)},null,8,Ro)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Vo,Object(i["toDisplayString"])(this.selectedVideoSource.name),1))],2),No])}var Bo={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:C({},ke("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource}})),methods:C({},Te("Controls",["setDropup"]))};n("b263");const Do=Xr()(Bo,[["render",Lo],["__scopeId","data-v-09e8462d"]]);var _o=Do,Mo=function(e){return Object(i["pushScopeId"])("data-v-1b4bd85a"),e=e(),Object(i["popScopeId"])(),e},Fo={class:"back-header mr-2"},Uo={class:"bi ml-viewer-bi-soundwave"},zo={key:0,class:"badge bg-danger"},Go=Object(i["createTextVNode"])(" Audio Source: "),$o=["innerHTML"],qo={key:1},Ho=Mo((function(){return Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function Wo(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("audioTracks")})},[Object(i["createElementVNode"])("span",Fo,[Object(i["createElementVNode"])("i",Uo,["none"===this.selectedAudioSource.name?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",zo)):Object(i["createCommentVNode"])("",!0)]),Go]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedAudioSource.name?"none":"",null===this.selectedAudioSource.sourceId?"main":""]])},[n.unsupportedFlagEmoji(this.selectedAudioSource.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:0,innerHTML:n.sourceFlagEmojiToPng(this.selectedAudioSource.name)},null,8,$o)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",qo,Object(i["toDisplayString"])(this.selectedAudioSource.name),1))],2),Ho])}var Xo={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:C({},ke("Sources",{selectedAudioSource:function(e){return e.selectedAudioSource}})),methods:C({},Te("Controls",["setDropup"]))};n("8313");const Qo=Xr()(Xo,[["render",Wo],["__scopeId","data-v-1b4bd85a"]]);var Yo=Qo,Jo=Object(i["createElementVNode"])("span",{class:"back-header mr-2"},[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-sliders"}),Object(i["createTextVNode"])(" Video Quality: ")],-1),Ko={class:"dropdown-item-name mr-auto"},Zo=Object(i["createElementVNode"])("div",null,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1);function ei(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("qualities")})},[Jo,Object(i["createElementVNode"])("div",Ko,Object(i["toDisplayString"])(this.selectedQuality.name),1),Zo])}var ti={name:"VideoPlayerControlsSettingsQuality",computed:C({},ke("Layers",{selectedQuality:function(e){return e.selectedQuality}})),methods:C({},Te("Controls",["setDropup"]))};const ni=Xr()(ti,[["render",ei]]);var ri=ni,oi=function(e){return Object(i["pushScopeId"])("data-v-343fd755"),e=e(),Object(i["popScopeId"])(),e},ii=oi((function(){return Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-info-circle-fill align-middle control-icon"},null,-1)})),si=Object(i["createTextVNode"])(" Media Stats ");function ai(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerStatsTable");return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:Object(i["normalizeClass"])(["dropdown-item",{disabled:!e.isLive}]),onClick:t[0]||(t[0]=function(){return s.toggleStats&&s.toggleStats.apply(s,arguments)})},[ii,si,o.showStats?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#vplayer"},[Object(i["createVNode"])(a,{close:s.toggleStats},null,8,["close"])])):Object(i["createCommentVNode"])("",!0)],2)}var ci=function(e){return Object(i["pushScopeId"])("data-v-599b32f8"),e=e(),Object(i["popScopeId"])(),e},ui={class:"table table-sm table-dark table-borderless fixed-top"},li={class:"row",style:{"justify-content":"flex-end"}},di={colspan:"2",class:"text-right"},fi=ci((function(){return Object(i["createElementVNode"])("tr",{class:"row"},[Object(i["createElementVNode"])("th",{scope:"col",class:"col-6"},"Name"),Object(i["createElementVNode"])("th",{scope:"col",class:"col-6"},"Value")],-1)})),pi={key:0,class:"row"},hi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Server Id",-1)})),mi={class:"col-6"},vi={key:1,class:"row"},gi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"RTT",-1)})),bi={class:"col-6"},yi={key:2,class:"row"},wi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Resolution",-1)})),Si={class:"col-6"},Oi={key:3,class:"row"},Ci=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"FPS (Calculated)",-1)})),Ei={class:"col-6"},ji={key:4,class:"row"},xi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Bitrate",-1)})),ki={class:"col-6"},Ti={key:5,class:"row"},Ii=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Bitrate",-1)})),Pi={class:"col-6"},Ai={key:6,class:"row"},Ri=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Total Received",-1)})),Vi={class:"col-6"},Ni={key:7,class:"row"},Li=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Total Received",-1)})),Bi={class:"col-6"},Di={key:8,class:"row"},_i=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Packet Loss",-1)})),Mi={class:"col-6"},Fi={key:9,class:"row"},Ui=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Packet Loss",-1)})),zi={class:"col-6"},Gi={key:10,class:"row"},$i=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Video Jitter",-1)})),qi={class:"col-6"},Hi={key:11,class:"row"},Wi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Audio Jitter",-1)})),Xi={class:"col-6"},Qi={key:12,class:"row"},Yi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Capture timestamp",-1)})),Ji=["textContent"],Ki={key:13,class:"row"},Zi=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Capture delta time",-1)})),es=["textContent"],ts={key:14,class:"row"},ns=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6"},"Codecs",-1)})),rs=["textContent"],os={key:15,class:"row"},is=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Timestamp",-1)})),ss=["textContent"],as={key:16,class:"row"},cs=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Server",-1)})),us=["textContent"],ls={key:17,class:"row"},ds=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-6 text-break"},"Cluster",-1)})),fs=["textContent"],ps={key:18,class:"row"},hs=ci((function(){return Object(i["createElementVNode"])("td",{class:"col-12 center"},null,-1)})),ms=[hs],vs={key:19,class:"row"},gs={class:"col-12",align:"center"};function bs(e,t,n,r,o,s){var a,c,u,l,d,f,p,h,m,v,g;return Object(i["openBlock"])(),Object(i["createElementBlock"])("table",ui,[Object(i["createElementVNode"])("thead",null,[Object(i["createElementVNode"])("tr",li,[Object(i["createElementVNode"])("th",di,[Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-x-lg",onClick:t[0]||(t[0]=function(){return n.close&&n.close.apply(n,arguments)})})])]),fi]),s.hasStats?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tbody",{key:0,style:Object(i["normalizeStyle"])([e.isMobile?"overflow-x: auto;":"overflow-x: hidden;"])},[e.millicastView.signaling.subscriberId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",pi,[hi,Object(i["createElementVNode"])("td",mi,Object(i["toDisplayString"])(e.millicastView.signaling.subscriberId),1)])):Object(i["createCommentVNode"])("",!0),o.stats.currentRoundTripTime?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",vi,[gi,Object(i["createElementVNode"])("td",bi,Object(i["toDisplayString"])(s.formatMilliseconds(o.stats.currentRoundTripTime)),1)])):Object(i["createCommentVNode"])("",!0),null!==(a=s.video)&&void 0!==a&&a.frameWidth&&null!==(c=s.video)&&void 0!==c&&c.frameHeight?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",yi,[wi,Object(i["createElementVNode"])("td",Si,Object(i["toDisplayString"])("".concat(s.video.frameWidth,"x").concat(s.video.frameHeight)),1)])):Object(i["createCommentVNode"])("",!0),null!==(u=s.video)&&void 0!==u&&u.framesPerSecond&&o.fps?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Oi,[Ci,Object(i["createElementVNode"])("td",Ei,Object(i["toDisplayString"])(s.video.framesPerSecond)+" ("+Object(i["toDisplayString"])(o.fps)+")",1)])):Object(i["createCommentVNode"])("",!0),null!==(l=s.video)&&void 0!==l&&l.bitrate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ji,[xi,Object(i["createElementVNode"])("td",ki,Object(i["toDisplayString"])(s.formatBitrate(s.video.bitrate)),1)])):Object(i["createCommentVNode"])("",!0),null!==(d=s.audio)&&void 0!==d&&d.bitrate?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ti,[Ii,Object(i["createElementVNode"])("td",Pi,Object(i["toDisplayString"])(s.formatBitrate(s.audio.bitrate)),1)])):Object(i["createCommentVNode"])("",!0),null!==(f=s.video)&&void 0!==f&&f.totalBytesReceived?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ai,[Ri,Object(i["createElementVNode"])("td",Vi,Object(i["toDisplayString"])(s.formatTotalBytes(s.video.totalBytesReceived)),1)])):Object(i["createCommentVNode"])("",!0),null!==(p=s.audio)&&void 0!==p&&p.totalBytesReceived?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ni,[Li,Object(i["createElementVNode"])("td",Bi,Object(i["toDisplayString"])(s.formatTotalBytes(s.audio.totalBytesReceived)),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(h=s.video)||void 0===h?void 0:h.totalPacketsLost)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Di,[_i,Object(i["createElementVNode"])("td",Mi,Object(i["toDisplayString"])(s.video.totalPacketsLost),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(m=s.audio)||void 0===m?void 0:m.totalPacketsLost)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Fi,[Ui,Object(i["createElementVNode"])("td",zi,Object(i["toDisplayString"])(s.audio.totalPacketsLost),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(v=s.video)||void 0===v?void 0:v.jitter)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Gi,[$i,Object(i["createElementVNode"])("td",qi,Object(i["toDisplayString"])(s.formatMilliseconds(s.video.jitter)),1)])):Object(i["createCommentVNode"])("",!0),void 0!==(null===(g=s.audio)||void 0===g?void 0:g.jitter)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Hi,[Wi,Object(i["createElementVNode"])("td",Xi,Object(i["toDisplayString"])(s.formatMilliseconds(s.audio.jitter)),1)])):Object(i["createCommentVNode"])("",!0),s.videoCaptureTimestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Qi,[Yi,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.videoCaptureTimestamp),class:"col-6"},null,8,Ji)])):Object(i["createCommentVNode"])("",!0),s.videoCaptureDelta?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",Ki,[Zi,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.videoCaptureDelta),class:"col-6"},null,8,es)])):Object(i["createCommentVNode"])("",!0),s.codecs?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ts,[ns,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.codecs),class:"col-6 text-break"},null,8,rs)])):Object(i["createCommentVNode"])("",!0),s.timestamp?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",os,[is,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.timestamp),class:"col-6"},null,8,ss)])):Object(i["createCommentVNode"])("",!0),s.serverId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",as,[cs,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.serverId),class:"col-6"},null,8,us)])):Object(i["createCommentVNode"])("",!0),s.clusterId?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ls,[ds,Object(i["createElementVNode"])("td",{textContent:Object(i["toDisplayString"])(s.clusterId),class:"col-6"},null,8,fs)])):Object(i["createCommentVNode"])("",!0),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",ps,ms)):Object(i["createCommentVNode"])("",!0),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("tr",vs,[Object(i["createElementVNode"])("td",gs,[Object(i["createElementVNode"])("a",{onClick:t[1]||(t[1]=function(){return n.close&&n.close.apply(n,arguments)}),style:{cursor:"pointer"}},"Close stats")])])):Object(i["createCommentVNode"])("",!0)],4)):Object(i["createCommentVNode"])("",!0)])}n("00b4");function ys(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ws(e,t){if(e){if("string"===typeof e)return ys(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ys(e,t):void 0}}function Ss(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=ws(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,a=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){a=!0,i=e},f:function(){try{s||null==n["return"]||n["return"]()}finally{if(a)throw i}}}}n("b64b"),n("accc");var Os=["B","KB","MB","GB","TB"],Cs=["bps","kbps","mbps","gbps"],Es={name:"VideoPlayerStatsTable",props:{close:Function},data:function(){return{stats:{},fps:0,totalFps:0}},mounted:function(){var e=this;this.millicastView.webRTCPeer.initStats(),this.millicastView.webRTCPeer.on("stats",(function(t){var n,r,o,i;null===(n=window.peer)||void 0===n||null===(r=n.getReceivers)||void 0===r||null===(o=(i=r.call(n)).forEach)||void 0===o||o.call(i,(function(t){e.stats.videoSynchronizationSources="video"===t.track.kind?t.getSynchronizationSources():e.stats.videoSynchronizationSources})),e.stats=C(C({},e.stats),t)}))},beforeUnmount:function(){this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeAllListeners("stats")},methods:{closeTable:function(){this.close()},formatTotalBytes:function(e){return js(e)},formatBitrate:function(e){return xs(e)},formatMilliseconds:function(e){return"".concat(1e3*(e||0)," ms")},setFps:function(e){this.fps=e-this.totalFps,this.totalFps=e}},computed:C(C(C({},ke("Controls",{isMobile:function(e){return e.isMobile}})),ke("ViewConnection",{millicastView:function(e){return e.millicastView}})),{},{hasStats:function(){return Object.keys(this.stats).length>0},audio:function(){var e,t=null===(e=this.stats.audio)||void 0===e?void 0:e.inbounds;return(null===t||void 0===t?void 0:t.length)>0?t[0]:null},video:function(){var e,t,n,r=null===(e=this.stats.video)||void 0===e?void 0:e.inbounds,o=Ss(null===(t=this.stats.raw)||void 0===t?void 0:t.values());try{for(o.s();!(n=o.n()).done;){var i=n.value;"inbound-rtp"===i.type&&"video"===i.kind&&this.setFps(i.framesReceived)}}catch(s){o.e(s)}finally{o.f()}return(null===r||void 0===r?void 0:r.length)>0?r[0]:null},codecs:function(){var e,t,n=[];return null!==(e=this.video)&&void 0!==e&&e.mimeType&&n.push(this.video.mimeType),null!==(t=this.audio)&&void 0!==t&&t.mimeType&&n.push(this.audio.mimeType),n.join()},timestamp:function(){var e,t,n,r=null!==(e=null===(t=this.video)||void 0===t?void 0:t.timestamp)&&void 0!==e?e:null===(n=this.audio)||void 0===n?void 0:n.timestamp;return r?new Date(r).toISOString():null},videoCaptureTimestamp:function(){var e,t,n,r,o;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.captureTimestamp&&null!==(n=this.stats.videoSynchronizationSources)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&r.timestamp){var i=ks(this.stats.videoSynchronizationSources[0].captureTimestamp);o=new Date(i).toISOString()}return o},videoCaptureDelta:function(){var e,t,n,r,o;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(t=e[0])&&void 0!==t&&t.captureTimestamp&&null!==(n=this.stats.videoSynchronizationSources)&&void 0!==n&&null!==(r=n[0])&&void 0!==r&&r.timestamp){var i,s=ks(this.stats.videoSynchronizationSources[0].captureTimestamp);o=(null===(i=this.stats.videoSynchronizationSources)||void 0===i?void 0:i[0].timestamp)-s,o="".concat(o," ms")}return o},serverId:function(){var e,t;return null===(e=this.millicastView)||void 0===e||null===(t=e.signaling)||void 0===t?void 0:t.serverId},clusterId:function(){var e,t;return null===(e=this.millicastView)||void 0===e||null===(t=e.signaling)||void 0===t?void 0:t.clusterId}})},js=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t/1024;return r<1||r>1&&n+1>Os.length?"".concat(Math.round(100*t)/100," ").concat(Os[n]):r>1?e(r,n+1):void 0},xs=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t/1e3;return r<1||r>1&&n+1>Cs.length?"".concat(Math.round(100*t)/100," ").concat(Cs[n]):r>1?e(r,n+1):void 0},ks=function(e){return e-22089888e5};n("31ef");const Ts=Xr()(Es,[["render",bs],["__scopeId","data-v-599b32f8"]]);var Is=Ts,Ps={name:"VideoPlayerControlsSettingsStats",components:{VideoPlayerStatsTable:Is},data:function(){return{stats:{},showStats:!1}},computed:C({},ke("Controls",["isLive"])),methods:C(C({},Te("Controls",["setDropup"])),{},{toggleStats:function(){this.showStats=!this.showStats,this.setDropup()}})};n("fe16");const As=Xr()(Ps,[["render",ai],["__scopeId","data-v-343fd755"]]);var Rs=As,Vs=Object(i["createElementVNode"])("i",{class:"ml-viewer-bi-flag-fill align-middle control-icon"},null,-1),Ns=Object(i["createTextVNode"])(" Report Playback Issue ");function Ls(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerReportModal");return Object(i["withDirectives"])((Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.toggleReport&&s.toggleReport.apply(s,arguments)})},[Vs,Ns,o.showReportModal?(Object(i["openBlock"])(),Object(i["createBlock"])(i["Teleport"],{key:0,to:"#vplayer"},[Object(i["createVNode"])(a,{streamId:n.streamId,close:s.toggleReport},null,8,["streamId","close"])])):Object(i["createCommentVNode"])("",!0)],512)),[[i["vShow"],o.showReportButton]])}var Bs=function(e){return Object(i["pushScopeId"])("data-v-ecaf3cb4"),e=e(),Object(i["popScopeId"])(),e},Ds={class:"header"},_s=Bs((function(){return Object(i["createElementVNode"])("span",{class:"ml-viewer-bi-flag-fill align-middle"},null,-1)})),Ms=["textContent"],Fs={class:"form-group"},Us=Bs((function(){return Object(i["createElementVNode"])("label",{for:"name-input"},"Name",-1)})),zs={class:"form-group"},Gs=Bs((function(){return Object(i["createElementVNode"])("label",{for:"email-input"},"Email",-1)})),$s={class:"form-group"},qs=Bs((function(){return Object(i["createElementVNode"])("label",{for:"description-input"},"Description",-1)})),Hs=Object(i["createTextVNode"])("Cancel"),Ws=Object(i["createTextVNode"])("Submit");function Xs(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("base-button"),c=Object(i["resolveComponent"])("base-modal");return Object(i["openBlock"])(),Object(i["createBlock"])(c,{toggle:n.close},{"modal-header":Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("div",Ds,[_s,Object(i["createElementVNode"])("h3",{textContent:Object(i["toDisplayString"])(o.title)},null,8,Ms)])]})),"modal-body":Object(i["withCtx"])((function(){return[Object(i["createElementVNode"])("form",{id:"reportForm",onSubmit:t[3]||(t[3]=Object(i["withModifiers"])((function(){return s.sendReport&&s.sendReport.apply(s,arguments)}),["prevent"]))},[Object(i["createElementVNode"])("div",Fs,[Us,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"text",class:"form-control",id:"name-input",placeholder:"Name Lastname","onUpdate:modelValue":t[0]||(t[0]=function(e){return o.report.name=e}),required:""},null,512),[[i["vModelText"],o.report.name]])]),Object(i["createElementVNode"])("div",zs,[Gs,Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"email",class:"form-control",id:"email-input",placeholder:"name@example.com","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.report.email=e}),required:""},null,512),[[i["vModelText"],o.report.email]])]),Object(i["createElementVNode"])("div",$s,[qs,Object(i["withDirectives"])(Object(i["createElementVNode"])("textarea",{class:"form-control",id:"description-input",rows:"4","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.report.description=e}),required:""},null,512),[[i["vModelText"],o.report.description]])])],32)]})),"modal-footer":Object(i["withCtx"])((function(){return[Object(i["createVNode"])(a,{btype:"btn-secondary",onClick:n.close},{default:Object(i["withCtx"])((function(){return[Hs]})),_:1},8,["onClick"]),Object(i["createVNode"])(a,{type:"submit",btype:"btn-p",form:"reportForm",disabled:o.isLoading},{default:Object(i["withCtx"])((function(){return[Ws]})),_:1},8,["disabled"])]})),_:1},8,["toggle"])}n("e9c4");var Qs={name:"VideoPlayerReportModal",props:{close:Function,streamId:String},data:function(){return{title:"Report playback issue",report:{from:"Viewer",name:"",email:"",description:"",streamId:"",accountId:"",serverId:"",clusterId:"",url:"",log:[],statsInitialized:!1},localStats:[],isLoading:!1}},methods:{sendReport:function(){var e=this;return d(u().mark((function t(){var n,r,o,i,s,a,c,l,d,f,p,h;return u().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:for(n=k["Logger"].getHistory(),r=0;r<e.localStats.length;r++)n.push("[PeerConnectionStats] - "+JSON.stringify(e.localStats[r]));return e.report.log=n,o=$r(),t.prev=6,e.isLoading=!0,f={"Content-Type":"application/json"},e.report.serverId=null!==(i=null===(s=e.millicastView)||void 0===s||null===(a=s.signaling)||void 0===a?void 0:a.serverId)&&void 0!==i?i:"NOT_CONNECTED",e.report.clusterId=null!==(c=null===(l=e.millicastView)||void 0===l||null===(d=l.signaling)||void 0===d?void 0:d.clusterId)&&void 0!==c?c:"NOT_CONNECTED",t.next=13,fetch(Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_REPORT_URL+"/reports",{method:"POST",headers:f,body:JSON.stringify(e.report)});case 13:o.success("Report sent successfully",{timeout:3e3}),t.next=21;break;case 16:t.prev=16,t.t0=t["catch"](6),h="Error: couldn't send report",null!==(p=t.t0.response)&&void 0!==p&&p.data&&(h+=", "+t.t0.response.data),o.error(h,{timeout:3e3});case 21:return t.prev=21,e.isLoading=!1,e.close(),t.finish(21);case 25:case"end":return t.stop()}}),t,null,[[6,16,21,25]])})))()},statsHandler:function(e){var t=40;this.localStats.push(e),this.localStats.length>=t&&(this.localStats=this.localStats.slice(-t))}},computed:C({},ke("ViewConnection",{millicastView:function(e){return e.millicastView}})),mounted:function(){var e,t,n,r,o;this.report.accountId=null===(e=this.streamId)||void 0===e?void 0:e.match(/^(.*)\/.*$/)[1],this.report.streamId=null===(t=this.streamId)||void 0===t?void 0:t.match(/^.*\/(.*)$/)[1],this.report.url=window.location.href,null===(n=this.millicastView)||void 0===n||!n.webRTCPeer||null!==(r=this.millicastView)&&void 0!==r&&null!==(o=r.webRTCPeer)&&void 0!==o&&o.peerConnectionStats||(this.millicastView.webRTCPeer.initStats(),this.statsInitialized=!0),this.millicastView.webRTCPeer.on("stats",this.statsHandler)},beforeUnmount:function(){this.statsInitialized&&this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeListener("stats",this.statsHandler)}};n("0ae6");const Ys=Xr()(Qs,[["render",Xs],["__scopeId","data-v-ecaf3cb4"]]);var Js=Ys,Ks={name:"VideoPlayerControlsSettingsReportIssue",components:{VideoPlayerReportModal:Js},props:{streamId:String},data:function(){return{showReportModal:!1,showReportButton:!1}},methods:C(C({},Te("Controls",["setDropup"])),{},{toggleReport:function(){this.showReportModal=!this.showReportModal,this.setDropup("")}}),mounted:function(){this.showReportButton=Object({NODE_ENV:"production",BASE_URL:"/"}).VUE_APP_REPORT_URL}};const Zs=Xr()(Ks,[["render",Ls]]);var ea=Zs,ta=function(e){return Object(i["pushScopeId"])("data-v-628fc5c6"),e=e(),Object(i["popScopeId"])(),e},na=ta((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-left p-0"},null,-1)})),ra=["onClick"],oa={class:"form-check p-0"},ia={class:"row"},sa={class:"col-1 mr-1"},aa={class:"bi ml-viewer-bi-check p-0"},ca=["innerHTML"],ua={key:1};function la(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])(i["Fragment"],null,[Object(i["createElementVNode"])("h6",{class:"dropdown-header back-header",onClick:t[0]||(t[0]=function(t){return e.setDropup("settings")})},[na,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(n.title),1)]),(Object(i["openBlock"])(!0),Object(i["createElementBlock"])(i["Fragment"],null,Object(i["renderList"])(n.items,(function(e){return Object(i["openBlock"])(),Object(i["createElementBlock"])("a",{key:e.selectId,class:Object(i["normalizeClass"])([{disabled:e.disabled},"dropdown-item"]),onClick:function(t){return s.handleSelect(e)}},[Object(i["createElementVNode"])("div",oa,[Object(i["createElementVNode"])("div",ia,[Object(i["createElementVNode"])("div",sa,[Object(i["withDirectives"])(Object(i["createElementVNode"])("i",aa,null,512),[[i["vShow"],n.compare(n.selected,e)]])]),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["item-name",[null===(null===e||void 0===e?void 0:e.sourceId)?"main":""]])},[n.unsupportedFlagEmoji(null===e||void 0===e?void 0:e.name)?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",{key:0,innerHTML:n.sourceFlagEmojiToPng(null===e||void 0===e?void 0:e.name)},null,8,ca)):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",ua,Object(i["toDisplayString"])(null===e||void 0===e?void 0:e.name),1))],2)])])],10,ra)})),128))],64)}var da={name:"VideoPlayerControlsSettingsDropdown",components:{},props:{title:String,handleClick:Function,selected:Object,items:Array,compare:Function,unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:{},methods:C(C({},Te("Controls",["setDropup"])),{},{handleSelect:function(e){this.handleClick(e),this.setDropup("")}})};n("285e");const fa=Xr()(da,[["render",la],["__scopeId","data-v-628fc5c6"]]);var pa=fa,ha={name:"VideoPlayerControlsSettings",components:{VideoPlayerControlsSettingsVideoTrack:_o,VideoPlayerControlsSettingsAudioTrack:Yo,VideoPlayerControlsSettingsQuality:ri,VideoPlayerControlsSettingsStats:Rs,VideoPlayerControlsSettingsReportIssue:ea,VideoPlayerControlsSettingsDropdown:pa},props:{streamId:String},data:function(){return{viewerVersion:"",showDropup:!1,settingsWidth:"0px",selected:{},items:[],dropupTitle:"",handleClick:function(){},compare:function(){}}},computed:C(C(C(C(C({},Ie("Layers",["getActiveMedias"])),Ie("Sources",["getVideoSources","getAudioSources","getVideoHasMain","getAudioHasMain"])),ke("Layers",{selectedQuality:function(e){return e.selectedQuality}})),ke("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource}})),ke("Controls",{isMobile:function(e){return e.isMobile},dropup:function(e){return e.dropup},trackWarning:function(e){return e.trackWarning}})),methods:C(C({},Te("Controls",["setDropup","toggleFullscreen"])),{},{compareItems:function(e,t){return(null===e||void 0===e?void 0:e.name)===(null===t||void 0===t?void 0:t.name)},compareSources:function(e,t){return(null===e||void 0===e?void 0:e.sourceId)===(null===t||void 0===t?void 0:t.sourceId)},setDropupSettings:function(e,t,n,r,o){this.selected=e,this.items=t,this.dropupTitle=n,this.handleClick=r,this.compare=o},unsupportedFlagEmoji:function(e){var t,n=navigator.userAgent,r=-1!==n.indexOf("Chrome"),o=null!==e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return!!r&&(t="Windows"==navigator.userAgentData.platform,o&&t)},sourceFlagEmojiToPng:function(e){var t=e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return t.forEach((function(t){var n=Array.from(t,(function(e){return e.codePointAt()})).map((function(e){return String.fromCharCode(e-127397).toLowerCase()})).join("");e=e.replace(t," <img src='https://flagcdn.com/20x15/".concat(n,'.png\' alt="FlagEmoji"}>'))})),e}}),mounted:function(){this.viewerVersion=Object({NODE_ENV:"production",BASE_URL:"/"}).PACKAGE_VERSION?"v"+Object({NODE_ENV:"production",BASE_URL:"/"}).PACKAGE_VERSION:""},watch:{dropup:function(e){if("videoTracks"===e||"audioTracks"===e||"qualities"===e){switch(this.settingsWidth=this.$refs.settings.clientWidth+"px",e){case"videoTracks":var t=function(){var e=d(u().mark((function e(t){var n;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,on({kind:"video",source:t});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),n=$r(),n.error("There was an error selecting the desired source, try again",{timeout:5e3});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();this.setDropupSettings(this.selectedVideoSource,this.getVideoSources,"Video Source",t,this.compareSources);break;case"audioTracks":var n=function(){var e=d(u().mark((function e(t){var n;return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,on({kind:"audio",source:t});case 3:e.next=9;break;case 5:e.prev=5,e.t0=e["catch"](0),n=$r(),n.error("There was an error selecting the desired source, try again",{timeout:5e3});case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();this.setDropupSettings(this.selectedAudioSource,this.getAudioSources,"Audio Source",n,this.compareSources);break;case"qualities":var r=function(e){rn(e)};this.setDropupSettings(this.selectedQuality,this.getActiveMedias,"Video Quality",r,this.compareItems);break}this.showDropup=!0}else this.showDropup=!1},getActiveMedias:function(){"qualities"===this.dropup&&(this.items=this.getActiveMedias)},getVideoSources:function(){"videoTracks"===this.dropup&&(this.items=this.getVideoSources)},getAudioSources:function(){"audioTracks"===this.dropup&&(this.items=this.getAudioSources)}}};n("d405");const ma=Xr()(ha,[["render",xo],["__scopeId","data-v-665c11a7"]]);var va=ma,ga=function(e){return Object(i["pushScopeId"])("data-v-0c362476"),e=e(),Object(i["popScopeId"])(),e},ba={key:0,class:"align-middle"},ya={class:"badge",style:{border:"0px"}},wa=ga((function(){return Object(i["createElementVNode"])("i",{class:"bi ml-viewer-bi-person-fill"},null,-1)}));function Sa(e,t,n,r,o,s){return s.count?(Object(i["openBlock"])(),Object(i["createElementBlock"])("h4",ba,[Object(i["createElementVNode"])("span",ya,[wa,Object(i["createTextVNode"])(" "+Object(i["toDisplayString"])(s.count),1)])])):Object(i["createCommentVNode"])("",!0)}var Oa={name:"VideoPlayerControlsUserCount",computed:C(C({},ke("Controls",["viewerCount"])),{},{count:function(){var e;return null===(e=this.viewerCount)||void 0===e?void 0:e.toLocaleString("en")}})};n("3038");const Ca=Xr()(Oa,[["render",Sa],["__scopeId","data-v-0c362476"]]);var Ea=Ca,ja={class:"d-inline"};function xa(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("span",ja,[Object(i["createElementVNode"])("i",{class:Object(i["normalizeClass"])(["h3 align-middle control-icon",s.volumeIcon]),onClick:t[0]||(t[0]=function(){return s.toggleMuted&&s.toggleMuted.apply(s,arguments)}),onMousemove:t[1]||(t[1]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),Object(i["withDirectives"])(Object(i["createElementVNode"])("input",{type:"range",class:Object(i["normalizeClass"])(["align-middle mr-2 slider",{show:o.showVolume,volumeMobile:!0}]),id:"volumeSlider",min:"0",max:"1",step:".01","onUpdate:modelValue":t[2]||(t[2]=function(e){return o.volume=e}),onMousemove:t[3]||(t[3]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),[[i["vModelText"],o.volume]])])}var ka={name:"VideoPlayerControlsVolume",data:function(){return{volume:1,showVolume:!1}},watch:{volume:function(e){0!==this.volume||this.muted?this.muted&&this.toggleMuted():this.toggleMuted(),this.setVideoVolume(e)}},computed:C(C({},ke("Controls",{muted:function(e){return e.muted}})),{},{volumeIcon:function(){return this.muted||0===this.volume?"ml-viewer-bi-volume-mute-fill":this.volume<.1?"ml-viewer-bi-volume-off-fill":this.volume<.5?"ml-viewer-bi-volume-down-fill":"ml-viewer-bi-volume-up-fill"}}),methods:C(C({},Te("Controls",["setVideoMuted","setVideoVolume"])),{},{toggleVolumeSlider:function(){var e=this;this.showVolumeTimeout&&clearTimeout(this.showVolumeTimeout),this.showVolume=!0,this.showVolumeTimeout=setTimeout((function(){e.showVolume=!1}),4e3)},toggleMuted:function(){this.setVideoMuted(!this.muted)}})};n("7308");const Ta=Xr()(ka,[["render",xa],["__scopeId","data-v-f8d4bccc"]]);var Ia=Ta,Pa=function(e){return Object(i["pushScopeId"])("data-v-bc9eb79c"),e=e(),Object(i["popScopeId"])(),e},Aa={class:"row"},Ra={key:0},Va=["textContent"],Na={key:0,class:"col-6 text-right"},La={key:1,class:"col-5 pl-0 pr-1 text-right"},Ba={key:0,class:"dropup"},Da=Pa((function(){return Object(i["createElementVNode"])("div",{class:"dropdown-header d-flex m-0 col-12"},[Object(i["createElementVNode"])("h6",{class:"p-0 m-0"},"Options")],-1)}));function _a(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("VideoPlayerControlsPlay"),c=Object(i["resolveComponent"])("VideoPlayerControlsVolume"),u=Object(i["resolveComponent"])("VideoPlayerControlsSettings"),l=Object(i["resolveComponent"])("VideoPlayerControlsPip"),d=Object(i["resolveComponent"])("VideoPlayerControlsFullscreen"),f=Object(i["resolveComponent"])("VideoPlayerControlsSettingsStats");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Aa,[Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])([e.isMobile?"col-7 text-left pr-0":"col-6 text-left"])},[n.isConnected?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ra,[n.showButton("play")?(Object(i["openBlock"])(),Object(i["createBlock"])(a,{key:0})):Object(i["createCommentVNode"])("",!0),n.showButton("volume")?(Object(i["openBlock"])(),Object(i["createBlock"])(c,{key:1})):Object(i["createCommentVNode"])("",!0),e.isMobile?Object(i["createCommentVNode"])("",!0):(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",{key:2,class:"h5 align-middle p-2",textContent:Object(i["toDisplayString"])(n.currentTime)},null,8,Va))]))],2),e.isMobile?(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",La,[e.isLive&&s.pipEnabled&&n.showButton("pip")&&s.isVideoTag||o.fullscreenEnabled?(Object(i["openBlock"])(),Object(i["createElementBlock"])("span",Ba,[Object(i["createElementVNode"])("i",{class:"h3 align-middle control-icon bi ml-viewer-bi-three-dots-vertical",onClick:t[0]||(t[0]=function(t){return e.setDropup("mobile")})}),Object(i["createElementVNode"])("div",{class:Object(i["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"mobile"===e.dropup}])},[Da,Object(i["createVNode"])(f),s.pipEnabled&&!e.fullscreen?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:0})):Object(i["createCommentVNode"])("",!0),o.fullscreenEnabled?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:1,click:e.toggleFullscreen},null,8,["click"])):Object(i["createCommentVNode"])("",!0)],2)])):Object(i["createCommentVNode"])("",!0)])):(Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Na,[n.showButton("settings")?(Object(i["openBlock"])(),Object(i["createBlock"])(u,{key:0,streamId:n.streamId},null,8,["streamId"])):Object(i["createCommentVNode"])("",!0),s.pipEnabled&&!e.fullscreen?(Object(i["openBlock"])(),Object(i["createBlock"])(l,{key:1})):Object(i["createCommentVNode"])("",!0),o.fullscreenEnabled?(Object(i["openBlock"])(),Object(i["createBlock"])(d,{key:2,click:e.toggleFullscreen},null,8,["click"])):Object(i["createCommentVNode"])("",!0)]))])}var Ma={name:"VideoPlayer",components:{VideoPlayerControlsFullscreen:ao,VideoPlayerControlsPip:po,VideoPlayerControlsPlay:go,VideoPlayerControlsSettings:va,VideoPlayerControlsVolume:Ia,VideoPlayerControlsSettingsStats:Rs},props:{showButton:Function,streamId:String,isConnected:Boolean,currentTime:String},data:function(){return{dropupShow:!1,fullscreenEnabled:this.showFullscreen()}},computed:C(C({},ke("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},isMobile:function(e){return e.isMobile},isLive:function(e){return e.isLive},fullscreen:function(e){return e.fullscreen}})),{},{isVideoTag:function(){var e;return"VIDEO"===(null===(e=this.video)||void 0===e?void 0:e.nodeName)},pipEnabled:function(){return this.showButton("pip")&&document.pictureInPictureEnabled&&this.isLive&&this.isVideoTag}}),methods:C(C({},Te("Controls",["setDropup","toggleFullscreen"])),{},{showFullscreen:function(){var e=this.showButton("fullscreen");return e&&!Fa()?(console.warn("Fullscreen disabled due to incompatibility with the browser."),!1):e}}),beforeMount:function(){return d(u().mark((function e(){return u().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,sn();case 2:case"end":return e.stop()}}),e)})))()}},Fa=function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled};n("2a86");const Ua=Xr()(Ma,[["render",_a],["__scopeId","data-v-bc9eb79c"]]);var za=Ua,Ga={name:"VideoPlayerContainer",components:{VideoPlayerMedia:Yr,VideoPlayerControlsBadge:no,VideoPlayerControlsUserCount:Ea,VideoPlayerControlsContainer:za},data:function(){return{show:!0,timeInterval:0,secondsElapsed:0,cast:{isConnected:!1},windowWidth:!1,controlsTimeout:0,mobileFullscreen:!1}},mounted:function(){var e,t=this;this.windowWidth=window.innerWidth,null===(e=screen.orientation)||void 0===e||e.addEventListener("change",this.handleOrientationChange),this.$nextTick((function(){window.addEventListener("resize",t.onResize)})),this.controlsTimeout=setTimeout((function(){t.show=!1}),4e3),this.timeInterval=setInterval((function(){t.secondsElapsed=t.video.currentTime}),500),this.setCastOptions({streamId:this.queryParams.streamId,token:this.queryParams.token,loading:this.isLoading})},beforeUnmount:function(){clearInterval(this.timeInterval),window.removeEventListener("resize",this.onResize)},computed:C(C(C(C({},ke("Params",{queryParams:function(e){return e.queryParams}})),ke("Sources",{videoSources:function(e){return e.videoSources},audioSources:function(e){return e.audioSources},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource}})),ke("Controls",{video:function(e){return e.video},playing:function(e){return e.playing},player:function(e){return e.player},fullscreen:function(e){return e.fullscreen},dropup:function(e){return e.dropup},isLoading:function(e){return e.isLoading},volume:function(e){return e.volume},playerMuted:function(e){return e.muted},castIsConnected:function(e){return e.castIsConnected},castDevice:function(e){return e.castDevice},srcObject:function(e){return e.srcObject},autoPlayMuted:function(e){return e.autoPlayMuted},isLive:function(e){return e.isLive}})),{},{currentTime:function(){var e=this.secondsElapsed,t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}}),methods:C(C(C(C({},Te("Layers",["deleteLayers"])),Te("Sources",["deleteSource"])),Te("Controls",["setVideo","setMobile","setIsLive","setIsLoading","setTrackWarning","setDropup","setVideoVolume","setVideoMuted","setPlaying","setCastOptions","setAutoPlayMuted","toggleFullscreen"])),{},{onResize:function(){this.windowWidth=window.innerWidth},showControls:function(){this.controlsTimeout&&clearTimeout(this.controlsTimeout),this.show=!0,this.hideControls()},hideControls:function(){var e=this;this.playing&&""===this.dropup&&(this.controlsTimeout=setTimeout((function(){e.show=!1}),4e3))},showButton:function(e){return!this.queryParams.hideButtons.includes(e)},handleOrientationChange:function(){var e=screen.orientation.type;"portrait-primary"===e&&$a()&&!this.mobileFullscreen?this.leaveFullScreen():"landscape-primary"===e&&this.goFullScreen()},goFullScreen:function(){var e,t,n,r,o,i,s,a=this.$refs.player;null!==(e=null!==(t=null!==(n=null===(r=a.requestFullscreen)||void 0===r?void 0:r.call(a))&&void 0!==n?n:null===(o=a.webkitRequestFullscreen)||void 0===o?void 0:o.call(a))&&void 0!==t?t:null===(i=a.mozRequestFullScreen)||void 0===i?void 0:i.call(a))&&void 0!==e||null===(s=a.msRequestFullscreen)||void 0===s||s.call(a)},leaveFullScreen:function(){var e,t,n,r,o,i,s,a,c,u,l;null!==(e=null!==(t=null!==(n=null===(r=(o=document).exitFullscreen)||void 0===r?void 0:r.call(o))&&void 0!==n?n:null===(i=(s=document).webkitExitFullscreen)||void 0===i?void 0:i.call(s))&&void 0!==t?t:null===(a=(c=document).mozCancelFullScreen)||void 0===a?void 0:a.call(c))&&void 0!==e||null===(u=(l=document).msExitFullscreen)||void 0===u||u.call(l)},tapUnmute:function(){this.setVideoMuted(!1),this.setAutoPlayMuted(!1)}}),watch:{playing:function(e){e?this.hideControls():this.showControls()},windowWidth:function(e){this.setMobile(e<770)},fullscreen:function(){document.pictureInPictureElement&&document.exitPictureInPicture(),$a()?(this.mobileFullscreen=!1,this.leaveFullScreen()):(this.mobileFullscreen=!0,this.goFullScreen())},dropup:function(){this.showControls()},token:function(){this.setCastOptions({streamId:this.queryParams.streamId,token:this.queryParams.token,loading:this.isLoading})},castIsConnected:function(e){if(e){this.setPlaying(!1),this.setIsLoading(!1);var t=this.castDevice;this.cast={isConnected:e,device:t},this.showControls()}else this.cast={isConnected:e}},queryParams:function(){this.setCastOptions({streamId:this.queryParams.streamId,token:this.queryParams.token,loading:this.isLoading})}}},$a=function(){return document.fullscreenElement||document.webkitFullscreenElement};n("0287");const qa=Xr()(Ga,[["render",O],["__scopeId","data-v-0cdb4307"]]);var Ha=qa,Wa=(n("cd74"),n("ab8b"),n("da96"),{name:"App",components:{VideoPlayerContainer:Ha},props:{paramsOptions:Object},methods:{updateParams:function(){var e,t,n,r,o,i,s;this.paramsOptions&&$e({streamId:(null===(e=this.paramsOptions)||void 0===e?void 0:e.accountId)+"/"+(null===(t=this.paramsOptions)||void 0===t?void 0:t.streamName),audioOnly:null!==(n=null===(r=this.paramsOptions)||void 0===r?void 0:r.audioOnly)&&void 0!==n&&n,token:null===(o=this.paramsOptions)||void 0===o?void 0:o.token,image:null===(i=this.paramsOptions)||void 0===i?void 0:i.image,directorUrl:null,hideButtons:null!==(s=this.paramsOptions.hideButtons)&&void 0!==s?s:[]})}},mounted:function(){var e=this;return d(u().mark((function t(){var n,r;return u().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=document.querySelector("#vplayer"),t.next=3,$r();case 3:r=t.sent,r.updateDefaults({container:n}),e.updateParams();case 6:case"end":return t.stop()}}),t)})))()},watch:{paramsOptions:function(){this.updateParams()}}});n("68b4");const Xa=Xr()(Wa,[["render",a],["__scopeId","data-v-78a65724"]]);var Qa=Xa,Ya=function(e){return Object(i["pushScopeId"])("data-v-5f386c31"),e=e(),Object(i["popScopeId"])(),e},Ja={class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},Ka={class:"modal-dialog modal-dialog-scrollable",role:"document"},Za={class:"modal-content"},ec={class:"modal-header"},tc=["textContent"],nc=Ya((function(){return Object(i["createElementVNode"])("span",{"aria-hidden":"true"},"×",-1)})),rc=[nc],oc={class:"modal-body"},ic={class:"modal-footer"},sc=Object(i["createTextVNode"])("OK");function ac(e,t,n,r,o,s){var a=Object(i["resolveComponent"])("base-button");return Object(i["openBlock"])(),Object(i["createElementBlock"])("div",Ja,[Object(i["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(){return n.toggle&&n.toggle.apply(n,arguments)}),class:"backdrop"}),Object(i["createElementVNode"])("div",Ka,[Object(i["createElementVNode"])("div",Za,[Object(i["createElementVNode"])("div",ec,[Object(i["renderSlot"])(e.$slots,"modal-header",{},(function(){return[Object(i["createElementVNode"])("h5",{class:"modal-title",textContent:Object(i["toDisplayString"])(n.title)},null,8,tc),Object(i["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=function(){return n.toggle&&n.toggle.apply(n,arguments)})},rc)]}),!0)]),Object(i["createElementVNode"])("div",oc,[Object(i["renderSlot"])(e.$slots,"modal-body",{},void 0,!0)]),Object(i["createElementVNode"])("div",ic,[Object(i["renderSlot"])(e.$slots,"modal-footer",{},(function(){return[Object(i["createVNode"])(a,{btype:"btn-p",onClick:n.toggle},{default:Object(i["withCtx"])((function(){return[sc]})),_:1},8,["onClick"])]}),!0)])])])])}var cc={name:"BaseModal",props:{title:String,toggle:Function}};n("a301");const uc=Xr()(cc,[["render",ac],["__scopeId","data-v-5f386c31"]]);var lc=uc;function dc(e,t,n,r,o,s){return Object(i["openBlock"])(),Object(i["createElementBlock"])("button",{type:"button",class:Object(i["normalizeClass"])(["btn shadow-none",[n.btype]])},[Object(i["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var fc={name:"BaseButton",props:["btype","bstyle","bcolor"]};n("66a6");const pc=Xr()(fc,[["render",dc],["__scopeId","data-v-630c6c0a"]]);var hc=pc,mc=function(e,t){return 0===t.filter((function(t){return t.type===e.type})).length&&e},vc={install:function(e,t){var n,r,o,i;t.store?(t.store.registerModule("Controls",Fe),t.store.registerModule("Layers",_e),t.store.registerModule("Params",He),t.store.registerModule("Sources",Be),t.store.registerModule("ViewConnection",ze)):e.use(We),$e({streamId:(null===t||void 0===t?void 0:t.accountId)+"/"+(null===t||void 0===t?void 0:t.streamName),audioOnly:null!==(n=t.audioOnly)&&void 0!==n&&n,token:null===t||void 0===t?void 0:t.token,image:null===t||void 0===t?void 0:t.image,directorUrl:null,hideButtons:null!==(r=t.hideButtons)&&void 0!==r?r:[],autoplay:null===(o=null===t||void 0===t?void 0:t.autoplay)||void 0===o||o,muted:null!==(i=null===t||void 0===t?void 0:t.muted)&&void 0!==i&&i}),e.use(qr,{transition:"Vue-Toastification__fade",maxToasts:2,newestOnTop:!0,position:"top-center",closeOnClick:!1,closeButton:!1,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!1,timeout:!1,filterBeforeCreate:mc}),e.component("base-modal",lc),e.component("base-button",hc),e.component("VideoPlayer",Qa)}};t["default"]=vc},fb6a:function(e,t,n){"use strict";var r=n("23e7"),o=n("e8b5"),i=n("68ee"),s=n("861d"),a=n("23cb"),c=n("07fa"),u=n("fc6a"),l=n("8418"),d=n("b622"),f=n("1dde"),p=n("f36a"),h=f("slice"),m=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,f=u(this),h=c(f),b=a(e,h),y=a(void 0===t?h:t,h);if(o(f)&&(n=f.constructor,i(n)&&(n===v||o(n.prototype))?n=void 0:s(n)&&(n=n[m],null===n&&(n=void 0)),n===v||void 0===n))return p(f,b,y);for(r=new(void 0===n?v:n)(g(y-b,0)),d=0;b<y;b++,d++)b in f&&l(r,d,f[b]);return r.length=d,r}})},fc6a:function(e,t,n){var r=n("44ad"),o=n("1d80");e.exports=function(e){return r(o(e))}},fce3:function(e,t,n){var r=n("d039"),o=n("da84"),i=o.RegExp;e.exports=r((function(){var e=i(".","s");return!(e.dotAll&&e.exec("\n")&&"s"===e.flags)}))},fdbc:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){var r=n("04f8");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},fe16:function(e,t,n){"use strict";n("70ab")}})}));
//# sourceMappingURL=millicast-vue-viewer-plugin.umd.min.js.map