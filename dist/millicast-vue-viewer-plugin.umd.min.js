(function(e,t){"object"===typeof exports&&"object"===typeof module?module.exports=t(require("vue")):"function"===typeof define&&define.amd?define([],t):"object"===typeof exports?exports["millicast-vue-viewer-plugin"]=t(require("vue")):e["millicast-vue-viewer-plugin"]=t(e["Vue"])})("undefined"!==typeof self?self:this,(function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="fb15")}({"001d":function(e,t,n){},"00b4":function(e,t,n){"use strict";n("ac1f");var r=n("23e7"),i=n("c65b"),o=n("1626"),s=n("825a"),a=n("577e"),c=function(){var e=!1,t=/[ac]/;return t.exec=function(){return e=!0,/./.exec.apply(this,arguments)},!0===t.test("abc")&&e}(),l=/./.test;r({target:"RegExp",proto:!0,forced:!c},{test:function(e){var t=s(this),n=a(e),r=t.exec;if(!o(r))return i(l,t,n);var c=i(r,t,n);return null!==c&&(s(c),!0)}})},"00ee":function(e,t,n){"use strict";var r=n("b622"),i=r("toStringTag"),o={};o[i]="z",e.exports="[object z]"===String(o)},"01b4":function(e,t,n){"use strict";var r=function(){this.head=null,this.tail=null};r.prototype={add:function(e){var t={item:e,next:null},n=this.tail;n?n.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e){var t=this.head=e.next;return null===t&&(this.tail=null),e.item}}},e.exports=r},"0366":function(e,t,n){"use strict";var r=n("4625"),i=n("59ed"),o=n("40d5"),s=r(r.bind);e.exports=function(e,t){return i(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},"04d1":function(e,t,n){"use strict";var r=n("342f"),i=r.match(/firefox\/(\d+)/i);e.exports=!!i&&+i[1]},"04f8":function(e,t,n){"use strict";var r=n("2d00"),i=n("d039"),o=n("da84"),s=o.String;e.exports=!!Object.getOwnPropertySymbols&&!i((function(){var e=Symbol("symbol detection");return!s(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&r&&r<41}))},"057f":function(e,t,n){"use strict";var r=n("c6b6"),i=n("fc6a"),o=n("241c").f,s=n("f36a"),a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],c=function(e){try{return o(e)}catch(t){return s(a)}};e.exports.f=function(e){return a&&"Window"===r(e)?c(e):o(i(e))}},"06cf":function(e,t,n){"use strict";var r=n("83ab"),i=n("c65b"),o=n("d1e7"),s=n("5c6c"),a=n("fc6a"),c=n("a04b"),l=n("1a2d"),u=n("0cfb"),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=a(e),t=c(t),u)try{return d(e,t)}catch(n){}if(l(e,t))return s(!i(o.f,e,t),e[t])}},"07ac":function(e,t,n){"use strict";var r=n("23e7"),i=n("6f53").values;r({target:"Object",stat:!0},{values:function(e){return i(e)}})},"07fa":function(e,t,n){"use strict";var r=n("50c4");e.exports=function(e){return r(e.length)}},"083a":function(e,t,n){"use strict";var r=n("0d51"),i=TypeError;e.exports=function(e,t){if(!delete e[t])throw new i("Cannot delete property "+r(t)+" of "+r(e))}},"0b0b":function(e,t,n){},"0b42":function(e,t,n){"use strict";var r=n("e8b5"),i=n("68ee"),o=n("861d"),s=n("b622"),a=s("species"),c=Array;e.exports=function(e){var t;return r(e)&&(t=e.constructor,i(t)&&(t===c||r(t.prototype))?t=void 0:o(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?c:t}},"0b43":function(e,t,n){"use strict";var r=n("04f8");e.exports=r&&!!Symbol["for"]&&!!Symbol.keyFor},"0c47":function(e,t,n){"use strict";var r=n("da84"),i=n("d44e");i(r.JSON,"JSON",!0)},"0cb2":function(e,t,n){"use strict";var r=n("e330"),i=n("7b0b"),o=Math.floor,s=r("".charAt),a=r("".replace),c=r("".slice),l=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,u=/\$([$&'`]|\d{1,2})/g;e.exports=function(e,t,n,r,d,f){var p=n+e.length,h=r.length,m=u;return void 0!==d&&(d=i(d),m=l),a(f,m,(function(i,a){var l;switch(s(a,0)){case"$":return"$";case"&":return e;case"`":return c(t,0,n);case"'":return c(t,p);case"<":l=d[c(a,1,-1)];break;default:var u=+a;if(0===u)return i;if(u>h){var f=o(u/10);return 0===f?i:f<=h?void 0===r[f-1]?s(a,1):r[f-1]+s(a,1):i}l=r[u-1]}return void 0===l?"":l}))}},"0ccb":function(e,t,n){"use strict";var r=n("e330"),i=n("50c4"),o=n("577e"),s=n("1148"),a=n("1d80"),c=r(s),l=r("".slice),u=Math.ceil,d=function(e){return function(t,n,r){var s,d,f=o(a(t)),p=i(n),h=f.length,m=void 0===r?" ":o(r);return p<=h||""===m?f:(s=p-h,d=c(m,u(s/m.length)),d.length>s&&(d=l(d,0,s)),e?f+d:d+f)}};e.exports={start:d(!1),end:d(!0)}},"0cfb":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("cc12");e.exports=!r&&!i((function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},"0d26":function(e,t,n){"use strict";var r=n("e330"),i=Error,o=r("".replace),s=function(e){return String(new i(e).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,c=a.test(s);e.exports=function(e,t){if(c&&"string"==typeof e&&!i.prepareStackTrace)while(t--)e=o(e,a,"");return e}},"0d51":function(e,t,n){"use strict";var r=String;e.exports=function(e){try{return r(e)}catch(t){return"Object"}}},"107c":function(e,t,n){"use strict";var r=n("d039"),i=n("da84"),o=i.RegExp;e.exports=r((function(){var e=o("(?<a>b)","g");return"b"!==e.exec("b").groups.a||"bc"!=="b".replace(e,"$<a>c")}))},1148:function(e,t,n){"use strict";var r=n("5926"),i=n("577e"),o=n("1d80"),s=RangeError;e.exports=function(e){var t=i(o(this)),n="",a=r(e);if(a<0||a===1/0)throw new s("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},"12a8":function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("eb1d"),s=n("59ed"),a=n("7b0b"),c=n("9bf2");i&&r({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){c.f(a(this),e,{get:s(t),enumerable:!0,configurable:!0})}})},"131a":function(e,t,n){"use strict";var r=n("23e7"),i=n("d2bb");r({target:"Object",stat:!0},{setPrototypeOf:i})},1323:function(e,t,n){},"13d2":function(e,t,n){"use strict";var r=n("e330"),i=n("d039"),o=n("1626"),s=n("1a2d"),a=n("83ab"),c=n("5e77").CONFIGURABLE,l=n("8925"),u=n("69f3"),d=u.enforce,f=u.get,p=String,h=Object.defineProperty,m=r("".slice),v=r("".replace),g=r([].join),b=a&&!i((function(){return 8!==h((function(){}),"length",{value:8}).length})),y=String(String).split("String"),w=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+v(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||c&&e.name!==t)&&(a?h(e,"name",{value:t,configurable:!0}):e.name=t),b&&n&&s(n,"arity")&&e.length!==n.arity&&h(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&h(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(i){}var r=d(e);return s(r,"source")||(r.source=g(y,"string"==typeof t?t:"")),e};Function.prototype.toString=w((function(){return o(this)&&f(this).source||l(this)}),"toString")},"13d5":function(e,t,n){"use strict";var r=n("23e7"),i=n("d58f").left,o=n("a640"),s=n("2d00"),a=n("605d"),c=!a&&s>79&&s<83,l=c||!o("reduce");r({target:"Array",proto:!0,forced:l},{reduce:function(e){var t=arguments.length;return i(this,e,t,t>1?arguments[1]:void 0)}})},"14c3":function(e,t,n){"use strict";var r=n("c65b"),i=n("825a"),o=n("1626"),s=n("c6b6"),a=n("9263"),c=TypeError;e.exports=function(e,t){var n=e.exec;if(o(n)){var l=r(n,e,t);return null!==l&&i(l),l}if("RegExp"===s(e))return r(a,e,t);throw new c("RegExp#exec called on incompatible receiver")}},"14d9":function(e,t,n){"use strict";var r=n("23e7"),i=n("7b0b"),o=n("07fa"),s=n("3a34"),a=n("3511"),c=n("d039"),l=c((function(){return 4294967297!==[].push.call({length:4294967296},1)})),u=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}},d=l||!u();r({target:"Array",proto:!0,arity:1,forced:d},{push:function(e){var t=i(this),n=o(t),r=arguments.length;a(n+r);for(var c=0;c<r;c++)t[n]=arguments[c],n++;return s(t,n),n}})},"14e5":function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b"),o=n("59ed"),s=n("f069"),a=n("e667"),c=n("2266"),l=n("5eed");r({target:"Promise",stat:!0,forced:l},{all:function(e){var t=this,n=s.f(t),r=n.resolve,l=n.reject,u=a((function(){var n=o(t.resolve),s=[],a=0,u=1;c(e,(function(e){var o=a++,c=!1;u++,i(n,t,e).then((function(e){c||(c=!0,s[o]=e,--u||r(s))}),l)})),--u||r(s)}));return u.error&&l(u.value),n.promise}})},"157a":function(e,t,n){"use strict";var r=n("da84"),i=n("83ab"),o=Object.getOwnPropertyDescriptor;e.exports=function(e){if(!i)return r[e];var t=o(r,e);return t&&t.value}},"159b":function(e,t,n){"use strict";var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("17c2"),a=n("9112"),c=function(e){if(e&&e.forEach!==s)try{a(e,"forEach",s)}catch(t){e.forEach=s}};for(var l in i)i[l]&&c(r[l]&&r[l].prototype);c(o)},1626:function(e,t,n){"use strict";var r="object"==typeof document&&document.all;e.exports="undefined"==typeof r&&void 0!==r?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},1787:function(e,t,n){"use strict";var r=n("861d");e.exports=function(e){return r(e)||null===e}},"17c2":function(e,t,n){"use strict";var r=n("b727").forEach,i=n("a640"),o=i("forEach");e.exports=o?[].forEach:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}},"19aa":function(e,t,n){"use strict";var r=n("3a9b"),i=TypeError;e.exports=function(e,t){if(r(t,e))return e;throw new i("Incorrect invocation")}},"1a2d":function(e,t,n){"use strict";var r=n("e330"),i=n("7b0b"),o=r({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(i(e),t)}},"1be4":function(e,t,n){"use strict";var r=n("d066");e.exports=r("document","documentElement")},"1c7e":function(e,t,n){"use strict";var r=n("b622"),i=r("iterator"),o=!1;try{var s=0,a={next:function(){return{done:!!s++}},return:function(){o=!0}};a[i]=function(){return this},Array.from(a,(function(){throw 2}))}catch(c){}e.exports=function(e,t){try{if(!t&&!o)return!1}catch(c){return!1}var n=!1;try{var r={};r[i]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(c){}return n}},"1cdc":function(e,t,n){"use strict";var r=n("342f");e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(r)},"1d80":function(e,t,n){"use strict";var r=n("7234"),i=TypeError;e.exports=function(e){if(r(e))throw new i("Can't call method on "+e);return e}},"1dde":function(e,t,n){"use strict";var r=n("d039"),i=n("b622"),o=n("2d00"),s=i("species");e.exports=function(e){return o>=51||!r((function(){var t=[],n=t.constructor={};return n[s]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},2266:function(e,t,n){"use strict";var r=n("0366"),i=n("c65b"),o=n("825a"),s=n("0d51"),a=n("e95a"),c=n("07fa"),l=n("3a9b"),u=n("9a1f"),d=n("35a1"),f=n("2a62"),p=TypeError,h=function(e,t){this.stopped=e,this.result=t},m=h.prototype;e.exports=function(e,t,n){var v,g,b,y,w,S,_,x=n&&n.that,k=!(!n||!n.AS_ENTRIES),O=!(!n||!n.IS_RECORD),C=!(!n||!n.IS_ITERATOR),E=!(!n||!n.INTERRUPTED),j=r(t,x),T=function(e){return v&&f(v,"normal",e),new h(!0,e)},I=function(e){return k?(o(e),E?j(e[0],e[1],T):j(e[0],e[1])):E?j(e,T):j(e)};if(O)v=e.iterator;else if(C)v=e;else{if(g=d(e),!g)throw new p(s(e)+" is not iterable");if(a(g)){for(b=0,y=c(e);y>b;b++)if(w=I(e[b]),w&&l(m,w))return w;return new h(!1)}v=u(e,g)}S=O?e.next:v.next;while(!(_=i(S,v)).done){try{w=I(_.value)}catch(R){f(v,"throw",R)}if("object"==typeof w&&w&&l(m,w))return w}return new h(!1)}},"228e":function(e,t,n){"use strict";n("7920")},"23cb":function(e,t,n){"use strict";var r=n("5926"),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},"23dc":function(e,t,n){"use strict";var r=n("d44e");r(Math,"Math",!0)},"23e7":function(e,t,n){"use strict";var r=n("da84"),i=n("06cf").f,o=n("9112"),s=n("cb2d"),a=n("6374"),c=n("e893"),l=n("94ca");e.exports=function(e,t){var n,u,d,f,p,h,m=e.target,v=e.global,g=e.stat;if(u=v?r:g?r[m]||a(m,{}):r[m]&&r[m].prototype,u)for(d in t){if(p=t[d],e.dontCallGetSet?(h=i(u,d),f=h&&h.value):f=u[d],n=l(v?d:m+(g?".":"#")+d,e.forced),!n&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(e.sham||f&&f.sham)&&o(p,"sham",!0),s(u,d,p,e)}}},"241c":function(e,t,n){"use strict";var r=n("ca84"),i=n("7839"),o=i.concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,o)}},2532:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("5a34"),s=n("1d80"),a=n("577e"),c=n("ab13"),l=i("".indexOf);r({target:"String",proto:!0,forced:!c("includes")},{includes:function(e){return!!~l(a(s(this)),a(o(e)),arguments.length>1?arguments[1]:void 0)}})},"25f0":function(e,t,n){"use strict";var r=n("5e77").PROPER,i=n("cb2d"),o=n("825a"),s=n("577e"),a=n("d039"),c=n("90d8"),l="toString",u=RegExp.prototype,d=u[l],f=a((function(){return"/a/b"!==d.call({source:"a",flags:"b"})})),p=r&&d.name!==l;(f||p)&&i(u,l,(function(){var e=o(this),t=s(e.source),n=s(c(e));return"/"+t+"/"+n}),{unsafe:!0})},2626:function(e,t,n){"use strict";var r=n("d066"),i=n("edd0"),o=n("b622"),s=n("83ab"),a=o("species");e.exports=function(e){var t=r(e);s&&t&&!t[a]&&i(t,a,{configurable:!0,get:function(){return this}})}},"26e9":function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("e8b5"),s=i([].reverse),a=[1,2];r({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return o(this)&&(this.length=this.length),s(this)}})},"280b":function(e,t,n){},"28ba":function(e,t,n){"use strict";n("280b")},2978:function(e,t,n){},"2a62":function(e,t,n){"use strict";var r=n("c65b"),i=n("825a"),o=n("dc4a");e.exports=function(e,t,n){var s,a;i(e);try{if(s=o(e,"return"),!s){if("throw"===t)throw n;return n}s=r(s,e)}catch(c){a=!0,s=c}if("throw"===t)throw n;if(a)throw s;return i(s),n}},"2ad6":function(e,t,n){"use strict";var r,i;(function(o,s){r=s,i="function"===typeof r?r.call(t,n,t,e):r,void 0===i||(e.exports=i)})("undefined"!==typeof window&&window,(function(){if("undefined"===typeof window)return null;var e="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")(),t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||function(t){return e.setTimeout(t,20)},n=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||function(t){e.clearTimeout(t)};function r(e,t){var n=Object.prototype.toString.call(e),r="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"[object Object]"===n||"undefined"!==typeof jQuery&&e instanceof jQuery||"undefined"!==typeof Elements&&e instanceof Elements,i=0,o=e.length;if(r)for(;i<o;i++)t(e[i]);else t(e)}function i(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function o(e,t){Object.keys(t).forEach((function(n){e.style[n]=t[n]}))}var s=function(e,a){var c=0;function l(){var e,t,n=[];this.add=function(e){n.push(e)},this.call=function(r){for(e=0,t=n.length;e<t;e++)n[e].call(this,r)},this.remove=function(r){var i=[];for(e=0,t=n.length;e<t;e++)n[e]!==r&&i.push(n[e]);n=i},this.length=function(){return n.length}}function u(e,n){if(e)if(e.resizedAttached)e.resizedAttached.add(n);else{e.resizedAttached=new l,e.resizedAttached.add(n),e.resizeSensor=document.createElement("div"),e.resizeSensor.dir="ltr",e.resizeSensor.className="resize-sensor";var r={pointerEvents:"none",position:"absolute",left:"0px",top:"0px",right:"0px",bottom:"0px",overflow:"hidden",zIndex:"-1",visibility:"hidden",maxWidth:"100%"},s={position:"absolute",left:"0px",top:"0px",transition:"0s"};o(e.resizeSensor,r);var a=document.createElement("div");a.className="resize-sensor-expand",o(a,r);var u=document.createElement("div");o(u,s),a.appendChild(u);var d=document.createElement("div");d.className="resize-sensor-shrink",o(d,r);var f=document.createElement("div");o(f,s),o(f,{width:"200%",height:"200%"}),d.appendChild(f),e.resizeSensor.appendChild(a),e.resizeSensor.appendChild(d),e.appendChild(e.resizeSensor);var p=window.getComputedStyle(e),h=p?p.getPropertyValue("position"):null;"absolute"!==h&&"relative"!==h&&"fixed"!==h&&"sticky"!==h&&(e.style.position="relative");var m=!1,v=0,g=i(e),b=0,y=0,w=!0;c=0;var S=function(){var t=e.offsetWidth,n=e.offsetHeight;u.style.width=t+10+"px",u.style.height=n+10+"px",a.scrollLeft=t+10,a.scrollTop=n+10,d.scrollLeft=t+10,d.scrollTop=n+10},_=function(){if(w){var n=0===e.offsetWidth&&0===e.offsetHeight;if(n)return void(c||(c=t((function(){c=0,_()}))));w=!1}S()};e.resizeSensor.resetSensor=_;var x=function(){v=0,m&&(b=g.width,y=g.height,e.resizedAttached&&e.resizedAttached.call(g))},k=function(){g=i(e),m=g.width!==b||g.height!==y,m&&!v&&(v=t(x)),_()},O=function(e,t,n){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener(t,n)};O(a,"scroll",k),O(d,"scroll",k),c=t((function(){c=0,_()}))}}r(e,(function(e){u(e,a)})),this.detach=function(t){c||(n(c),c=0),s.detach(e,t)},this.reset=function(){e.resizeSensor.resetSensor()}};if(s.reset=function(e){r(e,(function(e){e.resizeSensor.resetSensor()}))},s.detach=function(e,t){r(e,(function(e){e&&(e.resizedAttached&&"function"===typeof t&&(e.resizedAttached.remove(t),e.resizedAttached.length())||e.resizeSensor&&(e.contains(e.resizeSensor)&&e.removeChild(e.resizeSensor),delete e.resizeSensor,delete e.resizedAttached))}))},"undefined"!==typeof MutationObserver){var a=new MutationObserver((function(e){for(var t in e)if(e.hasOwnProperty(t))for(var n=e[t].addedNodes,r=0;r<n.length;r++)n[r].resizeSensor&&s.reset(n[r])}));document.addEventListener("DOMContentLoaded",(function(e){a.observe(document.body,{childList:!0,subtree:!0})}))}return s}))},"2ba4":function(e,t,n){"use strict";var r=n("40d5"),i=Function.prototype,o=i.apply,s=i.call;e.exports="object"==typeof Reflect&&Reflect.apply||(r?s.bind(o):function(){return s.apply(o,arguments)})},"2cf4":function(e,t,n){"use strict";var r,i,o,s,a=n("da84"),c=n("2ba4"),l=n("0366"),u=n("1626"),d=n("1a2d"),f=n("d039"),p=n("1be4"),h=n("f36a"),m=n("cc12"),v=n("d6d6"),g=n("1cdc"),b=n("605d"),y=a.setImmediate,w=a.clearImmediate,S=a.process,_=a.Dispatch,x=a.Function,k=a.MessageChannel,O=a.String,C=0,E={},j="onreadystatechange";f((function(){r=a.location}));var T=function(e){if(d(E,e)){var t=E[e];delete E[e],t()}},I=function(e){return function(){T(e)}},R=function(e){T(e.data)},V=function(e){a.postMessage(O(e),r.protocol+"//"+r.host)};y&&w||(y=function(e){v(arguments.length,1);var t=u(e)?e:x(e),n=h(arguments,1);return E[++C]=function(){c(t,void 0,n)},i(C),C},w=function(e){delete E[e]},b?i=function(e){S.nextTick(I(e))}:_&&_.now?i=function(e){_.now(I(e))}:k&&!g?(o=new k,s=o.port2,o.port1.onmessage=R,i=l(s.postMessage,s)):a.addEventListener&&u(a.postMessage)&&!a.importScripts&&r&&"file:"!==r.protocol&&!f(V)?(i=V,a.addEventListener("message",R,!1)):i=j in m("script")?function(e){p.appendChild(m("script"))[j]=function(){p.removeChild(this),T(e)}}:function(e){setTimeout(I(e),0)}),e.exports={set:y,clear:w}},"2d00":function(e,t,n){"use strict";var r,i,o=n("da84"),s=n("342f"),a=o.process,c=o.Deno,l=a&&a.versions||c&&c.version,u=l&&l.v8;u&&(r=u.split("."),i=r[0]>0&&r[0]<4?1:+(r[0]+r[1])),!i&&s&&(r=s.match(/Edge\/(\d+)/),(!r||r[1]>=74)&&(r=s.match(/Chrome\/(\d+)/),r&&(i=+r[1]))),e.exports=i},3143:function(e,t,n){"use strict";n("0b0b")},3410:function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("7b0b"),s=n("e163"),a=n("e177"),c=i((function(){s(1)}));r({target:"Object",stat:!0,forced:c,sham:!a},{getPrototypeOf:function(e){return s(o(e))}})},"342f":function(e,t,n){"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},3511:function(e,t,n){"use strict";var r=TypeError,i=9007199254740991;e.exports=function(e){if(e>i)throw r("Maximum allowed index exceeded");return e}},3529:function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b"),o=n("59ed"),s=n("f069"),a=n("e667"),c=n("2266"),l=n("5eed");r({target:"Promise",stat:!0,forced:l},{race:function(e){var t=this,n=s.f(t),r=n.reject,l=a((function(){var s=o(t.resolve);c(e,(function(e){i(s,t,e).then(n.resolve,r)}))}));return l.error&&r(l.value),n.promise}})},"358f":function(e,t,n){},"35a1":function(e,t,n){"use strict";var r=n("f5df"),i=n("dc4a"),o=n("7234"),s=n("3f8c"),a=n("b622"),c=a("iterator");e.exports=function(e){if(!o(e))return i(e,c)||i(e,"@@iterator")||s[r(e)]}},"37e8":function(e,t,n){"use strict";var r=n("83ab"),i=n("aed9"),o=n("9bf2"),s=n("825a"),a=n("fc6a"),c=n("df75");t.f=r&&!i?Object.defineProperties:function(e,t){s(e);var n,r=a(t),i=c(t),l=i.length,u=0;while(l>u)o.f(e,n=i[u++],r[n]);return e}},"37f8":function(e,t,n){"use strict";n("84c2")},"3a34":function(e,t,n){"use strict";var r=n("83ab"),i=n("e8b5"),o=TypeError,s=Object.getOwnPropertyDescriptor,a=r&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=a?function(e,t){if(i(e)&&!s(e,"length").writable)throw new o("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},"3a9b":function(e,t,n){"use strict";var r=n("e330");e.exports=r({}.isPrototypeOf)},"3bbe":function(e,t,n){"use strict";var r=n("1787"),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o("Can't set "+i(e)+" as a prototype")}},"3bca":function(e,t,n){},"3c65":function(e,t,n){"use strict";var r=n("23e7"),i=n("7b0b"),o=n("07fa"),s=n("3a34"),a=n("083a"),c=n("3511"),l=1!==[].unshift(0),u=function(){try{Object.defineProperty([],"length",{writable:!1}).unshift()}catch(e){return e instanceof TypeError}},d=l||!u();r({target:"Array",proto:!0,arity:1,forced:d},{unshift:function(e){var t=i(this),n=o(t),r=arguments.length;if(r){c(n+r);var l=n;while(l--){var u=l+r;l in t?t[u]=t[l]:a(t,u)}for(var d=0;d<r;d++)t[d]=arguments[d]}return s(t,n+r)}})},"3ca3":function(e,t,n){"use strict";var r=n("6547").charAt,i=n("577e"),o=n("69f3"),s=n("c6d2"),a=n("4754"),c="String Iterator",l=o.set,u=o.getterFor(c);s(String,"String",(function(e){l(this,{type:c,string:i(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?a(void 0,!0):(e=r(n,i),t.index+=e.length,a(e,!1))}))},"3f8c":function(e,t,n){"use strict";e.exports={}},"408a":function(e,t,n){"use strict";var r=n("e330");e.exports=r(1..valueOf)},"40d5":function(e,t,n){"use strict";var r=n("d039");e.exports=!r((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},4160:function(e,t,n){"use strict";var r=n("23e7"),i=n("17c2");r({target:"Array",proto:!0,forced:[].forEach!==i},{forEach:i})},"428f":function(e,t,n){"use strict";var r=n("da84");e.exports=r},4362:function(e,t,n){t.nextTick=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),setTimeout((function(){e.apply(null,t)}),0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,r="/";t.cwd=function(){return r},t.chdir=function(t){e||(e=n("df7c")),r=e.resolve(t,r)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},"44ad":function(e,t,n){"use strict";var r=n("e330"),i=n("d039"),o=n("c6b6"),s=Object,a=r("".split);e.exports=i((function(){return!s("z").propertyIsEnumerable(0)}))?function(e){return"String"===o(e)?a(e,""):s(e)}:s},"44d2":function(e,t,n){"use strict";var r=n("b622"),i=n("7c73"),o=n("9bf2").f,s=r("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:i(null)}),e.exports=function(e){a[s][e]=!0}},"44de":function(e,t,n){"use strict";e.exports=function(e,t){try{1===arguments.length?console.error(e):console.error(e,t)}catch(n){}}},"44e7":function(e,t,n){"use strict";var r=n("861d"),i=n("c6b6"),o=n("b622"),s=o("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[s])?!!t:"RegExp"===i(e))}},"455f":function(e,t,n){"use strict";n("c236")},"45fc":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").some,o=n("a640"),s=o("some");r({target:"Array",proto:!0,forced:!s},{some:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},4625:function(e,t,n){"use strict";var r=n("c6b6"),i=n("e330");e.exports=function(e){if("Function"===r(e))return i(e)}},"466d":function(e,t,n){"use strict";var r=n("c65b"),i=n("d784"),o=n("825a"),s=n("7234"),a=n("50c4"),c=n("577e"),l=n("1d80"),u=n("dc4a"),d=n("8aa5"),f=n("14c3");i("match",(function(e,t,n){return[function(t){var n=l(this),i=s(t)?void 0:u(t,e);return i?r(i,t,n):new RegExp(t)[e](c(n))},function(e){var r=o(this),i=c(e),s=n(t,r,i);if(s.done)return s.value;if(!r.global)return f(r,i);var l=r.unicode;r.lastIndex=0;var u,p=[],h=0;while(null!==(u=f(r,i))){var m=c(u[0]);p[h]=m,""===m&&(r.lastIndex=d(i,a(r.lastIndex),l)),h++}return 0===h?null:p}]}))},4738:function(e,t,n){"use strict";var r=n("da84"),i=n("d256"),o=n("1626"),s=n("94ca"),a=n("8925"),c=n("b622"),l=n("6069"),u=n("6c59"),d=n("c430"),f=n("2d00"),p=i&&i.prototype,h=c("species"),m=!1,v=o(r.PromiseRejectionEvent),g=s("Promise",(function(){var e=a(i),t=e!==String(i);if(!t&&66===f)return!0;if(d&&(!p["catch"]||!p["finally"]))return!0;if(!f||f<51||!/native code/.test(e)){var n=new i((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))},o=n.constructor={};if(o[h]=r,m=n.then((function(){}))instanceof r,!m)return!0}return!t&&(l||u)&&!v}));e.exports={CONSTRUCTOR:g,REJECTION_EVENT:v,SUBCLASSING:m}},4754:function(e,t,n){"use strict";e.exports=function(e,t){return{value:e,done:t}}},4840:function(e,t,n){"use strict";var r=n("825a"),i=n("5087"),o=n("7234"),s=n("b622"),a=s("species");e.exports=function(e,t){var n,s=r(e).constructor;return void 0===s||o(n=r(s)[a])?t:i(n)}},"485a":function(e,t,n){"use strict";var r=n("c65b"),i=n("1626"),o=n("861d"),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&i(n=e.toString)&&!o(a=r(n,e)))return a;if(i(n=e.valueOf)&&!o(a=r(n,e)))return a;if("string"!==t&&i(n=e.toString)&&!o(a=r(n,e)))return a;throw new s("Can't convert object to primitive value")}},"49dd":function(e,t,n){"use strict";n("d76d")},"4cb6":function(e,t,n){"use strict";n("358f")},"4d64":function(e,t,n){"use strict";var r=n("fc6a"),i=n("23cb"),o=n("07fa"),s=function(e){return function(t,n,s){var a,c=r(t),l=o(c),u=i(s,l);if(e&&n!==n){while(l>u)if(a=c[u++],a!==a)return!0}else for(;l>u;u++)if((e||u in c)&&c[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},"4de4":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").filter,o=n("1dde"),s=o("filter");r({target:"Array",proto:!0,forced:!s},{filter:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(e,t,n){"use strict";var r=n("0366"),i=n("c65b"),o=n("7b0b"),s=n("9bdd"),a=n("e95a"),c=n("68ee"),l=n("07fa"),u=n("8418"),d=n("9a1f"),f=n("35a1"),p=Array;e.exports=function(e){var t=o(e),n=c(this),h=arguments.length,m=h>1?arguments[1]:void 0,v=void 0!==m;v&&(m=r(m,h>2?arguments[2]:void 0));var g,b,y,w,S,_,x=f(t),k=0;if(!x||this===p&&a(x))for(g=l(t),b=n?new this(g):p(g);g>k;k++)_=v?m(t[k],k):t[k],u(b,k,_);else for(w=d(t,x),S=w.next,b=n?new this:[];!(y=i(S,w)).done;k++)_=v?s(w,m,[y.value,k],!0):y.value,u(b,k,_);return b.length=k,b}},"4e82":function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("59ed"),s=n("7b0b"),a=n("07fa"),c=n("083a"),l=n("577e"),u=n("d039"),d=n("addb"),f=n("a640"),p=n("04d1"),h=n("d998"),m=n("2d00"),v=n("512c"),g=[],b=i(g.sort),y=i(g.push),w=u((function(){g.sort(void 0)})),S=u((function(){g.sort(null)})),_=f("sort"),x=!u((function(){if(m)return m<70;if(!(p&&p>3)){if(h)return!0;if(v)return v<603;var e,t,n,r,i="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(r=0;r<47;r++)g.push({k:t+r,v:n})}for(g.sort((function(e,t){return t.v-e.v})),r=0;r<g.length;r++)t=g[r].k.charAt(0),i.charAt(i.length-1)!==t&&(i+=t);return"DGBEFHACIJK"!==i}})),k=w||!S||!_||!x,O=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:l(t)>l(n)?1:-1}};r({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&o(e);var t=s(this);if(x)return void 0===e?b(t):b(t,e);var n,r,i=[],l=a(t);for(r=0;r<l;r++)r in t&&y(i,t[r]);d(i,O(e)),n=a(i),r=0;while(r<n)t[r]=i[r++];while(r<l)c(t,r++);return t}})},"4fad":function(e,t,n){"use strict";var r=n("23e7"),i=n("6f53").entries;r({target:"Object",stat:!0},{entries:function(e){return i(e)}})},5087:function(e,t,n){"use strict";var r=n("68ee"),i=n("0d51"),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a constructor")}},"50c4":function(e,t,n){"use strict";var r=n("5926"),i=Math.min;e.exports=function(e){var t=r(e);return t>0?i(t,9007199254740991):0}},"512c":function(e,t,n){"use strict";var r=n("342f"),i=r.match(/AppleWebKit\/(\d+)\./);e.exports=!!i&&+i[1]},5134:function(e,t,n){"use strict";(function(e){let r,i;function o(){var t;return void 0!==r||("undefined"!==typeof window&&window.performance?(r=!0,i=window.performance):"undefined"!==typeof e&&(null===(t=e.perf_hooks)||void 0===t?void 0:t.performance)?(r=!0,i=e.perf_hooks.performance):r=!1),r}function s(){return o()?i.now():Date.now()}n.d(t,"a",(function(){return s}))}).call(this,n("c8ba"))},"51eb":function(e,t,n){"use strict";var r=n("825a"),i=n("485a"),o=TypeError;e.exports=function(e){if(r(this),"string"===e||"default"===e)e="string";else if("number"!==e)throw new o("Incorrect hint");return i(this,e)}},5319:function(e,t,n){"use strict";var r=n("2ba4"),i=n("c65b"),o=n("e330"),s=n("d784"),a=n("d039"),c=n("825a"),l=n("1626"),u=n("7234"),d=n("5926"),f=n("50c4"),p=n("577e"),h=n("1d80"),m=n("8aa5"),v=n("dc4a"),g=n("0cb2"),b=n("14c3"),y=n("b622"),w=y("replace"),S=Math.max,_=Math.min,x=o([].concat),k=o([].push),O=o("".indexOf),C=o("".slice),E=function(e){return void 0===e?e:String(e)},j=function(){return"$0"==="a".replace(/./,"$0")}(),T=function(){return!!/./[w]&&""===/./[w]("a","$0")}(),I=!a((function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}));s("replace",(function(e,t,n){var o=T?"$":"$0";return[function(e,n){var r=h(this),o=u(e)?void 0:v(e,w);return o?i(o,e,r,n):i(t,p(r),e,n)},function(e,i){var s=c(this),a=p(e);if("string"==typeof i&&-1===O(i,o)&&-1===O(i,"$<")){var u=n(t,s,a,i);if(u.done)return u.value}var h=l(i);h||(i=p(i));var v,y=s.global;y&&(v=s.unicode,s.lastIndex=0);var w,j=[];while(1){if(w=b(s,a),null===w)break;if(k(j,w),!y)break;var T=p(w[0]);""===T&&(s.lastIndex=m(a,f(s.lastIndex),v))}for(var I="",R=0,V=0;V<j.length;V++){w=j[V];for(var P,A=p(w[0]),M=S(_(d(w.index),a.length),0),L=[],N=1;N<w.length;N++)k(L,E(w[N]));var D=w.groups;if(h){var B=x([A],L,M,a);void 0!==D&&k(B,D),P=p(r(i,void 0,B))}else P=g(A,a,M,L,D,i);M>=R&&(I+=C(a,R,M)+P,R=M+A.length)}return I+C(a,R)}]}),!I||!j||T)},5333:function(e,t,n){"use strict";n("aaca")},5692:function(e,t,n){"use strict";var r=n("c430"),i=n("c6cd");(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.35.1",mode:r?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.35.1/LICENSE",source:"https://github.com/zloirock/core-js"})},"56ef":function(e,t,n){"use strict";var r=n("d066"),i=n("e330"),o=n("241c"),s=n("7418"),a=n("825a"),c=i([].concat);e.exports=r("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?c(t,n(e)):t}},"577e":function(e,t,n){"use strict";var r=n("f5df"),i=String;e.exports=function(e){if("Symbol"===r(e))throw new TypeError("Cannot convert a Symbol value to a string");return i(e)}},"57b9":function(e,t,n){"use strict";var r=n("c65b"),i=n("d066"),o=n("b622"),s=n("cb2d");e.exports=function(){var e=i("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,a=o("toPrimitive");t&&!t[a]&&s(t,a,(function(e){return r(n,this)}),{arity:1})}},5899:function(e,t,n){"use strict";e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){"use strict";var r=n("e330"),i=n("1d80"),o=n("577e"),s=n("5899"),a=r("".replace),c=RegExp("^["+s+"]+"),l=RegExp("(^|[^"+s+"])["+s+"]+$"),u=function(e){return function(t){var n=o(i(t));return 1&e&&(n=a(n,c,"")),2&e&&(n=a(n,l,"$1")),n}};e.exports={start:u(1),end:u(2),trim:u(3)}},5926:function(e,t,n){"use strict";var r=n("b42e");e.exports=function(e){var t=+e;return t!==t||0===t?0:r(t)}},"59ed":function(e,t,n){"use strict";var r=n("1626"),i=n("0d51"),o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not a function")}},"5a34":function(e,t,n){"use strict";var r=n("44e7"),i=TypeError;e.exports=function(e){if(r(e))throw new i("The method doesn't accept regular expressions");return e}},"5a47":function(e,t,n){"use strict";var r=n("23e7"),i=n("04f8"),o=n("d039"),s=n("7418"),a=n("7b0b"),c=!i||o((function(){s.f(1)}));r({target:"Object",stat:!0,forced:c},{getOwnPropertySymbols:function(e){var t=s.f;return t?t(a(e)):[]}})},"5c6c":function(e,t,n){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"5e77":function(e,t,n){"use strict";var r=n("83ab"),i=n("1a2d"),o=Function.prototype,s=r&&Object.getOwnPropertyDescriptor,a=i(o,"name"),c=a&&"something"===function(){}.name,l=a&&(!r||r&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:c,CONFIGURABLE:l}},"5e7e":function(e,t,n){"use strict";var r,i,o,s,a=n("23e7"),c=n("c430"),l=n("605d"),u=n("da84"),d=n("c65b"),f=n("cb2d"),p=n("d2bb"),h=n("d44e"),m=n("2626"),v=n("59ed"),g=n("1626"),b=n("861d"),y=n("19aa"),w=n("4840"),S=n("2cf4").set,_=n("b575"),x=n("44de"),k=n("e667"),O=n("01b4"),C=n("69f3"),E=n("d256"),j=n("4738"),T=n("f069"),I="Promise",R=j.CONSTRUCTOR,V=j.REJECTION_EVENT,P=j.SUBCLASSING,A=C.getterFor(I),M=C.set,L=E&&E.prototype,N=E,D=L,B=u.TypeError,F=u.document,U=u.process,z=T.f,W=z,Z=!!(F&&F.createEvent&&u.dispatchEvent),G="unhandledrejection",$="rejectionhandled",X=0,Y=1,H=2,K=1,J=2,Q=function(e){var t;return!(!b(e)||!g(t=e.then))&&t},q=function(e,t){var n,r,i,o=t.value,s=t.state===Y,a=s?e.ok:e.fail,c=e.resolve,l=e.reject,u=e.domain;try{a?(s||(t.rejection===J&&ie(t),t.rejection=K),!0===a?n=o:(u&&u.enter(),n=a(o),u&&(u.exit(),i=!0)),n===e.promise?l(new B("Promise-chain cycle")):(r=Q(n))?d(r,n,c,l):c(n)):l(o)}catch(f){u&&!i&&u.exit(),l(f)}},ee=function(e,t){e.notified||(e.notified=!0,_((function(){var n,r=e.reactions;while(n=r.get())q(n,e);e.notified=!1,t&&!e.rejection&&ne(e)})))},te=function(e,t,n){var r,i;Z?(r=F.createEvent("Event"),r.promise=t,r.reason=n,r.initEvent(e,!1,!0),u.dispatchEvent(r)):r={promise:t,reason:n},!V&&(i=u["on"+e])?i(r):e===G&&x("Unhandled promise rejection",n)},ne=function(e){d(S,u,(function(){var t,n=e.facade,r=e.value,i=re(e);if(i&&(t=k((function(){l?U.emit("unhandledRejection",r,n):te(G,n,r)})),e.rejection=l||re(e)?J:K,t.error))throw t.value}))},re=function(e){return e.rejection!==K&&!e.parent},ie=function(e){d(S,u,(function(){var t=e.facade;l?U.emit("rejectionHandled",t):te($,t,e.value)}))},oe=function(e,t,n){return function(r){e(t,r,n)}},se=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=H,ee(e,!0))},ae=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw new B("Promise can't be resolved itself");var r=Q(t);r?_((function(){var n={done:!1};try{d(r,t,oe(ae,n,e),oe(se,n,e))}catch(i){se(n,i,e)}})):(e.value=t,e.state=Y,ee(e,!1))}catch(i){se({done:!1},i,e)}}};if(R&&(N=function(e){y(this,D),v(e),d(r,this);var t=A(this);try{e(oe(ae,t),oe(se,t))}catch(n){se(t,n)}},D=N.prototype,r=function(e){M(this,{type:I,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:X,value:void 0})},r.prototype=f(D,"then",(function(e,t){var n=A(this),r=z(w(this,N));return n.parent=!0,r.ok=!g(e)||e,r.fail=g(t)&&t,r.domain=l?U.domain:void 0,n.state===X?n.reactions.add(r):_((function(){q(r,n)})),r.promise})),i=function(){var e=new r,t=A(e);this.promise=e,this.resolve=oe(ae,t),this.reject=oe(se,t)},T.f=z=function(e){return e===N||e===o?new i(e):W(e)},!c&&g(E)&&L!==Object.prototype)){s=L.then,P||f(L,"then",(function(e,t){var n=this;return new N((function(e,t){d(s,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete L.constructor}catch(ce){}p&&p(L,D)}a({global:!0,constructor:!0,wrap:!0,forced:R},{Promise:N}),h(N,I,!1,!0),m(I)},"5eed":function(e,t,n){"use strict";var r=n("d256"),i=n("1c7e"),o=n("4738").CONSTRUCTOR;e.exports=o||!i((function(e){r.all(e).then(void 0,(function(){}))}))},"605d":function(e,t,n){"use strict";var r=n("da84"),i=n("c6b6");e.exports="process"===i(r.process)},6069:function(e,t,n){"use strict";var r=n("6c59"),i=n("605d");e.exports=!r&&!i&&"object"==typeof window&&"object"==typeof document},"60da":function(e,t,n){"use strict";var r=n("83ab"),i=n("e330"),o=n("c65b"),s=n("d039"),a=n("df75"),c=n("7418"),l=n("d1e7"),u=n("7b0b"),d=n("44ad"),f=Object.assign,p=Object.defineProperty,h=i([].concat);e.exports=!f||s((function(){if(r&&1!==f({b:1},f(p({},"a",{enumerable:!0,get:function(){p(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol("assign detection"),i="abcdefghijklmnopqrst";return e[n]=7,i.split("").forEach((function(e){t[e]=e})),7!==f({},e)[n]||a(f({},t)).join("")!==i}))?function(e,t){var n=u(e),i=arguments.length,s=1,f=c.f,p=l.f;while(i>s){var m,v=d(arguments[s++]),g=f?h(a(v),f(v)):a(v),b=g.length,y=0;while(b>y)m=g[y++],r&&!o(p,v,m)||(n[m]=v[m])}return n}:f},6374:function(e,t,n){"use strict";var r=n("da84"),i=Object.defineProperty;e.exports=function(e,t){try{i(r,e,{value:t,configurable:!0,writable:!0})}catch(n){r[e]=t}return t}},"64e5":function(e,t,n){"use strict";var r=n("e330"),i=n("d039"),o=n("0ccb").start,s=RangeError,a=isFinite,c=Math.abs,l=Date.prototype,u=l.toISOString,d=r(l.getTime),f=r(l.getUTCDate),p=r(l.getUTCFullYear),h=r(l.getUTCHours),m=r(l.getUTCMilliseconds),v=r(l.getUTCMinutes),g=r(l.getUTCMonth),b=r(l.getUTCSeconds);e.exports=i((function(){return"0385-07-25T07:06:39.999Z"!==u.call(new Date(-50000000000001))}))||!i((function(){u.call(new Date(NaN))}))?function(){if(!a(d(this)))throw new s("Invalid time value");var e=this,t=p(e),n=m(e),r=t<0?"-":t>9999?"+":"";return r+o(c(t),r?6:4,0)+"-"+o(g(e)+1,2,0)+"-"+o(f(e),2,0)+"T"+o(h(e),2,0)+":"+o(v(e),2,0)+":"+o(b(e),2,0)+"."+o(n,3,0)+"Z"}:u},6547:function(e,t,n){"use strict";var r=n("e330"),i=n("5926"),o=n("577e"),s=n("1d80"),a=r("".charAt),c=r("".charCodeAt),l=r("".slice),u=function(e){return function(t,n){var r,u,d=o(s(t)),f=i(n),p=d.length;return f<0||f>=p?e?"":void 0:(r=c(d,f),r<55296||r>56319||f+1===p||(u=c(d,f+1))<56320||u>57343?e?a(d,f):r:e?l(d,f,f+2):u-56320+(r-55296<<10)+65536)}};e.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(e,t,n){"use strict";var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"68ee":function(e,t,n){"use strict";var r=n("e330"),i=n("d039"),o=n("1626"),s=n("f5df"),a=n("d066"),c=n("8925"),l=function(){},u=a("Reflect","construct"),d=/^\s*(?:class|function)\b/,f=r(d.exec),p=!d.test(l),h=function(e){if(!o(e))return!1;try{return u(l,[],e),!0}catch(t){return!1}},m=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return p||!!f(d,c(e))}catch(t){return!0}};m.sham=!0,e.exports=!u||i((function(){var e;return h(h.call)||!h(Object)||!h((function(){e=!0}))||e}))?m:h},"69f3":function(e,t,n){"use strict";var r,i,o,s=n("cdce"),a=n("da84"),c=n("861d"),l=n("9112"),u=n("1a2d"),d=n("c6cd"),f=n("f772"),p=n("d012"),h="Object already initialized",m=a.TypeError,v=a.WeakMap,g=function(e){return o(e)?i(e):r(e,{})},b=function(e){return function(t){var n;if(!c(t)||(n=i(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}};if(s||d.state){var y=d.state||(d.state=new v);y.get=y.get,y.has=y.has,y.set=y.set,r=function(e,t){if(y.has(e))throw new m(h);return t.facade=e,y.set(e,t),t},i=function(e){return y.get(e)||{}},o=function(e){return y.has(e)}}else{var w=f("state");p[w]=!0,r=function(e,t){if(u(e,w))throw new m(h);return t.facade=e,l(e,w,t),t},i=function(e){return u(e,w)?e[w]:{}},o=function(e){return u(e,w)}}e.exports={set:r,get:i,has:o,enforce:g,getterFor:b}},"6adf":function(e,t,n){"use strict";n("6af4")},"6af4":function(e,t,n){},"6b0d":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n}},"6c59":function(e,t,n){"use strict";e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},"6f19":function(e,t,n){"use strict";var r=n("9112"),i=n("0d26"),o=n("b980"),s=Error.captureStackTrace;e.exports=function(e,t,n,a){o&&(s?s(e,t):r(e,"stack",i(n,a)))}},"6f53":function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("e330"),s=n("e163"),a=n("df75"),c=n("fc6a"),l=n("d1e7").f,u=o(l),d=o([].push),f=r&&i((function(){var e=Object.create(null);return e[2]=2,!u(e,2)})),p=function(e){return function(t){var n,i=c(t),o=a(i),l=f&&null===s(i),p=o.length,h=0,m=[];while(p>h)n=o[h++],r&&!(l?n in i:u(i,n))||d(m,e?[n,i[n]]:i[n]);return m}};e.exports={entries:p(!0),values:p(!1)}},7149:function(e,t,n){"use strict";var r=n("23e7"),i=n("d066"),o=n("c430"),s=n("d256"),a=n("4738").CONSTRUCTOR,c=n("cdf9"),l=i("Promise"),u=o&&!a;r({target:"Promise",stat:!0,forced:o||a},{resolve:function(e){return c(u&&this===l?s:this,e)}})},7156:function(e,t,n){"use strict";var r=n("1626"),i=n("861d"),o=n("d2bb");e.exports=function(e,t,n){var s,a;return o&&r(s=t.constructor)&&s!==n&&i(a=s.prototype)&&a!==n.prototype&&o(e,a),e}},7234:function(e,t,n){"use strict";e.exports=function(e){return null===e||void 0===e}},7282:function(e,t,n){"use strict";var r=n("e330"),i=n("59ed");e.exports=function(e,t,n){try{return r(i(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},7418:function(e,t,n){"use strict";t.f=Object.getOwnPropertySymbols},7442:function(e,t,n){"use strict";n("f45e")},"778f":function(e,t,n){"use strict";n("dd24")},"77ce":function(e,t,n){},7839:function(e,t,n){"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"785a":function(e,t,n){"use strict";var r=n("cc12"),i=r("span").classList,o=i&&i.constructor&&i.constructor.prototype;e.exports=o===Object.prototype?void 0:o},7920:function(e,t,n){},"7b0b":function(e,t,n){"use strict";var r=n("1d80"),i=Object;e.exports=function(e){return i(r(e))}},"7c34":function(e,t,n){"use strict";n("2978")},"7c73":function(e,t,n){"use strict";var r,i=n("825a"),o=n("37e8"),s=n("7839"),a=n("d012"),c=n("1be4"),l=n("cc12"),u=n("f772"),d=">",f="<",p="prototype",h="script",m=u("IE_PROTO"),v=function(){},g=function(e){return f+h+d+e+f+"/"+h+d},b=function(e){e.write(g("")),e.close();var t=e.parentWindow.Object;return e=null,t},y=function(){var e,t=l("iframe"),n="java"+h+":";return t.style.display="none",c.appendChild(t),t.src=String(n),e=t.contentWindow.document,e.open(),e.write(g("document.F=Object")),e.close(),e.F},w=function(){try{r=new ActiveXObject("htmlfile")}catch(t){}w="undefined"!=typeof document?document.domain&&r?b(r):y():b(r);var e=s.length;while(e--)delete w[p][s[e]];return w()};a[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(v[p]=i(e),n=new v,v[p]=null,n[m]=e):n=w(),void 0===t?n:o.f(n,t)}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").find,o=n("44d2"),s="find",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},8172:function(e,t,n){"use strict";var r=n("e065"),i=n("57b9");r("toPrimitive"),i()},"825a":function(e,t,n){"use strict";var r=n("861d"),i=String,o=TypeError;e.exports=function(e){if(r(e))return e;throw new o(i(e)+" is not an object")}},"83ab":function(e,t,n){"use strict";var r=n("d039");e.exports=!r((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(e,t,n){"use strict";var r=n("a04b"),i=n("9bf2"),o=n("5c6c");e.exports=function(e,t,n){var s=r(t);s in e?i.f(e,s,o(0,n)):e[s]=n}},"84c2":function(e,t,n){},"861d":function(e,t,n){"use strict";var r=n("1626");e.exports=function(e){return"object"==typeof e?null!==e:r(e)}},"87d4":function(e,t,n){e.exports={ResizeSensor:n("2ad6"),ElementQueries:n("ae72")}},8925:function(e,t,n){"use strict";var r=n("e330"),i=n("1626"),o=n("c6cd"),s=r(Function.toString);i(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},"8aa5":function(e,t,n){"use strict";var r=n("6547").charAt;e.exports=function(e,t,n){return t+(n?r(e,t).length:1)}},"8bbf":function(t,n){t.exports=e},"90d8":function(e,t,n){"use strict";var r=n("c65b"),i=n("1a2d"),o=n("3a9b"),s=n("ad6d"),a=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in a||i(e,"flags")||!o(a,e)?t:r(s,e)}},"90e3":function(e,t,n){"use strict";var r=n("e330"),i=0,o=Math.random(),s=r(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++i+o,36)}},9112:function(e,t,n){"use strict";var r=n("83ab"),i=n("9bf2"),o=n("5c6c");e.exports=r?function(e,t,n){return i.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},9224:function(e){e.exports=JSON.parse('{"a":"1.5.1"}')},9263:function(e,t,n){"use strict";var r=n("c65b"),i=n("e330"),o=n("577e"),s=n("ad6d"),a=n("9f7f"),c=n("5692"),l=n("7c73"),u=n("69f3").get,d=n("fce3"),f=n("107c"),p=c("native-string-replace",String.prototype.replace),h=RegExp.prototype.exec,m=h,v=i("".charAt),g=i("".indexOf),b=i("".replace),y=i("".slice),w=function(){var e=/a/,t=/b*/g;return r(h,e,"a"),r(h,t,"a"),0!==e.lastIndex||0!==t.lastIndex}(),S=a.BROKEN_CARET,_=void 0!==/()??/.exec("")[1],x=w||_||S||d||f;x&&(m=function(e){var t,n,i,a,c,d,f,x=this,k=u(x),O=o(e),C=k.raw;if(C)return C.lastIndex=x.lastIndex,t=r(m,C,O),x.lastIndex=C.lastIndex,t;var E=k.groups,j=S&&x.sticky,T=r(s,x),I=x.source,R=0,V=O;if(j&&(T=b(T,"y",""),-1===g(T,"g")&&(T+="g"),V=y(O,x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&"\n"!==v(O,x.lastIndex-1))&&(I="(?: "+I+")",V=" "+V,R++),n=new RegExp("^(?:"+I+")",T)),_&&(n=new RegExp("^"+I+"$(?!\\s)",T)),w&&(i=x.lastIndex),a=r(h,j?n:x,V),j?a?(a.input=y(a.input,R),a[0]=y(a[0],R),a.index=x.lastIndex,x.lastIndex+=a[0].length):x.lastIndex=0:w&&a&&(x.lastIndex=x.global?a.index+a[0].length:i),_&&a&&a.length>1&&r(p,a[0],n,(function(){for(c=1;c<arguments.length-2;c++)void 0===arguments[c]&&(a[c]=void 0)})),a&&E)for(a.groups=d=l(null),c=0;c<E.length;c++)f=E[c],d[f[0]]=a[f[1]];return a}),e.exports=m},"944a":function(e,t,n){"use strict";var r=n("d066"),i=n("e065"),o=n("d44e");i("toStringTag"),o(r("Symbol"),"Symbol")},"94ca":function(e,t,n){"use strict";var r=n("d039"),i=n("1626"),o=/#|\.prototype\./,s=function(e,t){var n=c[a(e)];return n===u||n!==l&&(i(t)?r(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},c=s.data={},l=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},"97de":function(e,t,n){},"99af":function(e,t,n){"use strict";var r=n("23e7"),i=n("d039"),o=n("e8b5"),s=n("861d"),a=n("7b0b"),c=n("07fa"),l=n("3511"),u=n("8418"),d=n("65f0"),f=n("1dde"),p=n("b622"),h=n("2d00"),m=p("isConcatSpreadable"),v=h>=51||!i((function(){var e=[];return e[m]=!1,e.concat()[0]!==e})),g=function(e){if(!s(e))return!1;var t=e[m];return void 0!==t?!!t:o(e)},b=!v||!f("concat");r({target:"Array",proto:!0,arity:1,forced:b},{concat:function(e){var t,n,r,i,o,s=a(this),f=d(s,0),p=0;for(t=-1,r=arguments.length;t<r;t++)if(o=-1===t?s:arguments[t],g(o))for(i=c(o),l(p+i),n=0;n<i;n++,p++)n in o&&u(f,p,o[n]);else l(p+1),u(f,p++,o);return f.length=p,f}})},"9a1f":function(e,t,n){"use strict";var r=n("c65b"),i=n("59ed"),o=n("825a"),s=n("0d51"),a=n("35a1"),c=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(i(n))return o(r(n,e));throw new c(s(e)+" is not iterable")}},"9bdd":function(e,t,n){"use strict";var r=n("825a"),i=n("2a62");e.exports=function(e,t,n,o){try{return o?t(r(n)[0],n[1]):t(n)}catch(s){i(e,"throw",s)}}},"9bf2":function(e,t,n){"use strict";var r=n("83ab"),i=n("0cfb"),o=n("aed9"),s=n("825a"),a=n("a04b"),c=TypeError,l=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",f="configurable",p="writable";t.f=r?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var r=u(e,t);r&&r[p]&&(e[t]=n.value,n={configurable:f in n?n[f]:r[f],enumerable:d in n?n[d]:r[d],writable:!1})}return l(e,t,n)}:l:function(e,t,n){if(s(e),t=a(t),s(n),i)try{return l(e,t,n)}catch(r){}if("get"in n||"set"in n)throw new c("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},"9f7f":function(e,t,n){"use strict";var r=n("d039"),i=n("da84"),o=i.RegExp,s=r((function(){var e=o("a","y");return e.lastIndex=2,null!==e.exec("abcd")})),a=s||r((function(){return!o("a","y").sticky})),c=s||r((function(){var e=o("^r","gy");return e.lastIndex=2,null!==e.exec("str")}));e.exports={BROKEN_CARET:c,MISSED_STICKY:a,UNSUPPORTED_Y:s}},a04b:function(e,t,n){"use strict";var r=n("c04e"),i=n("d9b5");e.exports=function(e){var t=r(e,"string");return i(t)?t:t+""}},a15b:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("44ad"),s=n("fc6a"),a=n("a640"),c=i([].join),l=o!==Object,u=l||!a("join",",");r({target:"Array",proto:!0,forced:u},{join:function(e){return c(s(this),void 0===e?",":e)}})},a434:function(e,t,n){"use strict";var r=n("23e7"),i=n("7b0b"),o=n("23cb"),s=n("5926"),a=n("07fa"),c=n("3a34"),l=n("3511"),u=n("65f0"),d=n("8418"),f=n("083a"),p=n("1dde"),h=p("splice"),m=Math.max,v=Math.min;r({target:"Array",proto:!0,forced:!h},{splice:function(e,t){var n,r,p,h,g,b,y=i(this),w=a(y),S=o(e,w),_=arguments.length;for(0===_?n=r=0:1===_?(n=0,r=w-S):(n=_-2,r=v(m(s(t),0),w-S)),l(w+n-r),p=u(y,r),h=0;h<r;h++)g=S+h,g in y&&d(p,h,y[g]);if(p.length=r,n<r){for(h=S;h<w-r;h++)g=h+r,b=h+n,g in y?y[b]=y[g]:f(y,b);for(h=w;h>w-r+n;h--)f(y,h-1)}else if(n>r)for(h=w-r;h>S;h--)g=h+r-1,b=h+n-1,g in y?y[b]=y[g]:f(y,b);for(h=0;h<n;h++)y[h+S]=arguments[h+2];return c(y,w-r+n),p}})},a4b4:function(e,t,n){"use strict";var r=n("342f");e.exports=/web0s(?!.*chrome)/i.test(r)},a4d3:function(e,t,n){"use strict";n("d9f5"),n("b4f8"),n("c513"),n("e9c4"),n("5a47")},a5ba:function(e,t,n){"use strict";n("e902")},a630:function(e,t,n){"use strict";var r=n("23e7"),i=n("4df4"),o=n("1c7e"),s=!o((function(e){Array.from(e)}));r({target:"Array",stat:!0,forced:s},{from:i})},a640:function(e,t,n){"use strict";var r=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&r((function(){n.call(null,t||function(){return 1},1)}))}},a706:function(e,t,n){"use strict";n("001d")},a9e3:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("83ab"),s=n("da84"),a=n("428f"),c=n("e330"),l=n("94ca"),u=n("1a2d"),d=n("7156"),f=n("3a9b"),p=n("d9b5"),h=n("c04e"),m=n("d039"),v=n("241c").f,g=n("06cf").f,b=n("9bf2").f,y=n("408a"),w=n("58a8").trim,S="Number",_=s[S],x=a[S],k=_.prototype,O=s.TypeError,C=c("".slice),E=c("".charCodeAt),j=function(e){var t=h(e,"number");return"bigint"==typeof t?t:T(t)},T=function(e){var t,n,r,i,o,s,a,c,l=h(e,"number");if(p(l))throw new O("Cannot convert a Symbol value to a number");if("string"==typeof l&&l.length>2)if(l=w(l),t=E(l,0),43===t||45===t){if(n=E(l,2),88===n||120===n)return NaN}else if(48===t){switch(E(l,1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+l}for(o=C(l,2),s=o.length,a=0;a<s;a++)if(c=E(o,a),c<48||c>i)return NaN;return parseInt(o,r)}return+l},I=l(S,!_(" 0o1")||!_("0b1")||_("+0x1")),R=function(e){return f(k,e)&&m((function(){y(e)}))},V=function(e){var t=arguments.length<1?0:_(j(e));return R(this)?d(Object(t),this,V):t};V.prototype=k,I&&!i&&(k.constructor=V),r({global:!0,constructor:!0,wrap:!0,forced:I},{Number:V});var P=function(e,t){for(var n,r=o?v(t):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),i=0;r.length>i;i++)u(t,n=r[i])&&!u(e,n)&&b(e,n,g(t,n))};i&&x&&P(a[S],x),(I||i)&&P(a[S],_)},aa1f:function(e,t,n){"use strict";var r=n("83ab"),i=n("d039"),o=n("825a"),s=n("e391"),a=Error.prototype.toString,c=i((function(){if(r){var e=Object.create(Object.defineProperty({},"name",{get:function(){return this===e}}));if("true"!==a.call(e))return!0}return"2: 1"!==a.call({message:1,name:2})||"Error"!==a.call({})}));e.exports=c?function(){var e=o(this),t=s(e.name,"Error"),n=s(e.message);return t?n?t+": "+n:t:n}:a},aaca:function(e,t,n){},ab13:function(e,t,n){"use strict";var r=n("b622"),i=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},ab36:function(e,t,n){"use strict";var r=n("861d"),i=n("9112");e.exports=function(e,t){r(t)&&"cause"in t&&i(e,"cause",t.cause)}},ab8b:function(e,t,n){},abc5:function(e,t,n){"use strict";(function(e){function r(){return i().__VUE_DEVTOOLS_GLOBAL_HOOK__}function i(){return"undefined"!==typeof navigator&&"undefined"!==typeof window?window:"undefined"!==typeof e?e:{}}n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));const o="function"===typeof Proxy}).call(this,n("c8ba"))},ac1f:function(e,t,n){"use strict";var r=n("23e7"),i=n("9263");r({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},accc:function(e,t,n){"use strict";var r=n("23e7"),i=n("64e5");r({target:"Date",proto:!0,forced:Date.prototype.toISOString!==i},{toISOString:i})},ad6d:function(e,t,n){"use strict";var r=n("825a");e.exports=function(){var e=r(this),t="";return e.hasIndices&&(t+="d"),e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.unicodeSets&&(t+="v"),e.sticky&&(t+="y"),t}},addb:function(e,t,n){"use strict";var r=n("f36a"),i=Math.floor,o=function(e,t){var n=e.length;if(n<8){var s,a,c=1;while(c<n){a=c,s=e[c];while(a&&t(e[a-1],s)>0)e[a]=e[--a];a!==c++&&(e[a]=s)}}else{var l=i(n/2),u=o(r(e,0,l),t),d=o(r(e,l),t),f=u.length,p=d.length,h=0,m=0;while(h<f||m<p)e[h+m]=h<f&&m<p?t(u[h],d[m])<=0?u[h++]:d[m++]:h<f?u[h++]:d[m++]}return e};e.exports=o},ae72:function(e,t,n){"use strict";var r,i,o;(function(s,a){i=[n("2ad6")],r=a,o="function"===typeof r?r.apply(t,i):r,void 0===o||(e.exports=o)})("undefined"!==typeof window&&window,(function(e){var t=function(){var t,n={},r=[];function i(e){e||(e=document.documentElement);var t=window.getComputedStyle(e,null).fontSize;return parseFloat(t)||16}function o(e){if(!e.getBoundingClientRect)return{width:e.offsetWidth,height:e.offsetHeight};var t=e.getBoundingClientRect();return{width:Math.round(t.width),height:Math.round(t.height)}}function s(e,t){var n=t.split(/\d/),r=n[n.length-1];switch(t=parseFloat(t),r){case"px":return t;case"em":return t*i(e);case"rem":return t*i();case"vw":return t*document.documentElement.clientWidth/100;case"vh":return t*document.documentElement.clientHeight/100;case"vmin":case"vmax":var o=document.documentElement.clientWidth/100,s=document.documentElement.clientHeight/100,a=Math["vmin"===r?"min":"max"];return t*a(o,s);default:return t}}function a(e,t){var r,i,a,c,l,u,d,f;this.element=e;var p=["min-width","min-height","max-width","max-height"];this.call=function(){for(r in a=o(this.element),u={},n[t])n[t].hasOwnProperty(r)&&(i=n[t][r],c=s(this.element,i.value),l="width"===i.property?a.width:a.height,f=i.mode+"-"+i.property,d="","min"===i.mode&&l>=c&&(d+=i.value),"max"===i.mode&&l<=c&&(d+=i.value),u[f]||(u[f]=""),d&&-1===(" "+u[f]+" ").indexOf(" "+d+" ")&&(u[f]+=" "+d));for(var e in p)p.hasOwnProperty(e)&&(u[p[e]]?this.element.setAttribute(p[e],u[p[e]].substr(1)):this.element.removeAttribute(p[e]))}}function c(t,n){t.elementQueriesSetupInformation||(t.elementQueriesSetupInformation=new a(t,n)),t.elementQueriesSensor||(t.elementQueriesSensor=new e(t,(function(){t.elementQueriesSetupInformation.call()})))}function l(e,i,o,s){if("undefined"===typeof n[e]){n[e]=[];var a=r.length;t.innerHTML+="\n"+e+" {animation: 0.1s element-queries;}",t.innerHTML+="\n"+e+" > .resize-sensor {min-width: "+a+"px;}",r.push(e)}n[e].push({mode:i,property:o,value:s})}function u(e){var t;if(document.querySelectorAll&&(t=e?e.querySelectorAll.bind(e):document.querySelectorAll.bind(document)),t||"undefined"===typeof $$||(t=$$),t||"undefined"===typeof jQuery||(t=jQuery),!t)throw"No document.querySelectorAll, jQuery or Mootools's $$ found.";return t}function d(e){var t=u(e);for(var r in n)if(n.hasOwnProperty(r))for(var i=t(r,e),o=0,s=i.length;o<s;o++)c(i[o],r)}function f(t){var n=[],r=[],i=[],o=0,s=-1,a=[];for(var c in t.children)if(t.children.hasOwnProperty(c)&&t.children[c].tagName&&"img"===t.children[c].tagName.toLowerCase()){n.push(t.children[c]);var l=t.children[c].getAttribute("min-width")||t.children[c].getAttribute("data-min-width"),u=t.children[c].getAttribute("data-src")||t.children[c].getAttribute("url");i.push(u);var d={minWidth:l};r.push(d),l?t.children[c].style.display="none":(o=n.length-1,t.children[c].style.display="block")}function f(){var e,c=!1;for(e in n)n.hasOwnProperty(e)&&r[e].minWidth&&t.offsetWidth>r[e].minWidth&&(c=e);if(c||(c=o),s!==c)if(a[c])n[s].style.display="none",n[c].style.display="block",s=c;else{var l=new Image;l.onload=function(){n[c].src=i[c],n[s].style.display="none",n[c].style.display="block",a[c]=!0,s=c},l.src=i[c]}else n[c].src=i[c]}s=o,t.resizeSensorInstance=new e(t,f),f()}function p(){for(var e=u(),t=e("[data-responsive-image],[responsive-image]"),n=0,r=t.length;n<r;n++)f(t[n])}var h=/,?[\s\t]*([^,\n]*?)((?:\[[\s\t]*?(?:min|max)-(?:width|height)[\s\t]*?[~$\^]?=[\s\t]*?"[^"]*?"[\s\t]*?])+)([^,\n\s\{]*)/gim,m=/\[[\s\t]*?(min|max)-(width|height)[\s\t]*?[~$\^]?=[\s\t]*?"([^"]*?)"[\s\t]*?]/gim;function v(e){var t,n,r,i;e=e.replace(/'/g,'"');while(null!==(t=h.exec(e))){n=t[1]+t[3],r=t[2];while(null!==(i=m.exec(r)))l(n,i[1],i[2],i[3])}}function g(e){var t="";if(e)if("string"===typeof e)e=e.toLowerCase(),-1===e.indexOf("min-width")&&-1===e.indexOf("max-width")||v(e);else for(var n=0,r=e.length;n<r;n++)1===e[n].type?(t=e[n].selectorText||e[n].cssText,-1!==t.indexOf("min-height")||-1!==t.indexOf("max-height")?v(t):-1===t.indexOf("min-width")&&-1===t.indexOf("max-width")||v(t)):4===e[n].type?g(e[n].cssRules||e[n].rules):3===e[n].type&&e[n].styleSheet.hasOwnProperty("cssRules")&&g(e[n].styleSheet.cssRules)}var b=!1;this.init=function(){var n="animationstart";"undefined"!==typeof document.documentElement.style["webkitAnimationName"]?n="webkitAnimationStart":"undefined"!==typeof document.documentElement.style["MozAnimationName"]?n="mozanimationstart":"undefined"!==typeof document.documentElement.style["OAnimationName"]&&(n="oanimationstart"),document.body.addEventListener(n,(function(t){var n=t.target,i=n&&window.getComputedStyle(n,null),o=i&&i.getPropertyValue("animation-name"),s=o&&-1!==o.indexOf("element-queries");if(s){n.elementQueriesSensor=new e(n,(function(){n.elementQueriesSetupInformation&&n.elementQueriesSetupInformation.call()}));var a=window.getComputedStyle(n.resizeSensor,null),l=a.getPropertyValue("min-width");l=parseInt(l.replace("px","")),c(t.target,r[l])}})),b||(t=document.createElement("style"),t.type="text/css",t.innerHTML="[responsive-image] > img, [data-responsive-image] {overflow: hidden; padding: 0; } [responsive-image] > img, [data-responsive-image] > img {width: 100%;}",t.innerHTML+="\n@keyframes element-queries { 0% { visibility: inherit; } }",document.getElementsByTagName("head")[0].appendChild(t),b=!0);for(var i=0,o=document.styleSheets.length;i<o;i++)try{document.styleSheets[i].href&&0===document.styleSheets[i].href.indexOf("file://")&&console.warn("CssElementQueries: unable to parse local css files, "+document.styleSheets[i].href),g(document.styleSheets[i].cssRules||document.styleSheets[i].rules||document.styleSheets[i].cssText)}catch(s){}p()},this.findElementQueriesElements=function(e){d(e)},this.update=function(){this.init()}};t.update=function(){t.instance.update()},t.detach=function(e){e.elementQueriesSetupInformation?(e.elementQueriesSensor.detach(),delete e.elementQueriesSetupInformation,delete e.elementQueriesSensor):e.resizeSensorInstance&&(e.resizeSensorInstance.detach(),delete e.resizeSensorInstance)},t.init=function(){t.instance||(t.instance=new t),t.instance.init()};var n=function(e){if(document.addEventListener)document.addEventListener("DOMContentLoaded",e,!1);else if(/KHTML|WebKit|iCab/i.test(navigator.userAgent))var t=setInterval((function(){/loaded|complete/i.test(document.readyState)&&(e(),clearInterval(t))}),10);else window.onload=e};return t.findElementQueriesElements=function(e){t.instance.findElementQueriesElements(e)},t.listen=function(){n(t.init)},t}))},ae93:function(e,t,n){"use strict";var r,i,o,s=n("d039"),a=n("1626"),c=n("861d"),l=n("7c73"),u=n("e163"),d=n("cb2d"),f=n("b622"),p=n("c430"),h=f("iterator"),m=!1;[].keys&&(o=[].keys(),"next"in o?(i=u(u(o)),i!==Object.prototype&&(r=i)):m=!0);var v=!c(r)||s((function(){var e={};return r[h].call(e)!==e}));v?r={}:p&&(r=l(r)),a(r[h])||d(r,h,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:m}},aeb0:function(e,t,n){"use strict";var r=n("9bf2").f;e.exports=function(e,t,n){n in e||r(e,n,{configurable:!0,get:function(){return t[n]},set:function(e){t[n]=e}})}},aed9:function(e,t,n){"use strict";var r=n("83ab"),i=n("d039");e.exports=r&&i((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},b041:function(e,t,n){"use strict";var r=n("00ee"),i=n("f5df");e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},b3ad:function(e,t,n){"use strict";n("77ce")},b42e:function(e,t,n){"use strict";var r=Math.ceil,i=Math.floor;e.exports=Math.trunc||function(e){var t=+e;return(t>0?i:r)(t)}},b4f8:function(e,t,n){"use strict";var r=n("23e7"),i=n("d066"),o=n("1a2d"),s=n("577e"),a=n("5692"),c=n("0b43"),l=a("string-to-symbol-registry"),u=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{for:function(e){var t=s(e);if(o(l,t))return l[t];var n=i("Symbol")(t);return l[t]=n,u[n]=t,n}})},b575:function(e,t,n){"use strict";var r,i,o,s,a,c=n("da84"),l=n("157a"),u=n("0366"),d=n("2cf4").set,f=n("01b4"),p=n("1cdc"),h=n("d4c3"),m=n("a4b4"),v=n("605d"),g=c.MutationObserver||c.WebKitMutationObserver,b=c.document,y=c.process,w=c.Promise,S=l("queueMicrotask");if(!S){var _=new f,x=function(){var e,t;v&&(e=y.domain)&&e.exit();while(t=_.get())try{t()}catch(n){throw _.head&&r(),n}e&&e.enter()};p||v||m||!g||!b?!h&&w&&w.resolve?(s=w.resolve(void 0),s.constructor=w,a=u(s.then,s),r=function(){a(x)}):v?r=function(){y.nextTick(x)}:(d=u(d,c),r=function(){d(x)}):(i=!0,o=b.createTextNode(""),new g(x).observe(o,{characterData:!0}),r=function(){o.data=i=!i}),S=function(e){_.head||r(),_.add(e)}}e.exports=S},b622:function(e,t,n){"use strict";var r=n("da84"),i=n("5692"),o=n("1a2d"),s=n("90e3"),a=n("04f8"),c=n("fdbf"),l=r.Symbol,u=i("wks"),d=c?l["for"]||l:l&&l.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=a&&o(l,e)?l[e]:d("Symbol."+e)),u[e]}},b636:function(e,t,n){"use strict";var r=n("e065");r("asyncIterator")},b64b:function(e,t,n){"use strict";var r=n("23e7"),i=n("7b0b"),o=n("df75"),s=n("d039"),a=s((function(){o(1)}));r({target:"Object",stat:!0,forced:a},{keys:function(e){return o(i(e))}})},b680:function(e,t,n){"use strict";var r=n("23e7"),i=n("e330"),o=n("5926"),s=n("408a"),a=n("1148"),c=n("d039"),l=RangeError,u=String,d=Math.floor,f=i(a),p=i("".slice),h=i(1..toFixed),m=function(e,t,n){return 0===t?n:t%2===1?m(e,t-1,n*e):m(e*e,t/2,n)},v=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},g=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=d(i/1e7)},b=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=d(r/t),r=r%t*1e7},y=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=u(e[t]);n=""===n?r:n+f("0",7-r.length)+r}return n},w=c((function(){return"0.000"!==h(8e-5,3)||"1"!==h(.9,0)||"1.25"!==h(1.255,2)||"1000000000000000128"!==h(0xde0b6b3a7640080,0)}))||!c((function(){h({})}));r({target:"Number",proto:!0,forced:w},{toFixed:function(e){var t,n,r,i,a=s(this),c=o(e),d=[0,0,0,0,0,0],h="",w="0";if(c<0||c>20)throw new l("Incorrect fraction digits");if(a!==a)return"NaN";if(a<=-1e21||a>=1e21)return u(a);if(a<0&&(h="-",a=-a),a>1e-21)if(t=v(a*m(2,69,1))-69,n=t<0?a*m(2,-t,1):a/m(2,t,1),n*=4503599627370496,t=52-t,t>0){g(d,0,n),r=c;while(r>=7)g(d,1e7,0),r-=7;g(d,m(10,r,1),0),r=t-1;while(r>=23)b(d,1<<23),r-=23;b(d,1<<r),g(d,1,1),b(d,2),w=y(d)}else g(d,0,n),g(d,1<<-t,0),w=y(d)+f("0",c);return c>0?(i=w.length,w=h+(i<=c?"0."+f("0",c-i)+w:p(w,0,i-c)+"."+p(w,i-c))):w=h+w,w}})},b727:function(e,t,n){"use strict";var r=n("0366"),i=n("e330"),o=n("44ad"),s=n("7b0b"),a=n("07fa"),c=n("65f0"),l=i([].push),u=function(e){var t=1===e,n=2===e,i=3===e,u=4===e,d=6===e,f=7===e,p=5===e||d;return function(h,m,v,g){for(var b,y,w=s(h),S=o(w),_=a(S),x=r(m,v),k=0,O=g||c,C=t?O(h,_):n||f?O(h,0):void 0;_>k;k++)if((p||k in S)&&(b=S[k],y=x(b,k,w),e))if(t)C[k]=y;else if(y)switch(e){case 3:return!0;case 5:return b;case 6:return k;case 2:l(C,b)}else switch(e){case 4:return!1;case 7:l(C,b)}return d?-1:i||u?u:C}};e.exports={forEach:u(0),map:u(1),filter:u(2),some:u(3),every:u(4),find:u(5),findIndex:u(6),filterReject:u(7)}},b980:function(e,t,n){"use strict";var r=n("d039"),i=n("5c6c");e.exports=!r((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",i(1,7)),7!==e.stack)}))},c03e:function(e,t,n){"use strict";n("e444")},c04e:function(e,t,n){"use strict";var r=n("c65b"),i=n("861d"),o=n("d9b5"),s=n("dc4a"),a=n("485a"),c=n("b622"),l=TypeError,u=c("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var n,c=s(e,u);if(c){if(void 0===t&&(t="default"),n=r(c,e,t),!i(n)||o(n))return n;throw new l("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},c1f9:function(e,t,n){"use strict";var r=n("23e7"),i=n("2266"),o=n("8418");r({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,n){o(t,e,n)}),{AS_ENTRIES:!0}),t}})},c20d:function(e,t,n){"use strict";var r=n("da84"),i=n("d039"),o=n("e330"),s=n("577e"),a=n("58a8").trim,c=n("5899"),l=r.parseInt,u=r.Symbol,d=u&&u.iterator,f=/^[+-]?0x/i,p=o(f.exec),h=8!==l(c+"08")||22!==l(c+"0x16")||d&&!i((function(){l(Object(d))}));e.exports=h?function(e,t){var n=a(s(e));return l(n,t>>>0||(p(f,n)?16:10))}:l},c236:function(e,t,n){},c430:function(e,t,n){"use strict";e.exports=!1},c513:function(e,t,n){"use strict";var r=n("23e7"),i=n("1a2d"),o=n("d9b5"),s=n("0d51"),a=n("5692"),c=n("0b43"),l=a("symbol-to-string-registry");r({target:"Symbol",stat:!0,forced:!c},{keyFor:function(e){if(!o(e))throw new TypeError(s(e)+" is not a symbol");if(i(l,e))return l[e]}})},c65b:function(e,t,n){"use strict";var r=n("40d5"),i=Function.prototype.call;e.exports=r?i.bind(i):function(){return i.apply(i,arguments)}},c6b6:function(e,t,n){"use strict";var r=n("e330"),i=r({}.toString),o=r("".slice);e.exports=function(e){return o(i(e),8,-1)}},c6cd:function(e,t,n){"use strict";var r=n("da84"),i=n("6374"),o="__core-js_shared__",s=r[o]||i(o,{});e.exports=s},c6d2:function(e,t,n){"use strict";var r=n("23e7"),i=n("c65b"),o=n("c430"),s=n("5e77"),a=n("1626"),c=n("dcc3"),l=n("e163"),u=n("d2bb"),d=n("d44e"),f=n("9112"),p=n("cb2d"),h=n("b622"),m=n("3f8c"),v=n("ae93"),g=s.PROPER,b=s.CONFIGURABLE,y=v.IteratorPrototype,w=v.BUGGY_SAFARI_ITERATORS,S=h("iterator"),_="keys",x="values",k="entries",O=function(){return this};e.exports=function(e,t,n,s,h,v,C){c(n,t,s);var E,j,T,I=function(e){if(e===h&&M)return M;if(!w&&e&&e in P)return P[e];switch(e){case _:return function(){return new n(this,e)};case x:return function(){return new n(this,e)};case k:return function(){return new n(this,e)}}return function(){return new n(this)}},R=t+" Iterator",V=!1,P=e.prototype,A=P[S]||P["@@iterator"]||h&&P[h],M=!w&&A||I(h),L="Array"===t&&P.entries||A;if(L&&(E=l(L.call(new e)),E!==Object.prototype&&E.next&&(o||l(E)===y||(u?u(E,y):a(E[S])||p(E,S,O)),d(E,R,!0,!0),o&&(m[R]=O))),g&&h===x&&A&&A.name!==x&&(!o&&b?f(P,"name",x):(V=!0,M=function(){return i(A,this)})),h)if(j={values:I(x),keys:v?M:I(_),entries:I(k)},C)for(T in j)(w||V||!(T in P))&&p(P,T,j[T]);else r({target:t,proto:!0,forced:w||V},j);return o&&!C||P[S]===M||p(P,S,M,{name:h}),m[t]=M,j}},c740:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").findIndex,o=n("44d2"),s="findIndex",a=!0;s in[]&&Array(1)[s]((function(){a=!1})),r({target:"Array",proto:!0,forced:a},{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),o(s)},c8ba:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}e.exports=n},c975:function(e,t,n){"use strict";var r=n("23e7"),i=n("4625"),o=n("4d64").indexOf,s=n("a640"),a=i([].indexOf),c=!!a&&1/a([1],1,-0)<0,l=c||!s("indexOf");r({target:"Array",proto:!0,forced:l},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return c?a(this,e,t)||0:o(this,e,t)}})},ca84:function(e,t,n){"use strict";var r=n("e330"),i=n("1a2d"),o=n("fc6a"),s=n("4d64").indexOf,a=n("d012"),c=r([].push);e.exports=function(e,t){var n,r=o(e),l=0,u=[];for(n in r)!i(a,n)&&i(r,n)&&c(u,n);while(t.length>l)i(r,n=t[l++])&&(~s(u,n)||c(u,n));return u}},caad:function(e,t,n){"use strict";var r=n("23e7"),i=n("4d64").includes,o=n("d039"),s=n("44d2"),a=o((function(){return!Array(1).includes()}));r({target:"Array",proto:!0,forced:a},{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},cb2d:function(e,t,n){"use strict";var r=n("1626"),i=n("9bf2"),o=n("13d2"),s=n("6374");e.exports=function(e,t,n,a){a||(a={});var c=a.enumerable,l=void 0!==a.name?a.name:t;if(r(n)&&o(n,l,a),a.global)c?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(c=!0):delete e[t]}catch(u){}c?e[t]=n:i.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},cc12:function(e,t,n){"use strict";var r=n("da84"),i=n("861d"),o=r.document,s=i(o)&&i(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},cc98:function(e,t,n){"use strict";var r=n("23e7"),i=n("c430"),o=n("4738").CONSTRUCTOR,s=n("d256"),a=n("d066"),c=n("1626"),l=n("cb2d"),u=s&&s.prototype;if(r({target:"Promise",proto:!0,forced:o,real:!0},{catch:function(e){return this.then(void 0,e)}}),!i&&c(s)){var d=a("Promise").prototype["catch"];u["catch"]!==d&&l(u,"catch",d,{unsafe:!0})}},cca6:function(e,t,n){"use strict";var r=n("23e7"),i=n("60da");r({target:"Object",stat:!0,arity:2,forced:Object.assign!==i},{assign:i})},cd74:function(e,t,n){},cdce:function(e,t,n){"use strict";var r=n("da84"),i=n("1626"),o=r.WeakMap;e.exports=i(o)&&/native code/.test(String(o))},cdf9:function(e,t,n){"use strict";var r=n("825a"),i=n("861d"),o=n("f069");e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=o.f(e),s=n.resolve;return s(t),n.promise}},d012:function(e,t,n){"use strict";e.exports={}},d039:function(e,t,n){"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},d066:function(e,t,n){"use strict";var r=n("da84"),i=n("1626"),o=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e]):r[e]&&r[e][t]}},d1e7:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},d256:function(e,t,n){"use strict";var r=n("da84");e.exports=r.Promise},d28b:function(e,t,n){"use strict";var r=n("e065");r("iterator")},d2bb:function(e,t,n){"use strict";var r=n("7282"),i=n("825a"),o=n("3bbe");e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{e=r(Object.prototype,"__proto__","set"),e(n,[]),t=n instanceof Array}catch(s){}return function(n,r){return i(n),o(r),t?e(n,r):n.__proto__=r,n}}():void 0)},d3b7:function(e,t,n){"use strict";var r=n("00ee"),i=n("cb2d"),o=n("b041");r||i(Object.prototype,"toString",o,{unsafe:!0})},d401:function(e,t,n){"use strict";var r=n("cb2d"),i=n("aa1f"),o=Error.prototype;o.toString!==i&&r(o,"toString",i)},d44e:function(e,t,n){"use strict";var r=n("9bf2").f,i=n("1a2d"),o=n("b622"),s=o("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!i(e,s)&&r(e,s,{configurable:!0,value:t})}},d463:function(e,t,n){},d4c3:function(e,t,n){"use strict";var r=n("342f");e.exports=/ipad|iphone|ipod/i.test(r)&&"undefined"!=typeof Pebble},d58f:function(e,t,n){"use strict";var r=n("59ed"),i=n("7b0b"),o=n("44ad"),s=n("07fa"),a=TypeError,c=function(e){return function(t,n,c,l){var u=i(t),d=o(u),f=s(u);r(n);var p=e?f-1:0,h=e?-1:1;if(c<2)while(1){if(p in d){l=d[p],p+=h;break}if(p+=h,e?p<0:f<=p)throw new a("Reduce of empty array with no initial value")}for(;e?p>=0:f>p;p+=h)p in d&&(l=n(l,d[p],p,u));return l}};e.exports={left:c(!1),right:c(!0)}},d6d6:function(e,t,n){"use strict";var r=TypeError;e.exports=function(e,t){if(e<t)throw new r("Not enough arguments");return e}},d745:function(e,t,n){"use strict";n("97de")},d76d:function(e,t,n){},d784:function(e,t,n){"use strict";n("ac1f");var r=n("c65b"),i=n("cb2d"),o=n("9263"),s=n("d039"),a=n("b622"),c=n("9112"),l=a("species"),u=RegExp.prototype;e.exports=function(e,t,n,d){var f=a(e),p=!s((function(){var t={};return t[f]=function(){return 7},7!==""[e](t)})),h=p&&!s((function(){var t=!1,n=/a/;return"split"===e&&(n={},n.constructor={},n.constructor[l]=function(){return n},n.flags="",n[f]=/./[f]),n.exec=function(){return t=!0,null},n[f](""),!t}));if(!p||!h||n){var m=/./[f],v=t(f,""[e],(function(e,t,n,i,s){var a=t.exec;return a===o||a===u.exec?p&&!s?{done:!0,value:r(m,t,n,i)}:{done:!0,value:r(e,n,t,i)}:{done:!1}}));i(String.prototype,e,v[0]),i(u,f,v[1])}d&&c(u[f],"sham",!0)}},d81d:function(e,t,n){"use strict";var r=n("23e7"),i=n("b727").map,o=n("1dde"),s=o("map");r({target:"Array",proto:!0,forced:!s},{map:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}})},d8d3:function(e,t,n){"use strict";n("3bca")},d998:function(e,t,n){"use strict";var r=n("342f");e.exports=/MSIE|Trident/.test(r)},d9b5:function(e,t,n){"use strict";var r=n("d066"),i=n("1626"),o=n("3a9b"),s=n("fdbf"),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=r("Symbol");return i(t)&&o(t.prototype,a(e))}},d9e2:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("2ba4"),s=n("e5cb"),a="WebAssembly",c=i[a],l=7!==new Error("e",{cause:7}).cause,u=function(e,t){var n={};n[e]=s(e,t,l),r({global:!0,constructor:!0,arity:1,forced:l},n)},d=function(e,t){if(c&&c[e]){var n={};n[e]=s(a+"."+e,t,l),r({target:a,stat:!0,constructor:!0,arity:1,forced:l},n)}};u("Error",(function(e){return function(t){return o(e,this,arguments)}})),u("EvalError",(function(e){return function(t){return o(e,this,arguments)}})),u("RangeError",(function(e){return function(t){return o(e,this,arguments)}})),u("ReferenceError",(function(e){return function(t){return o(e,this,arguments)}})),u("SyntaxError",(function(e){return function(t){return o(e,this,arguments)}})),u("TypeError",(function(e){return function(t){return o(e,this,arguments)}})),u("URIError",(function(e){return function(t){return o(e,this,arguments)}})),d("CompileError",(function(e){return function(t){return o(e,this,arguments)}})),d("LinkError",(function(e){return function(t){return o(e,this,arguments)}})),d("RuntimeError",(function(e){return function(t){return o(e,this,arguments)}}))},d9f5:function(e,t,n){"use strict";var r=n("23e7"),i=n("da84"),o=n("c65b"),s=n("e330"),a=n("c430"),c=n("83ab"),l=n("04f8"),u=n("d039"),d=n("1a2d"),f=n("3a9b"),p=n("825a"),h=n("fc6a"),m=n("a04b"),v=n("577e"),g=n("5c6c"),b=n("7c73"),y=n("df75"),w=n("241c"),S=n("057f"),_=n("7418"),x=n("06cf"),k=n("9bf2"),O=n("37e8"),C=n("d1e7"),E=n("cb2d"),j=n("edd0"),T=n("5692"),I=n("f772"),R=n("d012"),V=n("90e3"),P=n("b622"),A=n("e538"),M=n("e065"),L=n("57b9"),N=n("d44e"),D=n("69f3"),B=n("b727").forEach,F=I("hidden"),U="Symbol",z="prototype",W=D.set,Z=D.getterFor(U),G=Object[z],$=i.Symbol,X=$&&$[z],Y=i.RangeError,H=i.TypeError,K=i.QObject,J=x.f,Q=k.f,q=S.f,ee=C.f,te=s([].push),ne=T("symbols"),re=T("op-symbols"),ie=T("wks"),oe=!K||!K[z]||!K[z].findChild,se=function(e,t,n){var r=J(G,t);r&&delete G[t],Q(e,t,n),r&&e!==G&&Q(G,t,r)},ae=c&&u((function(){return 7!==b(Q({},"a",{get:function(){return Q(this,"a",{value:7}).a}})).a}))?se:Q,ce=function(e,t){var n=ne[e]=b(X);return W(n,{type:U,tag:e,description:t}),c||(n.description=t),n},le=function(e,t,n){e===G&&le(re,t,n),p(e);var r=m(t);return p(n),d(ne,r)?(n.enumerable?(d(e,F)&&e[F][r]&&(e[F][r]=!1),n=b(n,{enumerable:g(0,!1)})):(d(e,F)||Q(e,F,g(1,b(null))),e[F][r]=!0),ae(e,r,n)):Q(e,r,n)},ue=function(e,t){p(e);var n=h(t),r=y(n).concat(me(n));return B(r,(function(t){c&&!o(fe,n,t)||le(e,t,n[t])})),e},de=function(e,t){return void 0===t?b(e):ue(b(e),t)},fe=function(e){var t=m(e),n=o(ee,this,t);return!(this===G&&d(ne,t)&&!d(re,t))&&(!(n||!d(this,t)||!d(ne,t)||d(this,F)&&this[F][t])||n)},pe=function(e,t){var n=h(e),r=m(t);if(n!==G||!d(ne,r)||d(re,r)){var i=J(n,r);return!i||!d(ne,r)||d(n,F)&&n[F][r]||(i.enumerable=!0),i}},he=function(e){var t=q(h(e)),n=[];return B(t,(function(e){d(ne,e)||d(R,e)||te(n,e)})),n},me=function(e){var t=e===G,n=q(t?re:h(e)),r=[];return B(n,(function(e){!d(ne,e)||t&&!d(G,e)||te(r,ne[e])})),r};l||($=function(){if(f(X,this))throw new H("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?v(arguments[0]):void 0,t=V(e),n=function(e){var r=void 0===this?i:this;r===G&&o(n,re,e),d(r,F)&&d(r[F],t)&&(r[F][t]=!1);var s=g(1,e);try{ae(r,t,s)}catch(a){if(!(a instanceof Y))throw a;se(r,t,s)}};return c&&oe&&ae(G,t,{configurable:!0,set:n}),ce(t,e)},X=$[z],E(X,"toString",(function(){return Z(this).tag})),E($,"withoutSetter",(function(e){return ce(V(e),e)})),C.f=fe,k.f=le,O.f=ue,x.f=pe,w.f=S.f=he,_.f=me,A.f=function(e){return ce(P(e),e)},c&&(j(X,"description",{configurable:!0,get:function(){return Z(this).description}}),a||E(G,"propertyIsEnumerable",fe,{unsafe:!0}))),r({global:!0,constructor:!0,wrap:!0,forced:!l,sham:!l},{Symbol:$}),B(y(ie),(function(e){M(e)})),r({target:U,stat:!0,forced:!l},{useSetter:function(){oe=!0},useSimple:function(){oe=!1}}),r({target:"Object",stat:!0,forced:!l,sham:!c},{create:de,defineProperty:le,defineProperties:ue,getOwnPropertyDescriptor:pe}),r({target:"Object",stat:!0,forced:!l},{getOwnPropertyNames:he}),L(),N($,U),R[F]=!0},da84:function(e,t,n){"use strict";(function(t){var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof t&&t)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},da96:function(e,t,n){},dc4a:function(e,t,n){"use strict";var r=n("59ed"),i=n("7234");e.exports=function(e,t){var n=e[t];return i(n)?void 0:r(n)}},dcc3:function(e,t,n){"use strict";var r=n("ae93").IteratorPrototype,i=n("7c73"),o=n("5c6c"),s=n("d44e"),a=n("3f8c"),c=function(){return this};e.exports=function(e,t,n,l){var u=t+" Iterator";return e.prototype=i(r,{next:o(+!l,n)}),s(e,u,!1,!0),a[u]=c,e}},dd24:function(e,t,n){},ddb0:function(e,t,n){"use strict";var r=n("da84"),i=n("fdbc"),o=n("785a"),s=n("e260"),a=n("9112"),c=n("d44e"),l=n("b622"),u=l("iterator"),d=s.values,f=function(e,t){if(e){if(e[u]!==d)try{a(e,u,d)}catch(r){e[u]=d}if(c(e,t,!0),i[t])for(var n in s)if(e[n]!==s[n])try{a(e,n,s[n])}catch(r){e[n]=s[n]}}};for(var p in i)f(r[p]&&r[p].prototype,p);f(o,"DOMTokenList")},df75:function(e,t,n){"use strict";var r=n("ca84"),i=n("7839");e.exports=Object.keys||function(e){return r(e,i)}},df7c:function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var i=e[r];"."===i?e.splice(r,1):".."===i?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e){"string"!==typeof e&&(e+="");var t,n=0,r=-1,i=!0;for(t=e.length-1;t>=0;--t)if(47===e.charCodeAt(t)){if(!i){n=t+1;break}}else-1===r&&(i=!1,r=t+1);return-1===r?"":e.slice(n,r)}function i(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}t.resolve=function(){for(var t="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:e.cwd();if("string"!==typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(t=s+"/"+t,r="/"===s.charAt(0))}return t=n(i(t.split("/"),(function(e){return!!e})),!r).join("/"),(r?"/":"")+t||"."},t.normalize=function(e){var r=t.isAbsolute(e),s="/"===o(e,-1);return e=n(i(e.split("/"),(function(e){return!!e})),!r).join("/"),e||r||(e="."),e&&s&&(e+="/"),(r?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(i(e,(function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e})).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var n=e.length-1;n>=0;n--)if(""!==e[n])break;return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var i=r(e.split("/")),o=r(n.split("/")),s=Math.min(i.length,o.length),a=s,c=0;c<s;c++)if(i[c]!==o[c]){a=c;break}var l=[];for(c=a;c<i.length;c++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){if("string"!==typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),n=47===t,r=-1,i=!0,o=e.length-1;o>=1;--o)if(t=e.charCodeAt(o),47===t){if(!i){r=o;break}}else i=!1;return-1===r?n?"/":".":n&&1===r?"/":e.slice(0,r)},t.basename=function(e,t){var n=r(e);return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){"string"!==typeof e&&(e+="");for(var t=-1,n=0,r=-1,i=!0,o=0,s=e.length-1;s>=0;--s){var a=e.charCodeAt(s);if(47!==a)-1===r&&(i=!1,r=s+1),46===a?-1===t?t=s:1!==o&&(o=1):-1!==t&&(o=-1);else if(!i){n=s+1;break}}return-1===t||-1===r||0===o||1===o&&t===r-1&&t===n+1?"":e.slice(t,r)};var o="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,n("4362"))},e014:function(e,t,n){(function(n,r){var i,o,s;(function(n,r){typeof e<"u"?r(t):(o=[t],i=r,s="function"===typeof i?i.apply(t,o):i,void 0===s||(e.exports=s))})(0,(function(e){"use strict";var t,i=Object.defineProperty,o=Object.defineProperties,s=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,d=(e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(a)for(var n of a(t))l.call(t,n)&&u(e,n,t[n]);return e},f=(e,t)=>o(e,s(t)),p=(e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&a)for(var r of a(e))t.indexOf(r)<0&&l.call(e,r)&&(n[r]=e[r]);return n},h=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof n<"u"?n:typeof self<"u"?self:{};function m(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var v={exports:{}};
/*!
 * js-logger - http://github.com/jonnyreeves/js-logger
 * Jonny Reeves, http://jonnyreeves.co.uk/
 * js-logger may be freely distributed under the MIT license.
 */(function(e){(function(t){var n,r={VERSION:"1.6.1"},i={},o=function(e,t){return function(){return t.apply(e,arguments)}},s=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},a=function(e,t){return{value:e,name:t}};r.TRACE=a(1,"TRACE"),r.DEBUG=a(2,"DEBUG"),r.INFO=a(3,"INFO"),r.TIME=a(4,"TIME"),r.WARN=a(5,"WARN"),r.ERROR=a(8,"ERROR"),r.OFF=a(99,"OFF");var c=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};c.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(r.TRACE,arguments)},debug:function(){this.invoke(r.DEBUG,arguments)},info:function(){this.invoke(r.INFO,arguments)},warn:function(){this.invoke(r.WARN,arguments)},error:function(){this.invoke(r.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(r.TIME,[e,"end"])},invoke:function(e,t){n&&this.enabledFor(e)&&n(t,s({level:e},this.context))}};var l=new c({filterLevel:r.OFF});(function(){var e=r;e.enabledFor=o(l,l.enabledFor),e.trace=o(l,l.trace),e.debug=o(l,l.debug),e.time=o(l,l.time),e.timeEnd=o(l,l.timeEnd),e.info=o(l,l.info),e.warn=o(l,l.warn),e.error=o(l,l.error),e.log=e.info})(),r.setHandler=function(e){n=e},r.setLevel=function(e){for(var t in l.setLevel(e),i)i.hasOwnProperty(t)&&i[t].setLevel(e)},r.getLevel=function(){return l.getLevel()},r.get=function(e){return i[e]||(i[e]=new c(s({name:e},l.context)))},r.createDefaultHandler=function(e){e=e||{},e.formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return typeof console>"u"?function(){}:function(i,o){i=Array.prototype.slice.call(i);var s,a=console.log;o.level===r.TIME?(s=(o.name?"["+o.name+"] ":"")+i[0],"start"===i[1]?console.time?console.time(s):t[s]=(new Date).getTime():console.timeEnd?console.timeEnd(s):n(a,[s+": "+((new Date).getTime()-t[s])+"ms"])):(o.level===r.WARN&&console.warn?a=console.warn:o.level===r.ERROR&&console.error?a=console.error:o.level===r.INFO&&console.info?a=console.info:o.level===r.DEBUG&&console.debug?a=console.debug:o.level===r.TRACE&&console.trace&&(a=console.trace),e.formatter(i,o),n(a,i))}},r.useDefaults=function(e){r.setLevel(e&&e.defaultLevel||r.DEBUG),r.setHandler(r.createDefaultHandler(e))},r.setDefaults=r.useDefaults,e.exports?e.exports=r:(r._prevLogger=t.Logger,r.noConflict=function(){return t.Logger=r._prevLogger,r},t.Logger=r)})(h)})(v);var g=v.exports;const b=m(g),y="0.2.1",w=60,S=(null==(t=null==window?void 0:window.navigator)?void 0:t.userAgent)||"No user agent available";let _="",x="",k="",O="",C="",E="",j="",T=0;const I=[];function R(e){function t(e,t){return{ts:Math.round(t.timestamp)||"",ot:"audio"===e?"a":"v",bl:t.jitterBufferDelay||0,br:Math.round(t.bitrateBitsPerSecond||0),pld:t.packetsLostDeltaPerSecond||0,j:t.jitter||0,mtp:t.packetRate||0,mid:t.mid||"",mimeType:t.mimeType||""}}return e.stats=e.stats.reduce((e,n)=>{const r=0!==n.audio.inbounds.length?n.audio.inbounds.map(e=>t("audio",e)):n.audio.outbounds.map(e=>t("audio",e)),i=0!==n.video.inbounds.length?n.video.inbounds.map(e=>t("video",e)):n.video.outbounds.map(e=>t("video",e));return e.concat([...r,...i])},[]),e}const V={initAccountId:e=>{_=""===_?e:_},initStreamName:e=>{x=""===x?e:x},initSubscriberId:e=>{k=""===k?e:k},initStreamViewId:e=>{O=""===O?e:O},initFeedId:e=>{C=""===C?e:C},setConnectionTime:e=>{T=0===T?e:T},setConnectionState:e=>{E=e},setClusterId:e=>{j=""===j?e:j},addStats:e=>{I.length===w&&I.shift(),I.push(e)},get:(e=w,t="JSON")=>{let n;n=!Number.isInteger(e)||e>w||e<=0?w:e;const r={client:"@millicast/millicast-sdk",version:y,timestamp:(new Date).toISOString(),userAgent:S,clusterId:j,accountId:_,streamName:x,subscriberId:k,connection:E,stats:I.slice(-n),connectionDurationMs:(new Date).getTime()-T};return""!==C?r.feedId=C:""!==O&&(r.streamViewId=O),"CMCD"===t?R(r):r}};b.useDefaults({defaultLevel:b.TRACE});const P=["TRACE","DEBUG","INFO","WARN","ERROR"],A=(e,t)=>{e.unshift("[".concat(t.name||"Global","] ").concat((new Date).toISOString()," - ").concat(t.level.name," -"))},M=(e,t)=>t?e.value>=U[t].value:e.value>=F.value,L=(e,t)=>{e=Array.prototype.slice.call(e),e=e.map(e=>"object"==typeof e?JSON.stringify(e):e),A(e,t),0!==D?(B.push(e.join(" ")),B.length>=D&&(B=B.slice(-D))):B=[]},N=b.createDefaultHandler({formatter:A});b.setHandler((e,t)=>{L(e,t),M(t.level,t.name)&&N(e,t);for(const{handler:n,level:r}of z)t.level.value>=r.value&&n(e,t)});let D=1e4,B=[],F=b.OFF;const U={},z=[],W=f(d({},b),{enabledFor:M,getHistory:()=>B,getHistoryMaxSize:()=>D,setHistoryMaxSize:e=>{D=e},setLevel:e=>{F=e;for(const t in U)U[t]=e},getLevel:()=>F,get:e=>{U[e]||(U[e]=F);const t=b.get(e);return t.setLevel=t=>{U[e]=t},t.getLevel=()=>U[e],t},setHandler:(e,t)=>{z.push({handler:e,level:t})},diagnose:(e={})=>{let t;const n={statsCount:60,historySize:1e3,minLogLevel:"TRACE",statsFormat:"JSON"};"number"==typeof e?(n.statsCount=e,t=n):t=d(d({},n),e);const{statsCount:r,historySize:i,minLogLevel:o,statsFormat:s}=t,a=V.get(r,s),c=W.getHistory();if(!Number.isInteger(i)||i<=0)throw new Error("Invalid Argument Exception : historySize must be a positive integer.");if(!P.includes(o.toUpperCase()))throw new Error('Invalid Argument Exception : the minLogLevel parameter only excepts "trace", "debug", "info", "warn", and "error" as arguments.');if(P.includes(o.toUpperCase())){const e=P.slice(P.indexOf(o.toUpperCase())),t=c.filter(t=>e.some(e=>t.includes(e)));a.history=t.slice(-i)}return a},JSON:"JSON",CMCD:"CMCD",VERSION:y});var Z,G={exports:{}},X="object"==typeof Reflect?Reflect:null,Y=X&&"function"==typeof X.apply?X.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};function H(e){console&&console.warn&&console.warn(e)}Z=X&&"function"==typeof X.ownKeys?X.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var K=Number.isNaN||function(e){return e!==e};function J(){J.init.call(this)}G.exports=J,G.exports.once=le,J.EventEmitter=J,J.prototype._events=void 0,J.prototype._eventsCount=0,J.prototype._maxListeners=void 0;var Q=10;function q(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function ee(e){return void 0===e._maxListeners?J.defaultMaxListeners:e._maxListeners}function te(e,t,n,r){var i,o,s;if(q(n),o=e._events,void 0===o?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),i=ee(e),i>0&&s.length>i&&!s.warned){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=s.length,H(a)}return e}function ne(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function re(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=ne.bind(r);return i.listener=n,r.wrapFn=i,i}function ie(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?ce(i):se(i,i.length)}function oe(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function se(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function ae(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function ce(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function le(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}de(e,t,o,{once:!0}),"error"!==t&&ue(e,i,{once:!0})}))}function ue(e,t,n){"function"==typeof e.on&&de(e,"error",t,n)}function de(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(J,"defaultMaxListeners",{enumerable:!0,get:function(){return Q},set:function(e){if("number"!=typeof e||e<0||K(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");Q=e}}),J.init=function(){(void 0===this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},J.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||K(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},J.prototype.getMaxListeners=function(){return ee(this)},J.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var r="error"===e,i=this._events;if(void 0!==i)r=r&&void 0===i.error;else if(!r)return!1;if(r){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=i[e];if(void 0===a)return!1;if("function"==typeof a)Y(a,this,t);else{var c=a.length,l=se(a,c);for(n=0;n<c;++n)Y(l[n],this,t)}return!0},J.prototype.addListener=function(e,t){return te(this,e,t,!1)},J.prototype.on=J.prototype.addListener,J.prototype.prependListener=function(e,t){return te(this,e,t,!0)},J.prototype.once=function(e,t){return q(t),this.on(e,re(this,e,t)),this},J.prototype.prependOnceListener=function(e,t){return q(t),this.prependListener(e,re(this,e,t)),this},J.prototype.removeListener=function(e,t){var n,r,i,o,s;if(q(t),r=this._events,void 0===r)return this;if(n=r[e],void 0===n)return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():ae(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},J.prototype.off=J.prototype.removeListener,J.prototype.removeAllListeners=function(e){var t,n,r;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)i=o[r],"removeListener"!==i&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[e],"function"==typeof t)this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},J.prototype.listeners=function(e){return ie(this,e,!0)},J.prototype.rawListeners=function(e){return ie(this,e,!1)},J.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):oe.call(e,t)},J.prototype.listenerCount=oe,J.prototype.eventNames=function(){return this._eventsCount>0?Z(this._events):[]};var fe=G.exports;const pe=m(fe);var he={exports:{}};he.exports=ve,he.exports.filter=ge;var me=fe.EventEmitter;function ve(e,t,n){Array.isArray(n)||(n=[n]);var r=[];return n.forEach((function(n){var i=function(){var e=[].slice.call(arguments);e.unshift(n),t.emit.apply(t,e)};r.push(i),e.on(n,i)})),function(){n.forEach((function(t,n){e.removeListener(t,r[n])}))}}function ge(e,t){var n=new me;return ve(e,n,t),n}var be=he.exports;const ye=m(be);var we={exports:{}};/*! For license information please see webrtc-stats.js.LICENSE.txt */(function(e,t){(function(t,n){e.exports=n()})(self,()=>{return e={7:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,o,s,l;if(a(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=s.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=u.bind(r);return i.listener=n,r.wrapFn=i,i}function f(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):h(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function h(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return c(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=o[e];if(void 0===c)return!1;if("function"==typeof c)r(c,this,t);else{var l=c.length,u=h(c,l);for(n=0;n<l;++n)r(u[n],this,t)}return!0},o.prototype.addListener=function(e,t){return l(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return l(this,e,t,!0)},o.prototype.once=function(e,t){return a(t),this.on(e,d(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,d(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,s;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,s||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return f(this,e,!0)},o.prototype.rawListeners=function(e){return f(this,e,!1)},o.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},o.prototype.listenerCount=p,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},586:function(e,t,n){var r,i;(function(o){var s,a={VERSION:"1.6.1"},c={},l=function(e,t){return function(){return t.apply(e,arguments)}},u=function(){var e,t,n=arguments,r=n[0];for(t=1;t<n.length;t++)for(e in n[t])!(e in r)&&n[t].hasOwnProperty(e)&&(r[e]=n[t][e]);return r},d=function(e,t){return{value:e,name:t}};a.TRACE=d(1,"TRACE"),a.DEBUG=d(2,"DEBUG"),a.INFO=d(3,"INFO"),a.TIME=d(4,"TIME"),a.WARN=d(5,"WARN"),a.ERROR=d(8,"ERROR"),a.OFF=d(99,"OFF");var f=function(e){this.context=e,this.setLevel(e.filterLevel),this.log=this.info};f.prototype={setLevel:function(e){e&&"value"in e&&(this.context.filterLevel=e)},getLevel:function(){return this.context.filterLevel},enabledFor:function(e){var t=this.context.filterLevel;return e.value>=t.value},trace:function(){this.invoke(a.TRACE,arguments)},debug:function(){this.invoke(a.DEBUG,arguments)},info:function(){this.invoke(a.INFO,arguments)},warn:function(){this.invoke(a.WARN,arguments)},error:function(){this.invoke(a.ERROR,arguments)},time:function(e){"string"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,"start"])},timeEnd:function(e){"string"==typeof e&&e.length>0&&this.invoke(a.TIME,[e,"end"])},invoke:function(e,t){s&&this.enabledFor(e)&&s(t,u({level:e},this.context))}};var p,h=new f({filterLevel:a.OFF});(p=a).enabledFor=l(h,h.enabledFor),p.trace=l(h,h.trace),p.debug=l(h,h.debug),p.time=l(h,h.time),p.timeEnd=l(h,h.timeEnd),p.info=l(h,h.info),p.warn=l(h,h.warn),p.error=l(h,h.error),p.log=p.info,a.setHandler=function(e){s=e},a.setLevel=function(e){for(var t in h.setLevel(e),c)c.hasOwnProperty(t)&&c[t].setLevel(e)},a.getLevel=function(){return h.getLevel()},a.get=function(e){return c[e]||(c[e]=new f(u({name:e},h.context)))},a.createDefaultHandler=function(e){(e=e||{}).formatter=e.formatter||function(e,t){t.name&&e.unshift("["+t.name+"]")};var t={},n=function(e,t){Function.prototype.apply.call(e,console,t)};return typeof console>"u"?function(){}:function(r,i){r=Array.prototype.slice.call(r);var o,s=console.log;i.level===a.TIME?(o=(i.name?"["+i.name+"] ":"")+r[0],"start"===r[1]?console.time?console.time(o):t[o]=(new Date).getTime():console.timeEnd?console.timeEnd(o):n(s,[o+": "+((new Date).getTime()-t[o])+"ms"])):(i.level===a.WARN&&console.warn?s=console.warn:i.level===a.ERROR&&console.error?s=console.error:i.level===a.INFO&&console.info?s=console.info:i.level===a.DEBUG&&console.debug?s=console.debug:i.level===a.TRACE&&console.trace&&(s=console.trace),e.formatter(r,i),n(s,r))}},a.useDefaults=function(e){a.setLevel(e&&e.defaultLevel||a.DEBUG),a.setHandler(a.createDefaultHandler(e))},a.setDefaults=a.useDefaults,void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)})()},156:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;var s=n(586);Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return o(s).default}}),i(n(284),t),i(n(280),t),i(n(738),t),i(n(767),t)},738:(e,t)=>{var n;Object.defineProperty(t,"__esModule",{value:!0}),t.QualityLimitationReason=void 0,function(e){e[e.none=0]="none",e[e.cpu=1]="cpu",e[e.bandwidth=2]="bandwidth",e[e.other=3]="other"}(n||(t.QualityLimitationReason=n={}))},280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},767:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0})},185:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.calculatePacketsLostRatio=t.calculateRate=t.getMediaKind=void 0,t.getMediaKind=e=>{let t=e.kind||e.mediaType;return["audio","video"].includes(t)||"inbound-rtp"!==e.type||(t=e.id.toLocaleLowerCase().includes("video")?"video":"audio"),t},t.calculateRate=(e,t,n,r)=>n&&r?(t-r)/((e-n)/1e3):0,t.calculatePacketsLostRatio=(e,t,n,r)=>0==t?0:(e-(null!=n?n:0))/(t-(null!=r?r:0))},284:function(e,t,n){var r,i,o,s,a,c,l,u,d,f,p,h,m,v,g,b,y=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(t){o(t)}}function a(e){try{c(r.throw(e))}catch(t){o(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},w=this&&this.__classPrivateFieldSet||function(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n},S=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},_=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebRTCStats=void 0;const x=n(7),k=_(n(586)),O=n(738),C=n(185);class E extends x.EventEmitter{constructor(e){super(),r.add(this),i.set(this,void 0),o.set(this,void 0),s.set(this,void 0),a.set(this,null),c.set(this,void 0),l.set(this,null),this.start=()=>{S(this,c,"f").info("WebRTC statistics collection is starting..."),w(this,l,null,"f"),w(this,a,setInterval(S(this,u,"f"),S(this,o,"f")),"f")},this.stop=()=>{S(this,a,"f")&&(clearInterval(S(this,a,"f")),w(this,a,null,"f"),S(this,c,"f").info("WebRTC statistics collection has stopped."))},u.set(this,()=>y(this,void 0,void 0,(function*(){let e,t;try{S(this,c,"f").trace("Requesting WebRTC statistics..."),e=yield S(this,i,"f").call(this),t=(new Date).toISOString()}catch(a){return S(this,c,"f").error("Problem collecting the WebRTC statistics.",a),void this.emit("error","Problem collecting the WebRTC statistics - ".concat(a))}const n=Array.from(e.values()),o={timestamp:t,input:{audio:[],video:[]},output:{audio:[],video:[]}};S(this,s,"f")&&(o.rawStats=e);for(let i=0;i<Object.keys(n).length;i++){const t=n[i];switch(t.type){case"outbound-rtp":const n=t,i=(0,C.getMediaKind)(n);"audio"===i?yield S(this,r,"m",p).call(this,e,n,o):"video"===i&&(yield S(this,r,"m",h).call(this,e,n,o));break;case"inbound-rtp":const s=t;let a=(0,C.getMediaKind)(s);"audio"===a?yield S(this,r,"m",v).call(this,e,s,o):"video"===a&&(yield S(this,r,"m",g).call(this,e,s,o));break;case"candidate-pair":const c=t;c.nominated&&S(this,r,"m",b).call(this,c,o)}}w(this,l,o,"f"),this.emit("stats",o)}))),w(this,c,k.default.get("WebRTCStats"),"f"),w(this,i,e.getStats,"f"),w(this,o,e.getStatsInterval||1e3,"f"),w(this,s,!!e.includeRawStats,"f")}}t.WebRTCStats=E,i=new WeakMap,o=new WeakMap,s=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap,r=new WeakSet,d=function(e,t){if(t){const n=e.get(t);if(n)return{mimeType:n.mimeType}}return{}},f=function(e,t,n){return y(this,void 0,void 0,(function*(){var i,o,s,a;const c=(0,C.calculateRate)(t.timestamp,t.bytesSent,null==n?void 0:n.timestamp,null==n?void 0:n.totalBytesSent),l=(0,C.calculateRate)(t.timestamp,t.packetsSent,null==n?void 0:n.timestamp,null==n?void 0:n.totalPacketsSent),u=S(this,r,"m",d).call(this,e,t.codecId);return Object.assign({id:t.id,timestamp:t.timestamp,mid:t.mid,totalBytesSent:t.bytesSent,bytesSentDelta:t.bytesSent-(null!==(i=null==n?void 0:n.totalBytesSent)&&void 0!==i?i:0),totalPacketsSent:t.packetsSent,packetsSentDelta:t.packetsSent-(null!==(o=null==n?void 0:n.totalPacketsSent)&&void 0!==o?o:0),bitrate:c,packetRate:l,targetBitrate:t.targetBitrate,retransmittedPacketsSent:t.retransmittedPacketsSent,retransmittedPacketsSentDelta:t.retransmittedPacketsSent-(null!==(s=null==n?void 0:n.retransmittedPacketsSent)&&void 0!==s?s:0),retransmittedBytesSent:t.retransmittedBytesSent,retransmittedBytesSentDelta:t.retransmittedBytesSent-(null!==(a=null==n?void 0:n.retransmittedBytesSent)&&void 0!==a?a:0)},u)}))},p=function(e,t,n){return y(this,void 0,void 0,(function*(){var i;const o=null===(i=S(this,l,"f"))||void 0===i?void 0:i.output.audio.find(e=>e.id===t.id);if(o&&t.timestamp-o.timestamp<=0)return;const s=yield S(this,r,"m",f).call(this,e,t,o),a=Object.assign({},s);n.output.audio.push(a)}))},h=function(e,t,n){return y(this,void 0,void 0,(function*(){var i;const o=null===(i=S(this,l,"f"))||void 0===i?void 0:i.output.video.find(e=>e.id===t.id);if(o&&t.timestamp-o.timestamp<=0)return;const s=yield S(this,r,"m",f).call(this,e,t,o);let a=O.QualityLimitationReason.none;t.qualityLimitationReason&&(a=t.qualityLimitationReason);const c=Object.assign(Object.assign({},s),{frameWidth:t.frameWidth,frameHeight:t.frameHeight,framesPerSecond:t.framesPerSecond,framesSent:t.framesSent,qualityLimitationReason:a,qualityLimitationDurations:t.qualityLimitationDurations});n.output.video.push(c)}))},m=function(e,t,n){return y(this,void 0,void 0,(function*(){var i,o;const s=(0,C.calculateRate)(t.timestamp,t.bytesReceived,null==n?void 0:n.timestamp,null==n?void 0:n.totalBytesReceived),a=(0,C.calculateRate)(t.timestamp,t.packetsReceived,null==n?void 0:n.timestamp,null==n?void 0:n.totalPacketsReceived),c=(0,C.calculatePacketsLostRatio)(t.packetsReceived,t.packetsLost,null==n?void 0:n.totalPacketsReceived,null==n?void 0:n.totalPacketsLost),l=(null!==(i=t.packetsLost)&&void 0!==i?i:0)-(null!==(o=null==n?void 0:n.totalPacketsLost)&&void 0!==o?o:0),u=S(this,r,"m",d).call(this,e,t.codecId);return Object.assign({id:t.id,timestamp:t.timestamp,mid:t.mid,trackIdentifier:t.trackIdentifier,jitter:t.jitter,jitterBufferDelay:t.jitterBufferDelay,jitterBufferEmittedCount:t.jitterBufferEmittedCount,totalBytesReceived:t.bytesReceived,totalPacketsReceived:t.packetsReceived,totalPacketsLost:t.packetsLost,bitrate:s,packetRate:a,packetLossRatio:c,packetLossDelta:l},u)}))},v=function(e,t,n){return y(this,void 0,void 0,(function*(){var i;const o=null===(i=S(this,l,"f"))||void 0===i?void 0:i.input.audio.find(e=>e.id===t.id);if(o&&t.timestamp-o.timestamp<=0)return;const s=yield S(this,r,"m",m).call(this,e,t,o);n.input.audio.push(s)}))},g=function(e,t,n){return y(this,void 0,void 0,(function*(){var i;const o=null===(i=S(this,l,"f"))||void 0===i?void 0:i.input.video.find(e=>e.id===t.id);if(o&&t.timestamp-o.timestamp<=0)return;const s=yield S(this,r,"m",m).call(this,e,t,o),a=Object.assign(Object.assign({},s),{keyFramesDecoded:t.keyFramesDecoded,frameHeight:t.frameHeight,frameWidth:t.frameWidth,framesDecoded:t.framesDecoded,framesDropped:t.framesDropped,framesPerSecond:t.framesPerSecond,framesReceived:t.framesReceived});n.input.video.push(a)}))},b=function(e,t){t.totalRoundTripTime=e.totalRoundTripTime,t.currentRoundTripTime=e.currentRoundTripTime,t.responsesReceived=e.responsesReceived,t.availableOutgoingBitrate=e.availableOutgoingBitrate,t.availableIncomingBitrate=e.availableIncomingBitrate}}},t={},function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}(156);var e,t})})(we);var Se=we.exports;const _e=W.get("PeerConnectionStats"),xe={stats:"stats"},ke=e=>{const t=e,{input:n,output:r,rawStats:i}=t,o=p(t,["input","output","rawStats"]);return f(d({},o),{audio:{inbounds:e.input.audio.map(e=>{var t=e,{packetLossRatio:n,packetLossDelta:r,bitrate:i}=t,o=p(t,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*i,bitrate:i},o)}),outbounds:e.output.audio.map(e=>{var t=e,{packetLossRatio:n,packetLossDelta:r,bitrate:i}=t,o=p(t,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*i,bitrate:i},o)})},video:{inbounds:e.input.video.map(e=>{var t=e,{packetLossRatio:n,packetLossDelta:r,bitrate:i}=t,o=p(t,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*i,bitrate:i},o)}),outbounds:e.output.video.map(e=>{var t=e,{packetLossRatio:n,packetLossDelta:r,bitrate:i}=t,o=p(t,["packetLossRatio","packetLossDelta","bitrate"]);return d({packetsLostRatioPerSecond:n,packetsLostDeltaPerSecond:r,bitrateBitsPerSecond:8*i,bitrate:i},o)})},raw:e.rawStats})};class Oe extends pe{constructor(e,t={statsIntervalMs:1e3,autoInitStats:!0}){super(),this.peer=e,this.collection=null,this.initialized=!1,t.autoInitStats&&this.init(t.statsIntervalMs)}init(e){if(this.initialized)return void _e.warn("PeerConnectionStats.init() has already been called. Automatic initialization occurs when the PeerConnectionStats object is constructed.");_e.info("Initializing peer connection stats");const t=this.peer;try{this.collection=new Se.WebRTCStats({getStatsInterval:e,getStats:()=>t.getStats(),includeRawStats:!0}),this.collection.on("stats",e=>{const t=ke(e);V.addStats(t),this.emit(xe.stats,t)}),this.collection.start(),this.initialized=!0}catch(n){_e.error(n)}}parseStats(e){return _e.warn("The parseStats method is deprecated and will be removed in future releases."),null}stop(){_e.info("Stopping peer connection stats"),this.collection.stop()}}var Ce={},Ee={},je={},Te={exports:{}},Ie=Te.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+=null!=e["network-cost"]?" network-cost %d":"%v",t}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",t+=null!=e.rateNumerator?" rate=%s":"",t+=null!=e.rateDenominator?"/%s":"",t}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(Ie).forEach((function(e){var t=Ie[e];t.forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}));var Re=Te.exports;(function(e){var t=function(e){return String(Number(e))===e?Number(e):e},n=function(e,n,r,i){if(i&&!r)n[i]=t(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(n[r[o]]=t(e[o+1]))},r=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;n(r.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},i=Re,o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);e.parse=function(e){var t={},n=[],s=t;return e.split(/(\r\n|\r|\n)/).filter(o).forEach((function(e){var t=e[0],o=e.slice(2);"m"===t&&(n.push({rtp:[],fmtp:[]}),s=n[n.length-1]);for(var a=0;a<(i[t]||[]).length;a+=1){var c=i[t][a];if(c.reg.test(o))return r(c,s,o)}})),t.media=n,t};var s=function(e,n){var r=n.split(/=(.+)/,2);return 2===r.length?e[r[0]]=t(r[1]):1===r.length&&n.length>1&&(e[r[0]]=void 0),e};e.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},e.parseFmtpConfig=e.parseParams,e.parsePayloads=function(e){return e.toString().split(" ").map(Number)},e.parseRemoteCandidates=function(e){for(var n=[],r=e.split(" ").map(t),i=0;i<r.length;i+=3)n.push({component:r[i],ip:r[i+1],port:r[i+2]});return n},e.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},e.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var n,r=!1;return"~"!==e[0]?n=t(e):(n=t(e.substring(1,e.length)),r=!0),{scid:n,paused:r}}))}))}})(je);var Ve=Re,Pe=/%[sdv%]/g,Ae=function(e){var t=1,n=arguments,r=n.length;return e.replace(Pe,(function(e){if(t>=r)return e;var i=n[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}}))},Me=function(e,t,n){var r=t.format instanceof Function?t.format(t.push?n:n[t.name]):t.format,i=[e+"="+r];if(t.names)for(var o=0;o<t.names.length;o+=1){var s=t.names[o];t.name?i.push(n[t.name][s]):i.push(n[t.names[o]])}else i.push(n[t.name]);return Ae.apply(null,i)},Le=["v","o","s","i","u","e","p","c","b","t","r","z","a"],Ne=["i","c","b","a"],De=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var n=t.outerOrder||Le,r=t.innerOrder||Ne,i=[];return n.forEach((function(t){Ve[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(Me(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(Me(t,n,e))}))}))})),e.media.forEach((function(e){i.push(Me("m",Ve.m[0],e)),r.forEach((function(t){Ve[t].forEach((function(n){n.name in e&&null!=e[n.name]?i.push(Me(t,n,e)):n.push in e&&null!=e[n.push]&&e[n.push].forEach((function(e){i.push(Me(t,n,e))}))}))}))})),i.join("\r\n")+"\r\n"},Be=je,Fe=De;Ee.write=Fe,Ee.parse=Be.parse,Ee.parseParams=Be.parseParams,Ee.parseFmtpConfig=Be.parseFmtpConfig,Ee.parsePayloads=Be.parsePayloads,Ee.parseRemoteCandidates=Be.parseRemoteCandidates,Ee.parseImageAttributes=Be.parseImageAttributes,Ee.parseSimulcastStreamList=Be.parseSimulcastStreamList;var Ue=function(e){const t=new Intl.Collator(e,{sensitivity:"base"});return(e,n)=>0==t.compare(e,n)};let ze=class e{constructor(e,t,n,r,i,o,s,a,c){this.foundation=e,this.componentId=t,this.transport=n,this.priority=r,this.address=i,this.port=o,this.type=s,this.relAddr=a,this.relPort=c}equals(e){return e.foundation===this.foundation&&e.componentId===this.componentId&&e.transport===this.transport&&e.priority===this.priority&&e.address===this.address&&e.port===this.port&&e.type===this.type&&e.relAddr===this.relAddr&&e.relPort===this.relPort}clone(){return new e(this.foundation,this.componentId,this.transport,this.priority,this.address,this.port,this.type,this.relAddr,this.relPort)}plain(){const e={foundation:this.foundation,componentId:this.componentId,transport:this.transport,priority:this.priority,address:this.address,port:this.port,type:this.type};return this.relAddr&&(e.relAddr=this.relAddr),this.relPort&&(e.relPort=this.relPort),e}getFoundation(){return this.foundation}getComponentId(){return this.componentId}getTransport(){return this.transport}getPriority(){return this.priority}getAddress(){return this.address}getPort(){return this.port}getType(){return this.type}getRelAddr(){return this.relAddr}getRelPort(){return this.relPort}};ze.expand=function(e){return"CandidateInfo"===e.constructor.name?e:(e=e,new ze(e.foundation,e.componentId,e.transport,e.priority,e.address,e.port,e.type,e.relAddr,e.relPort))},ze.clone=function(e){return"CandidateInfo"===e.constructor.name?e.clone():ze.expand(e)};var We=ze;let Ze=class e{constructor(e,t){this.id=e,this.params=t||[]}clone(){return new e(this.id,this.params)}plain(){return this.params.length?{id:this.id,params:this.params}:{id:this.id}}getId(){return this.id}getParams(){return this.params}};Ze.expand=function(e){return"RTCPFeedbackInfo"===e.constructor.name?e:(e=e,new Ze(e.id,e.params))},Ze.clone=function(e){return"RTCPFeedbackInfo"===e.constructor.name?e.clone():Ze.expand(e)};var Ge=Ze;const $e=Ge;let Xe=class e{constructor(e,t,n){this.codec=e,this.type=t,this.params={},this.rtcpfbs=new Set,n&&this.addParams(n)}clone(){const t=new e(this.codec,this.type,this.params);this.hasRTX()&&t.setRTX(this.getRTX());for(const e of this.rtcpfbs)t.addRTCPFeedback(e.clone());return this.hasChannels()&&t.setChannels(this.getChannels()),t}plain(){const e={codec:this.codec,type:this.type};this.rtx&&(e.rtx=this.rtx),this.channels&&(e.channels=this.channels),Object.keys(this.params).length&&(e.params=this.params);for(const t of this.rtcpfbs)e.rtcpfbs||(e.rtcpfbs=[]),e.rtcpfbs.push(t.plain());return e}setRTX(e){this.rtx=e}getType(){return this.type}setType(e){this.type=e}getCodec(){return this.codec}getParams(){return this.params}addParams(e){for(const t in e)this.params[t]=e[t]}addParam(e,t){this.params[e]=t}hasParam(e){return Object.hasOwnProperty.call(this.params,e)}getParam(e,t){if(this.hasParam(e))return this.params[e];if(void 0===t)throw new Error("param ".concat(e," not found and no default value provided"));return""+t}hasRTX(){return this.rtx}getRTX(){return this.rtx}hasChannels(){return this.channels}getChannels(){return this.channels}setChannels(e){this.channels=e}addRTCPFeedback(e){this.rtcpfbs.add(e)}getRTCPFeedbacks(){return this.rtcpfbs}};Xe.expand=function(e){if("CodecInfo"===e.constructor.name)return e;e=e;const t=new Xe(e.codec,e.type,e.params);e.rtx&&t.setRTX(e.rtx),e.channels&&t.setChannels(e.channels);for(const n of e.rtcpfbs||[]){const e=$e.expand(n);t.addRTCPFeedback(e)}return t},Xe.clone=function(e){return"CodecInfo"===e.constructor.name?e.clone():Xe.expand(e)},Xe.MapFromNames=function(e,t,n){var r;const i=new Map;let o=96;for(const s of e){let e;const a=s.split(";"),c=a.shift().toLowerCase().trim();e="pcmu"===c?0:"pcma"===c?8:++o;const l=new Xe(c,e);"opus"===c?l.setChannels(2):"multiopus"===c&&l.setChannels(6),t&&"ulpfec"!==c&&"flexfec-03"!==c&&"red"!==c&&l.setRTX(++o);for(const t of n||[])l.addRTCPFeedback(new $e(t.id,t.params));for(const t of a){let e=t.split("=");l.addParam(e[0].trim(),null===(r=e[1])||void 0===r?void 0:r.trim())}i.set(e,l)}return i};var Ye=Xe;function He(){var e=this;if(!(this instanceof He))return new(Function.prototype.bind.apply(He,[null].concat(Array.prototype.slice.call(arguments))));Array.from(arguments).forEach((function(t){e[t]=Symbol.for("MEDOOZE_SEMANTIC_SDP_"+t)}))}var Ke=He;const Je=Ke("ACTIVE","PASSIVE","ACTPASS","INACTIVE");Je.byValue=function(e){switch(e){case Je.ACTIVE:case Je.PASSIVE:case Je.ACTPASS:case Je.INACTIVE:return e}return Je[e.toUpperCase()]},Je.toString=function(e){switch(e){case Je.ACTIVE:return"active";case Je.PASSIVE:return"passive";case Je.ACTPASS:return"actpass";case Je.INACTIVE:return"inactive"}},Je.reverse=function(e,t){switch(e){case Je.ACTIVE:return Je.PASSIVE;case Je.PASSIVE:return Je.ACTIVE;case Je.ACTPASS:return t?Je.ACTIVE:Je.PASSIVE;case Je.INACTIVE:return Je.INACTIVE}};var Qe=Je;const qe=Qe;let et=class e{constructor(e,t,n){this.setup=e,this.hash=t,this.fingerprint=n}clone(){return new e(this.setup,this.hash,this.fingerprint)}plain(){return{setup:qe.toString(this.setup),hash:this.hash,fingerprint:this.fingerprint}}getFingerprint(){return this.fingerprint}getHash(){return this.hash}getSetup(){return this.setup}setSetup(e){this.setup=e}};et.expand=function(e){return"DTLSInfo"===e.constructor.name?e:(e=e,new et(e.setup?qe.byValue(e.setup):qe.ACTPASS,e.hash,e.fingerprint))},et.clone=function(e){return"DTLSInfo"===e.constructor.name?e.clone():et.expand(e)};var tt=et;let nt=class e{constructor(e,t,n,r){this.tag=e,this.suite=t,this.keyParams=n,this.sessionParams=r}clone(){return new e(this.tag,this.suite,this.keyParams,this.sessionParams)}plain(){return{tag:this.tag,suite:this.suite,keyParams:this.keyParams,sessionParams:this.sessionParams}}getSessionParams(){return this.sessionParams}getKeyParams(){return this.keyParams}getSuite(){return this.suite}getTag(){return this.tag}};nt.expand=function(e){return"CryptoInfo"===e.constructor.name?e:(e=e,new nt(e.tag,e.suite,e.keyParams,e.sessionParams))},nt.clone=function(e){return"CryptoInfo"===e.constructor.name?e.clone():nt.expand(e)};var rt=nt,it={exports:{}},ot={exports:{}},st={},at={};at.byteLength=mt,at.toByteArray=gt,at.fromByteArray=wt;for(var ct=[],lt=[],ut=typeof Uint8Array<"u"?Uint8Array:Array,dt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ft=0,pt=dt.length;ft<pt;++ft)ct[ft]=dt[ft],lt[dt.charCodeAt(ft)]=ft;function ht(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");-1===n&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function mt(e){var t=ht(e),n=t[0],r=t[1];return 3*(n+r)/4-r}function vt(e,t,n){return 3*(t+n)/4-n}function gt(e){var t,n,r=ht(e),i=r[0],o=r[1],s=new ut(vt(e,i,o)),a=0,c=o>0?i-4:i;for(n=0;n<c;n+=4)t=lt[e.charCodeAt(n)]<<18|lt[e.charCodeAt(n+1)]<<12|lt[e.charCodeAt(n+2)]<<6|lt[e.charCodeAt(n+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=lt[e.charCodeAt(n)]<<2|lt[e.charCodeAt(n+1)]>>4,s[a++]=255&t),1===o&&(t=lt[e.charCodeAt(n)]<<10|lt[e.charCodeAt(n+1)]<<4|lt[e.charCodeAt(n+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s}function bt(e){return ct[e>>18&63]+ct[e>>12&63]+ct[e>>6&63]+ct[63&e]}function yt(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(bt(r));return i.join("")}function wt(e){for(var t,n=e.length,r=n%3,i=[],o=16383,s=0,a=n-r;s<a;s+=o)i.push(yt(e,s,s+o>a?a:s+o));return 1===r?(t=e[n-1],i.push(ct[t>>2]+ct[t<<4&63]+"==")):2===r&&(t=(e[n-2]<<8)+e[n-1],i.push(ct[t>>10]+ct[t>>4&63]+ct[t<<2&63]+"=")),i.join("")}lt[45]=62,lt[95]=63;var St={/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */read:function(e,t,n,r,i){var o,s,a=8*i-r-1,c=(1<<a)-1,l=c>>1,u=-7,d=n?i-1:0,f=n?-1:1,p=e[t+d];for(d+=f,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=256*o+e[t+d],d+=f,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=256*s+e[t+d],d+=f,u-=8);if(0===o)o=1-l;else{if(o===c)return s?NaN:1/0*(p?-1:1);s+=Math.pow(2,r),o-=l}return(p?-1:1)*s*Math.pow(2,o-r)},write:function(e,t,n,r,i,o){var s,a,c,l=8*o-i-1,u=(1<<l)-1,d=u>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,h=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),t+=s+d>=1?f/c:f*Math.pow(2,1-d),t*c>=2&&(s++,c/=2),s+d>=u?(a=0,s=u):s+d>=1?(a=(t*c-1)*Math.pow(2,i),s+=d):(a=t*Math.pow(2,d-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=255&a,p+=h,a/=256,i-=8);for(s=s<<i|a,l+=i;l>0;e[n+p]=255&s,p+=h,s/=256,l-=8);e[n+p-h]|=128*m}};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
(function(e){var t=at,n=St,r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=b,e.INSPECT_MAX_BYTES=50;var i=2147483647;function o(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}function s(e){if(e>i)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,n){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return c(e,t,n)}function c(e,t,n){if("string"==typeof e)return f(e,t);if(ArrayBuffer.isView(e))return h(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(H(e,ArrayBuffer)||e&&H(e.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(H(e,SharedArrayBuffer)||e&&H(e.buffer,SharedArrayBuffer)))return m(e,t,n);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return a.from(r,t,n);var i=v(e);if(i)return i;if(typeof Symbol<"u"&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function u(e,t,n){return l(e),e<=0?s(e):void 0!==t?"string"==typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}function d(e){return l(e),s(e<0?0:0|g(e))}function f(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|y(e,t),r=s(n),i=r.write(e,t);return i!==n&&(r=r.slice(0,i)),r}function p(e){for(var t=e.length<0?0:0|g(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function h(e){if(H(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return p(e)}function m(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,a.prototype),r}function v(e){if(a.isBuffer(e)){var t=0|g(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}return void 0!==e.length?"number"!=typeof e.length||K(e.length)?s(0):p(e):"Buffer"===e.type&&Array.isArray(e.data)?p(e.data):void 0}function g(e){if(e>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return 0|e}function b(e){return+e!=e&&(e=0),a.alloc(+e)}function y(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||H(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Z(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(i)return r?-1:Z(e).length;t=(""+t).toLowerCase(),i=!0}}function w(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===n||n>this.length)&&(n=this.length),n<=0)||(n>>>=0,t>>>=0,n<=t))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return P(this,t,n);case"latin1":case"binary":return A(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function S(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function _(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,K(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=a.from(t,r)),a.isBuffer(t))return 0===t.length?-1:x(e,t,n,r,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):x(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function x(e,t,n,r,i){var o,s=1,a=e.length,c=t.length;if(void 0!==r&&(r=String(r).toLowerCase(),"ucs2"===r||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;s=2,a/=2,c/=2,n/=2}function l(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){var u=-1;for(o=n;o<a;o++)if(l(e,o)===l(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===c)return u*s}else-1!==u&&(o-=o-u),u=-1}else for(n+c>a&&(n=a-c),o=n;o>=0;o--){for(var d=!0,f=0;f<c;f++)if(l(e,o+f)!==l(t,f)){d=!1;break}if(d)return o}return-1}function k(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r),r>i&&(r=i)):r=i;var o=t.length;r>o/2&&(r=o/2);for(var s=0;s<r;++s){var a=parseInt(t.substr(2*s,2),16);if(K(a))return s;e[n+s]=a}return s}function O(e,t,n,r){return Y(Z(t,e.length-n),e,n,r)}function C(e,t,n,r){return Y(G(t),e,n,r)}function E(e,t,n,r){return Y(X(t),e,n,r)}function j(e,t,n,r){return Y($(t,e.length-n),e,n,r)}function T(e,n,r){return 0===n&&r===e.length?t.fromByteArray(e):t.fromByteArray(e.slice(n,r))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,s,a,c,l=e[i],u=null,d=l>239?4:l>223?3:l>191?2:1;if(i+d<=n)switch(d){case 1:l<128&&(u=l);break;case 2:o=e[i+1],128===(192&o)&&(c=(31&l)<<6|63&o,c>127&&(u=c));break;case 3:o=e[i+1],s=e[i+2],128===(192&o)&&128===(192&s)&&(c=(15&l)<<12|(63&o)<<6|63&s,c>2047&&(c<55296||c>57343)&&(u=c));break;case 4:o=e[i+1],s=e[i+2],a=e[i+3],128===(192&o)&&128===(192&s)&&128===(192&a)&&(c=(15&l)<<18|(63&o)<<12|(63&s)<<6|63&a,c>65535&&c<1114112&&(u=c))}null===u?(u=65533,d=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=d}return V(r)}e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,n){return u(e,t,n)},a.allocUnsafe=function(e){return d(e)},a.allocUnsafeSlow=function(e){return d(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(H(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),H(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=a.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(H(o,Uint8Array))i+o.length>r.length?a.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},a.byteLength=y,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)S(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)S(this,t,t+3),S(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)S(this,t,t+7),S(this,t+1,t+6),S(this,t+2,t+5),S(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):w.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return t=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(t+=" ... "),"<Buffer "+t+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(e,t,n,r,i){if(H(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(t>>>=0,n>>>=0,r>>>=0,i>>>=0,this===e)return 0;for(var o=i-r,s=n-t,c=Math.min(o,s),l=this.slice(r,i),u=e.slice(t,n),d=0;d<c;++d)if(l[d]!==u[d]){o=l[d],s=u[d];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},a.prototype.indexOf=function(e,t,n){return _(this,e,t,n,!0)},a.prototype.lastIndexOf=function(e,t,n){return _(this,e,t,n,!1)},a.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return k(this,e,t,n);case"utf8":case"utf-8":return O(this,e,t,n);case"ascii":case"latin1":case"binary":return C(this,e,t,n);case"base64":return E(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function V(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}function P(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=J[e[o]];return i}function L(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(e,t,r,i,o){return t=+t,r>>>=0,o||B(e,t,r,4),n.write(e,t,r,i,23,4),r+4}function U(e,t,r,i,o){return t=+t,r>>>=0,o||B(e,t,r,8),n.write(e,t,r,i,52,8),r+8}a.prototype.slice=function(e,t){var n=this.length;e=~~e,t=void 0===t?n:~~t,e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,a.prototype),r},a.prototype.readUintLE=a.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},a.prototype.readUintBE=a.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},a.prototype.readUint8=a.prototype.readUInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),this[e]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||N(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*t)),r},a.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||N(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*t)),o},a.prototype.readInt8=function(e,t){return e>>>=0,t||N(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt16BE=function(e,t){e>>>=0,t||N(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||N(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||N(e,4,this.length),n.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||N(e,4,this.length),n.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||N(e,8,this.length),n.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||N(e,8,this.length),n.read(this,e,!1,52,8)},a.prototype.writeUintLE=a.prototype.writeUIntLE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;D(this,e,t,n,i,0)}var o=1,s=0;for(this[t]=255&e;++s<n&&(o*=256);)this[t+s]=e/o&255;return t+n},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(e,t,n,r){if(e=+e,t>>>=0,n>>>=0,!r){var i=Math.pow(2,8*n)-1;D(this,e,t,n,i,0)}var o=n-1,s=1;for(this[t+o]=255&e;--o>=0&&(s*=256);)this[t+o]=e/s&255;return t+n},a.prototype.writeUint8=a.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,s=1,a=0;for(this[t]=255&e;++o<n&&(s*=256);)e<0&&0===a&&0!==this[t+o-1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,s=1,a=0;for(this[t+o]=255&e;--o>=0&&(s*=256);)e<0&&0===a&&0!==this[t+o+1]&&(a=1),this[t+o]=(e/s>>0)-a&255;return t+n},a.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,n){return F(this,e,t,!0,n)},a.prototype.writeFloatBE=function(e,t,n){return F(this,e,t,!1,n)},a.prototype.writeDoubleLE=function(e,t,n){return U(this,e,t,!0,n)},a.prototype.writeDoubleBE=function(e,t,n){return U(this,e,t,!1,n)},a.prototype.copy=function(e,t,n,r){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),!r&&0!==r&&(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n||0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},a.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var s=a.isBuffer(e)?e:a.from(e,r),c=s.length;if(0===c)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=s[o%c]}return this};var z=/[^+/0-9A-Za-z-_]/g;function W(e){if(e=e.split("=")[0],e=e.trim().replace(z,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function Z(e,t){t=t||1/0;for(var n,r=e.length,i=null,o=[],s=0;s<r;++s){if(n=e.charCodeAt(s),n>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(s+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}function $(e,t){for(var n,r,i,o=[],s=0;s<e.length&&!((t-=2)<0);++s)n=e.charCodeAt(s),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function X(e){return t.toByteArray(W(e))}function Y(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function H(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function K(e){return e!==e}var J=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()})(st),/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */function(e,t){var n=st,r=n.Buffer;function i(e,t){for(var n in e)t[n]=e[n]}function o(e,t,n){return r(e,t,n)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o),o.prototype=Object.create(r.prototype),i(r,o),o.from=function(e,t,n){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,n)},o.alloc=function(e,t,n){if("number"!=typeof e)throw new TypeError("Argument must be a number");var i=r(e);return void 0!==t?"string"==typeof n?i.fill(t,n):i.fill(t):i.fill(0),i},o.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},o.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}}(ot,ot.exports);var _t=ot.exports,xt=65536,kt=4294967295;function Ot(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}var Ct=_t.Buffer,Et=h.crypto||h.msCrypto;function jt(e,t){if(e>kt)throw new RangeError("requested too many random bytes");var n=Ct.allocUnsafe(e);if(e>0)if(e>xt)for(var i=0;i<e;i+=xt)Et.getRandomValues(n.slice(i,i+xt));else Et.getRandomValues(n);return"function"==typeof t?r.nextTick((function(){t(null,n)})):n}Et&&Et.getRandomValues?it.exports=jt:it.exports=Ot;var Tt=it.exports;const It=Tt;let Rt=class e{constructor(e,t){this.ufrag=e,this.pwd=t,this.lite=!1,this.endOfCandidates=!1}clone(){const t=new e(this.ufrag,this.pwd);return t.setLite(this.lite),t.setEndOfCandidates(this.endOfCandidates),t}plain(){const e={ufrag:this.ufrag,pwd:this.pwd};return this.lite&&(e.lite=this.lite),this.endOfCandidates&&(e.endOfCandidates=this.endOfCandidates),e}getUfrag(){return this.ufrag}getPwd(){return this.pwd}isLite(){return this.lite}setLite(e){this.lite=e}isEndOfCandidates(){return this.endOfCandidates}setEndOfCandidates(e){this.endOfCandidates=e}};Rt.generate=function(e){const t=new Rt,n=It(8),r=It(24);return t.ufrag=n.toString("hex"),t.pwd=r.toString("hex"),t.lite=e,t},Rt.expand=function(e){if("ICEInfo"===e.constructor.name)return e;e=e;const t=new Rt(e.ufrag,e.pwd);return t.setLite(e.lite),t.setEndOfCandidates(e.endOfCandidates),t},Rt.clone=function(e){return"ICEInfo"===e.constructor.name?e.clone():Rt.expand(e)};var Vt=Rt;const Pt=Ke("SEND","RECV");Pt.byValue=function(e){return Pt[e.toUpperCase()]},Pt.toString=function(e){switch(e){case Pt.SEND:return"send";case Pt.RECV:return"recv"}},Pt.reverse=function(e){switch(e){case Pt.SEND:return Pt.RECV;case Pt.RECV:return Pt.SEND}};var At=Pt;const Mt=At;let Lt=class e{constructor(e,t){this.id=e,this.direction=t,this.formats=[],this.params=new Map}clone(){var t=new e(this.id,this.direction);return t.setFormats(this.formats),t.setParams(this.params),t}plain(){var e={id:this.id,direction:Mt.toString(this.direction)};for(var[t,n]of(this.formats&&(e.formats=this.formats),this.params.entries()))e.params||(e.params={}),e.params[t]=n;return e}getId(){return this.id}getDirection(){return this.direction}setDirection(e){this.direction=e}getFormats(){return this.formats}setFormats(e){this.formats=[];for(let t=0;t<e.length;++t)this.formats.push(parseInt(e[t]))}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}};Lt.expand=function(e){if("RIDInfo"===e.constructor.name)return e;e=e;const t=new Lt(e.id,Mt.byValue(e.direction));for(const[n,r]of Object.entries(e.params||{}))t.addParam(n,r);return e.formats&&t.setFormats(e.formats),t},Lt.clone=function(e){return"RIDInfo"===e.constructor.name?e.clone():Lt.expand(e)};var Nt=Lt;let Dt=class e{constructor(e,t){this.paused=t,this.id=e}clone(){return new e(this.id,this.paused)}plain(){return{id:this.id,paused:this.paused}}isPaused(){return this.paused}getId(){return this.id}};Dt.expand=function(e){return"SimulcastStreamInfo"===e.constructor.name?e:(e=e,new Dt(e.id,e.paused))},Dt.clone=function(e){return"SimulcastStreamInfo"===e.constructor.name?e.clone():Dt.expand(e)};var Bt=Dt;const Ft=Bt,Ut=At;let zt=class e{constructor(){this.send=[],this.recv=[]}clone(){const t=new e;for(const e of this.send)t.addSimulcastAlternativeStreams(Ut.SEND,e.map(e=>e.clone()));for(const e of this.recv)t.addSimulcastAlternativeStreams(Ut.RECV,e.map(e=>e.clone()));return t}plain(){const e={send:[],recv:[]};for(const t of this.send)e.send.push(t.map(e=>e.plain()));for(const t of this.recv)e.recv.push(t.map(e=>e.plain()));return e}addSimulcastAlternativeStreams(e,t){return e===Ut.SEND?this.send.push(t):this.recv.push(t)}addSimulcastStream(e,t){return e===Ut.SEND?this.send.push([t]):this.recv.push([t])}getSimulcastStreams(e){return e===Ut.SEND?this.send:this.recv}};zt.expand=function(e){if("SimulcastInfo"===e.constructor.name)return e;e=e;const t=new zt;for(const n of e.send||[])t.addSimulcastAlternativeStreams(Ut.SEND,n.map(Ft.expand));for(const n of e.recv||[])t.addSimulcastAlternativeStreams(Ut.RECV,n.map(Ft.expand));return t},zt.clone=function(e){return"SimulcastInfo"===e.constructor.name?e.clone():zt.expand(e)};var Wt=zt;const Zt=Ke("SENDRECV","SENDONLY","RECVONLY","INACTIVE");Zt.byValue=function(e){return Zt[e.toUpperCase()]},Zt.toString=function(e){switch(e){case Zt.SENDRECV:return"sendrecv";case Zt.SENDONLY:return"sendonly";case Zt.RECVONLY:return"recvonly";case Zt.INACTIVE:return"inactive"}},Zt.reverse=function(e){switch(e){case Zt.SENDRECV:return Zt.SENDRECV;case Zt.SENDONLY:return Zt.RECVONLY;case Zt.RECVONLY:return Zt.SENDONLY;case Zt.INACTIVE:return Zt.INACTIVE}};var Gt=Zt;let $t=class e{constructor(e,t){this.port=e,this.maxMessageSize=t}clone(){return new e(this.port,this.maxMessageSize)}plain(){return{port:this.port,maxMessageSize:this.maxMessageSize}}getPort(){return this.port}getMaxMessageSize(){return this.maxMessageSize}};$t.expand=function(e){return"DataChannelInfo"===e.constructor.name?e:(e=e,new $t(e.port,e.maxMessageSize))},$t.clone=function(e){return"DataChannelInfo"===e.constructor.name?e.clone():$t.expand(e)};var Xt=$t;const Yt=Ye,Ht=Nt,Kt=Wt,Jt=Gt,Qt=At,qt=Xt;let en=class e{constructor(e,t){this.id=e,this.type=t,this.direction=Jt.SENDRECV,this.extensions=new Map,this.codecs=new Map,this.rids=new Map,this.simulcast=null,this.bitrate=0,this.control=null,this.dataChannel=null}clone(){const t=new e(this.id,this.type);t.setDirection(this.direction),t.setBitrate(this.bitrate);for(const e of this.codecs.values())t.addCodec(e.clone());for(const[e,n]of this.extensions.entries())t.addExtension(e,n);for(const e of this.rids.values())t.addRID(e.clone());return this.simulcast&&t.setSimulcast(this.simulcast.clone()),this.control&&t.setControl(this.control),this.dataChannel&&t.setDataChannel(this.dataChannel.clone()),t}plain(){const e={id:this.id,type:this.type,direction:Jt.toString(this.direction),codecs:[]};this.dataChannel&&(e.dataChannel=this.dataChannel.plain()),this.bitrate&&(e.bitrate=this.bitrate);for(const t of this.codecs.values())e.codecs.push(t.plain());for(const[t,n]of this.extensions.entries())e.extensions||(e.extensions={}),e.extensions[t]=n;for(const t of this.rids.values())e.rids||(e.rids=[]),e.rids.push(t.plain());return this.simulcast&&(e.simulcast=this.simulcast.plain()),this.control&&(e.control=this.control),e}getType(){return this.type}getId(){return this.id}setId(e){this.id=e}addExtension(e,t){this.extensions.set(e,t)}addRID(e){this.rids.set(e.getId(),e)}addCodec(e){this.codecs.set(e.getType(),e)}setCodecs(e){this.codecs=e}getCodecForType(e){return this.codecs.get(e)}getCodec(e){for(const t of this.codecs.values())if(t.getCodec().toLowerCase()===e.toLowerCase())return t;return null}hasCodec(e){return null!==this.getCodec(e)}getCodecs(){return this.codecs}hasRTX(){for(const e of this.codecs.values())if(e.hasRTX())return!0;return!1}getExtensions(){return this.extensions}getRIDs(){return this.rids}getRID(e){return this.rids.get(e)}getBitrate(){return this.bitrate}setBitrate(e){this.bitrate=e}getDirection(){return this.direction}setDirection(e){this.direction=e}hasControl(){return!!this.control}getControl(){return this.control}setControl(e){this.control=e}hasDataChannel(){return!!this.dataChannel}getDataChannel(){return this.dataChannel}setDataChannel(e){this.dataChannel=e}answer(t){const n=new e(this.id,this.type);if(t){n.setDirection(Jt.reverse(this.direction));const{codecs:e,dataChannel:r}=t;if(e){let r;r=Array.isArray(e)?Yt.MapFromNames(e,t.rtx,t.rtcpfbs):e;for(let e of this.codecs.values())for(let t of r.values()){if(t.getCodec().toLowerCase()!==e.getCodec().toLowerCase()||"h264"===t.getCodec()&&t.hasParam("packetization-mode")&&t.getParam("packetization-mode")!=e.getParam("packetization-mode","0")||"h264"===t.getCodec()&&t.hasParam("profile-level-id")&&e.hasParam("profile-level-id")&&t.getParam("profile-level-id")!=e.getParam("profile-level-id")||"multiopus"===t.getCodec()&&t.hasParam("num_streams")&&e.hasParam("num_streams")&&t.getParam("num_streams")!=e.getParam("num_streams"))continue;const r=t.clone();r.setType(e.getType()),r.hasRTX()&&r.setRTX(e.getRTX()),e.hasChannels()&&r.setChannels(e.getChannels()),r.addParams(e.getParams()),n.addCodec(r);break}}const i=new Set(t.extensions);for(let[t,o]of this.extensions)i.has(o)&&n.addExtension(t,o);if(t.simulcast&&this.simulcast){const e=new Kt,t=this.simulcast.getSimulcastStreams(Qt.SEND);if(t)for(const n of t){const t=n.map(e=>e.clone());e.addSimulcastAlternativeStreams(Qt.RECV,t)}const r=this.simulcast.getSimulcastStreams(Qt.RECV);if(r)for(const n of r){const t=n.map(e=>e.clone());e.addSimulcastAlternativeStreams(Qt.SEND,t)}for(const i of this.rids.values()){const e=i.clone();e.setDirection(Qt.reverse(i.getDirection())),n.addRID(e)}n.setSimulcast(e)}if(r&&this.dataChannel){const e=new qt(this.dataChannel.getPort(),r.maxMessageSize?r.maxMessageSize:this.dataChannel.getMaxMessageSize());n.setDataChannel(e)}}else n.setDirection(Jt.INACTIVE);return n}getSimulcast(){return this.simulcast}setSimulcast(e){this.simulcast=e}};function tn(e){const t=e.toString();if(!/^\d+$/.test(t))throw new Error("invalid integer ".concat(t));return parseInt(t)}en.create=function(e,t){const n=new en(e,e);if(t){const{codecs:e}=t;e&&(Array.isArray(e)?n.setCodecs(Yt.MapFromNames(e,t.rtx,t.rtcpfbs)):n.setCodecs(e))}else n.setDirection(Jt.INACTIVE);return n},en.expand=function(e){if("MediaInfo"===e.constructor.name)return e;e=e;const t=new en(e.id,e.type);if(e.direction&&t.setDirection(Jt.byValue(e.direction)),t.setBitrate(e.bitrate),e.dataChannel){const n=qt.expand(e.dataChannel);n&&t.setDataChannel(n)}for(const[n,r]of Object.entries(e.extensions))t.addExtension(tn(n),r);for(const n of e.codecs){const e=Yt.expand(n);e&&t.addCodec(e)}for(const n of e.rids||[]){const e=Ht.expand(n);t.addRID(e)}return e.simulcast&&t.setSimulcast(Kt.expand(e.simulcast)),e.control&&t.setControl(e.control),t},en.clone=function(e){return"MediaInfo"===e.constructor.name?e.clone():en.expand(e)};var nn=en;let rn=class e{constructor(e,t){this.semantics=e,this.ssrcs=[];for(let n=0;n<t.length;++n)this.ssrcs.push(parseInt(t[n]))}clone(){return new e(this.semantics,this.ssrcs)}plain(){const e={semantics:this.semantics,ssrcs:[]};for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);return e}getSemantics(){return this.semantics}getSSRCs(){return this.ssrcs}};rn.expand=function(e){return"SourceGroupInfo"===e.constructor.name?e:(e=e,new rn(e.semantics,e.ssrcs))},rn.clone=function(e){return"SourceGroupInfo"===e.constructor.name?e.clone():rn.expand(e)};var on=rn;let sn=class e{constructor(e){this.ssrc=e}clone(){const t=new e(this.ssrc);return t.setCName(this.cname),t.setStreamId(this.streamId),t.setTrackId(this.trackId),t}plain(){const e={ssrc:this.ssrc};return this.cname&&(e.cname=this.cname),this.streamId&&(e.streamId=this.streamId),this.trackId&&(e.trackId=this.trackId),e}getCName(){return this.cname}setCName(e){this.cname=e}getStreamId(){return this.streamId}setStreamId(e){this.streamId=e}getTrackId(){return this.trackId}setTrackId(e){this.trackId=e}getSSRC(){return this.ssrc}};sn.expand=function(e){if("SourceInfo"===e.constructor.name)return e;e=e;const t=new sn(e.ssrc);return t.setCName(e.cname),t.setStreamId(e.streamId),t.setTrackId(e.trackId),t},sn.clone=function(e){return"SourceInfo"===e.constructor.name?e.clone():sn.expand(e)};var an=sn;const cn=Ye;let ln=class e{constructor(e,t=!1){this.id=e,this.paused=t,this.codecs=new Map,this.params=new Map}clone(){var t=new e(this.id,this.paused);for(let e of this.codecs.values())t.addCodec(e.clone());return t.setParams(this.params),t}plain(){var e={id:this.id,paused:this.paused,codecs:{},params:{}};for(var[t,n]of this.codecs.entries())e.codecs[t]=n.plain();for(var[t,r]of this.params.entries())e.params[t]=r;return e}getId(){return this.id}getCodecs(){return this.codecs}addCodec(e){this.codecs.set(e.getType(),e)}getParams(){return this.params}setParams(e){this.params=new Map(e)}addParam(e,t){this.params.set(e,t)}isPaused(){return this.paused}};ln.expand=function(e){if("TrackEncodingInfo"===e.constructor.name)return e;e=e;const t=new ln(e.id,e.paused);for(const n of Object.values(e.codecs||{}))t.addCodec(cn.expand(n));for(const[n,r]of Object.entries(e.params||{}))t.addParam(n,r);return t},ln.clone=function(e){return"TrackEncodingInfo"===e.constructor.name?e.clone():ln.expand(e)};var un=ln;const dn=on,fn=un;let pn=class e{constructor(e,t){this.media=e,this.id=t,this.ssrcs=[],this.groups=[],this.encodings=[]}clone(){const t=new e(this.media,this.id);this.mediaId&&t.setMediaId(this.mediaId);for(let e=0;e<this.ssrcs.length;++e)t.addSSRC(this.ssrcs[e]);for(let e=0;e<this.groups.length;++e)t.addSourceGroup(this.groups[e].clone());for(let e=0;e<this.encodings.length;++e){const n=[];for(let t=0;t<this.encodings[e].length;++t)n.push(this.encodings[e][t].clone());t.addAlternativeEncodings(n)}return t}plain(){const e={media:this.media,id:this.id,ssrcs:[]};this.mediaId&&(e.mediaId=this.mediaId);for(let t=0;t<this.ssrcs.length;++t)e.ssrcs.push(this.ssrcs[t]);for(let t=0;t<this.groups.length;++t)e.groups||(e.groups=[]),e.groups.push(this.groups[t].plain());for(let t=0;t<this.encodings.length;++t){const n=[];for(let e=0;e<this.encodings[t].length;++e)n.push(this.encodings[t][e].plain());n.length&&(e.encodings||(e.encodings=[]),e.encodings.push(n))}return e}getMedia(){return this.media}setMediaId(e){this.mediaId=e}getMediaId(){return this.mediaId}getId(){return this.id}addSSRC(e){this.ssrcs.push(e)}getSSRCs(){return this.ssrcs}addSourceGroup(e){this.groups.push(e)}getSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return t;return null}getSourceGroups(){return this.groups}hasSourceGroup(e){for(const t of this.groups)if(t.getSemantics().toLowerCase()===e.toLowerCase())return!0;return!1}getEncodings(){return this.encodings}addEncoding(e){this.encodings.push([e])}addAlternativeEncodings(e){this.encodings.push(e)}setEncodings(e){this.encodings=e}};pn.expand=function(e){if("TrackInfo"===e.constructor.name)return e;e=e;const t=new pn(e.media,e.id);e.mediaId&&t.setMediaId(e.mediaId);for(const n of e.ssrcs||[])t.addSSRC(n);for(const n of e.groups||[])t.addSourceGroup(dn.expand(n));for(const n of e.encodings||[]){const e=[];for(const t of n)e.push(fn.expand(t));t.addAlternativeEncodings(e)}return t},pn.clone=function(e){return"TrackInfo"===e.constructor.name?e.clone():pn.expand(e)};var hn=pn;const mn=hn;let vn=class e{constructor(e){this.id=e,this.tracks=new Map}clone(){const t=new e(this.id);for(const e of this.tracks.values())t.addTrack(e.clone());return t}plain(){const e={id:this.id,tracks:[]};for(const t of this.tracks.values())e.tracks.push(t.plain());return e}getId(){return this.id}addTrack(e){this.tracks.set(e.getId(),e)}removeTrack(e){return this.tracks.delete(e.getId())}removeTrackById(e){return this.tracks.delete(e)}getFirstTrack(e){for(let t of this.tracks.values())if(t.getMedia().toLowerCase()===e.toLowerCase())return t;return null}getTracks(){return this.tracks}removeAllTracks(){this.tracks.clear()}getTrack(e){return this.tracks.get(e)}};vn.expand=function(e){if("StreamInfo"===e.constructor.name)return e;e=e;const t=new vn(e.id);for(const n of e.tracks||[]){const e=mn.expand(n);e&&t.addTrack(e)}return t},vn.clone=function(e){return"StreamInfo"===e.constructor.name?e.clone():vn.expand(e)};var gn=vn;const bn=Ee,yn=Ue("en-US"),wn=We,Sn=Ye,_n=Ge,xn=tt,kn=rt,On=Vt,Cn=nn,En=Qe,jn=Gt,Tn=At,In=on,Rn=an,Vn=gn,Pn=hn,An=un,Mn=Wt,Ln=Bt,Nn=Nt,Dn=Xt;let Bn=class e{constructor(e){this.version=e||1,this.streams=new Map,this.medias=new Array,this.candidates=new Array,this.ice=null,this.dtls=null,this.crypto=null,this.extmapAllowMixed=!0}clone(){const t=new e(this.version);for(const e of this.medias)t.addMedia(e.clone());for(const e of this.streams.values())t.addStream(e.clone());for(const e of this.candidates)t.addCandidate(e.clone());return t.setICE(this.ice.clone()),this.dtls&&t.setDTLS(this.dtls.clone()),this.crypto&&t.setCrypto(this.crypto.clone()),t.setExtmapAllowMixed(this.extmapAllowMixed),t}plain(){const e={version:this.version,streams:[],medias:[],candidates:[]};for(const t of this.medias)e.medias.push(t.plain());for(const t of this.streams.values())e.streams.push(t.plain());for(const t of this.candidates)e.candidates.push(t.plain());return this.ice&&(e.ice=this.ice.plain()),this.dtls&&(e.dtls=this.dtls.plain()),this.crypto&&(e.crypto=this.crypto.plain()),this.extmapAllowMixed||(e.extmapAllowMixedNotSupported=!this.extmapAllowMixed),e}unify(){const t=new e(this.version);for(const e of this.medias)t.addMedia(e.clone());const n={audio:t.getMediasByType("audio"),video:t.getMediasByType("video")};for(const e of this.streams.values()){const r=e.clone();for(const e of r.getTracks().values()){let r=n[e.getMedia()].pop();r||(r=this.getMedia(e.getMedia()).clone(),r.setId(e.getId()),t.addMedia(r)),e.setMediaId(r.getId())}t.addStream(r)}for(const e of this.candidates)t.addCandidate(e.clone());return this.ice&&t.setICE(this.ice.clone()),this.dtls&&t.setDTLS(this.dtls.clone()),this.crypto&&t.setCrypto(this.crypto.clone()),t}setVersion(e){this.version=e}addMedia(e){this.medias.push(e)}getMedia(e){for(let t in this.medias){let n=this.medias[t];if(yn(n.getType(),e))return n}return null}getMediasByType(e){let t=[];for(let n in this.medias){let r=this.medias[n];yn(r.getType(),e)&&t.push(r)}return t}getMediaById(e){for(const t of this.medias)if(yn(t.getId(),e))return t;return null}replaceMedia(e){for(let t in this.medias)if(this.medias[t].getId()==e.getId())return this.medias[t]=e,!0;return!1}getMedias(){return this.medias}getVersion(){return this.version}getDTLS(){return this.dtls}setDTLS(e){this.dtls=e}hasCrypto(){return!!this.crypto}getCrypto(){return this.crypto}setCrypto(e){this.crypto=e}hasICE(){return!!this.ice}getICE(){return this.ice}setICE(e){this.ice=e}addCandidate(e){for(const t of this.candidates)if(t.equals(e))return;this.candidates.push(e)}addCandidates(e){for(const t of e)this.addCandidate(t)}getCandidates(){return this.candidates}getStream(e){return this.streams.get(e)}getStreams(){return this.streams}getFirstStream(){for(const e of this.streams.values())return e;return null}addStream(e){this.streams.set(e.getId(),e)}removeStream(e){return this.streams.delete(e.getId())}removeAllStreams(){this.streams.clear()}getTrackByMediaId(e){for(const t of this.streams.values())for(const[n,r]of t.getTracks())if(r.getMediaId()==e)return r;return null}getStreamByMediaId(e){for(const t of this.streams.values())for(const[n,r]of t.getTracks())if(r.getMediaId()==e)return t;return null}getExtmapAllowMixed(){return this.extmapAllowMixed}setExtmapAllowMixed(e){this.extmapAllowMixed=e}answer(t){const n=new e;t.ice&&(t.ice instanceof On?n.setICE(t.ice.clone()):n.setICE(On.expand(t.ice))),t.dtls&&(t.dtls instanceof xn?n.setDTLS(t.dtls):n.setDTLS(xn.expand(t.dtls))),t.crypto&&(t.crypto instanceof kn?n.setCrypto(t.crypto):n.setCrypto(kn.expand(t.crypto)));for(let e=0;t.candidates&&e<t.candidates.length;++e)t.candidates[e]instanceof wn?n.addCandidate(t.candidates[e].clone()):n.addCandidate(wn.expand(t.candidates[e]));for(const e of this.medias){const r=t&&t.capabilities&&t.capabilities[e.getType()];n.addMedia(e.answer(r))}return n.setExtmapAllowMixed(this.extmapAllowMixed),n}toString(){let e={version:0,media:[]};e.version=0,e.origin={username:"-",sessionId:(new Date).getTime(),sessionVersion:this.version,netType:"IN",ipVer:4,address:"127.0.0.1"},e.name="semantic-sdp",e.connection={version:4,ip:"0.0.0.0"},e.timing={start:0,stop:0},this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),e.msidSemantic={semantic:"WMS",token:"*"},e.groups=[],this.extmapAllowMixed&&(e.extmapAllowMixed="extmap-allow-mixed");const t=[];for(const r of this.medias){let n={type:r.getType(),port:9,protocol:"",fmtp:[],rtp:[],rtcpFb:[],ext:[],bandwidth:[],candidates:[],ssrcGroups:[],ssrcs:[],rids:[]};n.direction=jn.toString(r.getDirection()),this.extmapAllowMixed&&(n.extmapAllowMixed="extmap-allow-mixed"),n.mid=r.getId(),t.push(r.getId()),r.hasControl()&&(n.control=r.getControl()),r.getBitrate()>0&&(n.bandwidth.push({type:"AS",limit:r.getBitrate()}),n.bandwidth.push({type:"TIAS",limit:1e3*r.getBitrate()}));let i=this.getCandidates();for(const e of i)n.candidates.push({foundation:e.getFoundation(),component:e.getComponentId(),transport:e.getTransport(),priority:e.getPriority(),ip:e.getAddress(),port:e.getPort(),type:e.getType(),raddr:e.getRelAddr(),rport:e.getRelPort()});if(this.getICE()&&(n.iceUfrag=this.getICE().getUfrag(),n.icePwd=this.getICE().getPwd()),yn("audio",r.getType())||yn("video",r.getType())){n.rtcpMux="rtcp-mux",n.rtcpRsize="rtcp-rsize",this.getDTLS()?(n.protocol="UDP/TLS/RTP/SAVPF",n.fingerprint={type:this.getDTLS().getHash(),hash:this.getDTLS().getFingerprint()},n.setup=En.toString(this.getDTLS().getSetup())):this.getCrypto()?(n.protocol="RTP/SAVPF",n.crypto=[{id:this.getCrypto().getTag(),suite:this.getCrypto().getSuite(),config:this.getCrypto().getKeyParams()}]):n.protocol="RTP/AVP";for(const i of r.getCodecs().values()){yn("video",r.getType())?n.rtp.push({payload:i.getType(),codec:i.getCodec().toUpperCase(),rate:9e4}):yn("opus",i.getCodec())||yn("multiopus",i.getCodec())?n.rtp.push({payload:i.getType(),codec:i.getCodec(),rate:48e3,encoding:i.getChannels()}):n.rtp.push({payload:i.getType(),codec:i.getCodec(),rate:8e3});for(const t of i.getRTCPFeedbacks())n.rtcpFb.push({payload:i.getType(),type:t.getId(),subtype:t.getParams().join(" ")});i.hasRTX()&&(n.rtp.push({payload:i.getRTX(),codec:"rtx",rate:9e4}),n.fmtp.push({payload:i.getRTX(),config:"apt="+i.getType()}));const e=i.getParams();if(Object.keys(e).length){const t={payload:i.getType(),config:""};for(const n in e)t.config.length&&(t.config+=";"),Object.hasOwnProperty.call(e,n)?t.config+=n+"="+e[n]:t.config+=n;n.fmtp.push(t)}}const e=[];for(const r of n.rtp)e.push(r.payload);n.payloads=e.join(" ");for(let[i,o]of r.getExtensions().entries())n.ext.push({value:i,uri:o});for(let i of r.getRIDs().values()){let e={id:i.getId(),direction:Tn.toString(i.getDirection()),params:""};i.getFormats().length&&(e.params="pt="+i.getFormats().join(","));for(let[t,n]of i.getParams().entries())e.params+=(e.params.length?";":"")+t+"="+n;n.rids.push(e)}const t=r.getSimulcast();if(t){let e=1;n.simulcast={};const r=t.getSimulcastStreams(Tn.SEND),i=t.getSimulcastStreams(Tn.RECV);if(r&&r.length){let t="";for(const e of r){let n="";for(const t of e)n+=(n.length?",":"")+(t.isPaused()?"~":"")+t.getId();t+=(t.length?";":"")+n}n.simulcast["dir"+e]="send",n.simulcast["list"+e]=t,e++}if(i&&i.length){let t="";for(const e of i){let n="";for(const t of e)n+=(n.length?",":"")+(t.isPaused()?"~":"")+t.getId();t+=(t.length?";":"")+n}n.simulcast["dir"+e]="recv",n.simulcast["list"+e]=t,e++}}}else if(r.hasDataChannel()){n.protocol="UDP/DTLS/SCTP",n.payloads="webrtc-datachannel";const e=r.getDataChannel();n.sctpPort=e.getPort(),n.maxMessageSize=e.getMaxMessageSize()}e.media.push(n)}for(let r of this.streams.values())for(let t of r.getTracks().values())for(let n in e.media){let i=e.media[n];if(t.getMediaId()){if(t.getMediaId()==i.mid){let e=t.getSourceGroups();for(let t in e){let n=e[t];i.ssrcGroups.push({semantics:n.getSemantics(),ssrcs:n.getSSRCs().join(" ")})}let n=t.getSSRCs();for(let o in n)i.ssrcs.push({id:n[o],attribute:"cname",value:r.getId()}),i.ssrcs.push({id:n[o],attribute:"msid",value:r.getId()+" "+t.getId()});i.msid=r.getId()+" "+t.getId();break}}else if(yn(i.type,t.getMedia())){let e=t.getSourceGroups();for(let t in e){let n=e[t];i.ssrcGroups.push({semantics:n.getSemantics(),ssrcs:n.getSSRCs().join(" ")})}let n=t.getSSRCs();for(let o in n)i.ssrcs.push({id:n[o],attribute:"cname",value:r.getId()}),i.ssrcs.push({id:n[o],attribute:"msid",value:r.getId()+" "+t.getId()});break}}const n={type:"BUNDLE",mids:t.join(" ")};return e.groups.push(n),bn.write(e)}toIceFragmentString(){let e={version:0,media:[],candidates:[]};this.hasICE()&&this.getICE().isLite()&&(e.icelite="ice-lite"),this.getICE()&&(e.iceUfrag=this.getICE().getUfrag(),e.icePwd=this.getICE().getPwd());for(const t of this.getCandidates())e.candidates.push({foundation:t.getFoundation(),component:t.getComponentId(),transport:t.getTransport(),priority:t.getPriority(),ip:t.getAddress(),port:t.getPort(),type:t.getType(),raddr:t.getRelAddr(),rport:t.getRelPort()});return bn.write(e).slice(10)}};Bn.create=function(e){const t=new Bn;e.ice&&(e.ice instanceof On?t.setICE(e.ice.clone()):t.setICE(On.expand(e.ice))),e.dtls&&(e.dtls instanceof xn?t.setDTLS(e.dtls):t.setDTLS(xn.expand(e.dtls))),e.crypto&&(e.crypto instanceof kn?t.setCrypto(e.crypto):t.setCrypto(kn.expand(e.crypto)));for(const i of e.candidates||[])i instanceof wn?t.addCandidate(i.clone()):t.addCandidate(wn.expand(i));let n=96,r=1;for(const[i,o]of Object.entries(e.capabilities||{})){const e=Cn.create(i,o);for(const[t,r]of e.getCodecs())r.getType()>=96&&r.setType(n++),r.getRTX()&&r.setRTX(n++);if(o.extensions)for(let t of o.extensions)15===r&&r++,e.addExtension(r++,t);t.addMedia(e)}return t},Bn.expand=function(e){if("SDPInfo"===e.constructor.name)return e;e=e;const t=new Bn(e.version);for(const n of e.medias||[]){const e=Cn.expand(n);e&&t.addMedia(e)}for(const n of e.streams||[]){const e=Vn.expand(n);e&&t.addStream(e)}for(const n of e.candidates||[]){const e=wn.expand(n);e&&t.addCandidate(e)}return e.ice&&t.setICE(On.expand(e.ice)),e.dtls&&t.setDTLS(xn.expand(e.dtls)),e.crypto&&t.setCrypto(kn.expand(e.crypto)),e.extmapAllowMixedNotSupported&&(this.extmapAllowMixed=!e.extmapAllowMixedNotSupported),t},Bn.clone=function(e){return"SDPInfo"===e.constructor.name?e.clone():Bn.expand(e)},Bn.process=function(e){return Bn.parse(e)},Bn.parse=function(e){const t=bn.parse(e),n=new Bn;if(n.setVersion(t.version),t.iceUfrag&&t.icePwd){const e=String(t.iceUfrag),r=String(t.icePwd),i=new On(e,r);i.setLite("ice-lite"==t.icelite),i.setEndOfCandidates("end-of-candidates"==t.endOfCandidates),n.setICE(i)}for(let r in t.media){const e=t.media[r],i=e.type,o=e.mid?e.mid.toString():r,s=new Cn(o,i);if(e.iceUfrag&&e.icePwd){const r=String(e.iceUfrag),i=String(e.icePwd),o=new On(r,i);o.setLite("ice-lite"==t.icelite),o.setEndOfCandidates("end-of-candidates"==e.endOfCandidates),n.setICE(o)}for(let t=0;e.candidates&&t<e.candidates.length;++t){const r=e.candidates[t],i=new wn(r.foundation,r.component,r.transport,r.priority,r.ip,r.port,r.type,r.raddr,r.rport);n.addCandidate(i)}const a=e.fingerprint||t.fingerprint;if(a){const t=a.type,r=a.hash;let i=En.ACTPASS;e.setup&&(i=En.byValue(e.setup)),n.setDTLS(new xn(i,t,r))}if(e.crypto){const t=e.crypto[0];n.setCrypto(new kn(t.id,t.suite,t.config,t.sessionConfig))}let c=jn.SENDRECV;e.direction&&(c=jn.byValue(e.direction),s.setDirection(c)),e.control&&s.setControl(e.control),n.setExtmapAllowMixed("extmap-allow-mixed"==e.extmapAllowMixed||"extmap-allow-mixed"==t.extmapAllowMixed);const l=new Map;for(let t in e.rtp){const n=e.rtp[t],r=n.payload,i=n.codec;if("RED"===i.toUpperCase()||"ULPFEC"===i.toUpperCase())continue;let o={};for(let t in e.fmtp){const n=e.fmtp[t];if(n.payload===r){const e=n.config.split(";");for(let t in e){const n=e[t].split("="),r=n[0].trim(),i=n.splice(1).join("=").trim();o[r]=i}}}if("RTX"===i.toUpperCase())l.set(parseInt(o.apt),r);else{const e=new Sn(i,r,o);n.encoding>1&&e.setChannels(n.encoding),s.addCodec(e)}}for(let t of l.entries()){const e=s.getCodecForType(t[0]);e&&e.setRTX(t[1])}for(let t=0;e.rtcpFb&&t<e.rtcpFb.length;++t){const n=s.getCodecForType(e.rtcpFb[t].payload);if(n){const r=e.rtcpFb[t].type,i=e.rtcpFb[t].subtype?e.rtcpFb[t].subtype.split(" "):null;n.addRTCPFeedback(new _n(r,i))}}const u=e.ext;for(let t in u){const e=u[t];s.addExtension(e.value,e.uri)}const d=e.rids;for(let t in d){const e=d[t],n=new Nn(e.id,Tn.byValue(e.direction));let r=[];const i=new Map;if(e.params){const t=bn.parseParams(e.params);for(let e in t)"pt"===e?r=t[e].split(","):i.set(e,t[e]);n.setFormats(r),n.setParams(i)}s.addRID(n)}const f=[];if(e.simulcast){const t=new Mn;if(e.simulcast.dir1){const n=Tn.byValue(e.simulcast.dir1),r=bn.parseSimulcastStreamList(e.simulcast.list1);for(let e=0;e<r.length;++e){const i=[];for(let t=0;t<r[e].length;++t)i.push(new Ln(r[e][t].scid,r[e][t].paused));t.addSimulcastAlternativeStreams(n,i)}}if(e.simulcast.dir2){const n=Tn.byValue(e.simulcast.dir2),r=bn.parseSimulcastStreamList(e.simulcast.list2);for(let e=0;e<r.length;++e){const i=[];for(let t=0;t<r[e].length;++t)i.push(new Ln(r[e][t].scid,r[e][t].paused));t.addSimulcastAlternativeStreams(n,i)}}for(let e of t.getSimulcastStreams(Tn.SEND)){const t=[];for(let n=0;n<e.length;n++){const r=new An(e[n].getId(),e[n].isPaused()),i=s.getRID(r.getId());if(i){const e=i.getFormats();for(let t=0;e&&t<e.length;++t){const n=s.getCodecForType(e[t]);n&&r.addCodec(n)}r.setParams(i.getParams()),t.push(r)}}t.length&&f.push(t)}s.setSimulcast(t)}const p=new Map;if(e.ssrcs)for(let t in e.ssrcs){let r=e.ssrcs[t],s=r.id,a=r.attribute,c=r.value,l=p.get(s);if(l||(l=new Rn(s),p.set(l.getSSRC(),l)),yn("cname",a))l.setCName(c);else if(yn("msid",a)){let e=c.split(" "),t=e[0],r=e[1];l.setStreamId(t),l.setTrackId(r);let a=n.getStream(t);a||(a=new Vn(t),n.addStream(a));let u=a.getTrack(r);u||(u=new Pn(i,r),u.setMediaId(o),u.setEncodings(f),a.addTrack(u)),u.addSSRC(s)}}if(e.msid){let t=e.msid.split(" "),r=t[0],s=t[1],a=n.getStream(r);a||(a=new Vn(r),n.addStream(a));let c=a.getTrack(s);c||(c=new Pn(i,s),c.setMediaId(o),c.setEncodings(f),a.addTrack(c));for(let[e,n]of p.entries())n.getStreamId()||(n.setStreamId(r),n.setTrackId(s),c.addSSRC(e))}for(let[t,r]of p.entries())if(!r.getStreamId()){let e=r.getCName(),s=o;r.setStreamId(e),r.setTrackId(s);let a=n.getStream(e);a||(a=new Vn(e),n.addStream(a));let c=a.getTrack(s);c||(c=new Pn(i,s),c.setMediaId(o),c.setEncodings(f),a.addTrack(c)),c.addSSRC(t)}if(e.ssrcGroups)for(let t in e.ssrcGroups){let r=e.ssrcGroups[t],i=r.ssrcs.split(" "),o=new In(r.semantics,i),s=p.get(parseInt(i[0]));s&&n.getStream(s.getStreamId()).getTrack(s.getTrackId()).addSourceGroup(o)}if("application"==e.type&&"webrtc-datachannel"==e.payloads){const t=new Dn(e.sctpPort,e.maxMessageSize);s.setDataChannel(t)}n.addMedia(s)}return n};var Fn=Bn;Object.defineProperty(Ce,"__esModule",{value:!0});var Un=Ce.SDPInfo=Fn;Ce.CandidateInfo=We,Ce.CodecInfo=Ye,Ce.DTLSInfo=tt,Ce.CryptoInfo=rt,Ce.ICEInfo=Vt;var zn=Ce.MediaInfo=nn;Ce.Setup=Qe,Ce.SourceGroupInfo=on,Ce.SourceInfo=an,Ce.StreamInfo=gn,Ce.TrackInfo=hn,Ce.RTCPFeedbackInfo=Ge,Ce.TrackEncodingInfo=un,Ce.RIDInfo=Nt,Ce.SimulcastInfo=Wt,Ce.SimulcastStreamInfo=Bt,Ce.DataChannelInfo=Xt;var Wn=Ce.Direction=Gt,Zn={exports:{}};(function(e,t){(function(n,r){var i="0.7.37",o="",s="?",a="function",c="undefined",l="object",u="string",d="major",f="model",p="name",h="type",m="vendor",v="version",g="architecture",b="console",y="mobile",w="tablet",S="smarttv",_="wearable",x="embedded",k=500,O="Amazon",C="Apple",E="ASUS",j="BlackBerry",T="Browser",I="Chrome",R="Edge",V="Firefox",P="Google",A="Huawei",M="LG",L="Microsoft",N="Motorola",D="Opera",B="Samsung",F="Sharp",U="Sony",z="Xiaomi",W="Zebra",Z="Facebook",G="Chromium OS",$="Mac OS",X=function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n},Y=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},H=function(e,t){return typeof e===u&&-1!==K(t).indexOf(K(e))},K=function(e){return e.toLowerCase()},J=function(e){return typeof e===u?e.replace(/[^\d\.]/g,o).split(".")[0]:r},Q=function(e,t){if(typeof e===u)return e=e.replace(/^\s\s*/,o),typeof t===c?e:e.substring(0,k)},q=function(e,t){for(var n,i,o,s,c,u,d=0;d<t.length&&!c;){var f=t[d],p=t[d+1];for(n=i=0;n<f.length&&!c&&f[n];)if(c=f[n++].exec(e),c)for(o=0;o<p.length;o++)u=c[++i],s=p[o],typeof s===l&&s.length>0?2===s.length?typeof s[1]==a?this[s[0]]=s[1].call(this,u):this[s[0]]=s[1]:3===s.length?typeof s[1]!==a||s[1].exec&&s[1].test?this[s[0]]=u?u.replace(s[1],s[2]):r:this[s[0]]=u?s[1].call(this,u,s[2]):r:4===s.length&&(this[s[0]]=u?s[3].call(this,u.replace(s[1],s[2])):r):this[s]=u||r;d+=2}},ee=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(H(t[n][i],e))return n===s?r:n}else if(H(t[n],e))return n===s?r:n;return e},te={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ne={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},re={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[v,[p,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[v,[p,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[p,v],[/opios[\/ ]+([\w\.]+)/i],[v,[p,D+" Mini"]],[/\bopr\/([\w\.]+)/i],[v,[p,D]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[v,[p,"Baidu"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim)\s?(?:browser)?[\/ ]?([\w\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(heytap|ovi)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[p,v],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[v,[p,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[v,[p,"WeChat"]],[/konqueror\/([\w\.]+)/i],[v,[p,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[v,[p,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[v,[p,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[v,[p,"Smart Lenovo "+T]],[/(avast|avg)\/([\w\.]+)/i],[[p,/(.+)/,"$1 Secure "+T],v],[/\bfocus\/([\w\.]+)/i],[v,[p,V+" Focus"]],[/\bopt\/([\w\.]+)/i],[v,[p,D+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[v,[p,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[v,[p,"Dolphin"]],[/coast\/([\w\.]+)/i],[v,[p,D+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[v,[p,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[v,[p,V]],[/\bqihu|(qi?ho?o?|360)browser/i],[[p,"360 "+T]],[/(oculus|sailfish|huawei|vivo)browser\/([\w\.]+)/i],[[p,/(.+)/,"$1 "+T],v],[/samsungbrowser\/([\w\.]+)/i],[v,[p,B+" Internet"]],[/(comodo_dragon)\/([\w\.]+)/i],[[p,/_/g," "],v],[/metasr[\/ ]?([\d\.]+)/i],[v,[p,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[p,"Sogou Mobile"],v],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345Explorer)[\/ ]?([\w\.]+)/i],[p,v],[/(lbbrowser)/i,/\[(linkedin)app\]/i],[p],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[p,Z],v],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[p,v],[/\bgsa\/([\w\.]+) .*safari\//i],[v,[p,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[v,[p,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[v,[p,I+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[p,I+" WebView"],v],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[v,[p,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[p,v],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[v,[p,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[v,p],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[p,[v,ee,te]],[/(webkit|khtml)\/([\w\.]+)/i],[p,v],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[p,"Netscape"],v],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[v,[p,V+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[p,v],[/(cobalt)\/([\w\.]+)/i],[p,[v,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[g,"amd64"]],[/(ia32(?=;))/i],[[g,K]],[/((?:i[346]|x)86)[;\)]/i],[[g,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[g,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[g,"armhf"]],[/windows (ce|mobile); ppc;/i],[[g,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[g,/ower/,o,K]],[/(sun4\w)[;\)]/i],[[g,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[g,K]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[f,[m,B],[h,w]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[f,[m,B],[h,y]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[f,[m,C],[h,y]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[f,[m,C],[h,w]],[/(macintosh);/i],[f,[m,C]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[f,[m,F],[h,y]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[f,[m,A],[h,w]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[f,[m,A],[h,y]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[f,/_/g," "],[m,z],[h,y]],[/oid[^\)]+; (2\d{4}(283|rpbf)[cgl])( bui|\))/i,/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[f,/_/g," "],[m,z],[h,w]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[f,[m,"OPPO"],[h,y]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[f,[m,"Vivo"],[h,y]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[f,[m,"Realme"],[h,y]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[f,[m,N],[h,y]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[f,[m,N],[h,w]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[f,[m,M],[h,w]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[f,[m,M],[h,y]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[f,[m,"Lenovo"],[h,w]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[f,/_/g," "],[m,"Nokia"],[h,y]],[/(pixel c)\b/i],[f,[m,P],[h,w]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[f,[m,P],[h,y]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[f,[m,U],[h,y]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[f,"Xperia Tablet"],[m,U],[h,w]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[f,[m,"OnePlus"],[h,y]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[f,[m,O],[h,w]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[f,/(.+)/g,"Fire Phone $1"],[m,O],[h,y]],[/(playbook);[-\w\),; ]+(rim)/i],[f,m,[h,w]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[f,[m,j],[h,y]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[f,[m,E],[h,w]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[f,[m,E],[h,y]],[/(nexus 9)/i],[f,[m,"HTC"],[h,w]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[m,[f,/_/g," "],[h,y]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[f,[m,"Acer"],[h,w]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[f,[m,"Meizu"],[h,y]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[f,[m,"Ulefone"],[h,y]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron|infinix|tecno)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[m,f,[h,y]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[m,f,[h,w]],[/(surface duo)/i],[f,[m,L],[h,w]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[f,[m,"Fairphone"],[h,y]],[/(u304aa)/i],[f,[m,"AT&T"],[h,y]],[/\bsie-(\w*)/i],[f,[m,"Siemens"],[h,y]],[/\b(rct\w+) b/i],[f,[m,"RCA"],[h,w]],[/\b(venue[\d ]{2,7}) b/i],[f,[m,"Dell"],[h,w]],[/\b(q(?:mv|ta)\w+) b/i],[f,[m,"Verizon"],[h,w]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[f,[m,"Barnes & Noble"],[h,w]],[/\b(tm\d{3}\w+) b/i],[f,[m,"NuVision"],[h,w]],[/\b(k88) b/i],[f,[m,"ZTE"],[h,w]],[/\b(nx\d{3}j) b/i],[f,[m,"ZTE"],[h,y]],[/\b(gen\d{3}) b.+49h/i],[f,[m,"Swiss"],[h,y]],[/\b(zur\d{3}) b/i],[f,[m,"Swiss"],[h,w]],[/\b((zeki)?tb.*\b) b/i],[f,[m,"Zeki"],[h,w]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[m,"Dragon Touch"],f,[h,w]],[/\b(ns-?\w{0,9}) b/i],[f,[m,"Insignia"],[h,w]],[/\b((nxa|next)-?\w{0,9}) b/i],[f,[m,"NextBook"],[h,w]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[m,"Voice"],f,[h,y]],[/\b(lvtel\-)?(v1[12]) b/i],[[m,"LvTel"],f,[h,y]],[/\b(ph-1) /i],[f,[m,"Essential"],[h,y]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[f,[m,"Envizen"],[h,w]],[/\b(trio[-\w\. ]+) b/i],[f,[m,"MachSpeed"],[h,w]],[/\btu_(1491) b/i],[f,[m,"Rotor"],[h,w]],[/(shield[\w ]+) b/i],[f,[m,"Nvidia"],[h,w]],[/(sprint) (\w+)/i],[m,f,[h,y]],[/(kin\.[onetw]{3})/i],[[f,/\./g," "],[m,L],[h,y]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[f,[m,W],[h,w]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[f,[m,W],[h,y]],[/smart-tv.+(samsung)/i],[m,[h,S]],[/hbbtv.+maple;(\d+)/i],[[f,/^/,"SmartTV"],[m,B],[h,S]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[m,M],[h,S]],[/(apple) ?tv/i],[m,[f,C+" TV"],[h,S]],[/crkey/i],[[f,I+"cast"],[m,P],[h,S]],[/droid.+aft(\w+)( bui|\))/i],[f,[m,O],[h,S]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[f,[m,F],[h,S]],[/(bravia[\w ]+)( bui|\))/i],[f,[m,U],[h,S]],[/(mitv-\w{5}) bui/i],[f,[m,z],[h,S]],[/Hbbtv.*(technisat) (.*);/i],[m,f,[h,S]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[m,Q],[f,Q],[h,S]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[h,S]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[m,f,[h,b]],[/droid.+; (shield) bui/i],[f,[m,"Nvidia"],[h,b]],[/(playstation [345portablevi]+)/i],[f,[m,U],[h,b]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[f,[m,L],[h,b]],[/((pebble))app/i],[m,f,[h,_]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[f,[m,C],[h,_]],[/droid.+; (glass) \d/i],[f,[m,P],[h,_]],[/droid.+; (wt63?0{2,3})\)/i],[f,[m,W],[h,_]],[/(quest( 2| pro)?)/i],[f,[m,Z],[h,_]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[m,[h,x]],[/(aeobc)\b/i],[f,[m,O],[h,x]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[f,[h,y]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[f,[h,w]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[h,w]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[h,y]],[/(android[-\w\. ]{0,9});.+buil/i],[f,[m,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[v,[p,R+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[v,[p,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[p,v],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[v,p]],os:[[/microsoft (windows) (vista|xp)/i],[p,v],[/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i],[p,[v,ee,ne]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[v,ee,ne],[p,"Windows"]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[v,/_/g,"."],[p,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[p,$],[v,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[v,p],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[p,v],[/\(bb(10);/i],[v,[p,j]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[v,[p,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[v,[p,V+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[v,[p,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[v,[p,"watchOS"]],[/crkey\/([\d\.]+)/i],[v,[p,I+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[p,G],v],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[p,v],[/(sunos) ?([\w\.\d]*)/i],[[p,"Solaris"],v],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[p,v]]},ie=function(e,t){if(typeof e===l&&(t=e,e=r),!(this instanceof ie))return new ie(e,t).getResult();var i=typeof n!==c&&n.navigator?n.navigator:r,s=e||(i&&i.userAgent?i.userAgent:o),b=i&&i.userAgentData?i.userAgentData:r,S=t?X(re,t):re,_=i&&i.userAgent==s;return this.getBrowser=function(){var e={};return e[p]=r,e[v]=r,q.call(e,s,S.browser),e[d]=J(e[v]),_&&i&&i.brave&&typeof i.brave.isBrave==a&&(e[p]="Brave"),e},this.getCPU=function(){var e={};return e[g]=r,q.call(e,s,S.cpu),e},this.getDevice=function(){var e={};return e[m]=r,e[f]=r,e[h]=r,q.call(e,s,S.device),_&&!e[h]&&b&&b.mobile&&(e[h]=y),_&&"Macintosh"==e[f]&&i&&typeof i.standalone!==c&&i.maxTouchPoints&&i.maxTouchPoints>2&&(e[f]="iPad",e[h]=w),e},this.getEngine=function(){var e={};return e[p]=r,e[v]=r,q.call(e,s,S.engine),e},this.getOS=function(){var e={};return e[p]=r,e[v]=r,q.call(e,s,S.os),_&&!e[p]&&b&&"Unknown"!=b.platform&&(e[p]=b.platform.replace(/chrome os/i,G).replace(/macos/i,$)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return s},this.setUA=function(e){return s=typeof e===u&&e.length>k?Q(e,k):e,this},this.setUA(s),this};ie.VERSION=i,ie.BROWSER=Y([p,v,d]),ie.CPU=Y([g]),ie.DEVICE=Y([f,m,h,b,y,S,w,_,x]),ie.ENGINE=ie.OS=Y([p,v]),e.exports&&(t=e.exports=ie),t.UAParser=ie;var oe=typeof n!==c&&(n.jQuery||n.Zepto);if(oe&&!oe.ua){var se=new ie;oe.ua=se.getResult(),oe.ua.get=function(){return se.getUA()},oe.ua.set=function(e){se.setUA(e);var t=se.getResult();for(var n in t)oe.ua[n]=t[n]}}})("object"==typeof window?window:h)})(Zn,Zn.exports);var Gn=Zn.exports;const $n=m(Gn),Xn=["iOS"];class Yn extends $n{constructor(){super(window.navigator.userAgent)}isChromium(){return this.getUA().match(/Chrome/i)}isChrome(){const e=this.getBrowser();if(!e.name)return!1;const t=this.getOS();let n=!0;return n=!new RegExp(Xn.join("|"),"i").test(t.name),e.name.match(/Chrome/i)&&n}isFirefox(){const e=this.getBrowser();return!!e.name&&e.name.match(/Firefox/i)}isOpera(){const e=this.getBrowser();return!!e.name&&e.name.match(/Opera/i)}isSafari(){const e=this.getBrowser();return!!e.name&&e.name.match(/Safari/i)}}const Hn=W.get("SdpParser"),Kn=35,Jn=65,Qn=96,qn=127,er=Array.from({length:Jn-Kn+1},(e,t)=>t+Kn),tr=Array.from({length:qn-Qn+1},(e,t)=>t+Qn),nr=1,rr=14,ir=16,or=255,sr=Array.from({length:rr-nr+1},(e,t)=>t+nr),ar=Array.from({length:or-ir+1},(e,t)=>t+ir),cr={setSimulcast(e,t){if(Hn.info("Setting simulcast. Codec: ",t),!(new Yn).isChromium())return Hn.warn("Your browser does not appear to support Simulcast. For a better experience, use a Chromium based browser."),e;if("h264"!==t&&"vp8"!==t)return Hn.warn("Your selected codec ".concat(t," does not appear to support Simulcast.  To broadcast using simulcast, please use H.264 or VP8.")),e;if(!/m=video/.test(e))return Hn.warn("There is no available video for simulcast to be enabled."),e;try{const t=new RegExp("m=video.*?a=ssrc:(\\d*) cname:(.+?)\\r\\n","s"),n=new RegExp("m=video.*?a=ssrc:(\\d*) msid:(.+?)\\r\\n","s"),r=t.exec(e),i=r[1],o=r[2],s=n.exec(e)[2],a=2,c=[i];for(let l=0;l<a;++l){const t=100+2*l,n=t+1;c.push(t),e+="a=ssrc-group:FID "+t+" "+n+"\r\na=ssrc:"+t+" cname:"+o+"\r\na=ssrc:"+t+" msid:"+s+"\r\na=ssrc:"+n+" cname:"+o+"\r\na=ssrc:"+n+" msid:"+s+"\r\n"}return e+="a=ssrc-group:SIM "+c.join(" ")+"\r\n",Hn.info("Simulcast setted"),Hn.debug("Simulcast SDP: ",e),e}catch(n){throw Hn.error("Error setting SDP for simulcast: ",n),n}},setStereo(e){return Hn.info("Replacing SDP response for support stereo"),e=e.replace(/useinbandfec=1/g,"useinbandfec=1; stereo=1"),Hn.info("Replaced SDP response for support stereo"),Hn.debug("New SDP value: ",e),e},setDTX(e){return Hn.info("Replacing SDP response for support dtx"),e=e.replace("useinbandfec=1","useinbandfec=1; usedtx=1"),Hn.info("Replaced SDP response for support dtx"),Hn.debug("New SDP value: ",e),e},setAbsoluteCaptureTime(e){const t="a=extmap:"+cr.getAvailableHeaderExtensionIdRange(e)[0]+" http://www.webrtc.org/experiments/rtp-hdrext/abs-capture-time\r\n",n=/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm;return e=e.replace(n,(e,n,r)=>n+t+r),Hn.info("Replaced SDP response for setting absolute capture time"),Hn.debug("New SDP value: ",e),e},setDependencyDescriptor(e){const t="a=extmap:"+cr.getAvailableHeaderExtensionIdRange(e)[0]+" https://aomediacodec.github.io/av1-rtp-spec/#dependency-descriptor-rtp-header-extension\r\n",n=/(m=.*\r\n(?:.*\r\n)*?)(a=extmap.*\r\n)/gm;return e=e.replace(n,(e,n,r)=>n+t+r),Hn.info("Replaced SDP response for setting depency descriptor"),Hn.debug("New SDP value: ",e),e},setVideoBitrate(e,t){if(t<1)Hn.info("Remove bitrate restrictions"),e=e.replace(/b=AS:.*\r\n/,"").replace(/b=TIAS:.*\r\n/,"");else{const n=Un.parse(e),r=n.getMedia("video");Hn.info("Setting video bitrate"),r.setBitrate(t),e=n.toString()}return e},removeSdpLine(e,t){return Hn.debug("SDP before trimming: ",e),e=e.split("\n").filter(e=>e.trim()!==t).join("\n"),Hn.debug("SDP trimmed result: ",e),e},adaptCodecName(e,t,n){if(!e)return e;const r=new RegExp("".concat(t),"i");return e.replace(r,n)},setMultiopus(e,t){if(!(new Yn).isFirefox()&&(!t||lr(t)))if(e.includes("multiopus/48000/6"))Hn.info("Multiopus already setted");else{Hn.info("Setting multiopus");const t=/m=audio 9 UDP\/TLS\/RTP\/SAVPF (.*)\r\n/.exec(e)[0],n=cr.getAvailablePayloadTypeRange(e)[0],r=t.replace("\r\n"," ")+n+"\r\na=rtpmap:"+n+" multiopus/48000/6\r\na=fmtp:"+n+" channel_mapping=0,4,1,2,3,5;coupled_streams=2;minptime=10;num_streams=4;useinbandfec=1\r\n";e=e.replace(t,r),Hn.info("Multiopus offer created"),Hn.debug("SDP parsed for multioups: ",e)}return e},getAvailablePayloadTypeRange(e){const t=/m=(?:.*) (?:.*) UDP\/TLS\/RTP\/SAVPF (.*)\r\n/gm,n=e.matchAll(t);let r=tr.concat(er);for(const i of n){const e=i[1].split(" ").map(e=>parseInt(e));r=r.filter(t=>!e.includes(t))}return r},getAvailableHeaderExtensionIdRange(e){const t=/a=extmap:(\d+)(?:.*)\r\n/gm,n=e.matchAll(t);let r=sr.concat(ar);for(const i of n){const e=i[1].split(" ").map(e=>parseInt(e));r=r.filter(t=>!e.includes(t))}return r},renegotiate(e,t){const n=Un.parse(e),r=Un.parse(t);for(const i of n.getMedias()){let e=r.getMediaById(i.getId());if(!e){e=new zn(i.getId(),i.getType()),e.setDirection(Wn.reverse(i.getDirection()));const t=r.getMedia(i.getType());if(t){e.setCodecs(t.getCodecs());for(const[n,r]of t.getExtensions())e.addExtension(n,r)}r.addMedia(e)}}return r.toString()},updateMissingVideoExtensions(e,t){var n;const r=Un.parse(e),i=null==(n=Un.parse(t).getMediasByType("video")[0])?void 0:n.getExtensions();if(i||i.length){for(const t of r.getMediasByType("video")){const n=t.getExtensions();i.forEach((r,i)=>{if(!n.get(i)){const n=t.getId(),o="a=extmap:"+i+" "+r+"\r\n",s=new RegExp("(a=mid:"+n+"\r\n(?:.*\r\n)*?)","g");e=e.replace(s,(e,t,n)=>t+o)}})}return e}},getCodecPayloadType(e){const t=/a=rtpmap:(\d+) (\w+)\/\d+/g,n=e.matchAll(t),r={};for(const i of n)r[i[1]]=i[2];return r}},lr=e=>e.getAudioTracks().some(e=>e.getSettings().channelCount>2),ur={VP8:"vp8",VP9:"vp9",H264:"h264",AV1:"av1",H265:"h265"},dr={OPUS:"opus",MULTIOPUS:"multiopus"},fr="d40e38ea-d419-4c62-94ed-20ac37b4e4fa",pr=W.get("PeerConnection"),hr={Publisher:"Publisher",Viewer:"Viewer"},mr={track:"track",connectionStateChange:"connectionStateChange"},vr={stereo:!1,mediaStream:null,codec:"h264",simulcast:!1,scalabilityMode:null,disableAudio:!1,disableVideo:!1,setSDPToPeer:!0};class gr extends pe{constructor(){super(),this.mode=null,this.sessionDescription=null,this.peer=null,this.peerConnectionStats=null}async createRTCPeer(e={autoInitStats:!0,statsIntervalMs:1e3},t=hr.Viewer){pr.info("Creating new RTCPeerConnection"),pr.debug("RTC configuration provided by user: ",e),this.peer=wr(this,e),this.mode=t,e.autoInitStats&&this.initStats(e)}getRTCPeer(){return pr.info("Getting RTC Peer"),this.peer}async closeRTCPeer(){var e;pr.info("Closing RTCPeerConnection"),null==(e=this.peer)||e.close(),this.peer=null,this.stopStats(),this.emit(mr.connectionStateChange,"closed")}async setRTCRemoteSDP(e){pr.info("Setting RTC Remote SDP");const t={type:"answer",sdp:e};try{await this.peer.setRemoteDescription(t),pr.info("RTC Remote SDP was set successfully."),pr.debug("RTC Remote SDP new value: ",e)}catch(n){throw pr.error("Error while setting RTC Remote SDP: ",n),n}}async getRTCLocalSDP(e=vr){pr.info("Getting RTC Local SDP"),e=d(d({},vr),e),pr.debug("Options: ",e);const t=yr(e.mediaStream);t?_r(this.peer,t,e):xr(this.peer,e),pr.info("Creating peer offer");const n=await this.peer.createOffer();return pr.info("Peer offer created"),pr.debug("Peer offer response: ",n.sdp),this.sessionDescription=n,e.disableAudio||(e.stereo&&(this.sessionDescription.sdp=cr.setStereo(this.sessionDescription.sdp)),e.dtx&&(this.sessionDescription.sdp=cr.setDTX(this.sessionDescription.sdp)),this.sessionDescription.sdp=cr.setMultiopus(this.sessionDescription.sdp,t)),!e.disableVideo&&e.simulcast&&(this.sessionDescription.sdp=cr.setSimulcast(this.sessionDescription.sdp,e.codec)),e.absCaptureTime&&(this.sessionDescription.sdp=cr.setAbsoluteCaptureTime(this.sessionDescription.sdp)),e.dependencyDescriptor&&(this.sessionDescription.sdp=cr.setDependencyDescriptor(this.sessionDescription.sdp)),e.setSDPToPeer&&(await this.peer.setLocalDescription(this.sessionDescription),pr.info("Peer local description set")),this.sessionDescription.sdp}async addRemoteTrack(e,t){try{let n=this.peer.addTransceiver(e,{direction:"recvonly",streams:t});return n=await kr(n,t),n}catch(n){throw pr.error("Error while adding the remote track: ",n),n}}updateBandwidthRestriction(e,t){if(this.mode===hr.Viewer)throw pr.error("Viewer attempting to update bitrate, this is not allowed"),new Error("It is not possible for a viewer to update the bitrate.");return pr.info("Updating bandwidth restriction, bitrate value: ",t),pr.debug("SDP value: ",e),cr.setVideoBitrate(e,t)}async updateBitrate(e=0){if(this.mode===hr.Viewer)throw pr.error("Viewer attempting to update bitrate, this is not allowed"),new Error("It is not possible for a viewer to update the bitrate.");if(!this.peer)throw pr.error("Cannot update bitrate. No peer found."),new Error("Cannot update bitrate. No peer found.");pr.info("Updating bitrate to value: ",e),this.sessionDescription=await this.peer.createOffer(),await this.peer.setLocalDescription(this.sessionDescription);const t=this.updateBandwidthRestriction(this.peer.remoteDescription.sdp,e);await this.setRTCRemoteSDP(t),pr.info("Bitrate restrictions updated: ","".concat(e>0?e:"unlimited"," kbps"))}getRTCPeerStatus(){if(pr.info("Getting RTC peer status"),!this.peer)return null;const e=Or(this.peer);return pr.info("RTC peer status getted, value: ",e),e}replaceTrack(e){if(!this.peer)return void pr.error("Could not change track if there is not an active connection.");const t=this.peer.getSenders().find(t=>t.track.kind===e.kind);t?t.replaceTrack(e):pr.error("There is no ".concat(e.kind," track in active broadcast."))}static getCapabilities(e){const t=new Yn,n=RTCRtpSender.getCapabilities(e);if(n){const r={};let i=new RegExp("^video/(".concat(Object.values(ur).join("|"),")x?$"),"i");"audio"===e&&(i=new RegExp("^audio/(".concat(Object.values(dr).join("|"),")$"),"i"),t.isChrome()&&(r.multiopus={mimeType:"audio/multiopus",channels:6}));for(const e of n.codecs){const t=e.mimeType.match(i);if(t){const n=t[1].toLowerCase();if(r[n]=f(d({},r[n]),{mimeType:e.mimeType}),e.scalabilityModes){let t=r[n].scalabilityModes||[];t=[...t,...e.scalabilityModes],r[n].scalabilityModes=[...new Set(t)]}e.channels&&(r[n].channels=e.channels)}}n.codecs=Object.keys(r).map(e=>d({codec:e},r[e]))}return n}getTracks(){var e,t;return null==(t=null==(e=this.peer)?void 0:e.getSenders())?void 0:t.map(e=>e.track)}initStats(e){this.peerConnectionStats?pr.warn("PeerConnection.initStats() has already been called. Automatic initialization occurs via View.connect(), Publish.connect() or this.createRTCPeer(). See options"):this.peer?(this.peerConnectionStats=new Oe(this.peer,e),ye(this.peerConnectionStats,this,[xe.stats])):pr.warn("Cannot init peer stats: RTCPeerConnection not initialized")}stopStats(){var e;null==(e=this.peerConnectionStats)||e.stop(),this.peerConnectionStats=null}}const br=e=>(null==e?void 0:e.getAudioTracks().length)<=1&&(null==e?void 0:e.getVideoTracks().length)<=1,yr=e=>{if(!e)return null;if(e instanceof MediaStream&&br(e))return e;if(!(e instanceof MediaStream)){pr.info("Creating MediaStream to add received tracks.");const t=new MediaStream;for(const n of e)t.addTrack(n);if(br(t))return t}throw pr.error("MediaStream must have 1 audio track and 1 video track, or at least one of them."),new Error("MediaStream must have 1 audio track and 1 video track, or at least one of them.")},wr=(e,t)=>{const n=new RTCPeerConnection(t);return Sr(e,n),n},Sr=(e,t)=>{t.ontrack=t=>{pr.info("New track from peer."),pr.debug("Track event value: ",t),e.emit(mr.track,t)},t.connectionState?t.onconnectionstatechange=n=>{pr.info("Peer connection state change: ",t.connectionState),e.emit(mr.connectionStateChange,t.connectionState)}:t.oniceconnectionstatechange=n=>{pr.info("Peer ICE connection state change: ",t.iceConnectionState),e.emit(mr.connectionStateChange,t.iceConnectionState)},t.onnegotiationneeded=async e=>{if(!t.remoteDescription)return;pr.info("Peer onnegotiationneeded, updating local description");const n=await t.createOffer();pr.info("Peer onnegotiationneeded, got local offer",n.sdp),n.sdp=cr.updateMissingVideoExtensions(n.sdp,t.remoteDescription.sdp),await t.setLocalDescription(n);const r=cr.renegotiate(n.sdp,t.remoteDescription.sdp);pr.info("Peer onnegotiationneeded, updating remote description",r),await t.setRemoteDescription({type:"answer",sdp:r}),pr.info("Peer onnegotiationneeded, renegotiation done")}},_r=(e,t,n)=>{pr.info("Adding mediaStream tracks to RTCPeerConnection");for(const r of t.getTracks()){const i={streams:[t]};"audio"===r.kind&&(i.direction=n.disableAudio?"inactive":"sendonly"),"video"===r.kind&&(i.direction=n.disableVideo?"inactive":"sendonly",n.scalabilityMode&&(new Yn).isChrome()?(pr.debug("Video track with scalability mode: ".concat(n.scalabilityMode,".")),i.sendEncodings=[{scalabilityMode:n.scalabilityMode}]):n.scalabilityMode&&pr.warn("SVC is only supported in Google Chrome")),e.addTransceiver(r,i),pr.info("Track '".concat(r.label,"' added: "),"id: ".concat(r.id),"kind: ".concat(r.kind))}},xr=(e,t)=>{const n=new Yn;if(!t.disableVideo){const t=e.addTransceiver("video",{direction:"recvonly"});n.isOpera()&&t.setCodecPreferences(RTCRtpReceiver.getCapabilities("video").codecs.filter(e=>"video/H264"!==e.mimeType||e.sdpFmtpLine.includes("profile-level-id=4")))}t.disableAudio||e.addTransceiver("audio",{direction:"recvonly"});for(let r=0;r<t.multiplexedAudioTracks;r++)e.addTransceiver("audio",{direction:"recvonly"})},kr=async(e,t,n=0)=>new Promise((r,i)=>{if(e.mid){for(const n of t)n.addTrack(e.receiver.track);r(e)}else n>=10?i(new Error("Error, maximum number of retries has been reached")):(n++,setTimeout(()=>{kr(e,t,n).then(r).catch(i)},50))}),Or=e=>{var t;const n=null!=(t=e.connectionState)?t:e.iceConnectionState;switch(n){case"checking":return"connecting";case"completed":return"connected";default:return n}};var Cr={};Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.TypedEmitter=fe.EventEmitter;const{TypedEmitter:Er}=Cr;class jr extends Er{constructor(e,t){super(),this.namespace=e,this.tm=t}cmd(e,t){return this.tm.cmd(e,t,this.namespace)}event(e,t){return this.tm.event(e,t,this.namespace)}close(){return this.tm.namespaces.delete(this.namespace)}}class Tr extends Er{constructor(e){super(),this.maxId=0,this.namespaces=new Map,this.transactions=new Map,this.transport=e,this.listener=e=>{let t;try{t=JSON.parse(e.utf8Data||e.data||e)}catch(r){return}switch(t.type){case"cmd":const{transId:e}=t,r={name:t.name,data:t.data,namespace:t.namespace,accept:t=>{this._send({type:"response",transId:e,data:t})},reject:t=>{this._send({type:"error",transId:e,data:t})}};if(r.namespace){const e=this.namespaces.get(r.namespace);e?e.emit("cmd",r):this.emit("cmd",r)}else this.emit("cmd",r);break;case"response":{const e=this.transactions.get(t.transId);if(!e)return;this.transactions.delete(t.transId),e.resolve(t.data);break}case"error":{const e=this.transactions.get(t.transId);if(!e)return;this.transactions.delete(t.transId),e.reject(t.data);break}case"event":const i={name:t.name,data:t.data,namespace:t.namespace};if(i.namespace){var n=this.namespaces.get(i.namespace);n?n.emit("event",i):this.emit("event",i)}else this.emit("event",i);break}},this.transport.addListener?this.transport.addListener("message",this.listener):this.transport.addEventListener("message",this.listener)}_send(e){this.transport.send(JSON.stringify(e))}cmd(e,t,n){return new Promise((r,i)=>{if(!e||0===e.length)throw new Error("Bad command name");const o={type:"cmd",transId:this.maxId++,name:e,data:t};n&&(o.namespace=n),this.transactions.set(o.transId,f(d({},o),{resolve:r,reject:i}));try{this._send(o)}catch(s){throw this.transactions.delete(o.transId),s}})}event(e,t,n){if(!e||0===e.length)throw new Error("Bad event name");const r={type:"event",name:e,data:t};n&&(r.namespace=n),this._send(r)}namespace(e){let t=this.namespaces.get(e);return t||(t=new jr(e,this),this.namespaces.set(e,t),t)}close(){for(const e of this.namespaces.values())e.close();this.transport.removeListener?this.transport.removeListener("message",this.listener):this.transport.removeEventListener("message",this.listener)}}var Ir=Tr;const Rr=m(Ir),Vr=W.get("Signaling"),Pr={connectionSuccess:"wsConnectionSuccess",connectionError:"wsConnectionError",connectionClose:"wsConnectionClose",broadcastEvent:"broadcastEvent"};class Ar extends pe{constructor(e={streamName:null,url:"ws://localhost:8080/"}){super(),this.streamName=e.streamName,this.wsUrl=e.url,this.webSocket=null,this.transactionManager=null,this.serverId=null,this.clusterId=null,this.streamViewId=null}async connect(){var e;return Vr.info("Connecting to Signaling Server"),this.transactionManager&&(null==(e=this.webSocket)?void 0:e.readyState)===WebSocket.OPEN?(Vr.info("Connected to server: ",this.webSocket.url),Vr.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Pr.connectionSuccess,{ws:this.webSocket,tm:this.transactionManager}),this.webSocket):new Promise((e,t)=>{this.webSocket=new WebSocket(this.wsUrl),this.transactionManager=new Rr(this.webSocket),this.webSocket.onopen=()=>{Vr.info("WebSocket opened"),this.transactionManager.on("event",e=>{this.emit(Pr.broadcastEvent,e)}),Vr.info("Connected to server: ",this.webSocket.url),Vr.debug("WebSocket value: ",{url:this.webSocket.url,protocol:this.webSocket.protocol,readyState:this.webSocket.readyState,binaryType:this.webSocket.binaryType,extensions:this.webSocket.extensions}),this.emit(Pr.connectionSuccess,{ws:this.webSocket,tm:this.transactionManager}),e(this.webSocket)},this.webSocket.onerror=()=>{Vr.error("WebSocket not connected: ",this.webSocket.url),this.emit(Pr.connectionError,this.webSocket.url),t(this.webSocket.url)},this.webSocket.onclose=()=>{this.webSocket=null,this.transactionManager=null,Vr.info("Connection closed with Signaling Server."),this.emit(Pr.connectionClose)}})}close(){var e;Vr.info("Closing connection with Signaling Server."),null==(e=this.webSocket)||e.close()}async subscribe(e,t,n=null,r=null){var i,o,s,a;Vr.info("Starting subscription to streamName: ",this.streamName),Vr.debug("Subcription local description: ",e);const c=Mr(t,n,r);e=cr.adaptCodecName(e,"AV1X",ur.AV1);const l={sdp:e,streamId:this.streamName,pinnedSourceId:c.pinnedSourceId,excludedSourceIds:c.excludedSourceIds};c.vad&&(l.vad=!0),Array.isArray(c.events)&&(l.events=c.events),c.forcePlayoutDelay&&(l.forcePlayoutDelay=c.forcePlayoutDelay),c.layer&&(l.layer=c.layer);try{await this.connect(),Vr.info("Sending view command");const e=await this.transactionManager.cmd("view",l),t=null==(a=null==(s=null==(o=null==(i=RTCRtpReceiver.getCapabilities)?void 0:i.call(RTCRtpReceiver,"video"))?void 0:o.codecs)?void 0:s.find)?void 0:a.call(s,e=>"video/AV1X"===e.mimeType);return e.sdp=t?cr.adaptCodecName(e.sdp,ur.AV1,"AV1X"):e.sdp,Vr.info("Command sent, subscriberId: ",e.subscriberId),Vr.debug("Command result: ",e),this.serverId=e.subscriberId,this.clusterId=e.clusterId,this.streamViewId=e.streamViewId,V.initStreamName(this.streamName),V.initSubscriberId(this.serverId),V.initStreamViewId(e.streamViewId),V.setClusterId(this.clusterId),e.sdp}catch(u){throw Vr.error("Error sending view command, error: ",u),u}}async publish(e,t,n=null,r=null){var i,o,s,a,c,l,u,d;const f=Lr(t,n,r);Vr.info("Starting publishing to streamName: ".concat(this.streamName,", codec: ").concat(f.codec)),Vr.debug("Publishing local description: ",e);const p=null!=(a=null==(s=null==(o=null==(i=gr.getCapabilities)?void 0:i.call(gr,"video"))?void 0:o.codecs)?void 0:s.map(e=>e.codec))?a:[],h=Object.values(ur);if(-1===h.indexOf(f.codec))throw Vr.error("Invalid codec ".concat(f.codec,". Possible values are: "),h),new Error("Invalid codec ".concat(f.codec,". Possible values are: ").concat(h));if(p.length>0&&-1===p.indexOf(f.codec))throw Vr.error("Unsupported codec ".concat(f.codec,". Possible values are: "),p),new Error("Unsupported codec ".concat(f.codec,". Possible values are: ").concat(p));f.codec===ur.AV1&&(e=cr.adaptCodecName(e,"AV1X",ur.AV1));const m={name:this.streamName,sdp:e,codec:f.codec,sourceId:f.sourceId};if(f.priority){if(!(Number.isInteger(f.priority)&&f.priority>=-2147483648&&f.priority<=2147483647))throw new Error("Invalid value for priority option. It should be a decimal integer between the range [-2^31, +2^31 - 1]");m.priority=f.priority}null!==f.record&&(m.record=f.record),Array.isArray(f.events)&&(m.events=f.events);try{await this.connect(),Vr.info("Sending publish command");const e=await this.transactionManager.cmd("publish",m);if(f.codec===ur.AV1){const t=null==(d=null==(u=null==(l=null==(c=RTCRtpSender.getCapabilities)?void 0:c.call(RTCRtpSender,"video"))?void 0:l.codecs)?void 0:u.find)?void 0:d.call(u,e=>"video/AV1X"===e.mimeType);e.sdp=t?cr.adaptCodecName(e.sdp,ur.AV1,"AV1X"):e.sdp}return Vr.info("Command sent, publisherId: ",e.publisherId),Vr.debug("Command result: ",e),this.serverId=e.publisherId,this.clusterId=e.clusterId,V.initStreamName(this.streamName),V.initSubscriberId(this.serverId),V.initFeedId(e.feedId),V.setClusterId(this.clusterId),e.sdp}catch(v){throw Vr.error("Error sending publish command, error: ",v),v}}async cmd(e,t){return Vr.info("Sending cmd: ".concat(e)),this.transactionManager.cmd(e,t)}}const Mr=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={vad:e,pinnedSourceId:t,excludedSourceIds:n}),r},Lr=(e,t,n)=>{let r="object"==typeof e?e:{};if(0===Object.keys(r).length){const i=ur.H264;r={codec:null!=e?e:i,record:t,sourceId:n}}return r};class Nr extends Error{constructor(e,t){super(e),this.name="FetchError",this.status=t}}const Dr=W.get("Director"),Br={WEBRTC:"WebRtc",RTMP:"Rtmp"};let Fr="",Ur="https://director.millicast.com";const zr={setEndpoint:e=>{Ur=e.replace(/\/$/,"")},getEndpoint:()=>Ur,setLiveDomain:e=>{Fr=e.replace(/\/$/,"")},getLiveDomain:()=>Fr,getPublisher:async(e,t=null,n=Br.WEBRTC)=>{const r=Wr(e,t,n);Dr.info("Getting publisher connection path for stream name: ",r.streamName);const i={streamName:r.streamName,streamType:r.streamType},o={"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)},s="".concat(zr.getEndpoint(),"/api/director/publish");try{const e=await fetch(s,{method:"POST",headers:o,body:JSON.stringify(i)});let t=await e.json();if("fail"===t.status)throw new Nr(t.data.message,e.status);return t=Gr(t),Dr.debug("Getting publisher response: ",t),V.initAccountId(t.data.streamAccountId),t.data}catch(a){throw Dr.error("Error while getting publisher connection path. ",a),a}},getSubscriber:async(e,t=null,n=null)=>{const r=Zr(e,t,n);V.initAccountId(r.streamAccountId),Dr.info("Getting subscriber connection data for stream name: ".concat(r.streamName," and account id: ").concat(r.streamAccountId));const i={streamAccountId:r.streamAccountId,streamName:r.streamName};let o={"Content-Type":"application/json"};r.subscriberToken&&(o=f(d({},o),{Authorization:"Bearer ".concat(r.subscriberToken)}));const s="".concat(zr.getEndpoint(),"/api/director/subscribe");try{const e=await fetch(s,{method:"POST",headers:o,body:JSON.stringify(i)});let t=await e.json();if("fail"===t.status)throw new Nr(t.data.message,e.status);return t=Gr(t),Dr.debug("Getting subscriber response: ",t),t.data}catch(a){throw Dr.error("Error while getting subscriber connection path. ",a),a}}},Wr=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={token:e,streamName:t,streamType:n}),r},Zr=(e,t,n)=>{let r="object"==typeof e?e:{};return 0===Object.keys(r).length&&(r={streamName:e,streamAccountId:t,subscriberToken:n}),r},Gr=e=>{if(zr.getLiveDomain()){const t=/\/\/(.*?)\//,n=e.data.urls.map(e=>{const n=t.exec(e);return e.replace(n[1],zr.getLiveDomain())});e.data.urls=n}return e};function $r(e){this.message=e}$r.prototype=new Error,$r.prototype.name="InvalidCharacterError";var Xr=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new $r("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,o=0,s="";r=t.charAt(o++);~r&&(n=i%4?64*n+r:r,i++%4)?s+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return s};function Yr(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(Xr(e).replace(/(.)/g,(function(e,t){var n=t.charCodeAt(0).toString(16).toUpperCase();return n.length<2&&(n="0"+n),"%"+n})))}(t)}catch(n){return Xr(t)}}function Hr(e){this.message=e}function Kr(e,t){if("string"!=typeof e)throw new Hr("Invalid token specified");var n=!0===(t=t||{}).header?0:1;try{return JSON.parse(Yr(e.split(".")[n]))}catch(r){throw new Hr("Invalid token specified: "+r.message)}}Hr.prototype=new Error,Hr.prototype.name="InvalidTokenError";var Jr={exports:{}};(function(e,t){(function(n){if(null!=t&&"number"!=typeof t.nodeType)e.exports=n();else{var r=n(),i=typeof self<"u"?self:$.global;"function"!=typeof i.btoa&&(i.btoa=r.btoa),"function"!=typeof i.atob&&(i.atob=r.atob)}})((function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e){this.message=e}function n(n){for(var r,i,o,s,a=String(n),c=0,l="";c<a.length;){if(r=a.charCodeAt(c++),i=a.charCodeAt(c++),o=a.charCodeAt(c++),r>255||i>255||o>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");s=r<<16|i<<8|o,l+=e.charAt(s>>18&63)+e.charAt(s>>12&63)+e.charAt(s>>6&63)+e.charAt(63&s)}switch(a.length%3){case 0:return l;case 1:return l.slice(0,-2)+"==";case 2:return l.slice(0,-1)+"="}}function r(n){var r=String(n).replace(/[=]+$/,"");if(r.length%4===1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var i,o,s=0,a=0,c="";o=r.charAt(a++);~o&&(i=s%4?64*i+o:o,s++%4)?c+=String.fromCharCode(255&i>>(-2*s&6)):0)o=e.indexOf(o);return c}return t.prototype=new Error,t.prototype.name="InvalidCharacterError",{btoa:n,atob:r}}))})(Jr,Jr.exports);var Qr=Jr.exports,qr={exports:{}};(function(e,t){(function(t,n){e.exports=n()})(self,()=>{return e={7629:(e,t,n)=>{const r=n(375),i=n(8571),o=n(9474),s=n(1687),a=n(8652),c=n(8160),l=n(3292),u=n(6354),d=n(8901),f=n(9708),p=n(6914),h=n(2294),m=n(6133),v=n(1152),g=n(8863),b=n(2036),y={Base:class{constructor(e){this.type=e,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new h.Ids,this._preferences=null,this._refs=new m.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return r("function"==typeof f.describe,"Manifest functionality disabled"),f.describe(this)}allow(...e){return c.verifyFlat(e,"allow"),this._values(e,"_valids")}alter(e){r(e&&"object"==typeof e&&!Array.isArray(e),"Invalid targets argument"),r(!this._inRuleset(),"Cannot set alterations inside a ruleset");const t=this.clone();t.$_terms.alterations=t.$_terms.alterations||[];for(const n in e){const i=e[n];r("function"==typeof i,"Alteration adjuster for",n,"must be a function"),t.$_terms.alterations.push({target:n,adjuster:i})}return t.$_temp.ruleset=!1,t}artifact(e){return r(void 0!==e,"Artifact cannot be undefined"),r(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",e)}cast(e){return r(!1===e||"string"==typeof e,"Invalid to value"),r(!1===e||this._definition.cast[e],"Type",this.type,"does not support casting to",e),this.$_setFlag("cast",!1===e?void 0:e)}default(e,t){return this._default("default",e,t)}description(e){return r(e&&"string"==typeof e,"Description must be a non-empty string"),this.$_setFlag("description",e)}empty(e){const t=this.clone();return void 0!==e&&(e=t.$_compile(e,{override:!1})),t.$_setFlag("empty",e,{clone:!1})}error(e){return r(e,"Missing error"),r(e instanceof Error||"function"==typeof e,"Must provide a valid Error object or a function"),this.$_setFlag("error",e)}example(e,t={}){return r(void 0!==e,"Missing example"),c.assertOptions(t,["override"]),this._inner("examples",e,{single:!0,override:t.override})}external(e,t){return"object"==typeof e&&(r(!t,"Cannot combine options with description"),t=e.description,e=e.method),r("function"==typeof e,"Method must be a function"),r(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this._inner("externals",{method:e,description:t},{single:!0})}failover(e,t){return this._default("failover",e,t)}forbidden(){return this.presence("forbidden")}id(e){return e?(r("string"==typeof e,"id must be a non-empty string"),r(/^[^\.]+$/.test(e),"id cannot contain period character"),this.$_setFlag("id",e)):this.$_setFlag("id",void 0)}invalid(...e){return this._values(e,"_invalids")}label(e){return r(e&&"string"==typeof e,"Label name must be a non-empty string"),this.$_setFlag("label",e)}meta(e){return r(void 0!==e,"Meta cannot be undefined"),this._inner("metas",e,{single:!0})}note(...e){r(e.length,"Missing notes");for(const t of e)r(t&&"string"==typeof t,"Notes must be non-empty strings");return this._inner("notes",e)}only(e=!0){return r("boolean"==typeof e,"Invalid mode:",e),this.$_setFlag("only",e)}optional(){return this.presence("optional")}prefs(e){r(e,"Missing preferences"),r(void 0===e.context,"Cannot override context"),r(void 0===e.externals,"Cannot override externals"),r(void 0===e.warnings,"Cannot override warnings"),r(void 0===e.debug,"Cannot override debug"),c.checkPreferences(e);const t=this.clone();return t._preferences=c.preferences(t._preferences,e),t}presence(e){return r(["optional","required","forbidden"].includes(e),"Unknown presence mode",e),this.$_setFlag("presence",e)}raw(e=!0){return this.$_setFlag("result",e?"raw":void 0)}result(e){return r(["raw","strip"].includes(e),"Unknown result mode",e),this.$_setFlag("result",e)}required(){return this.presence("required")}strict(e){const t=this.clone(),n=void 0!==e&&!e;return t._preferences=c.preferences(t._preferences,{convert:n}),t}strip(e=!0){return this.$_setFlag("result",e?"strip":void 0)}tag(...e){r(e.length,"Missing tags");for(const t of e)r(t&&"string"==typeof t,"Tags must be non-empty strings");return this._inner("tags",e)}unit(e){return r(e&&"string"==typeof e,"Unit name must be a non-empty string"),this.$_setFlag("unit",e)}valid(...e){c.verifyFlat(e,"valid");const t=this.allow(...e);return t.$_setFlag("only",!!t._valids,{clone:!1}),t}when(e,t){const n=this.clone();n.$_terms.whens||(n.$_terms.whens=[]);const i=l.when(n,e,t);if(!["any","link"].includes(n.type)){const e=i.is?[i]:i.switch;for(const t of e)r(!t.then||"any"===t.then.type||t.then.type===n.type,"Cannot combine",n.type,"with",t.then&&t.then.type),r(!t.otherwise||"any"===t.otherwise.type||t.otherwise.type===n.type,"Cannot combine",n.type,"with",t.otherwise&&t.otherwise.type)}return n.$_terms.whens.push(i),n.$_mutateRebuild()}cache(e){r(!this._inRuleset(),"Cannot set caching inside a ruleset"),r(!this._cache,"Cannot override schema cache"),r(void 0===this._flags.artifact,"Cannot cache a rule with an artifact");const t=this.clone();return t._cache=e||a.provider.provision(),t.$_temp.ruleset=!1,t}clone(){const e=Object.create(Object.getPrototypeOf(this));return this._assign(e)}concat(e){r(c.isSchema(e),"Invalid schema object"),r("any"===this.type||"any"===e.type||e.type===this.type,"Cannot merge type",this.type,"with another type:",e.type),r(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),r(!e._inRuleset(),"Cannot concatenate a schema with open ruleset");let t=this.clone();if("any"===this.type&&"any"!==e.type){const n=e.clone();for(const e of Object.keys(t))"type"!==e&&(n[e]=t[e]);t=n}t._ids.concat(e._ids),t._refs.register(e,m.toSibling),t._preferences=t._preferences?c.preferences(t._preferences,e._preferences):e._preferences,t._valids=b.merge(t._valids,e._valids,e._invalids),t._invalids=b.merge(t._invalids,e._invalids,e._valids);for(const n of e._singleRules.keys())t._singleRules.has(n)&&(t._rules=t._rules.filter(e=>e.keep||e.name!==n),t._singleRules.delete(n));for(const n of e._rules)e._definition.rules[n.method].multi||t._singleRules.set(n.name,n),t._rules.push(n);if(t._flags.empty&&e._flags.empty){t._flags.empty=t._flags.empty.concat(e._flags.empty);const n=Object.assign({},e._flags);delete n.empty,s(t._flags,n)}else if(e._flags.empty){t._flags.empty=e._flags.empty;const n=Object.assign({},e._flags);delete n.empty,s(t._flags,n)}else s(t._flags,e._flags);for(const n in e.$_terms){const r=e.$_terms[n];r?t.$_terms[n]?t.$_terms[n]=t.$_terms[n].concat(r):t.$_terms[n]=r.slice():t.$_terms[n]||(t.$_terms[n]=r)}return this.$_root._tracer&&this.$_root._tracer._combine(t,[this,e]),t.$_mutateRebuild()}extend(e){return r(!e.base,"Cannot extend type with another base"),d.type(this,e)}extract(e){return e=Array.isArray(e)?e:e.split("."),this._ids.reach(e)}fork(e,t){r(!this._inRuleset(),"Cannot fork inside a ruleset");let n=this;for(let r of[].concat(e))r=Array.isArray(r)?r:r.split("."),n=n._ids.fork(r,t,n);return n.$_temp.ruleset=!1,n}rule(e){const t=this._definition;c.assertOptions(e,Object.keys(t.modifiers)),r(!1!==this.$_temp.ruleset,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");const n=null===this.$_temp.ruleset?this._rules.length-1:this.$_temp.ruleset;r(n>=0&&n<this._rules.length,"Cannot apply rules to empty ruleset");const o=this.clone();for(let s=n;s<o._rules.length;++s){const n=o._rules[s],a=i(n);for(const i in e)t.modifiers[i](a,e[i]),r(a.name===n.name,"Cannot change rule name");o._rules[s]=a,o._singleRules.get(a.name)===n&&o._singleRules.set(a.name,a)}return o.$_temp.ruleset=!1,o.$_mutateRebuild()}get ruleset(){r(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");const e=this.clone();return e.$_temp.ruleset=e._rules.length,e}get $(){return this.ruleset}tailor(e){e=[].concat(e),r(!this._inRuleset(),"Cannot tailor inside a ruleset");let t=this;if(this.$_terms.alterations)for(const{target:n,adjuster:i}of this.$_terms.alterations)e.includes(n)&&(t=i(t),r(c.isSchema(t),"Alteration adjuster for",n,"failed to return a schema object"));return t=t.$_modify({each:t=>t.tailor(e),ref:!1}),t.$_temp.ruleset=!1,t.$_mutateRebuild()}tracer(){return v.location?v.location(this):this}validate(e,t){return g.entry(e,this,t)}validateAsync(e,t){return g.entryAsync(e,this,t)}$_addRule(e){"string"==typeof e&&(e={name:e}),r(e&&"object"==typeof e,"Invalid options"),r(e.name&&"string"==typeof e.name,"Invalid rule name");for(const s in e)r("_"!==s[0],"Cannot set private rule properties");const t=Object.assign({},e);t._resolve=[],t.method=t.method||t.name;const n=this._definition.rules[t.method],i=t.args;r(n,"Unknown rule",t.method);const o=this.clone();if(i){r(1===Object.keys(i).length||Object.keys(i).length===this._definition.rules[t.name].args.length,"Invalid rule definition for",this.type,t.name);for(const e in i){let s=i[e];if(n.argsByName){const a=n.argsByName.get(e);if(a.ref&&c.isResolvable(s))t._resolve.push(e),o.$_mutateRegister(s);else if(a.normalize&&(s=a.normalize(s),i[e]=s),a.assert){const t=c.validateArg(s,e,a);r(!t,t,"or reference")}}void 0!==s?i[e]=s:delete i[e]}}return n.multi||(o._ruleRemove(t.name,{clone:!1}),o._singleRules.set(t.name,t)),!1===o.$_temp.ruleset&&(o.$_temp.ruleset=null),n.priority?o._rules.unshift(t):o._rules.push(t),o}$_compile(e,t){return l.schema(this.$_root,e,t)}$_createError(e,t,n,r,i,o={}){const s=!1!==o.flags?this._flags:{},a=o.messages?p.merge(this._definition.messages,o.messages):this._definition.messages;return new u.Report(e,t,n,s,a,r,i)}$_getFlag(e){return this._flags[e]}$_getRule(e){return this._singleRules.get(e)}$_mapLabels(e){return e=Array.isArray(e)?e:e.split("."),this._ids.labels(e)}$_match(e,t,n,r){(n=Object.assign({},n)).abortEarly=!0,n._externals=!1,t.snapshot();const i=!g.validate(e,this,t,n,r).errors;return t.restore(),i}$_modify(e){return c.assertOptions(e,["each","once","ref","schema"]),h.schema(this,e)||this}$_mutateRebuild(){return r(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(e,{source:t,name:n,path:r,key:i})=>{const o=this._definition[t][n]&&this._definition[t][n].register;!1!==o&&this.$_mutateRegister(e,{family:o,key:i})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(e,{family:t,key:n}={}){this._refs.register(e,t),this._ids.register(e,{key:n})}$_property(e){return this._definition.properties[e]}$_reach(e){return this._ids.reach(e)}$_rootReferences(){return this._refs.roots()}$_setFlag(e,t,n={}){r("_"===e[0]||!this._inRuleset(),"Cannot set flag inside a ruleset");const i=this._definition.flags[e]||{};if(o(t,i.default)&&(t=void 0),o(t,this._flags[e]))return this;const s=!1!==n.clone?this.clone():this;return void 0!==t?(s._flags[e]=t,s.$_mutateRegister(t)):delete s._flags[e],"_"!==e[0]&&(s.$_temp.ruleset=!1),s}$_parent(e,...t){return this[e][c.symbols.parent].call(this,...t)}$_validate(e,t,n){return g.validate(e,this,t,n)}_assign(e){e.type=this.type,e.$_root=this.$_root,e.$_temp=Object.assign({},this.$_temp),e.$_temp.whens={},e._ids=this._ids.clone(),e._preferences=this._preferences,e._valids=this._valids&&this._valids.clone(),e._invalids=this._invalids&&this._invalids.clone(),e._rules=this._rules.slice(),e._singleRules=i(this._singleRules,{shallow:!0}),e._refs=this._refs.clone(),e._flags=Object.assign({},this._flags),e._cache=null,e.$_terms={};for(const t in this.$_terms)e.$_terms[t]=this.$_terms[t]?this.$_terms[t].slice():null;e.$_super={};for(const t in this.$_super)e.$_super[t]=this._super[t].bind(e);return e}_bare(){const e=this.clone();e._reset();const t=e._definition.terms;for(const n in t){const r=t[n];e.$_terms[n]=r.init}return e.$_mutateRebuild()}_default(e,t,n={}){return c.assertOptions(n,"literal"),r(void 0!==t,"Missing",e,"value"),r("function"==typeof t||!n.literal,"Only function value supports literal option"),"function"==typeof t&&n.literal&&(t={[c.symbols.literal]:!0,literal:t}),this.$_setFlag(e,t)}_generate(e,t,n){if(!this.$_terms.whens)return{schema:this};const r=[],i=[];for(let a=0;a<this.$_terms.whens.length;++a){const o=this.$_terms.whens[a];if(o.concat){r.push(o.concat),i.push("".concat(a,".concat"));continue}const s=o.ref?o.ref.resolve(e,t,n):e,c=o.is?[o]:o.switch,l=i.length;for(let u=0;u<c.length;++u){const{is:l,then:d,otherwise:f}=c[u],p="".concat(a).concat(o.switch?"."+u:"");if(l.$_match(s,t.nest(l,"".concat(p,".is")),n)){if(d){const o=t.localize([...t.path,"".concat(p,".then")],t.ancestors,t.schemas),{schema:s,id:a}=d._generate(e,o,n);r.push(s),i.push("".concat(p,".then").concat(a?"(".concat(a,")"):""));break}}else if(f){const o=t.localize([...t.path,"".concat(p,".otherwise")],t.ancestors,t.schemas),{schema:s,id:a}=f._generate(e,o,n);r.push(s),i.push("".concat(p,".otherwise").concat(a?"(".concat(a,")"):""));break}}if(o.break&&i.length>l)break}const o=i.join(", ");if(t.mainstay.tracer.debug(t,"rule","when",o),!o)return{schema:this};if(!t.mainstay.tracer.active&&this.$_temp.whens[o])return{schema:this.$_temp.whens[o],id:o};let s=this;this._definition.generate&&(s=this._definition.generate(this,e,t,n));for(const a of r)s=s.concat(a);return this.$_root._tracer&&this.$_root._tracer._combine(s,[this,...r]),this.$_temp.whens[o]=s,{schema:s,id:o}}_inner(e,t,n={}){r(!this._inRuleset(),"Cannot set ".concat(e," inside a ruleset"));const i=this.clone();return i.$_terms[e]&&!n.override||(i.$_terms[e]=[]),n.single?i.$_terms[e].push(t):i.$_terms[e].push(...t),i.$_temp.ruleset=!1,i}_inRuleset(){return null!==this.$_temp.ruleset&&!1!==this.$_temp.ruleset}_ruleRemove(e,t={}){if(!this._singleRules.has(e))return this;const n=!1!==t.clone?this.clone():this;n._singleRules.delete(e);const r=[];for(let i=0;i<n._rules.length;++i){const t=n._rules[i];t.name!==e||t.keep?r.push(t):n._inRuleset()&&i<n.$_temp.ruleset&&--n.$_temp.ruleset}return n._rules=r,n}_values(e,t){c.verifyFlat(e,t.slice(1,-1));const n=this.clone(),i=e[0]===c.symbols.override;if(i&&(e=e.slice(1)),!n[t]&&e.length?n[t]=new b:i&&(n[t]=e.length?new b:null,n.$_mutateRebuild()),!n[t])return n;i&&n[t].override();for(const o of e){r(void 0!==o,"Cannot call allow/valid/invalid with undefined"),r(o!==c.symbols.override,"Override must be the first value");const e="_invalids"===t?"_valids":"_invalids";n[e]&&(n[e].remove(o),n[e].length||(r("_valids"===t||!n._flags.only,"Setting invalid value",o,"leaves schema rejecting all values due to previous valid rule"),n[e]=null)),n[t].add(o,n._refs)}return n}}};y.Base.prototype[c.symbols.any]={version:c.version,compile:l.compile,root:"$_root"},y.Base.prototype.isImmutable=!0,y.Base.prototype.deny=y.Base.prototype.invalid,y.Base.prototype.disallow=y.Base.prototype.invalid,y.Base.prototype.equal=y.Base.prototype.valid,y.Base.prototype.exist=y.Base.prototype.required,y.Base.prototype.not=y.Base.prototype.invalid,y.Base.prototype.options=y.Base.prototype.prefs,y.Base.prototype.preferences=y.Base.prototype.prefs,e.exports=new y.Base},8652:(e,t,n)=>{const r=n(375),i=n(8571),o=n(8160),s={max:1e3,supported:new Set(["undefined","boolean","number","string"])};t.provider={provision:e=>new s.Cache(e)},s.Cache=class{constructor(e={}){o.assertOptions(e,["max"]),r(void 0===e.max||e.max&&e.max>0&&isFinite(e.max),"Invalid max cache size"),this._max=e.max||s.max,this._map=new Map,this._list=new s.List}get length(){return this._map.size}set(e,t){if(null!==e&&!s.supported.has(typeof e))return;let n=this._map.get(e);if(n)return n.value=t,void this._list.first(n);n=this._list.unshift({key:e,value:t}),this._map.set(e,n),this._compact()}get(e){const t=this._map.get(e);if(t)return this._list.first(t),i(t.value)}_compact(){if(this._map.size>this._max){const e=this._list.pop();this._map.delete(e.key)}}},s.List=class{constructor(){this.tail=null,this.head=null}unshift(e){return e.next=null,e.prev=this.head,this.head&&(this.head.next=e),this.head=e,this.tail||(this.tail=e),e}first(e){e!==this.head&&(this._remove(e),this.unshift(e))}pop(){return this._remove(this.tail)}_remove(e){const{next:t,prev:n}=e;return t.prev=n,n&&(n.next=t),e===this.tail&&(this.tail=t),e.prev=null,e.next=null,e}}},8160:(e,t,n)=>{const r=n(375),i=n(7916),o=n(5934);let s,a;const c={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};t.version=o.version,t.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},t.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},t.assertOptions=function(e,t,n="Options"){r(e&&"object"==typeof e&&!Array.isArray(e),"Options must be of type object");const i=Object.keys(e).filter(e=>!t.includes(e));r(0===i.length,"".concat(n," contain unknown keys: ").concat(i))},t.checkPreferences=function(e){a=a||n(3378);const t=a.preferences.validate(e);if(t.error)throw new i([t.error.details[0].message])},t.compare=function(e,t,n){switch(n){case"=":return e===t;case">":return e>t;case"<":return e<t;case">=":return e>=t;case"<=":return e<=t}},t.default=function(e,t){return void 0===e?t:e},t.isIsoDate=function(e){return c.isoDate.test(e)},t.isNumber=function(e){return"number"==typeof e&&!isNaN(e)},t.isResolvable=function(e){return!!e&&(e[t.symbols.ref]||e[t.symbols.template])},t.isSchema=function(e,n={}){const i=e&&e[t.symbols.any];return!!i&&(r(n.legacy||i.version===t.version,"Cannot mix different versions of joi schemas"),!0)},t.isValues=function(e){return e[t.symbols.values]},t.limit=function(e){return Number.isSafeInteger(e)&&e>=0},t.preferences=function(e,r){s=s||n(6914),e=e||{},r=r||{};const i=Object.assign({},e,r);return r.errors&&e.errors&&(i.errors=Object.assign({},e.errors,r.errors),i.errors.wrap=Object.assign({},e.errors.wrap,r.errors.wrap)),r.messages&&(i.messages=s.compile(r.messages,e.messages)),delete i[t.symbols.prefs],i},t.tryWithPath=function(e,t,n={}){try{return e()}catch(r){throw void 0!==r.path?r.path=t+"."+r.path:r.path=t,n.append&&(r.message="".concat(r.message," (").concat(r.path,")")),r}},t.validateArg=function(e,n,{assert:r,message:i}){if(t.isSchema(r)){const t=r.validate(e);return t.error?t.error.message:void 0}if(!r(e))return n?"".concat(n," ").concat(i):i},t.verifyFlat=function(e,t){for(const n of e)r(!Array.isArray(n),"Method no longer accepts array arguments:",t)}},3292:(e,t,n)=>{const r=n(375),i=n(8160),o=n(6133),s={};t.schema=function(e,t,n={}){i.assertOptions(n,["appendPath","override"]);try{return s.schema(e,t,n)}catch(r){throw n.appendPath&&void 0!==r.path&&(r.message="".concat(r.message," (").concat(r.path,")")),r}},s.schema=function(e,t,n){r(void 0!==t,"Invalid undefined schema"),Array.isArray(t)&&(r(t.length,"Invalid empty array schema"),1===t.length&&(t=t[0]));const o=(t,...r)=>!1!==n.override?t.valid(e.override,...r):t.valid(...r);if(s.simple(t))return o(e,t);if("function"==typeof t)return e.custom(t);if(r("object"==typeof t,"Invalid schema content:",typeof t),i.isResolvable(t))return o(e,t);if(i.isSchema(t))return t;if(Array.isArray(t)){for(const n of t)if(!s.simple(n))return e.alternatives().try(...t);return o(e,...t)}return t instanceof RegExp?e.string().regex(t):t instanceof Date?o(e.date(),t):(r(Object.getPrototypeOf(t)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),e.object().keys(t))},t.ref=function(e,t){return o.isRef(e)?e:o.create(e,t)},t.compile=function(e,n,o={}){i.assertOptions(o,["legacy"]);const a=n&&n[i.symbols.any];if(a)return r(o.legacy||a.version===i.version,"Cannot mix different versions of joi schemas:",a.version,i.version),n;if("object"!=typeof n||!o.legacy)return t.schema(e,n,{appendPath:!0});const c=s.walk(n);return c?c.compile(c.root,n):t.schema(e,n,{appendPath:!0})},s.walk=function(e){if("object"!=typeof e)return null;if(Array.isArray(e)){for(const t of e){const e=s.walk(t);if(e)return e}return null}const t=e[i.symbols.any];if(t)return{root:e[t.root],compile:t.compile};r(Object.getPrototypeOf(e)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(const n in e){const t=s.walk(e[n]);if(t)return t}return null},s.simple=function(e){return null===e||["boolean","string","number"].includes(typeof e)},t.when=function(e,n,a){if(void 0===a&&(r(n&&"object"==typeof n,"Missing options"),a=n,n=o.create(".")),Array.isArray(a)&&(a={switch:a}),i.assertOptions(a,["is","not","then","otherwise","switch","break"]),i.isSchema(n))return r(void 0===a.is,'"is" can not be used with a schema condition'),r(void 0===a.not,'"not" can not be used with a schema condition'),r(void 0===a.switch,'"switch" can not be used with a schema condition'),s.condition(e,{is:n,then:a.then,otherwise:a.otherwise,break:a.break});if(r(o.isRef(n)||"string"==typeof n,"Invalid condition:",n),r(void 0===a.not||void 0===a.is,'Cannot combine "is" with "not"'),void 0===a.switch){let c=a;void 0!==a.not&&(c={is:a.not,then:a.otherwise,otherwise:a.then,break:a.break});let l=void 0!==c.is?e.$_compile(c.is):e.$_root.invalid(null,!1,0,"").required();return r(void 0!==c.then||void 0!==c.otherwise,'options must have at least one of "then", "otherwise", or "switch"'),r(void 0===c.break||void 0===c.then||void 0===c.otherwise,"Cannot specify then, otherwise, and break all together"),void 0===a.is||o.isRef(a.is)||i.isSchema(a.is)||(l=l.required()),s.condition(e,{ref:t.ref(n),is:l,then:c.then,otherwise:c.otherwise,break:c.break})}r(Array.isArray(a.switch),'"switch" must be an array'),r(void 0===a.is,'Cannot combine "switch" with "is"'),r(void 0===a.not,'Cannot combine "switch" with "not"'),r(void 0===a.then,'Cannot combine "switch" with "then"');const c={ref:t.ref(n),switch:[],break:a.break};for(let t=0;t<a.switch.length;++t){const n=a.switch[t],s=t===a.switch.length-1;i.assertOptions(n,s?["is","then","otherwise"]:["is","then"]),r(void 0!==n.is,'Switch statement missing "is"'),r(void 0!==n.then,'Switch statement missing "then"');const l={is:e.$_compile(n.is),then:e.$_compile(n.then)};if(o.isRef(n.is)||i.isSchema(n.is)||(l.is=l.is.required()),s){r(void 0===a.otherwise||void 0===n.otherwise,'Cannot specify "otherwise" inside and outside a "switch"');const t=void 0!==a.otherwise?a.otherwise:n.otherwise;void 0!==t&&(r(void 0===c.break,"Cannot specify both otherwise and break"),l.otherwise=e.$_compile(t))}c.switch.push(l)}return c},s.condition=function(e,t){for(const n of["then","otherwise"])void 0===t[n]?delete t[n]:t[n]=e.$_compile(t[n]);return t}},6354:(e,t,n)=>{const r=n(5688),i=n(8160),o=n(3328);t.Report=class{constructor(e,n,r,i,o,s,a){if(this.code=e,this.flags=i,this.messages=o,this.path=s.path,this.prefs=a,this.state=s,this.value=n,this.message=null,this.template=null,this.local=r||{},this.local.label=t.label(this.flags,this.state,this.prefs,this.messages),void 0===this.value||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){const e=this.path[this.path.length-1];"object"!=typeof e&&(this.local.key=e)}}_setTemplate(e){if(this.template=e,!this.flags.label&&0===this.path.length){const e=this._template(this.template,"root");e&&(this.local.label=e)}}toString(){if(this.message)return this.message;const e=this.code;if(!this.prefs.errors.render)return this.code;const t=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return void 0===t?'Error code "'.concat(e,'" is not defined, your custom type is missing the correct messages definition'):(this.message=t.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(e,n){return t.template(this.value,e,n||this.code,this.state,this.prefs)}},t.path=function(e){let t="";for(const n of e)"object"!=typeof n&&("string"==typeof n?(t&&(t+="."),t+=n):t+="[".concat(n,"]"));return t},t.template=function(e,t,n,r,s){if(!t)return;if(o.isTemplate(t))return"root"!==n?t:null;let a=s.errors.language;if(i.isResolvable(a)&&(a=a.resolve(e,r,s)),a&&t[a]){if(void 0!==t[a][n])return t[a][n];if(void 0!==t[a]["*"])return t[a]["*"]}return t[n]?t[n]:t["*"]},t.label=function(e,n,r,i){if(e.label)return e.label;if(!r.errors.label)return"";let o=n.path;return"key"===r.errors.label&&n.path.length>1&&(o=n.path.slice(-1)),t.path(o)||t.template(null,r.messages,"root",n,r)||i&&t.template(null,i,"root",n,r)||"value"},t.process=function(e,n,r){if(!e)return null;const{override:i,message:o,details:s}=t.details(e);if(i)return i;if(r.errors.stack)return new t.ValidationError(o,s,n);const a=Error.stackTraceLimit;Error.stackTraceLimit=0;const c=new t.ValidationError(o,s,n);return Error.stackTraceLimit=a,c},t.details=function(e,t={}){let n=[];const r=[];for(const i of e){if(i instanceof Error){if(!1!==t.override)return{override:i};const e=i.toString();n.push(e),r.push({message:e,type:"override",context:{error:i}});continue}const e=i.toString();n.push(e),r.push({message:e,path:i.path.filter(e=>"object"!=typeof e),type:i.code,context:i.local})}return n.length>1&&(n=[...new Set(n)]),{message:n.join(". "),details:r}},t.ValidationError=class extends Error{constructor(e,t,n){super(e),this._original=n,this.details=t}static isError(e){return e instanceof t.ValidationError}},t.ValidationError.prototype.isJoi=!0,t.ValidationError.prototype.name="ValidationError",t.ValidationError.prototype.annotate=r.error},8901:(e,t,n)=>{const r=n(375),i=n(8571),o=n(8160),s=n(6914),a={};t.type=function(e,t){const n=Object.getPrototypeOf(e),c=i(n),l=e._assign(Object.create(c)),u=Object.assign({},t);delete u.base,c._definition=u;const d=n._definition||{};u.messages=s.merge(d.messages,u.messages),u.properties=Object.assign({},d.properties,u.properties),l.type=u.type,u.flags=Object.assign({},d.flags,u.flags);const f=Object.assign({},d.terms);if(u.terms)for(const i in u.terms){const e=u.terms[i];r(void 0===l.$_terms[i],"Invalid term override for",u.type,i),l.$_terms[i]=e.init,f[i]=e}u.terms=f,u.args||(u.args=d.args),u.prepare=a.prepare(u.prepare,d.prepare),u.coerce&&("function"==typeof u.coerce&&(u.coerce={method:u.coerce}),u.coerce.from&&!Array.isArray(u.coerce.from)&&(u.coerce={method:u.coerce.method,from:[].concat(u.coerce.from)})),u.coerce=a.coerce(u.coerce,d.coerce),u.validate=a.validate(u.validate,d.validate);const p=Object.assign({},d.rules);if(u.rules)for(const i in u.rules){const e=u.rules[i];r("object"==typeof e,"Invalid rule definition for",u.type,i);let t=e.method;if(void 0===t&&(t=function(){return this.$_addRule(i)}),t&&(r(!c[i],"Rule conflict in",u.type,i),c[i]=t),r(!p[i],"Rule conflict in",u.type,i),p[i]=e,e.alias){const t=[].concat(e.alias);for(const n of t)c[n]=e.method}e.args&&(e.argsByName=new Map,e.args=e.args.map(t=>("string"==typeof t&&(t={name:t}),r(!e.argsByName.has(t.name),"Duplicated argument name",t.name),o.isSchema(t.assert)&&(t.assert=t.assert.strict().label(t.name)),e.argsByName.set(t.name,t),t)))}u.rules=p;const h=Object.assign({},d.modifiers);if(u.modifiers)for(const i in u.modifiers){r(!c[i],"Rule conflict in",u.type,i);const e=u.modifiers[i];r("function"==typeof e,"Invalid modifier definition for",u.type,i);const t=function(e){return this.rule({[i]:e})};c[i]=t,h[i]=e}if(u.modifiers=h,u.overrides){c._super=n,l.$_super={};for(const e in u.overrides)r(n[e],"Cannot override missing",e),u.overrides[e][o.symbols.parent]=n[e],l.$_super[e]=n[e].bind(l);Object.assign(c,u.overrides)}u.cast=Object.assign({},d.cast,u.cast);const m=Object.assign({},d.manifest,u.manifest);return m.build=a.build(u.manifest&&u.manifest.build,d.manifest&&d.manifest.build),u.manifest=m,u.rebuild=a.rebuild(u.rebuild,d.rebuild),l},a.build=function(e,t){return e&&t?function(n,r){return t(e(n,r),r)}:e||t},a.coerce=function(e,t){return e&&t?{from:e.from&&t.from?[...new Set([...e.from,...t.from])]:null,method(n,r){let i;if((!t.from||t.from.includes(typeof n))&&(i=t.method(n,r),i)){if(i.errors||void 0===i.value)return i;n=i.value}if(!e.from||e.from.includes(typeof n)){const t=e.method(n,r);if(t)return t}return i}}:e||t},a.prepare=function(e,t){return e&&t?function(n,r){const i=e(n,r);if(i){if(i.errors||void 0===i.value)return i;n=i.value}return t(n,r)||i}:e||t},a.rebuild=function(e,t){return e&&t?function(n){t(n),e(n)}:e||t},a.validate=function(e,t){return e&&t?function(n,r){const i=t(n,r);if(i){if(i.errors&&(!Array.isArray(i.errors)||i.errors.length))return i;n=i.value}return e(n,r)||i}:e||t}},5107:(e,t,n)=>{const r=n(375),i=n(8571),o=n(8652),s=n(8160),a=n(3292),c=n(6354),l=n(8901),u=n(9708),d=n(6133),f=n(3328),p=n(1152);let h;const m={types:{alternatives:n(4946),any:n(8068),array:n(546),boolean:n(4937),date:n(7500),function:n(390),link:n(8785),number:n(3832),object:n(8966),string:n(7417),symbol:n(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){const e={_types:new Set(Object.keys(m.types))};for(const t of e._types)e[t]=function(...e){return r(!e.length||["alternatives","link","object"].includes(t),"The",t,"type does not allow arguments"),m.generate(this,m.types[t],e)};for(const t of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])e[t]=function(...e){return this.any()[t](...e)};Object.assign(e,m.methods);for(const t in m.aliases){const n=m.aliases[t];e[t]=e[n]}return e.x=e.expression,p.setup&&p.setup(e),e}};m.methods={ValidationError:c.ValidationError,version:s.version,cache:o.provider,assert(e,t,...n){m.assert(e,t,!0,n)},attempt:(e,t,...n)=>m.assert(e,t,!1,n),build(e){return r("function"==typeof u.build,"Manifest functionality disabled"),u.build(this,e)},checkPreferences(e){s.checkPreferences(e)},compile(e,t){return a.compile(this,e,t)},defaults(e){r("function"==typeof e,"modifier must be a function");const t=Object.assign({},this);for(const n of t._types){const i=e(t[n]());r(s.isSchema(i),"modifier must return a valid schema object"),t[n]=function(...e){return m.generate(this,i,e)}}return t},expression:(...e)=>new f(...e),extend(...e){s.verifyFlat(e,"extend"),h=h||n(3378),r(e.length,"You need to provide at least one extension"),this.assert(e,h.extensions);const t=Object.assign({},this);t._types=new Set(t._types);for(let n of e){"function"==typeof n&&(n=n(t)),this.assert(n,h.extension);const e=m.expandExtension(n,t);for(const n of e){r(void 0===t[n.type]||t._types.has(n.type),"Cannot override name",n.type);const e=n.base||this.any(),i=l.type(e,n);t._types.add(n.type),t[n.type]=function(...e){return m.generate(this,i,e)}}}return t},isError:c.ValidationError.isError,isExpression:f.isTemplate,isRef:d.isRef,isSchema:s.isSchema,in:(...e)=>d.in(...e),override:s.symbols.override,ref:(...e)=>d.create(...e),types(){const e={};for(const t of this._types)e[t]=this[t]();for(const t in m.aliases)e[t]=this[t]();return e}},m.assert=function(e,t,n,r){const o=r[0]instanceof Error||"string"==typeof r[0]?r[0]:null,a=null!==o?r[1]:r[0],l=t.validate(e,s.preferences({errors:{stack:!0}},a||{}));let u=l.error;if(!u)return l.value;if(o instanceof Error)throw o;const d=n&&"function"==typeof u.annotate?u.annotate():u.message;throw u instanceof c.ValidationError==0&&(u=i(u)),u.message=o?"".concat(o," ").concat(d):d,u},m.generate=function(e,t,n){return r(e,"Must be invoked on a Joi instance."),t.$_root=e,t._definition.args&&n.length?t._definition.args(t,...n):t},m.expandExtension=function(e,t){if("string"==typeof e.type)return[e];const n=[];for(const r of t._types)if(e.type.test(r)){const i=Object.assign({},e);i.type=r,i.base=t[r](),n.push(i)}return n},e.exports=m.root()},6914:(e,t,n)=>{const r=n(375),i=n(8571),o=n(3328);t.compile=function(e,t){if("string"==typeof e)return r(!t,"Cannot set single message string"),new o(e);if(o.isTemplate(e))return r(!t,"Cannot set single message template"),e;r("object"==typeof e&&!Array.isArray(e),"Invalid message options"),t=t?i(t):{};for(let n in e){const i=e[n];if("root"===n||o.isTemplate(i)){t[n]=i;continue}if("string"==typeof i){t[n]=new o(i);continue}r("object"==typeof i&&!Array.isArray(i),"Invalid message for",n);const s=n;for(n in t[s]=t[s]||{},i){const e=i[n];"root"===n||o.isTemplate(e)?t[s][n]=e:(r("string"==typeof e,"Invalid message for",n,"in",s),t[s][n]=new o(e))}}return t},t.decompile=function(e){const t={};for(let n in e){const r=e[n];if("root"===n){t.root=r;continue}if(o.isTemplate(r)){t[n]=r.describe({compact:!0});continue}const i=n;for(n in t[i]={},r){const e=r[n];"root"!==n?t[i][n]=e.describe({compact:!0}):t[i].root=e}}return t},t.merge=function(e,n){if(!e)return t.compile(n);if(!n)return e;if("string"==typeof n)return new o(n);if(o.isTemplate(n))return n;const s=i(e);for(let t in n){const e=n[t];if("root"===t||o.isTemplate(e)){s[t]=e;continue}if("string"==typeof e){s[t]=new o(e);continue}r("object"==typeof e&&!Array.isArray(e),"Invalid message for",t);const i=t;for(t in s[i]=s[i]||{},e){const n=e[t];"root"===t||o.isTemplate(n)?s[i][t]=n:(r("string"==typeof n,"Invalid message for",t,"in",i),s[i][t]=new o(n))}}return s}},2294:(e,t,n)=>{const r=n(375),i=n(8160),o=n(6133),s={};t.Ids=s.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){const e=new s.Ids;return e._byId=new Map(this._byId),e._byKey=new Map(this._byKey),e._schemaChain=this._schemaChain,e}concat(e){e._schemaChain&&(this._schemaChain=!0);for(const[t,n]of e._byId.entries())r(!this._byKey.has(t),"Schema id conflicts with existing key:",t),this._byId.set(t,n);for(const[t,n]of e._byKey.entries())r(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,n)}fork(e,t,n){const o=this._collect(e);o.push({schema:n});const a=o.shift();let c={id:a.id,schema:t(a.schema)};r(i.isSchema(c.schema),"adjuster function failed to return a joi schema type");for(const r of o)c={id:r.id,schema:s.fork(r.schema,c.id,c.schema)};return c.schema}labels(e,t=[]){const n=e[0],r=this._get(n);if(!r)return[...t,...e].join(".");const i=e.slice(1);return t=[...t,r.schema._flags.label||n],i.length?r.schema._ids.labels(i,t):t.join(".")}reach(e,t=[]){const n=e[0],i=this._get(n);r(i,"Schema does not contain path",[...t,...e].join("."));const o=e.slice(1);return o.length?i.schema._ids.reach(o,[...t,n]):i.schema}register(e,{key:t}={}){if(!e||!i.isSchema(e))return;(e.$_property("schemaChain")||e._ids._schemaChain)&&(this._schemaChain=!0);const n=e._flags.id;if(n){const t=this._byId.get(n);r(!t||t.schema===e,"Cannot add different schemas with the same id:",n),r(!this._byKey.has(n),"Schema id conflicts with existing key:",n),this._byId.set(n,{schema:e,id:n})}t&&(r(!this._byKey.has(t),"Schema already contains key:",t),r(!this._byId.has(t),"Schema key conflicts with existing id:",t),this._byKey.set(t,{schema:e,id:t}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(e,t=[],n=[]){const i=e[0],o=this._get(i);r(o,"Schema does not contain path",[...t,...e].join(".")),n=[o,...n];const s=e.slice(1);return s.length?o.schema._ids._collect(s,[...t,i],n):n}_get(e){return this._byId.get(e)||this._byKey.get(e)}},s.fork=function(e,n,r){const i=t.schema(e,{each:(e,{key:t})=>{if(n===(e._flags.id||t))return r},ref:!1});return i?i.$_mutateRebuild():e},t.schema=function(e,t){let n;for(const r in e._flags){if("_"===r[0])continue;const i=s.scan(e._flags[r],{source:"flags",name:r},t);void 0!==i&&(n=n||e.clone(),n._flags[r]=i)}for(let r=0;r<e._rules.length;++r){const i=e._rules[r],o=s.scan(i.args,{source:"rules",name:i.name},t);if(void 0!==o){n=n||e.clone();const t=Object.assign({},i);t.args=o,n._rules[r]=t,n._singleRules.get(i.name)===i&&n._singleRules.set(i.name,t)}}for(const r in e.$_terms){if("_"===r[0])continue;const i=s.scan(e.$_terms[r],{source:"terms",name:r},t);void 0!==i&&(n=n||e.clone(),n.$_terms[r]=i)}return n},s.scan=function(e,t,n,r,a){const c=r||[];if(null===e||"object"!=typeof e)return;let l;if(Array.isArray(e)){for(let r=0;r<e.length;++r){const i="terms"===t.source&&"keys"===t.name&&e[r].key,o=s.scan(e[r],t,n,[r,...c],i);void 0!==o&&(l=l||e.slice(),l[r]=o)}return l}if(!1!==n.schema&&i.isSchema(e)||!1!==n.ref&&o.isRef(e)){const r=n.each(e,f(d({},t),{path:c,key:a}));return r===e?void 0:r}for(const i in e){if("_"===i[0])continue;const r=s.scan(e[i],t,n,[i,...c],a);void 0!==r&&(l=l||Object.assign({},e),l[i]=r)}return l}},6133:(e,t,n)=>{const r=n(375),i=n(8571),o=n(9621),s=n(8160);let a;const c={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};t.create=function(e,t={}){r("string"==typeof e,"Invalid reference key:",e),s.assertOptions(t,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),r(!t.prefix||"object"==typeof t.prefix,"options.prefix must be of type object");const n=Object.assign({},c.defaults,t);delete n.prefix;const i=n.separator,o=c.context(e,i,t.prefix);if(n.type=o.type,e=o.key,"value"===n.type)if(o.root&&(r(!i||e[0]!==i,"Cannot specify relative path with root prefix"),n.ancestor="root",e||(e=null)),i&&i===e)e=null,n.ancestor=0;else if(void 0!==n.ancestor)r(!i||!e||e[0]!==i,"Cannot combine prefix with ancestor option");else{const[t,r]=c.ancestor(e,i);r&&""===(e=e.slice(r))&&(e=null),n.ancestor=t}return n.path=i?null===e?[]:e.split(i):[e],new c.Ref(n)},t.in=function(e,n={}){return t.create(e,f(d({},n),{in:!0}))},t.isRef=function(e){return!!e&&!!e[s.symbols.ref]},c.Ref=class{constructor(e){r("object"==typeof e,"Invalid reference construction"),s.assertOptions(e,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),r([!1,void 0].includes(e.separator)||"string"==typeof e.separator&&1===e.separator.length,"Invalid separator"),r(!e.adjust||"function"==typeof e.adjust,"options.adjust must be a function"),r(!e.map||Array.isArray(e.map),"options.map must be an array"),r(!e.map||!e.adjust,"Cannot set both map and adjust options"),Object.assign(this,c.defaults,e),r("value"===this.type||void 0===this.ancestor,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(e,t,n,i,o={}){return r(!this.in||o.in,"Invalid in() reference usage"),"global"===this.type?this._resolve(n.context,t,o):"local"===this.type?this._resolve(i,t,o):this.ancestor?"root"===this.ancestor?this._resolve(t.ancestors[t.ancestors.length-1],t,o):(r(this.ancestor<=t.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(t.ancestors[this.ancestor-1],t,o)):this._resolve(e,t,o)}_resolve(e,t,n){let r;if("value"===this.type&&t.mainstay.shadow&&!1!==n.shadow&&(r=t.mainstay.shadow.get(this.absolute(t))),void 0===r&&(r=o(e,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(r=this.adjust(r)),this.map){const e=this.map.get(r);void 0!==e&&(r=e)}return t.mainstay&&t.mainstay.tracer.resolve(t,this,r),r}toString(){return this.display}absolute(e){return[...e.path.slice(0,-this.ancestor),...this.path]}clone(){return new c.Ref(this)}describe(){const e={path:this.path};"value"!==this.type&&(e.type=this.type),"."!==this.separator&&(e.separator=this.separator),"value"===this.type&&1!==this.ancestor&&(e.ancestor=this.ancestor),this.map&&(e.map=[...this.map]);for(const t of["adjust","iterables","render"])null!==this[t]&&void 0!==this[t]&&(e[t]=this[t]);return!1!==this.in&&(e.in=!0),{ref:e}}updateDisplay(){const e=null!==this.key?this.key:"";if("value"!==this.type)return void(this.display="ref:".concat(this.type,":").concat(e));if(!this.separator)return void(this.display="ref:".concat(e));if(!this.ancestor)return void(this.display="ref:".concat(this.separator).concat(e));if("root"===this.ancestor)return void(this.display="ref:root:".concat(e));if(1===this.ancestor)return void(this.display="ref:".concat(e||".."));const t=new Array(this.ancestor+1).fill(this.separator).join("");this.display="ref:".concat(t).concat(e||"")}},c.Ref.prototype[s.symbols.ref]=!0,t.build=function(e){return"value"===(e=Object.assign({},c.defaults,e)).type&&void 0===e.ancestor&&(e.ancestor=1),new c.Ref(e)},c.context=function(e,t,n={}){if(e=e.trim(),n){const r=void 0===n.global?"$":n.global;if(r!==t&&e.startsWith(r))return{key:e.slice(r.length),type:"global"};const i=void 0===n.local?"#":n.local;if(i!==t&&e.startsWith(i))return{key:e.slice(i.length),type:"local"};const o=void 0===n.root?"/":n.root;if(o!==t&&e.startsWith(o))return{key:e.slice(o.length),type:"value",root:!0}}return{key:e,type:"value"}},c.ancestor=function(e,t){if(!t)return[1,0];if(e[0]!==t)return[1,0];if(e[1]!==t)return[0,1];let n=2;for(;e[n]===t;)++n;return[n-1,n]},t.toSibling=0,t.toParent=1,t.Manager=class{constructor(){this.refs=[]}register(e,r){if(e)if(r=void 0===r?t.toParent:r,Array.isArray(e))for(const t of e)this.register(t,r);else if(s.isSchema(e))for(const t of e._refs.refs)t.ancestor-r>=0&&this.refs.push({ancestor:t.ancestor-r,root:t.root});else t.isRef(e)&&"value"===e.type&&e.ancestor-r>=0&&this.refs.push({ancestor:e.ancestor-r,root:e.root}),a=a||n(3328),a.isTemplate(e)&&this.register(e.refs(),r)}get length(){return this.refs.length}clone(){const e=new t.Manager;return e.refs=i(this.refs),e}reset(){this.refs=[]}roots(){return this.refs.filter(e=>!e.ancestor).map(e=>e.root)}}},3378:(e,t,n)=>{const r=n(5107),i={};i.wrap=r.string().min(1).max(2).allow(!1),t.preferences=r.object({allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),context:r.object(),convert:r.boolean(),dateFormat:r.valid("date","iso","string","time","utc"),debug:r.boolean(),errors:{escapeHtml:r.boolean(),label:r.valid("path","key",!1),language:[r.string(),r.object().ref()],render:r.boolean(),stack:r.boolean(),wrap:{label:i.wrap,array:i.wrap,string:i.wrap}},externals:r.boolean(),messages:r.object(),noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:r.valid("required","optional","forbidden"),skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()}).strict(),i.nameRx=/^[a-zA-Z0-9]\w*$/,i.rule=r.object({alias:r.array().items(r.string().pattern(i.nameRx)).single(),args:r.array().items(r.string(),r.object({name:r.string().pattern(i.nameRx).required(),ref:r.boolean(),assert:r.alternatives([r.function(),r.object().schema()]).conditional("ref",{is:!0,then:r.required()}),normalize:r.function(),message:r.string().when("assert",{is:r.function(),then:r.required()})})),convert:r.boolean(),manifest:r.boolean(),method:r.function().allow(!1),multi:r.boolean(),validate:r.function()}),t.extension=r.object({type:r.alternatives([r.string(),r.object().regex()]).required(),args:r.function(),cast:r.object().pattern(i.nameRx,r.object({from:r.function().maxArity(1).required(),to:r.function().minArity(1).maxArity(2).required()})),base:r.object().schema().when("type",{is:r.object().regex(),then:r.forbidden()}),coerce:[r.function().maxArity(3),r.object({method:r.function().maxArity(3).required(),from:r.array().items(r.string()).single()})],flags:r.object().pattern(i.nameRx,r.object({setter:r.string(),default:r.any()})),manifest:{build:r.function().arity(2)},messages:[r.object(),r.string()],modifiers:r.object().pattern(i.nameRx,r.function().minArity(1).maxArity(2)),overrides:r.object().pattern(i.nameRx,r.function()),prepare:r.function().maxArity(3),rebuild:r.function().arity(1),rules:r.object().pattern(i.nameRx,i.rule),terms:r.object().pattern(i.nameRx,r.object({init:r.array().allow(null).required(),manifest:r.object().pattern(/.+/,[r.valid("schema","single"),r.object({mapped:r.object({from:r.string().required(),to:r.string().required()}).required()})])})),validate:r.function().maxArity(3)}).strict(),t.extensions=r.array().items(r.object(),r.function().arity(1)).strict(),i.desc={buffer:r.object({buffer:r.string()}),func:r.object({function:r.function().required(),options:{literal:!0}}),override:r.object({override:!0}),ref:r.object({ref:r.object({type:r.valid("value","global","local"),path:r.array().required(),separator:r.string().length(1).allow(!1),ancestor:r.number().min(0).integer().allow("root"),map:r.array().items(r.array().length(2)).min(1),adjust:r.function(),iterables:r.boolean(),in:r.boolean(),render:r.boolean()}).required()}),regex:r.object({regex:r.string().min(3)}),special:r.object({special:r.valid("deep").required()}),template:r.object({template:r.string().required(),options:r.object()}),value:r.object({value:r.alternatives([r.object(),r.array()]).required()})},i.desc.entity=r.alternatives([r.array().items(r.link("...")),r.boolean(),r.function(),r.number(),r.string(),i.desc.buffer,i.desc.func,i.desc.ref,i.desc.regex,i.desc.special,i.desc.template,i.desc.value,r.link("/")]),i.desc.values=r.array().items(null,r.boolean(),r.function(),r.number().allow(1/0,-1/0),r.string().allow(""),r.symbol(),i.desc.buffer,i.desc.func,i.desc.override,i.desc.ref,i.desc.regex,i.desc.template,i.desc.value),i.desc.messages=r.object().pattern(/.+/,[r.string(),i.desc.template,r.object().pattern(/.+/,[r.string(),i.desc.template])]),t.description=r.object({type:r.string().required(),flags:r.object({cast:r.string(),default:r.any(),description:r.string(),empty:r.link("/"),failover:i.desc.entity,id:r.string(),label:r.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:r.boolean(),unit:r.string()}).unknown(),preferences:{allowUnknown:r.boolean(),abortEarly:r.boolean(),artifacts:r.boolean(),cache:r.boolean(),convert:r.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:r.boolean(),label:["path","key"],language:[r.string(),i.desc.ref],wrap:{label:i.wrap,array:i.wrap}},externals:r.boolean(),messages:i.desc.messages,noDefaults:r.boolean(),nonEnumerables:r.boolean(),presence:["required","optional","forbidden"],skipFunctions:r.boolean(),stripUnknown:r.object({arrays:r.boolean(),objects:r.boolean()}).or("arrays","objects").allow(!0,!1),warnings:r.boolean()},allow:i.desc.values,invalid:i.desc.values,rules:r.array().min(1).items({name:r.string().required(),args:r.object().min(1),keep:r.boolean(),message:[r.string(),i.desc.messages],warn:r.boolean()}),keys:r.object().pattern(/.*/,r.link("/")),link:i.desc.ref}).pattern(/^[a-z]\w*$/,r.any())},493:(e,t,n)=>{const r=n(8571),i=n(9621),o=n(8160),s={value:Symbol("value")};e.exports=s.State=class{constructor(e,t,n){this.path=e,this.ancestors=t,this.mainstay=n.mainstay,this.schemas=n.schemas,this.debug=null}localize(e,t=null,n=null){const r=new s.State(e,t,this);return n&&r.schemas&&(r.schemas=[s.schemas(n),...r.schemas]),r}nest(e,t){const n=new s.State(this.path,this.ancestors,this);return n.schemas=n.schemas&&[s.schemas(e),...n.schemas],n.debug=t,n}shadow(e,t){this.mainstay.shadow=this.mainstay.shadow||new s.Shadow,this.mainstay.shadow.set(this.path,e,t)}snapshot(){this.mainstay.shadow&&(this._snapshot=r(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},s.schemas=function(e){return o.isSchema(e)?{schema:e}:e},s.Shadow=class{constructor(){this._values=null}set(e,t,n){if(!e.length||"strip"===n&&"number"==typeof e[e.length-1])return;this._values=this._values||new Map;let r=this._values;for(let i=0;i<e.length;++i){const t=e[i];let n=r.get(t);n||(n=new Map,r.set(t,n)),r=n}r[s.value]=t}get(e){const t=this.node(e);if(t)return t[s.value]}node(e){if(this._values)return i(this._values,e,{iterables:!0})}override(e,t){if(!this._values)return;const n=e.slice(0,-1),r=e[e.length-1],o=i(this._values,n,{iterables:!0});t?o.set(r,t):o&&o.delete(r)}}},3328:(e,t,n)=>{const r=n(375),i=n(8571),o=n(5277),s=n(1447),a=n(8160),c=n(6354),l=n(6133),u={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};e.exports=u.Template=class{constructor(e,t){if(r("string"==typeof e,"Template source must be a string"),r(!e.includes("\0")&&!e.includes(""),"Template source cannot contain reserved control characters"),this.source=e,this.rendered=e,this._template=null,t){const e=t,{functions:n}=e,o=p(e,["functions"]);this._settings=Object.keys(o).length?i(o):void 0,this._functions=n,this._functions&&(r(Object.keys(this._functions).every(e=>"string"==typeof e),"Functions keys must be strings"),r(Object.values(this._functions).every(e=>"function"==typeof e),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;const e=u.encode(this.source),t=u.split(e);let n=!1;const r=[],i=t.shift();i&&r.push(i);for(const o of t){const e="{"!==o[0],t=e?"}":"}}",i=o.indexOf(t);if(-1===i||"{"===o[1]){r.push("{".concat(u.decode(o)));continue}let s=o.slice(e?0:1,i);const a=":"===s[0];a&&(s=s.slice(1));const c=this._ref(u.decode(s),{raw:e,wrapped:a});r.push(c),"string"!=typeof c&&(n=!0);const l=o.slice(i+t.length);l&&r.push(u.decode(l))}n?this._template=r:this.rendered=r.join("")}static date(e,t){return u.dateFormat[t.dateFormat].call(e)}describe(e={}){if(!this._settings&&e.compact)return this.source;const t={template:this.source};return this._settings&&(t.options=this._settings),this._functions&&(t.functions=this._functions),t}static build(e){return new u.Template(e.template,e.options||e.functions?f(d({},e.options),{functions:e.functions}):void 0)}isDynamic(){return!!this._template}static isTemplate(e){return!!e&&!!e[a.symbols.template]}refs(){if(!this._template)return;const e=[];for(const t of this._template)"string"!=typeof t&&e.push(...t.refs);return e}resolve(e,t,n,r){return this._template&&1===this._template.length?this._part(this._template[0],e,t,n,r,{}):this.render(e,t,n,r)}_part(e,...t){return e.ref?e.ref.resolve(...t):e.formula.evaluate(t)}render(e,t,n,r,i={}){if(!this.isDynamic())return this.rendered;const s=[];for(const a of this._template)if("string"==typeof a)s.push(a);else{const c=this._part(a,e,t,n,r,i),l=u.stringify(c,e,t,n,r,i);if(void 0!==l){const e=a.raw||!1===(i.errors&&i.errors.escapeHtml)?l:o(l);s.push(u.wrap(e,a.wrapped&&n.errors.wrap.label))}}return s.join("")}_ref(e,{raw:t,wrapped:n}){const r=[],i=e=>{const t=l.create(e,this._settings);return r.push(t),e=>{const n=t.resolve(...e);return void 0!==n?n:null}};try{const t=this._functions?d(d({},u.functions),this._functions):u.functions;var o=new s.Parser(e,{reference:i,functions:t,constants:u.constants})}catch(a){throw a.message='Invalid template variable "'.concat(e,'" fails due to: ').concat(a.message),a}if(o.single){if("reference"===o.single.type){const e=r[0];return{ref:e,raw:t,refs:r,wrapped:n||"local"===e.type&&"label"===e.key}}return u.stringify(o.single.value)}return{formula:o,raw:t,refs:r}}toString(){return this.source}},u.Template.prototype[a.symbols.template]=!0,u.Template.prototype.isImmutable=!0,u.encode=function(e){return e.replace(/\\(\{+)/g,(e,t)=>u.opens.slice(0,t.length)).replace(/\\(\}+)/g,(e,t)=>u.closes.slice(0,t.length))},u.decode=function(e){return e.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},u.split=function(e){const t=[];let n="";for(let r=0;r<e.length;++r){const i=e[r];if("{"===i){let i="";for(;r+1<e.length&&"{"===e[r+1];)i+="{",++r;t.push(n),n=i}else n+=i}return t.push(n),t},u.wrap=function(e,t){return t?1===t.length?"".concat(t).concat(e).concat(t):"".concat(t[0]).concat(e).concat(t[1]):e},u.stringify=function(e,t,n,r,i,o={}){const s=typeof e,a=r&&r.errors&&r.errors.wrap||{};let c=!1;if(l.isRef(e)&&e.render&&(c=e.in,e=e.resolve(t,n,r,i,d({in:e.in},o))),null===e)return"null";if("string"===s)return u.wrap(e,o.arrayItems&&a.string);if("number"===s||"function"===s||"symbol"===s)return e.toString();if("object"!==s)return JSON.stringify(e);if(e instanceof Date)return u.Template.date(e,r);if(e instanceof Map){const t=[];for(const[n,r]of e.entries())t.push("".concat(n.toString()," -> ").concat(r.toString()));e=t}if(!Array.isArray(e))return e.toString();const f=[];for(const l of e)f.push(u.stringify(l,t,n,r,i,d({arrayItems:!0},o)));return u.wrap(f.join(", "),!c&&a.array)},u.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},u.functions={if:(e,t,n)=>e?t:n,length:e=>"string"==typeof e?e.length:e&&"object"==typeof e?Array.isArray(e)?e.length:Object.keys(e).length:null,msg(e){const[t,n,r,i,o]=this,s=o.messages;if(!s)return"";const a=c.template(t,s[0],e,n,r)||c.template(t,s[1],e,n,r);return a?a.render(t,n,r,i,o):""},number:e=>"number"==typeof e?e:"string"==typeof e?parseFloat(e):"boolean"==typeof e?e?1:0:e instanceof Date?e.getTime():null}},4946:(e,t,n)=>{const r=n(375),i=n(1687),o=n(8068),s=n(8160),a=n(3292),c=n(6354),l=n(6133),u={};e.exports=o.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:l.toSibling}},args:(e,...t)=>1===t.length&&Array.isArray(t[0])?e.try(...t[0]):e.try(...t),validate(e,t){const{schema:n,error:r,state:o,prefs:s}=t;if(n._flags.match){const t=[],a=[];for(let r=0;r<n.$_terms.matches.length;++r){const i=n.$_terms.matches[r],c=o.nest(i.schema,"match.".concat(r));c.snapshot();const l=i.schema.$_validate(e,c,s);l.errors?(a.push(l.errors),c.restore()):(t.push(l.value),c.commit())}if(0===t.length)return{errors:r("alternatives.any",{details:a.map(e=>c.details(e,{override:!1}))})};if("one"===n._flags.match)return 1===t.length?{value:t[0]}:{errors:r("alternatives.one")};if(t.length!==n.$_terms.matches.length)return{errors:r("alternatives.all",{details:a.map(e=>c.details(e,{override:!1}))})};const l=e=>e.$_terms.matches.some(e=>"object"===e.schema.type||"alternatives"===e.schema.type&&l(e.schema));return l(n)?{value:t.reduce((e,t)=>i(e,t,{mergeArrays:!1}))}:{value:t[t.length-1]}}const a=[];for(let i=0;i<n.$_terms.matches.length;++i){const t=n.$_terms.matches[i];if(t.schema){const n=o.nest(t.schema,"match.".concat(i));n.snapshot();const r=t.schema.$_validate(e,n,s);if(!r.errors)return n.commit(),r;n.restore(),a.push({schema:t.schema,reports:r.errors});continue}const r=t.ref?t.ref.resolve(e,o,s):e,c=t.is?[t]:t.switch;for(let n=0;n<c.length;++n){const a=c[n],{is:l,then:u,otherwise:d}=a,f="match.".concat(i).concat(t.switch?"."+n:"");if(l.$_match(r,o.nest(l,"".concat(f,".is")),s)){if(u)return u.$_validate(e,o.nest(u,"".concat(f,".then")),s)}else if(d)return d.$_validate(e,o.nest(d,"".concat(f,".otherwise")),s)}}return u.errors(a,t)},rules:{conditional:{method(e,t){r(!this._flags._endedSwitch,"Unreachable condition"),r(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),r(void 0===t.break,"Cannot use break option with alternatives conditional");const n=this.clone(),i=a.when(n,e,t),o=i.is?[i]:i.switch;for(const r of o)if(r.then&&r.otherwise){n.$_setFlag("_endedSwitch",!0,{clone:!1});break}return n.$_terms.matches.push(i),n.$_mutateRebuild()}},match:{method(e){if(r(["any","one","all"].includes(e),"Invalid alternatives match mode",e),"any"!==e)for(const t of this.$_terms.matches)r(t.schema,"Cannot combine match mode",e,"with conditional rules");return this.$_setFlag("match",e)}},try:{method(...e){r(e.length,"Missing alternative schemas"),s.verifyFlat(e,"try"),r(!this._flags._endedSwitch,"Unreachable condition");const t=this.clone();for(const n of e)t.$_terms.matches.push({schema:t.$_compile(n)});return t.$_mutateRebuild()}}},overrides:{label(e){return this.$_parent("label",e).$_modify({each:(t,n)=>"is"!==n.path[0]&&"string"!=typeof t._flags.label?t.label(e):void 0,ref:!1})}},rebuild(e){e.$_modify({each:t=>{s.isSchema(t)&&"array"===t.type&&e.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(e,t){if(t.matches)for(const n of t.matches){const{schema:t,ref:r,is:i,not:o,then:s,otherwise:a}=n;e=t?e.try(t):r?e.conditional(r,{is:i,then:s,not:o,otherwise:a,switch:n.switch}):e.conditional(i,{then:s,otherwise:a})}return e}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),u.errors=function(e,{error:t,state:n}){if(!e.length)return{errors:t("alternatives.any")};if(1===e.length)return{errors:e[0].reports};const r=new Set,i=[];for(const{reports:o,schema:s}of e){if(o.length>1)return u.unmatched(e,t);const a=o[0];if(a instanceof c.Report==0)return u.unmatched(e,t);if(a.state.path.length!==n.path.length){i.push({type:s.type,report:a});continue}if("any.only"===a.code){for(const e of a.local.valids)r.add(e);continue}const[l,d]=a.code.split(".");"base"===d?r.add(l):i.push({type:s.type,report:a})}return i.length?1===i.length?{errors:i[0].report}:u.unmatched(e,t):{errors:t("alternatives.types",{types:[...r]})}},u.unmatched=function(e,t){const n=[];for(const r of e)n.push(...r.reports);return{errors:t("alternatives.match",c.details(n,{override:!1}))}}},8068:(e,t,n)=>{const r=n(375),i=n(7629),o=n(8160),s=n(6914);e.exports=i.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(e,t){return r("function"==typeof e,"Method must be a function"),r(void 0===t||t&&"string"==typeof t,"Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:e,description:t}})},validate(e,t,{method:n}){try{return n(e,t)}catch(r){return t.error("any.custom",{error:r})}},args:["method","description"],multi:!0},messages:{method(e){return this.prefs({messages:e})}},shared:{method(e){r(o.isSchema(e)&&e._flags.id,"Schema must be a schema with an id");const t=this.clone();return t.$_terms.shared=t.$_terms.shared||[],t.$_terms.shared.push(e),t.$_mutateRegister(e),t}},warning:{method(e,t){return r(e&&"string"==typeof e,"Invalid warning code"),this.$_addRule({name:"warning",args:{code:e,local:t},warn:!0})},validate:(e,t,{code:n,local:r})=>t.error(n,r),args:["code","local"],multi:!0}},modifiers:{keep(e,t=!0){e.keep=t},message(e,t){e.message=s.compile(t)},warn(e,t=!0){e.warn=t}},manifest:{build(e,t){for(const n in t){const r=t[n];if(["examples","externals","metas","notes","tags"].includes(n))for(const t of r)e=e[n.slice(0,-1)](t);else if("alterations"!==n)if("whens"!==n){if("shared"===n)for(const t of r)e=e.shared(t)}else for(const t of r){const{ref:n,is:r,not:i,then:o,otherwise:s,concat:a}=t;e=a?e.concat(a):n?e.when(n,{is:r,not:i,then:o,otherwise:s,switch:t.switch,break:t.break}):e.when(r,{then:o,otherwise:s,break:t.break})}else{const t={};for(const{target:e,adjuster:n}of r)t[e]=n;e=e.alter(t)}}return e}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(e,t,n)=>{const r=n(375),i=n(9474),o=n(9621),s=n(8068),a=n(8160),c=n(3292),l={};e.exports=s.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(e,{schema:t,state:n,prefs:r}){if(!Array.isArray(e))return;const i=t.$_getRule("sort");return i?l.sort(t,e,i.args.options,n,r):void 0}},validate(e,{schema:t,error:n}){if(!Array.isArray(e)){if(t._flags.single){const t=[e];return t[a.symbols.arraySingle]=!0,{value:t}}return{errors:n("array.base")}}if(t.$_getRule("items")||t.$_terms.externals)return{value:e.slice()}},rules:{has:{method(e){e=this.$_compile(e,{appendPath:!0});const t=this.$_addRule({name:"has",args:{schema:e}});return t.$_mutateRegister(e),t},validate(e,{state:t,prefs:n,error:r},{schema:i}){const o=[e,...t.ancestors];for(let a=0;a<e.length;++a){const r=t.localize([...t.path,a],o,i);if(i.$_match(e[a],r,n))return e}const s=i._flags.label;return s?r("array.hasKnown",{patternLabel:s}):r("array.hasUnknown",null)},multi:!0},items:{method(...e){a.verifyFlat(e,"items");const t=this.$_addRule("items");for(let n=0;n<e.length;++n){const r=a.tryWithPath(()=>this.$_compile(e[n]),n,{append:!0});t.$_terms.items.push(r)}return t.$_mutateRebuild()},validate(e,{schema:t,error:n,state:r,prefs:i,errorsArray:o}){const s=t.$_terms._requireds.slice(),c=t.$_terms.ordered.slice(),u=[...t.$_terms._inclusions,...s],d=!e[a.symbols.arraySingle];delete e[a.symbols.arraySingle];const f=o();let p=e.length;for(let a=0;a<p;++a){const o=e[a];let h=!1,m=!1;const v=d?a:new Number(a),g=[...r.path,v];if(!t._flags.sparse&&void 0===o){if(f.push(n("array.sparse",{key:v,path:g,pos:a,value:void 0},r.localize(g))),i.abortEarly)return f;c.shift();continue}const b=[e,...r.ancestors];for(const e of t.$_terms._exclusions)if(e.$_match(o,r.localize(g,b,e),i,{presence:"ignore"})){if(f.push(n("array.excludes",{pos:a,value:o},r.localize(g))),i.abortEarly)return f;h=!0,c.shift();break}if(h)continue;if(t.$_terms.ordered.length){if(c.length){const s=c.shift(),u=s.$_validate(o,r.localize(g,b,s),i);if(u.errors){if(f.push(...u.errors),i.abortEarly)return f}else if("strip"===s._flags.result)l.fastSplice(e,a),--a,--p;else{if(!t._flags.sparse&&void 0===u.value){if(f.push(n("array.sparse",{key:v,path:g,pos:a,value:void 0},r.localize(g))),i.abortEarly)return f;continue}e[a]=u.value}continue}if(!t.$_terms.items.length){if(f.push(n("array.orderedLength",{pos:a,limit:t.$_terms.ordered.length})),i.abortEarly)return f;break}}const y=[];let w=s.length;for(let c=0;c<w;++c){const u=r.localize(g,b,s[c]);u.snapshot();const d=s[c].$_validate(o,u,i);if(y[c]=d,!d.errors){if(u.commit(),e[a]=d.value,m=!0,l.fastSplice(s,c),--c,--w,!t._flags.sparse&&void 0===d.value&&(f.push(n("array.sparse",{key:v,path:g,pos:a,value:void 0},r.localize(g))),i.abortEarly))return f;break}u.restore()}if(m)continue;const S=i.stripUnknown&&!!i.stripUnknown.arrays||!1;w=u.length;for(const c of u){let u;const d=s.indexOf(c);if(-1!==d)u=y[d];else{const s=r.localize(g,b,c);if(s.snapshot(),u=c.$_validate(o,s,i),!u.errors){s.commit(),"strip"===c._flags.result?(l.fastSplice(e,a),--a,--p):t._flags.sparse||void 0!==u.value?e[a]=u.value:(f.push(n("array.sparse",{key:v,path:g,pos:a,value:void 0},r.localize(g))),h=!0),m=!0;break}s.restore()}if(1===w){if(S){l.fastSplice(e,a),--a,--p,m=!0;break}if(f.push(...u.errors),i.abortEarly)return f;h=!0;break}}if(!h&&(t.$_terms._inclusions.length||t.$_terms._requireds.length)&&!m){if(S){l.fastSplice(e,a),--a,--p;continue}if(f.push(n("array.includes",{pos:a,value:o},r.localize(g))),i.abortEarly)return f}}return s.length&&l.fillMissedErrors(t,f,s,e,r,i),c.length&&(l.fillOrderedErrors(t,f,c,e,r,i),f.length||l.fillDefault(c,e,r,i)),f.length?f:e},priority:!0,manifest:!1},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:n},{name:r,operator:i,args:o})=>a.compare(e.length,n,i)?e:t.error("array."+r,{limit:o.limit,value:e}),args:[{name:"limit",ref:!0,assert:a.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},ordered:{method(...e){a.verifyFlat(e,"ordered");const t=this.$_addRule("items");for(let n=0;n<e.length;++n){const r=a.tryWithPath(()=>this.$_compile(e[n]),n,{append:!0});l.validateSingle(r,t),t.$_mutateRegister(r),t.$_terms.ordered.push(r)}return t.$_mutateRebuild()}},single:{method(e){const t=void 0===e||!!e;return r(!t||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",t)}},sort:{method(e={}){a.assertOptions(e,["by","order"]);const t={order:e.order||"ascending"};return e.by&&(t.by=c.ref(e.by,{ancestor:0}),r(!t.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:t}})},validate(e,{error:t,state:n,prefs:r,schema:i},{options:o}){const{value:s,errors:a}=l.sort(i,e,o,n,r);if(a)return a;for(let c=0;c<e.length;++c)if(e[c]!==s[c])return t("array.sort",{order:o.order,by:o.by?o.by.key:"value"});return e},convert:!0},sparse:{method(e){const t=void 0===e||!!e;return this._flags.sparse===t?this:(t?this.clone():this.$_addRule("items")).$_setFlag("sparse",t,{clone:!1})}},unique:{method(e,t={}){r(!e||"function"==typeof e||"string"==typeof e,"comparator must be a function or a string"),a.assertOptions(t,["ignoreUndefined","separator"]);const n={name:"unique",args:{options:t,comparator:e}};if(e)if("string"==typeof e){const r=a.default(t.separator,".");n.path=r?e.split(r):[e]}else n.comparator=e;return this.$_addRule(n)},validate(e,{state:t,error:n,schema:s},{comparator:a,options:c},{comparator:l,path:u}){const d={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},f=l||i,p=c.ignoreUndefined;for(let i=0;i<e.length;++i){const s=u?o(e[i],u):e[i],c=l?d.custom:d[typeof s];if(r(c,"Failed to find unique map container for type",typeof s),c instanceof Map){const r=c.entries();let o;for(;!(o=r.next()).done;)if(f(o.value[0],s)){const r=t.localize([...t.path,i],[e,...t.ancestors]),s={pos:i,value:e[i],dupePos:o.value[1],dupeValue:e[o.value[1]]};return u&&(s.path=a),n("array.unique",s,r)}c.set(s,i)}else{if((!p||void 0!==s)&&void 0!==c[s]){const r={pos:i,value:e[i],dupePos:c[s],dupeValue:e[c[s]]};return u&&(r.path=a),n("array.unique",r,t.localize([...t.path,i],[e,...t.ancestors]))}c[s]=i}}return e},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(e,t)=>new Set(e)}},rebuild(e){e.$_terms._inclusions=[],e.$_terms._exclusions=[],e.$_terms._requireds=[];for(const t of e.$_terms.items)l.validateSingle(t,e),"required"===t._flags.presence?e.$_terms._requireds.push(t):"forbidden"===t._flags.presence?e.$_terms._exclusions.push(t):e.$_terms._inclusions.push(t);for(const t of e.$_terms.ordered)l.validateSingle(t,e)},manifest:{build:(e,t)=>(t.items&&(e=e.items(...t.items)),t.ordered&&(e=e.ordered(...t.ordered)),e)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),l.fillMissedErrors=function(e,t,n,r,i,o){const s=[];let a=0;for(const c of n){const e=c._flags.label;e?s.push(e):++a}s.length?a?t.push(e.$_createError("array.includesRequiredBoth",r,{knownMisses:s,unknownMisses:a},i,o)):t.push(e.$_createError("array.includesRequiredKnowns",r,{knownMisses:s},i,o)):t.push(e.$_createError("array.includesRequiredUnknowns",r,{unknownMisses:a},i,o))},l.fillOrderedErrors=function(e,t,n,r,i,o){const s=[];for(const a of n)"required"===a._flags.presence&&s.push(a);s.length&&l.fillMissedErrors(e,t,s,r,i,o)},l.fillDefault=function(e,t,n,r){const i=[];let o=!0;for(let s=e.length-1;s>=0;--s){const a=e[s],c=[t,...n.ancestors],l=a.$_validate(void 0,n.localize(n.path,c,a),r).value;if(o){if(void 0===l)continue;o=!1}i.unshift(l)}i.length&&t.push(...i)},l.fastSplice=function(e,t){let n=t;for(;n<e.length;)e[n++]=e[n];--e.length},l.validateSingle=function(e,t){("array"===e.type||e._flags._arrayItems)&&(r(!t._flags.single,"Cannot specify array item with single rule enabled"),t.$_setFlag("_arrayItems",!0,{clone:!1}))},l.sort=function(e,t,n,r,i){const o="ascending"===n.order?1:-1,s=-1*o,a=o,c=(c,u)=>{let d=l.compare(c,u,s,a);if(null!==d||(n.by&&(c=n.by.resolve(c,r,i),u=n.by.resolve(u,r,i)),d=l.compare(c,u,s,a),null!==d))return d;const f=typeof c;if(f!==typeof u)throw e.$_createError("array.sort.mismatching",t,null,r,i);if("number"!==f&&"string"!==f)throw e.$_createError("array.sort.unsupported",t,{type:f},r,i);return"number"===f?(c-u)*o:c<u?s:a};try{return{value:t.slice().sort(c)}}catch(u){return{errors:u}}},l.compare=function(e,t,n,r){return e===t?0:void 0===e?1:void 0===t?-1:null===e?r:null===t?n:null}},4937:(e,t,n)=>{const r=n(375),i=n(8068),o=n(8160),s=n(2036),a={isBool:function(e){return"boolean"==typeof e}};e.exports=i.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(e,{schema:t}){if("boolean"!=typeof e){if("string"==typeof e){const n=t._flags.sensitive?e:e.toLowerCase();e="true"===n||"false"!==n&&e}return"boolean"!=typeof e&&(e=t.$_terms.truthy&&t.$_terms.truthy.has(e,null,null,!t._flags.sensitive)||(!t.$_terms.falsy||!t.$_terms.falsy.has(e,null,null,!t._flags.sensitive))&&e),{value:e}}},validate(e,{error:t}){if("boolean"!=typeof e)return{value:e,errors:t("boolean.base")}},rules:{truthy:{method(...e){o.verifyFlat(e,"truthy");const t=this.clone();t.$_terms.truthy=t.$_terms.truthy||new s;for(let n=0;n<e.length;++n){const i=e[n];r(void 0!==i,"Cannot call truthy with undefined"),t.$_terms.truthy.add(i)}return t}},falsy:{method(...e){o.verifyFlat(e,"falsy");const t=this.clone();t.$_terms.falsy=t.$_terms.falsy||new s;for(let n=0;n<e.length;++n){const i=e[n];r(void 0!==i,"Cannot call falsy with undefined"),t.$_terms.falsy.add(i)}return t}},sensitive:{method(e=!0){return this.$_setFlag("sensitive",e)}}},cast:{number:{from:a.isBool,to:(e,t)=>e?1:0},string:{from:a.isBool,to:(e,t)=>e?"true":"false"}},manifest:{build:(e,t)=>(t.truthy&&(e=e.truthy(...t.truthy)),t.falsy&&(e=e.falsy(...t.falsy)),e)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(e,t,n)=>{const r=n(375),i=n(8068),o=n(8160),s=n(3328),a={isDate:function(e){return e instanceof Date}};e.exports=i.extend({type:"date",coerce:{from:["number","string"],method:(e,{schema:t})=>({value:a.parse(e,t._flags.format)||e})},validate(e,{schema:t,error:n,prefs:r}){if(e instanceof Date&&!isNaN(e.getTime()))return;const i=t._flags.format;return r.convert&&i&&"string"==typeof e?{value:e,errors:n("date.format",{format:i})}:{value:e,errors:n("date.base")}},rules:{compare:{method:!1,validate(e,t,{date:n},{name:r,operator:i,args:s}){const a="now"===n?Date.now():n.getTime();return o.compare(e.getTime(),a,i)?e:t.error("date."+r,{limit:s.date,value:e})},args:[{name:"date",ref:!0,normalize:e=>"now"===e?e:a.parse(e),assert:e=>null!==e,message:"must have a valid date format"}]},format:{method(e){return r(["iso","javascript","unix"].includes(e),"Unknown date format",e),this.$_setFlag("format",e)}},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{date:e},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{date:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{date:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{date:e},operator:">="})}},timestamp:{method(e="javascript"){return r(["javascript","unix"].includes(e),'"type" must be one of "javascript, unix"'),this.format(e)}}},cast:{number:{from:a.isDate,to:(e,t)=>e.getTime()},string:{from:a.isDate,to:(e,{prefs:t})=>s.date(e,t)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),a.parse=function(e,t){if(e instanceof Date)return e;if("string"!=typeof e&&(isNaN(e)||!isFinite(e))||/^\s*$/.test(e))return null;if("iso"===t)return o.isIsoDate(e)?a.date(e.toString()):null;const n=e;if("string"==typeof e&&/^[+-]?\d+(\.\d+)?$/.test(e)&&(e=parseFloat(e)),t){if("javascript"===t)return a.date(1*e);if("unix"===t)return a.date(1e3*e);if("string"==typeof n)return null}return a.date(e)},a.date=function(e){const t=new Date(e);return isNaN(t.getTime())?null:t}},390:(e,t,n)=>{const r=n(375),i=n(7824);e.exports=i.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(e){return r(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:e}})},validate:(e,t,{n:n})=>e.length===n?e:t.error("function.arity",{n:n})},class:{method(){return this.$_addRule("class")},validate:(e,t)=>/^\s*class\s/.test(e.toString())?e:t.error("function.class",{value:e})},minArity:{method(e){return r(Number.isSafeInteger(e)&&e>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:e}})},validate:(e,t,{n:n})=>e.length>=n?e:t.error("function.minArity",{n:n})},maxArity:{method(e){return r(Number.isSafeInteger(e)&&e>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:e}})},validate:(e,t,{n:n})=>e.length<=n?e:t.error("function.maxArity",{n:n})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(e,t,n)=>{const r=n(978),i=n(375),o=n(8571),s=n(3652),a=n(8068),c=n(8160),l=n(3292),u=n(6354),p=n(6133),h=n(3328),m={renameDefaults:{alias:!1,multiple:!1,override:!1}};e.exports=a.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:!1}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(e,t)=>e.keys(t),validate(e,{schema:t,error:n,state:r,prefs:i}){if(!e||typeof e!==t.$_property("typeof")||Array.isArray(e))return{value:e,errors:n("object.base",{type:t.$_property("typeof")})};if(!(t.$_terms.renames||t.$_terms.dependencies||t.$_terms.keys||t.$_terms.patterns||t.$_terms.externals))return;e=m.clone(e,i);const o=[];if(t.$_terms.renames&&!m.rename(t,e,r,i,o))return{value:e,errors:o};if(!t.$_terms.keys&&!t.$_terms.patterns&&!t.$_terms.dependencies)return{value:e,errors:o};const s=new Set(Object.keys(e));if(t.$_terms.keys){const n=[e,...r.ancestors];for(const a of t.$_terms.keys){const t=a.key,c=e[t];s.delete(t);const l=r.localize([...r.path,t],n,a),u=a.schema.$_validate(c,l,i);if(u.errors){if(i.abortEarly)return{value:e,errors:u.errors};void 0!==u.value&&(e[t]=u.value),o.push(...u.errors)}else"strip"===a.schema._flags.result||void 0===u.value&&void 0!==c?delete e[t]:void 0!==u.value&&(e[t]=u.value)}}if(s.size||t._flags._hasPatternMatch){const n=m.unknown(t,e,s,o,r,i);if(n)return n}if(t.$_terms.dependencies)for(const a of t.$_terms.dependencies){if(null!==a.key&&!1===m.isPresent(a.options)(a.key.resolve(e,r,i,null,{shadow:!1})))continue;const n=m.dependencies[a.rel](t,a,e,r,i);if(n){const s=t.$_createError(n.code,e,n.context,r,i);if(i.abortEarly)return{value:e,errors:s};o.push(s)}}return{value:e,errors:o}},rules:{and:{method(...e){return c.verifyFlat(e,"and"),m.dependency(this,"and",null,e)}},append:{method(e){return null==e||0===Object.keys(e).length?this:this.keys(e)}},assert:{method(e,t,n){h.isTemplate(e)||(e=l.ref(e)),i(void 0===n||"string"==typeof n,"Message must be a string"),t=this.$_compile(t,{appendPath:!0});const r=this.$_addRule({name:"assert",args:{subject:e,schema:t,message:n}});return r.$_mutateRegister(e),r.$_mutateRegister(t),r},validate(e,{error:t,prefs:n,state:r},{subject:i,schema:o,message:s}){const a=i.resolve(e,r,n),c=p.isRef(i)?i.absolute(r):[];return o.$_match(a,r.localize(c,[e,...r.ancestors],o),n)?e:t("object.assert",{subject:i,message:s})},args:["subject","schema","message"],multi:!0},instance:{method(e,t){return i("function"==typeof e,"constructor must be a function"),t=t||e.name,this.$_addRule({name:"instance",args:{constructor:e,name:t}})},validate:(e,t,{constructor:n,name:r})=>e instanceof n?e:t.error("object.instance",{type:r,value:e}),args:["constructor","name"]},keys:{method(e){i(void 0===e||"object"==typeof e,"Object schema must be a valid object"),i(!c.isSchema(e),"Object schema cannot be a joi schema");const t=this.clone();if(e)if(Object.keys(e).length){t.$_terms.keys=t.$_terms.keys?t.$_terms.keys.filter(t=>!e.hasOwnProperty(t.key)):new m.Keys;for(const n in e)c.tryWithPath(()=>t.$_terms.keys.push({key:n,schema:this.$_compile(e[n])}),n)}else t.$_terms.keys=new m.Keys;else t.$_terms.keys=null;return t.$_mutateRebuild()}},length:{method(e){return this.$_addRule({name:"length",args:{limit:e},operator:"="})},validate:(e,t,{limit:n},{name:r,operator:i,args:o})=>c.compare(Object.keys(e).length,n,i)?e:t.error("object."+r,{limit:o.limit,value:e}),args:[{name:"limit",ref:!0,assert:c.limit,message:"must be a positive integer"}]},max:{method(e){return this.$_addRule({name:"max",method:"length",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"length",args:{limit:e},operator:">="})}},nand:{method(...e){return c.verifyFlat(e,"nand"),m.dependency(this,"nand",null,e)}},or:{method(...e){return c.verifyFlat(e,"or"),m.dependency(this,"or",null,e)}},oxor:{method(...e){return m.dependency(this,"oxor",null,e)}},pattern:{method(e,t,n={}){const r=e instanceof RegExp;r||(e=this.$_compile(e,{appendPath:!0})),i(void 0!==t,"Invalid rule"),c.assertOptions(n,["fallthrough","matches"]),r&&i(!e.flags.includes("g")&&!e.flags.includes("y"),"pattern should not use global or sticky mode"),t=this.$_compile(t,{appendPath:!0});const o=this.clone();o.$_terms.patterns=o.$_terms.patterns||[];const s={[r?"regex":"schema"]:e,rule:t};return n.matches&&(s.matches=this.$_compile(n.matches),"array"!==s.matches.type&&(s.matches=s.matches.$_root.array().items(s.matches)),o.$_mutateRegister(s.matches),o.$_setFlag("_hasPatternMatch",!0,{clone:!1})),n.fallthrough&&(s.fallthrough=!0),o.$_terms.patterns.push(s),o.$_mutateRegister(t),o}},ref:{method(){return this.$_addRule("ref")},validate:(e,t)=>p.isRef(e)?e:t.error("object.refType",{value:e})},regex:{method(){return this.$_addRule("regex")},validate:(e,t)=>e instanceof RegExp?e:t.error("object.regex",{value:e})},rename:{method(e,t,n={}){i("string"==typeof e||e instanceof RegExp,"Rename missing the from argument"),i("string"==typeof t||t instanceof h,"Invalid rename to argument"),i(t!==e,"Cannot rename key to same name:",e),c.assertOptions(n,["alias","ignoreUndefined","override","multiple"]);const o=this.clone();o.$_terms.renames=o.$_terms.renames||[];for(const r of o.$_terms.renames)i(r.from!==e,"Cannot rename the same key multiple times");return t instanceof h&&o.$_mutateRegister(t),o.$_terms.renames.push({from:e,to:t,options:r(m.renameDefaults,n)}),o}},schema:{method(e="any"){return this.$_addRule({name:"schema",args:{type:e}})},validate:(e,t,{type:n})=>!c.isSchema(e)||"any"!==n&&e.type!==n?t.error("object.schema",{type:n}):e},unknown:{method(e){return this.$_setFlag("unknown",!1!==e)}},with:{method(e,t,n={}){return m.dependency(this,"with",e,t,n)}},without:{method(e,t,n={}){return m.dependency(this,"without",e,t,n)}},xor:{method(...e){return c.verifyFlat(e,"xor"),m.dependency(this,"xor",null,e)}}},overrides:{default(e,t){return void 0===e&&(e=c.symbols.deepDefault),this.$_parent("default",e,t)}},rebuild(e){if(e.$_terms.keys){const t=new s.Sorter;for(const n of e.$_terms.keys)c.tryWithPath(()=>t.add(n,{after:n.schema.$_rootReferences(),group:n.key}),n.key);e.$_terms.keys=new m.Keys(...t.nodes)}},manifest:{build(e,t){if(t.keys&&(e=e.keys(t.keys)),t.dependencies)for(const{rel:n,key:r=null,peers:i,options:o}of t.dependencies)e=m.dependency(e,n,r,i,o);if(t.patterns)for(const{regex:n,schema:r,rule:i,fallthrough:o,matches:s}of t.patterns)e=e.pattern(n||r,i,{fallthrough:o,matches:s});if(t.renames)for(const{from:n,to:r,options:i}of t.renames)e=e.rename(n,r,i);return e}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),m.clone=function(e,t){if("object"==typeof e){if(t.nonEnumerables)return o(e,{shallow:!0});const n=Object.create(Object.getPrototypeOf(e));return Object.assign(n,e),n}const n=function(...t){return e.apply(this,t)};return n.prototype=o(e.prototype),Object.defineProperty(n,"name",{value:e.name,writable:!1}),Object.defineProperty(n,"length",{value:e.length,writable:!1}),Object.assign(n,e),n},m.dependency=function(e,t,n,r,o){i(null===n||"string"==typeof n,t,"key must be a strings"),o||(o=r.length>1&&"object"==typeof r[r.length-1]?r.pop():{}),c.assertOptions(o,["separator","isPresent"]),r=[].concat(r);const s=c.default(o.separator,"."),a=[];for(const c of r)i("string"==typeof c,t,"peers must be strings"),a.push(l.ref(c,{separator:s,ancestor:0,prefix:!1}));null!==n&&(n=l.ref(n,{separator:s,ancestor:0,prefix:!1}));const u=e.clone();return u.$_terms.dependencies=u.$_terms.dependencies||[],u.$_terms.dependencies.push(new m.Dependency(t,n,a,r,o)),u},m.dependencies={and(e,t,n,r,i){const o=[],s=[],a=t.peers.length,c=m.isPresent(t.options);for(const l of t.peers)!1===c(l.resolve(n,r,i,null,{shadow:!1}))?o.push(l.key):s.push(l.key);if(o.length!==a&&s.length!==a)return{code:"object.and",context:{present:s,presentWithLabels:m.keysToLabels(e,s),missing:o,missingWithLabels:m.keysToLabels(e,o)}}},nand(e,t,n,r,i){const o=[],s=m.isPresent(t.options);for(const l of t.peers)s(l.resolve(n,r,i,null,{shadow:!1}))&&o.push(l.key);if(o.length!==t.peers.length)return;const a=t.paths[0],c=t.paths.slice(1);return{code:"object.nand",context:{main:a,mainWithLabel:m.keysToLabels(e,a),peers:c,peersWithLabels:m.keysToLabels(e,c)}}},or(e,t,n,r,i){const o=m.isPresent(t.options);for(const s of t.peers)if(o(s.resolve(n,r,i,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:t.paths,peersWithLabels:m.keysToLabels(e,t.paths)}}},oxor(e,t,n,r,i){const o=[],s=m.isPresent(t.options);for(const c of t.peers)s(c.resolve(n,r,i,null,{shadow:!1}))&&o.push(c.key);if(!o.length||1===o.length)return;const a={peers:t.paths,peersWithLabels:m.keysToLabels(e,t.paths)};return a.present=o,a.presentWithLabels=m.keysToLabels(e,o),{code:"object.oxor",context:a}},with(e,t,n,r,i){const o=m.isPresent(t.options);for(const s of t.peers)if(!1===o(s.resolve(n,r,i,null,{shadow:!1})))return{code:"object.with",context:{main:t.key.key,mainWithLabel:m.keysToLabels(e,t.key.key),peer:s.key,peerWithLabel:m.keysToLabels(e,s.key)}}},without(e,t,n,r,i){const o=m.isPresent(t.options);for(const s of t.peers)if(o(s.resolve(n,r,i,null,{shadow:!1})))return{code:"object.without",context:{main:t.key.key,mainWithLabel:m.keysToLabels(e,t.key.key),peer:s.key,peerWithLabel:m.keysToLabels(e,s.key)}}},xor(e,t,n,r,i){const o=[],s=m.isPresent(t.options);for(const c of t.peers)s(c.resolve(n,r,i,null,{shadow:!1}))&&o.push(c.key);if(1===o.length)return;const a={peers:t.paths,peersWithLabels:m.keysToLabels(e,t.paths)};return 0===o.length?{code:"object.missing",context:a}:(a.present=o,a.presentWithLabels=m.keysToLabels(e,o),{code:"object.xor",context:a})}},m.keysToLabels=function(e,t){return Array.isArray(t)?t.map(t=>e.$_mapLabels(t)):e.$_mapLabels(t)},m.isPresent=function(e){return"function"==typeof e.isPresent?e.isPresent:e=>void 0!==e},m.rename=function(e,t,n,r,i){const o={};for(const s of e.$_terms.renames){const a=[],c="string"!=typeof s.from;if(c)for(const e in t){if(void 0===t[e]&&s.options.ignoreUndefined||e===s.to)continue;const n=s.from.exec(e);n&&a.push({from:e,to:s.to,match:n})}else!Object.prototype.hasOwnProperty.call(t,s.from)||void 0===t[s.from]&&s.options.ignoreUndefined||a.push(s);for(const l of a){const a=l.from;let u=l.to;if(u instanceof h&&(u=u.render(t,n,r,l.match)),a!==u){if(!s.options.multiple&&o[u]&&(i.push(e.$_createError("object.rename.multiple",t,{from:a,to:u,pattern:c},n,r)),r.abortEarly)||Object.prototype.hasOwnProperty.call(t,u)&&!s.options.override&&!o[u]&&(i.push(e.$_createError("object.rename.override",t,{from:a,to:u,pattern:c},n,r)),r.abortEarly))return!1;void 0===t[a]?delete t[u]:t[u]=t[a],o[u]=!0,s.options.alias||delete t[a]}}}return!0},m.unknown=function(e,t,n,r,i,o){if(e.$_terms.patterns){let s=!1;const a=e.$_terms.patterns.map(e=>{if(e.matches)return s=!0,[]}),c=[t,...i.ancestors];for(const l of n){const s=t[l],u=[...i.path,l];for(let d=0;d<e.$_terms.patterns.length;++d){const f=e.$_terms.patterns[d];if(f.regex){const e=f.regex.test(l);if(i.mainstay.tracer.debug(i,"rule","pattern.".concat(d),e?"pass":"error"),!e)continue}else if(!f.schema.$_match(l,i.nest(f.schema,"pattern.".concat(d)),o))continue;n.delete(l);const p=i.localize(u,c,{schema:f.rule,key:l}),h=f.rule.$_validate(s,p,o);if(h.errors){if(o.abortEarly)return{value:t,errors:h.errors};r.push(...h.errors)}if(f.matches&&a[d].push(l),t[l]=h.value,!f.fallthrough)break}}if(s)for(let n=0;n<a.length;++n){const s=a[n];if(!s)continue;const l=e.$_terms.patterns[n].matches,d=i.localize(i.path,c,l),f=l.$_validate(s,d,o);if(f.errors){const n=u.details(f.errors,{override:!1});n.matches=s;const a=e.$_createError("object.pattern.match",t,n,i,o);if(o.abortEarly)return{value:t,errors:a};r.push(a)}}}if(n.size&&(e.$_terms.keys||e.$_terms.patterns)){if(o.stripUnknown&&!e._flags.unknown||o.skipFunctions){const e=!(!o.stripUnknown||!0!==o.stripUnknown&&!o.stripUnknown.objects);for(const r of n)e?(delete t[r],n.delete(r)):"function"==typeof t[r]&&n.delete(r)}if(!c.default(e._flags.unknown,o.allowUnknown))for(const s of n){const n=i.localize([...i.path,s],[]),a=e.$_createError("object.unknown",t[s],{child:s},n,o,{flags:!1});if(o.abortEarly)return{value:t,errors:a};r.push(a)}}},m.Dependency=class{constructor(e,t,n,r,i){this.rel=e,this.key=t,this.peers=n,this.paths=r,this.options=i}describe(){const e={rel:this.rel,peers:this.paths};return null!==this.key&&(e.key=this.key.key),"."!==this.peers[0].separator&&(e.options=f(d({},e.options),{separator:this.peers[0].separator})),this.options.isPresent&&(e.options=f(d({},e.options),{isPresent:this.options.isPresent})),e}},m.Keys=class extends Array{concat(e){const t=this.slice(),n=new Map;for(let r=0;r<t.length;++r)n.set(t[r].key,r);for(const r of e){const e=r.key,i=n.get(e);void 0!==i?t[i]={key:e,schema:t[i].schema.concat(r.schema)}:t.push(r)}return t}}},8785:(e,t,n)=>{const r=n(375),i=n(8068),o=n(8160),s=n(3292),a=n(6354),c={};e.exports=i.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(e,t)=>e.ref(t),validate(e,{schema:t,state:n,prefs:i}){r(t.$_terms.link,"Uninitialized link schema");const o=c.generate(t,e,n,i),s=t.$_terms.link[0].ref;return o.$_validate(e,n.nest(o,"link:".concat(s.display,":").concat(o.type)),i)},generate:(e,t,n,r)=>c.generate(e,t,n,r),rules:{ref:{method(e){r(!this.$_terms.link,"Cannot reinitialize schema"),e=s.ref(e),r("value"===e.type||"local"===e.type,"Invalid reference type:",e.type),r("local"===e.type||"root"===e.ancestor||e.ancestor>0,"Link cannot reference itself");const t=this.clone();return t.$_terms.link=[{ref:e}],t}},relative:{method(e=!0){return this.$_setFlag("relative",e)}}},overrides:{concat(e){r(this.$_terms.link,"Uninitialized link schema"),r(o.isSchema(e),"Invalid schema object"),r("link"!==e.type,"Cannot merge type link with another link");const t=this.clone();return t.$_terms.whens||(t.$_terms.whens=[]),t.$_terms.whens.push({concat:e}),t.$_mutateRebuild()}},manifest:{build:(e,t)=>(r(t.link,"Invalid link description missing link"),e.ref(t.link))}}),c.generate=function(e,t,n,r){let i=n.mainstay.links.get(e);if(i)return i._generate(t,n,r).schema;const o=e.$_terms.link[0].ref,{perspective:s,path:a}=c.perspective(o,n);c.assert(s,"which is outside of schema boundaries",o,e,n,r);try{i=a.length?s.$_reach(a):s}catch(l){c.assert(!1,"to non-existing schema",o,e,n,r)}return c.assert("link"!==i.type,"which is another link",o,e,n,r),e._flags.relative||n.mainstay.links.set(e,i),i._generate(t,n,r).schema},c.perspective=function(e,t){if("local"===e.type){for(const{schema:n,key:r}of t.schemas){if((n._flags.id||r)===e.path[0])return{perspective:n,path:e.path.slice(1)};if(n.$_terms.shared)for(const t of n.$_terms.shared)if(t._flags.id===e.path[0])return{perspective:t,path:e.path.slice(1)}}return{perspective:null,path:null}}return"root"===e.ancestor?{perspective:t.schemas[t.schemas.length-1].schema,path:e.path}:{perspective:t.schemas[e.ancestor]&&t.schemas[e.ancestor].schema,path:e.path}},c.assert=function(e,t,n,i,o,s){e||r(!1,'"'.concat(a.label(i._flags,o,s),'" contains link reference "').concat(n.display,'" ').concat(t))}},3832:(e,t,n)=>{const r=n(375),i=n(8068),o=n(8160),s={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(e){const t=e.toString(),n=t.indexOf("."),r=t.indexOf("e");return(n<0?0:(r<0?t.length:r)-n-1)+(r<0?0:Math.max(0,-parseInt(t.slice(r+1))))}};e.exports=i.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(e,{schema:t,error:n}){if(!e.match(s.numberRx))return;e=e.trim();const r={value:parseFloat(e)};if(0===r.value&&(r.value=0),!t._flags.unsafe)if(e.match(/e/i)){if(s.extractSignificantDigits(e)!==s.extractSignificantDigits(String(r.value)))return r.errors=n("number.unsafe"),r}else{const t=r.value.toString();if(t.match(/e/i))return r;if(t!==s.normalizeDecimal(e))return r.errors=n("number.unsafe"),r}return r}},validate(e,{schema:t,error:n,prefs:r}){if(e===1/0||e===-1/0)return{value:e,errors:n("number.infinity")};if(!o.isNumber(e))return{value:e,errors:n("number.base")};const i={value:e};if(r.convert){const e=t.$_getRule("precision");if(e){const t=Math.pow(10,e.args.limit);i.value=Math.round(i.value*t)/t}}return 0===i.value&&(i.value=0),!t._flags.unsafe&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&(i.errors=n("number.unsafe")),i},rules:{compare:{method:!1,validate:(e,t,{limit:n},{name:r,operator:i,args:s})=>o.compare(e,n,i)?e:t.error("number."+r,{limit:s.limit,value:e}),args:[{name:"limit",ref:!0,assert:o.isNumber,message:"must be a number"}]},greater:{method(e){return this.$_addRule({name:"greater",method:"compare",args:{limit:e},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(e,t)=>Math.trunc(e)-e==0?e:t.error("number.integer")},less:{method(e){return this.$_addRule({name:"less",method:"compare",args:{limit:e},operator:"<"})}},max:{method(e){return this.$_addRule({name:"max",method:"compare",args:{limit:e},operator:"<="})}},min:{method(e){return this.$_addRule({name:"min",method:"compare",args:{limit:e},operator:">="})}},multiple:{method(e){const t="number"==typeof e?s.decimalPlaces(e):null,n=Math.pow(10,t);return this.$_addRule({name:"multiple",args:{base:e,baseDecimalPlace:t,pfactor:n}})},validate:(e,t,{base:n,baseDecimalPlace:r,pfactor:i},o)=>s.decimalPlaces(e)>r?t.error("number.multiple",{multiple:o.args.base,value:e}):Math.round(i*e)%Math.round(i*n)==0?e:t.error("number.multiple",{multiple:o.args.base,value:e}),args:[{name:"base",ref:!0,assert:e=>"number"==typeof e&&isFinite(e)&&e>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(e,t)=>Number.isSafeInteger(e)&&e>=0&&e<=65535?e:t.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(e){return r(Number.isSafeInteger(e),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:e}})},validate(e,t,{limit:n}){const r=e.toString().match(s.precisionRx);return Math.max((r[1]?r[1].length:0)-(r[2]?parseInt(r[2],10):0),0)<=n?e:t.error("number.precision",{limit:n,value:e})},convert:!0},sign:{method(e){return r(["negative","positive"].includes(e),"Invalid sign",e),this.$_addRule({name:"sign",args:{sign:e}})},validate:(e,t,{sign:n})=>"negative"===n&&e<0||"positive"===n&&e>0?e:t.error("number.".concat(n))},unsafe:{method(e=!0){return r("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("unsafe",e)}}},cast:{string:{from:e=>"number"==typeof e,to:(e,t)=>e.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),s.extractSignificantDigits=function(e){return e.replace(s.exponentialPartRegex,"").replace(s.dotRegex,"").replace(s.trailingZerosRegex,"").replace(s.leadingSignAndZerosRegex,"")},s.normalizeDecimal=function(e){return(e=e.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&e.endsWith("0")&&(e=e.replace(/0+$/,"")),"-0"===e?"0":e}},8966:(e,t,n)=>{const r=n(7824);e.exports=r.extend({type:"object",cast:{map:{from:e=>e&&"object"==typeof e,to:(e,t)=>new Map(Object.entries(e))}}})},7417:(e,t,n)=>{const r=n(375),i=n(5380),o=n(1745),s=n(9959),a=n(6064),c=n(9926),l=n(5752),u=n(8068),f=n(8160),p={tlds:c instanceof Set&&{tlds:{allow:c,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:s.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};e.exports=u.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(e,{schema:t,state:n,prefs:r}){const i=t.$_getRule("normalize");i&&(e=e.normalize(i.args.form));const o=t.$_getRule("case");o&&(e="upper"===o.args.direction?e.toLocaleUpperCase():e.toLocaleLowerCase());const s=t.$_getRule("trim");if(s&&s.args.enabled&&(e=e.trim()),t.$_terms.replacements)for(const c of t.$_terms.replacements)e=e.replace(c.pattern,c.replacement);const a=t.$_getRule("hex");if(a&&a.args.options.byteAligned&&e.length%2!=0&&(e="0".concat(e)),t.$_getRule("isoDate")){const t=p.isoDate(e);t&&(e=t)}if(t._flags.truncate){const i=t.$_getRule("max");if(i){let o=i.args.limit;if(f.isResolvable(o)&&(o=o.resolve(e,n,r),!f.limit(o)))return{value:e,errors:t.$_createError("any.ref",o,{ref:i.args.limit,arg:"limit",reason:"must be a positive integer"},n,r)};e=e.slice(0,o)}}return{value:e}}},validate(e,{schema:t,error:n}){if("string"!=typeof e)return{value:e,errors:n("string.base")};if(""===e){const r=t.$_getRule("min");return r&&0===r.args.limit?void 0:{value:e,errors:n("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(e,t)=>/^[a-zA-Z0-9]+$/.test(e)?e:t.error("string.alphanum")},base64:{method(e={}){return f.assertOptions(e,["paddingRequired","urlSafe"]),e=d({urlSafe:!1,paddingRequired:!0},e),r("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),r("boolean"==typeof e.urlSafe,"urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:e}})},validate:(e,t,{options:n})=>p.base64Regex[n.paddingRequired][n.urlSafe].test(e)?e:t.error("string.base64")},case:{method(e){return r(["lower","upper"].includes(e),"Invalid case:",e),this.$_addRule({name:"case",args:{direction:e}})},validate:(e,t,{direction:n})=>"lower"===n&&e===e.toLocaleLowerCase()||"upper"===n&&e===e.toLocaleUpperCase()?e:t.error("string.".concat(n,"case")),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(e,t){let n=e.length,r=0,i=1;for(;n--;){const t=e.charAt(n)*i;r+=t-9*(t>9),i^=3}return r>0&&r%10==0?e:t.error("string.creditCard")}},dataUri:{method(e={}){return f.assertOptions(e,["paddingRequired"]),e=d({paddingRequired:!0},e),r("boolean"==typeof e.paddingRequired,"paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:e}})},validate(e,t,{options:n}){const r=e.match(p.dataUriRegex);return!r||r[2]&&"base64"===r[2]&&!p.base64Regex[n.paddingRequired].false.test(r[3])?t.error("string.dataUri"):e}},domain:{method(e){e&&f.assertOptions(e,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const t=p.addressOptions(e);return this.$_addRule({name:"domain",args:{options:e},address:t})},validate:(e,t,n,{address:r})=>i.isValid(e,r)?e:t.error("string.domain")},email:{method(e={}){f.assertOptions(e,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),r(void 0===e.multiple||"boolean"==typeof e.multiple,"multiple option must be an boolean");const t=p.addressOptions(e),n=new RegExp("\\s*[".concat(e.separator?a(e.separator):",","]\\s*"));return this.$_addRule({name:"email",args:{options:e},regex:n,address:t})},validate(e,t,{options:n},{regex:r,address:i}){const s=n.multiple?e.split(r):[e],a=[];for(const c of s)o.isValid(c,i)||a.push(c);return a.length?t.error("string.email",{value:e,invalids:a}):e}},guid:{alias:"uuid",method(e={}){f.assertOptions(e,["version","separator"]);let t="";if(e.version){const n=[].concat(e.version);r(n.length>=1,"version must have at least 1 valid version specified");const i=new Set;for(let e=0;e<n.length;++e){const o=n[e];r("string"==typeof o,"version at position "+e+" must be a string");const s=p.guidVersions[o.toLowerCase()];r(s,"version at position "+e+" must be one of "+Object.keys(p.guidVersions).join(", ")),r(!i.has(s),"version at position "+e+" must not be a duplicate"),t+=s,i.add(s)}}r(p.guidSeparators.has(e.separator),'separator must be one of true, false, "-", or ":"');const n=void 0===e.separator?"[:-]?":!0===e.separator?"[:-]":!1===e.separator?"[]?":"\\".concat(e.separator),i=new RegExp("^([\\[{\\(]?)[0-9A-F]{8}(".concat(n,")[0-9A-F]{4}\\2?[").concat(t||"0-9A-F","][0-9A-F]{3}\\2?[").concat(t?"89AB":"0-9A-F","][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$"),"i");return this.$_addRule({name:"guid",args:{options:e},regex:i})},validate(e,t,n,{regex:r}){const i=r.exec(e);return i?p.guidBrackets[i[1]]!==i[i.length-1]?t.error("string.guid"):e:t.error("string.guid")}},hex:{method(e={}){return f.assertOptions(e,["byteAligned","prefix"]),e=d({byteAligned:!1,prefix:!1},e),r("boolean"==typeof e.byteAligned,"byteAligned must be boolean"),r("boolean"==typeof e.prefix||"optional"===e.prefix,'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:e}})},validate:(e,t,{options:n})=>("optional"===n.prefix?p.hexRegex.withOptionalPrefix:!0===n.prefix?p.hexRegex.withPrefix:p.hexRegex.withoutPrefix).test(e)?n.byteAligned&&e.length%2!=0?t.error("string.hexAlign"):e:t.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(e,t)=>i.isValid(e,{minDomainSegments:1})||p.ipRegex.test(e)?e:t.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(e={}){f.assertOptions(e,["cidr","version"]);const{cidr:t,versions:n,regex:r}=s.regex(e),i=e.version?n:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:t,version:i}},regex:r})},validate:(e,t,{options:n},{regex:r})=>r.test(e)?e:n.version?t.error("string.ipVersion",{value:e,cidr:n.cidr,version:n.version}):t.error("string.ip",{value:e,cidr:n.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(e,{error:t})=>p.isoDate(e)?e:t("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(e,t)=>p.isoDurationRegex.test(e)?e:t.error("string.isoDuration")},length:{method(e,t){return p.length(this,"length",e,"=",t)},validate(e,t,{limit:n,encoding:r},{name:i,operator:o,args:s}){const a=!r&&e.length;return f.compare(a,n,o)?e:t.error("string."+i,{limit:s.limit,value:e,encoding:r})},args:[{name:"limit",ref:!0,assert:f.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(e,t){return p.length(this,"max",e,"<=",t)},args:["limit","encoding"]},min:{method(e,t){return p.length(this,"min",e,">=",t)},args:["limit","encoding"]},normalize:{method(e="NFC"){return r(p.normalizationForms.includes(e),"normalization form must be one of "+p.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:e}})},validate:(e,{error:t},{form:n})=>e===e.normalize(n)?e:t("string.normalize",{value:e,form:n}),convert:!0},pattern:{alias:"regex",method(e,t={}){r(e instanceof RegExp,"regex must be a RegExp"),r(!e.flags.includes("g")&&!e.flags.includes("y"),"regex should not use global or sticky mode"),"string"==typeof t&&(t={name:t}),f.assertOptions(t,["invert","name"]);const n=["string.pattern",t.invert?".invert":"",t.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:e,options:t},errorCode:n})},validate:(e,t,{regex:n,options:r},{errorCode:i})=>n.test(e)^r.invert?e:t.error(i,{name:r.name,regex:n,value:e}),args:["regex","options"],multi:!0},replace:{method(e,t){"string"==typeof e&&(e=new RegExp(a(e),"g")),r(e instanceof RegExp,"pattern must be a RegExp"),r("string"==typeof t,"replacement must be a String");const n=this.clone();return n.$_terms.replacements||(n.$_terms.replacements=[]),n.$_terms.replacements.push({pattern:e,replacement:t}),n}},token:{method(){return this.$_addRule("token")},validate:(e,t)=>/^\w+$/.test(e)?e:t.error("string.token")},trim:{method(e=!0){return r("boolean"==typeof e,"enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:e}})},validate:(e,t,{enabled:n})=>n&&e!==e.trim()?t.error("string.trim"):e,convert:!0},truncate:{method(e=!0){return r("boolean"==typeof e,"enabled must be a boolean"),this.$_setFlag("truncate",e)}},uppercase:{method(){return this.case("upper")}},uri:{method(e={}){f.assertOptions(e,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),e.domain&&f.assertOptions(e.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);const{regex:t,scheme:n}=l.regex(e),r=e.domain?p.addressOptions(e.domain):null;return this.$_addRule({name:"uri",args:{options:e},regex:t,domain:r,scheme:n})},validate(e,t,{options:n},{regex:r,domain:o,scheme:s}){if(["http:/","https:/"].includes(e))return t.error("string.uri");let a=r.exec(e);if(!a&&t.prefs.convert&&n.encodeUri){const t=encodeURI(e);a=r.exec(t),a&&(e=t)}if(a){const r=a[1]||a[2];return!o||n.allowRelative&&!r||i.isValid(r,o)?e:t.error("string.domain",{value:r})}return n.relativeOnly?t.error("string.uriRelativeOnly"):n.scheme?t.error("string.uriCustomScheme",{scheme:s,value:e}):t.error("string.uri")}}},manifest:{build(e,t){if(t.replacements)for(const{pattern:n,replacement:r}of t.replacements)e=e.replace(n,r);return e}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),p.addressOptions=function(e){if(!e)return p.tlds||e;if(r(void 0===e.minDomainSegments||Number.isSafeInteger(e.minDomainSegments)&&e.minDomainSegments>0,"minDomainSegments must be a positive integer"),r(void 0===e.maxDomainSegments||Number.isSafeInteger(e.maxDomainSegments)&&e.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),!1===e.tlds)return e;if(!0===e.tlds||void 0===e.tlds)return r(p.tlds,"Built-in TLD list disabled"),Object.assign({},e,p.tlds);r("object"==typeof e.tlds,"tlds must be true, false, or an object");const t=e.tlds.deny;if(t)return Array.isArray(t)&&(e=Object.assign({},e,{tlds:{deny:new Set(t)}})),r(e.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),r(!e.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),p.validateTlds(e.tlds.deny,"tlds.deny"),e;const n=e.tlds.allow;return n?!0===n?(r(p.tlds,"Built-in TLD list disabled"),Object.assign({},e,p.tlds)):(Array.isArray(n)&&(e=Object.assign({},e,{tlds:{allow:new Set(n)}})),r(e.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),p.validateTlds(e.tlds.allow,"tlds.allow"),e):e},p.validateTlds=function(e,t){for(const n of e)r(i.isValid(n,{minDomainSegments:1,maxDomainSegments:1}),"".concat(t," must contain valid top level domain names"))},p.isoDate=function(e){if(!f.isIsoDate(e))return null;/.*T.*[+-]\d\d$/.test(e)&&(e+="00");const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()},p.length=function(e,t,n,i,o){return r(!o||!1,"Invalid encoding:",o),e.$_addRule({name:t,method:"length",args:{limit:n,encoding:o},operator:i})}},8826:(e,t,n)=>{const r=n(375),i=n(8068),o={};o.Map=class extends Map{slice(){return new o.Map(this)}},e.exports=i.extend({type:"symbol",terms:{map:{init:new o.Map}},coerce:{method(e,{schema:t,error:n}){const r=t.$_terms.map.get(e);return r&&(e=r),t._flags.only&&"symbol"!=typeof e?{value:e,errors:n("symbol.map",{map:t.$_terms.map})}:{value:e}}},validate(e,{error:t}){if("symbol"!=typeof e)return{value:e,errors:t("symbol.base")}},rules:{map:{method(e){e&&!e[Symbol.iterator]&&"object"==typeof e&&(e=Object.entries(e)),r(e&&e[Symbol.iterator],"Iterable must be an iterable or object");const t=this.clone(),n=[];for(const i of e){r(i&&i[Symbol.iterator],"Entry must be an iterable");const[e,o]=i;r("object"!=typeof e&&"function"!=typeof e&&"symbol"!=typeof e,"Key must not be of type object, function, or Symbol"),r("symbol"==typeof o,"Value must be a Symbol"),t.$_terms.map.set(e,o),n.push(o)}return t.valid(...n)}}},manifest:{build:(e,t)=>(t.map&&(e=e.map(t.map)),e)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(e,t,n)=>{const r=n(375),i=n(8571),o=n(738),s=n(9621),a=n(8160),c=n(6354),l=n(493),u={result:Symbol("result")};t.entry=function(e,t,n){let i=a.defaults;n&&(r(void 0===n.warnings,"Cannot override warnings preference in synchronous validation"),r(void 0===n.artifacts,"Cannot override artifacts preference in synchronous validation"),i=a.preferences(a.defaults,n));const o=u.entry(e,t,i);r(!o.mainstay.externals.length,"Schema with external rules must use validateAsync()");const s={value:o.value};return o.error&&(s.error=o.error),o.mainstay.warnings.length&&(s.warning=c.details(o.mainstay.warnings)),o.mainstay.debug&&(s.debug=o.mainstay.debug),o.mainstay.artifacts&&(s.artifacts=o.mainstay.artifacts),s},t.entryAsync=async function(e,t,n){let r=a.defaults;n&&(r=a.preferences(a.defaults,n));const i=u.entry(e,t,r),o=i.mainstay;if(i.error)throw o.debug&&(i.error.debug=o.debug),i.error;if(o.externals.length){let t=i.value;const l=[];for(const i of o.externals){const f=i.state.path,p="link"===i.schema.type?o.links.get(i.schema):null;let h,m,v=t;const g=f.length?[t]:[],b=f.length?s(e,f):e;if(f.length){h=f[f.length-1];let e=t;for(const t of f.slice(0,-1))e=e[t],g.unshift(e);m=g[0],v=m[h]}try{const e=(e,t)=>(p||i.schema).$_createError(e,v,t,i.state,r),s=await i.method(v,{schema:i.schema,linked:p,state:i.state,prefs:n,original:b,error:e,errorsArray:u.errorsArray,warn:(e,t)=>o.warnings.push((p||i.schema).$_createError(e,v,t,i.state,r)),message:(e,t)=>(p||i.schema).$_createError("external",v,t,i.state,r,{messages:e})});if(void 0===s||s===v)continue;if(s instanceof c.Report){if(o.tracer.log(i.schema,i.state,"rule","external","error"),l.push(s),r.abortEarly)break;continue}if(Array.isArray(s)&&s[a.symbols.errors]){if(o.tracer.log(i.schema,i.state,"rule","external","error"),l.push(...s),r.abortEarly)break;continue}m?(o.tracer.value(i.state,"rule",v,s,"external"),m[h]=s):(o.tracer.value(i.state,"rule",t,s,"external"),t=s)}catch(d){throw r.errors.label&&(d.message+=" (".concat(i.label,")")),d}}if(i.value=t,l.length)throw i.error=c.process(l,e,r),o.debug&&(i.error.debug=o.debug),i.error}if(!r.warnings&&!r.debug&&!r.artifacts)return i.value;const l={value:i.value};return o.warnings.length&&(l.warning=c.details(o.warnings)),o.debug&&(l.debug=o.debug),o.artifacts&&(l.artifacts=o.artifacts),l},u.Mainstay=class{constructor(e,t,n){this.externals=[],this.warnings=[],this.tracer=e,this.debug=t,this.links=n,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){const e=this._snapshots.pop();this.externals=e.externals,this.warnings=e.warnings}commit(){this._snapshots.pop()}},u.entry=function(e,n,r){const{tracer:i,cleanup:o}=u.tracer(n,r),s=r.debug?[]:null,a=n._ids._schemaChain?new Map:null,d=new u.Mainstay(i,s,a),f=n._ids._schemaChain?[{schema:n}]:null,p=new l([],[],{mainstay:d,schemas:f}),h=t.validate(e,n,p,r);o&&n.$_root.untrace();const m=c.process(h.errors,e,r);return{value:h.value,error:m,mainstay:d}},u.tracer=function(e,t){return e.$_root._tracer?{tracer:e.$_root._tracer._register(e)}:t.debug?(r(e.$_root.trace,"Debug mode not supported"),{tracer:e.$_root.trace()._register(e),cleanup:!0}):{tracer:u.ignore}},t.validate=function(e,t,n,r,i={}){if(t.$_terms.whens&&(t=t._generate(e,n,r).schema),t._preferences&&(r=u.prefs(t,r)),t._cache&&r.cache){const r=t._cache.get(e);if(n.mainstay.tracer.debug(n,"validate","cached",!!r),r)return r}const o=(i,o,s)=>t.$_createError(i,e,o,s||n,r),s={original:e,prefs:r,schema:t,state:n,error:o,errorsArray:u.errorsArray,warn:(e,t,r)=>n.mainstay.warnings.push(o(e,t,r)),message:(i,o)=>t.$_createError("custom",e,o,n,r,{messages:i})};n.mainstay.tracer.entry(t,n);const c=t._definition;if(c.prepare&&void 0!==e&&r.convert){const t=c.prepare(e,s);if(t){if(n.mainstay.tracer.value(n,"prepare",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),s);e=t.value}}if(c.coerce&&void 0!==e&&r.convert&&(!c.coerce.from||c.coerce.from.includes(typeof e))){const t=c.coerce.method(e,s);if(t){if(n.mainstay.tracer.value(n,"coerced",e,t.value),t.errors)return u.finalize(t.value,[].concat(t.errors),s);e=t.value}}const l=t._flags.empty;l&&l.$_match(u.trim(e,t),n.nest(l),a.defaults)&&(n.mainstay.tracer.value(n,"empty",e,void 0),e=void 0);const d=i.presence||t._flags.presence||(t._flags._endedSwitch?null:r.presence);if(void 0===e){if("forbidden"===d)return u.finalize(e,null,s);if("required"===d)return u.finalize(e,[t.$_createError("any.required",e,null,n,r)],s);if("optional"===d){if(t._flags.default!==a.symbols.deepDefault)return u.finalize(e,null,s);n.mainstay.tracer.value(n,"default",e,{}),e={}}}else if("forbidden"===d)return u.finalize(e,[t.$_createError("any.unknown",e,null,n,r)],s);const f=[];if(t._valids){const i=t._valids.get(e,n,r,t._flags.insensitive);if(i)return r.convert&&(n.mainstay.tracer.value(n,"valids",e,i.value),e=i.value),n.mainstay.tracer.filter(t,n,"valid",i),u.finalize(e,null,s);if(t._flags.only){const i=t.$_createError("any.only",e,{valids:t._valids.values({display:!0})},n,r);if(r.abortEarly)return u.finalize(e,[i],s);f.push(i)}}if(t._invalids){const i=t._invalids.get(e,n,r,t._flags.insensitive);if(i){n.mainstay.tracer.filter(t,n,"invalid",i);const o=t.$_createError("any.invalid",e,{invalids:t._invalids.values({display:!0})},n,r);if(r.abortEarly)return u.finalize(e,[o],s);f.push(o)}}if(c.validate){const t=c.validate(e,s);if(t&&(n.mainstay.tracer.value(n,"base",e,t.value),e=t.value,t.errors)){if(!Array.isArray(t.errors))return f.push(t.errors),u.finalize(e,f,s);if(t.errors.length)return f.push(...t.errors),u.finalize(e,f,s)}}return t._rules.length?u.rules(e,f,s):u.finalize(e,f,s)},u.rules=function(e,t,n){const{schema:r,state:i,prefs:o}=n;for(const s of r._rules){const c=r._definition.rules[s.method];if(c.convert&&o.convert){i.mainstay.tracer.log(r,i,"rule",s.name,"full");continue}let l,d=s.args;if(s._resolve.length){d=Object.assign({},d);for(const t of s._resolve){const n=c.argsByName.get(t),s=d[t].resolve(e,i,o),u=n.normalize?n.normalize(s):s,f=a.validateArg(u,null,n);if(f){l=r.$_createError("any.ref",s,{arg:t,ref:d[t],reason:f},i,o);break}d[t]=u}}l=l||c.validate(e,n,d,s);const f=u.rule(l,s);if(f.errors){if(i.mainstay.tracer.log(r,i,"rule",s.name,"error"),s.warn){i.mainstay.warnings.push(...f.errors);continue}if(o.abortEarly)return u.finalize(e,f.errors,n);t.push(...f.errors)}else i.mainstay.tracer.log(r,i,"rule",s.name,"pass"),i.mainstay.tracer.value(i,"rule",e,f.value,s.name),e=f.value}return u.finalize(e,t,n)},u.rule=function(e,t){return e instanceof c.Report?(u.error(e,t),{errors:[e],value:null}):Array.isArray(e)&&e[a.symbols.errors]?(e.forEach(e=>u.error(e,t)),{errors:e,value:null}):{errors:null,value:e}},u.error=function(e,t){return t.message&&e._setTemplate(t.message),e},u.finalize=function(e,t,n){t=t||[];const{schema:i,state:o,prefs:s}=n;if(t.length){const r=u.default("failover",void 0,t,n);void 0!==r&&(o.mainstay.tracer.value(o,"failover",e,r),e=r,t=[])}if(t.length&&i._flags.error)if("function"==typeof i._flags.error){t=i._flags.error(t),Array.isArray(t)||(t=[t]);for(const e of t)r(e instanceof Error||e instanceof c.Report,"error() must return an Error object")}else t=[i._flags.error];if(void 0===e){const r=u.default("default",e,t,n);o.mainstay.tracer.value(o,"default",e,r),e=r}if(i._flags.cast&&void 0!==e){const t=i._definition.cast[i._flags.cast];if(t.from(e)){const r=t.to(e,n);o.mainstay.tracer.value(o,"cast",e,r,i._flags.cast),e=r}}if(i.$_terms.externals&&s.externals&&!1!==s._externals)for(const{method:r}of i.$_terms.externals)o.mainstay.externals.push({method:r,schema:i,state:o,label:c.label(i._flags,o,s)});const a={value:e,errors:t.length?t:null};return i._flags.result&&(a.value="strip"===i._flags.result?void 0:n.original,o.mainstay.tracer.value(o,i._flags.result,e,a.value),o.shadow(e,i._flags.result)),i._cache&&!1!==s.cache&&!i._refs.length&&i._cache.set(n.original,a),void 0===e||a.errors||void 0===i._flags.artifact||(o.mainstay.artifacts=o.mainstay.artifacts||new Map,o.mainstay.artifacts.has(i._flags.artifact)||o.mainstay.artifacts.set(i._flags.artifact,[]),o.mainstay.artifacts.get(i._flags.artifact).push(o.path)),a},u.prefs=function(e,t){const n=t===a.defaults;return n&&e._preferences[a.symbols.prefs]?e._preferences[a.symbols.prefs]:(t=a.preferences(t,e._preferences),n&&(e._preferences[a.symbols.prefs]=t),t)},u.default=function(e,t,n,r){const{schema:o,state:s,prefs:c}=r,l=o._flags[e];if(c.noDefaults||void 0===l)return t;if(s.mainstay.tracer.log(o,s,"rule",e,"full"),!l)return l;if("function"==typeof l){const t=l.length?[i(s.ancestors[0]),r]:[];try{return l(...t)}catch(u){return void n.push(o.$_createError("any.".concat(e),null,{error:u},s,c))}}return"object"!=typeof l?l:l[a.symbols.literal]?l.literal:a.isResolvable(l)?l.resolve(t,s,c):i(l)},u.trim=function(e,t){if("string"!=typeof e)return e;const n=t.$_getRule("trim");return n&&n.args.enabled?e.trim():e},u.ignore={active:!1,debug:o,entry:o,filter:o,log:o,resolve:o,value:o},u.errorsArray=function(){const e=[];return e[a.symbols.errors]=!0,e}},2036:(e,t,n)=>{const r=n(375),i=n(9474),o=n(8160),s={};e.exports=s.Values=class{constructor(e,t){this._values=new Set(e),this._refs=new Set(t),this._lowercase=s.lowercases(e),this._override=!1}get length(){return this._values.size+this._refs.size}add(e,t){o.isResolvable(e)?this._refs.has(e)||(this._refs.add(e),t&&t.register(e)):this.has(e,null,null,!1)||(this._values.add(e),"string"==typeof e&&this._lowercase.set(e.toLowerCase(),e))}static merge(e,t,n){if(e=e||new s.Values,t){if(t._override)return t.clone();for(const n of[...t._values,...t._refs])e.add(n)}if(n)for(const r of[...n._values,...n._refs])e.remove(r);return e.length?e:null}remove(e){o.isResolvable(e)?this._refs.delete(e):(this._values.delete(e),"string"==typeof e&&this._lowercase.delete(e.toLowerCase()))}has(e,t,n,r){return!!this.get(e,t,n,r)}get(e,t,n,r){if(!this.length)return!1;if(this._values.has(e))return{value:e};if("string"==typeof e&&e&&r){const t=this._lowercase.get(e.toLowerCase());if(t)return{value:t}}if(!this._refs.size&&"object"!=typeof e)return!1;if("object"==typeof e)for(const o of this._values)if(i(o,e))return{value:o};if(t)for(const o of this._refs){const s=o.resolve(e,t,n,null,{in:!0});if(void 0===s)continue;const a=o.in&&"object"==typeof s?Array.isArray(s)?s:Object.keys(s):[s];for(const t of a)if(typeof t==typeof e)if(r&&e&&"string"==typeof e){if(t.toLowerCase()===e.toLowerCase())return{value:t,ref:o}}else if(i(t,e))return{value:t,ref:o}}return!1}override(){this._override=!0}values(e){if(e&&e.display){const e=[];for(const t of[...this._values,...this._refs])void 0!==t&&e.push(t);return e}return Array.from([...this._values,...this._refs])}clone(){const e=new s.Values(this._values,this._refs);return e._override=this._override,e}concat(e){r(!e._override,"Cannot concat override set of values");const t=new s.Values([...this._values,...e._values],[...this._refs,...e._refs]);return t._override=this._override,t}describe(){const e=[];this._override&&e.push({override:!0});for(const t of this._values.values())e.push(t&&"object"==typeof t?{value:t}:t);for(const t of this._refs.values())e.push(t.describe());return e}},s.Values.prototype[o.symbols.values]=!0,s.Values.prototype.slice=s.Values.prototype.clone,s.lowercases=function(e){const t=new Map;if(e)for(const n of e)"string"==typeof n&&t.set(n.toLowerCase(),n);return t}},978:(e,t,n)=>{const r=n(375),i=n(8571),o=n(1687),s=n(9621),a={};e.exports=function(e,t,n={}){if(r(e&&"object"==typeof e,"Invalid defaults value: must be an object"),r(!t||!0===t||"object"==typeof t,"Invalid source value: must be true, falsy or an object"),r("object"==typeof n,"Invalid options: must be an object"),!t)return null;if(n.shallow)return a.applyToDefaultsWithShallow(e,t,n);const s=i(e);if(!0===t)return s;const c=void 0!==n.nullOverride&&n.nullOverride;return o(s,t,{nullOverride:c,mergeArrays:!1})},a.applyToDefaultsWithShallow=function(e,t,n){const c=n.shallow;r(Array.isArray(c),"Invalid keys");const l=new Map,u=!0===t?null:new Set;for(let r of c){r=Array.isArray(r)?r:r.split(".");const n=s(e,r);n&&"object"==typeof n?l.set(n,u&&s(t,r)||n):u&&u.add(r)}const d=i(e,{},l);if(!u)return d;for(const r of u)a.reachCopy(d,t,r);const f=void 0!==n.nullOverride&&n.nullOverride;return o(d,t,{nullOverride:f,mergeArrays:!1})},a.reachCopy=function(e,t,n){for(const o of n){if(!(o in t))return;const e=t[o];if("object"!=typeof e||null===e)return;t=e}const r=t;let i=e;for(let o=0;o<n.length-1;++o){const e=n[o];"object"!=typeof i[e]&&(i[e]={}),i=i[e]}i[n[n.length-1]]=r}},375:(e,t,n)=>{const r=n(7916);e.exports=function(e,...t){if(!e)throw 1===t.length&&t[0]instanceof Error?t[0]:new r(t)}},8571:(e,t,n)=>{const r=n(9621),i=n(4277),o=n(7043),s={needsProtoHack:new Set([i.set,i.map,i.weakSet,i.weakMap])};e.exports=s.clone=function(e,t={},n=null){if("object"!=typeof e||null===e)return e;let r=s.clone,a=n;if(t.shallow){if(!0!==t.shallow)return s.cloneWithShallow(e,t);r=e=>e}else if(a){const t=a.get(e);if(t)return t}else a=new Map;const c=i.getInternalProto(e);if(c===i.buffer)return!1;if(c===i.date)return new Date(e.getTime());if(c===i.regex)return new RegExp(e);const l=s.base(e,c,t);if(l===e)return e;if(a&&a.set(e,l),c===i.set)for(const i of e)l.add(r(i,t,a));else if(c===i.map)for(const[i,o]of e)l.set(i,r(o,t,a));const u=o.keys(e,t);for(const o of u){if("__proto__"===o)continue;if(c===i.array&&"length"===o){l.length=e.length;continue}const n=Object.getOwnPropertyDescriptor(e,o);n?n.get||n.set?Object.defineProperty(l,o,n):n.enumerable?l[o]=r(e[o],t,a):Object.defineProperty(l,o,{enumerable:!1,writable:!0,configurable:!0,value:r(e[o],t,a)}):Object.defineProperty(l,o,{enumerable:!0,writable:!0,configurable:!0,value:r(e[o],t,a)})}return l},s.cloneWithShallow=function(e,t){const n=t.shallow;(t=Object.assign({},t)).shallow=!1;const i=new Map;for(const o of n){const t=r(e,o);"object"!=typeof t&&"function"!=typeof t||i.set(t,t)}return s.clone(e,t,i)},s.base=function(e,t,n){if(!1===n.prototype)return s.needsProtoHack.has(t)?new t.constructor:t===i.array?[]:{};const r=Object.getPrototypeOf(e);if(r&&r.isImmutable)return e;if(t===i.array){const e=[];return r!==t&&Object.setPrototypeOf(e,r),e}if(s.needsProtoHack.has(t)){const e=new r.constructor;return r!==t&&Object.setPrototypeOf(e,r),e}return Object.create(r)}},9474:(e,t,n)=>{const r=n(4277),i={mismatched:null};e.exports=function(e,t,n){return n=Object.assign({prototype:!0},n),!!i.isDeepEqual(e,t,n,[])},i.isDeepEqual=function(e,t,n,o){if(e===t)return 0!==e||1/e==1/t;const s=typeof e;if(s!==typeof t||null===e||null===t)return!1;if("function"===s){if(!n.deepFunction||e.toString()!==t.toString())return!1}else if("object"!==s)return e!=e&&t!=t;const a=i.getSharedType(e,t,!!n.prototype);switch(a){case r.buffer:return!1;case r.promise:return e===t;case r.regex:return e.toString()===t.toString();case i.mismatched:return!1}for(let r=o.length-1;r>=0;--r)if(o[r].isSame(e,t))return!0;o.push(new i.SeenEntry(e,t));try{return!!i.isDeepEqualObj(a,e,t,n,o)}finally{o.pop()}},i.getSharedType=function(e,t,n){if(n)return Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?i.mismatched:r.getInternalProto(e);const o=r.getInternalProto(e);return o!==r.getInternalProto(t)?i.mismatched:o},i.valueOf=function(e){const t=e.valueOf;if(void 0===t)return e;try{return t.call(e)}catch(n){return n}},i.hasOwnEnumerableProperty=function(e,t){return Object.prototype.propertyIsEnumerable.call(e,t)},i.isSetSimpleEqual=function(e,t){for(const n of Set.prototype.values.call(e))if(!Set.prototype.has.call(t,n))return!1;return!0},i.isDeepEqualObj=function(e,t,n,o,s){const{isDeepEqual:a,valueOf:c,hasOwnEnumerableProperty:l}=i,{keys:u,getOwnPropertySymbols:d}=Object;if(e===r.array){if(!o.part){if(t.length!==n.length)return!1;for(let e=0;e<t.length;++e)if(!a(t[e],n[e],o,s))return!1;return!0}for(const e of t)for(const t of n)if(a(e,t,o,s))return!0}else if(e===r.set){if(t.size!==n.size)return!1;if(!i.isSetSimpleEqual(t,n)){const e=new Set(Set.prototype.values.call(n));for(const n of Set.prototype.values.call(t)){if(e.delete(n))continue;let t=!1;for(const r of e)if(a(n,r,o,s)){e.delete(r),t=!0;break}if(!t)return!1}}}else if(e===r.map){if(t.size!==n.size)return!1;for(const[e,r]of Map.prototype.entries.call(t))if(void 0===r&&!Map.prototype.has.call(n,e)||!a(r,Map.prototype.get.call(n,e),o,s))return!1}else if(e===r.error&&(t.name!==n.name||t.message!==n.message))return!1;const f=c(t),p=c(n);if((t!==f||n!==p)&&!a(f,p,o,s))return!1;const h=u(t);if(!o.part&&h.length!==u(n).length&&!o.skip)return!1;let m=0;for(const r of h)if(o.skip&&o.skip.includes(r))void 0===n[r]&&++m;else if(!l(n,r)||!a(t[r],n[r],o,s))return!1;if(!o.part&&h.length-m!==u(n).length)return!1;if(!1!==o.symbols){const e=d(t),r=new Set(d(n));for(const i of e){if(!o.skip||!o.skip.includes(i))if(l(t,i)){if(!l(n,i)||!a(t[i],n[i],o,s))return!1}else if(l(n,i))return!1;r.delete(i)}for(const t of r)if(l(n,t))return!1}return!0},i.SeenEntry=class{constructor(e,t){this.obj=e,this.ref=t}isSame(e,t){return this.obj===e&&this.ref===t}}},7916:(e,t,n)=>{const r=n(8761);e.exports=class extends Error{constructor(e){super(e.filter(e=>""!==e).map(e=>"string"==typeof e?e:e instanceof Error?e.message:r(e)).join(" ")||"Unknown error"),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,t.assert)}}},5277:e=>{const t={};e.exports=function(e){if(!e)return"";let n="";for(let r=0;r<e.length;++r){const i=e.charCodeAt(r);t.isSafe(i)?n+=e[r]:n+=t.escapeHtmlChar(i)}return n},t.escapeHtmlChar=function(e){return t.namedHtml.get(e)||(e>=256?"&#"+e+";":"&#x".concat(e.toString(16).padStart(2,"0"),";"))},t.isSafe=function(e){return t.safeCharCodes.has(e)},t.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),t.safeCharCodes=function(){const e=new Set;for(let t=32;t<123;++t)(t>=97||t>=65&&t<=90||t>=48&&t<=57||32===t||46===t||44===t||45===t||58===t||95===t)&&e.add(t);return e}()},6064:e=>{e.exports=function(e){return e.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:e=>{e.exports=function(){}},1687:(e,t,n)=>{const r=n(375),i=n(8571),o=n(7043),s={};e.exports=s.merge=function(e,t,n){if(r(e&&"object"==typeof e,"Invalid target value: must be an object"),r(null==t||"object"==typeof t,"Invalid source value: must be null, undefined, or an object"),!t)return e;if(n=Object.assign({nullOverride:!0,mergeArrays:!0},n),Array.isArray(t)){r(Array.isArray(e),"Cannot merge array onto an object"),n.mergeArrays||(e.length=0);for(let r=0;r<t.length;++r)e.push(i(t[r],{symbols:n.symbols}));return e}const a=o.keys(t,n);for(let r=0;r<a.length;++r){const o=a[r];if("__proto__"===o||!Object.prototype.propertyIsEnumerable.call(t,o))continue;const c=t[o];if(c&&"object"==typeof c){if(e[o]===c)continue;!e[o]||"object"!=typeof e[o]||Array.isArray(e[o])!==Array.isArray(c)||c instanceof Date||c instanceof RegExp?e[o]=i(c,{symbols:n.symbols}):s.merge(e[o],c,n)}else(null!=c||n.nullOverride)&&(e[o]=c)}return e}},9621:(e,t,n)=>{const r=n(375),i={};e.exports=function(e,t,n){if(!1===t||null==t)return e;"string"==typeof(n=n||{})&&(n={separator:n});const o=Array.isArray(t);r(!o||!n.separator,"Separator option is not valid for array-based chain");const s=o?t:t.split(n.separator||".");let a=e;for(let c=0;c<s.length;++c){let e=s[c];const o=n.iterables&&i.iterables(a);if(Array.isArray(a)||"set"===o){const t=Number(e);Number.isInteger(t)&&(e=t<0?a.length+t:t)}if(!a||"function"==typeof a&&!1===n.functions||!o&&void 0===a[e]){r(!n.strict||c+1===s.length,"Missing segment",e,"in reach path ",t),r("object"==typeof a||!0===n.functions||"function"!=typeof a,"Invalid segment",e,"in reach path ",t),a=n.default;break}a=o?"set"===o?[...a][e]:a.get(e):a[e]}return a},i.iterables=function(e){return e instanceof Set?"set":e instanceof Map?"map":void 0}},8761:e=>{e.exports=function(...e){try{return JSON.stringify(...e)}catch(t){return"[Cannot display object: "+t.message+"]"}}},4277:(e,t)=>{const n={};t=e.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},n.typeMap=new Map([["[object Error]",t.error],["[object Map]",t.map],["[object Promise]",t.promise],["[object Set]",t.set],["[object WeakMap]",t.weakMap],["[object WeakSet]",t.weakSet]]),t.getInternalProto=function(e){if(Array.isArray(e))return t.array;if(e instanceof Date)return t.date;if(e instanceof RegExp)return t.regex;if(e instanceof Error)return t.error;const r=Object.prototype.toString.call(e);return n.typeMap.get(r)||t.generic}},7043:(e,t)=>{t.keys=function(e,t={}){return!1!==t.symbols?Reflect.ownKeys(e):Object.getOwnPropertyNames(e)}},3652:(e,t,n)=>{const r=n(375),i={};t.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(e,t){const n=[].concat((t=t||{}).before||[]),i=[].concat(t.after||[]),o=t.group||"?",s=t.sort||0;r(!n.includes(o),"Item cannot come before itself: ".concat(o)),r(!n.includes("?"),"Item cannot come before unassociated items"),r(!i.includes(o),"Item cannot come after itself: ".concat(o)),r(!i.includes("?"),"Item cannot come after unassociated items"),Array.isArray(e)||(e=[e]);for(const r of e){const e={seq:this._items.length,sort:s,before:n,after:i,group:o,node:r};this._items.push(e)}if(!t.manual){const e=this._sort();r(e,"item","?"!==o?"added into group ".concat(o):"","created a dependencies error")}return this.nodes}merge(e){Array.isArray(e)||(e=[e]);for(const n of e)if(n)for(const e of n._items)this._items.push(Object.assign({},e));this._items.sort(i.mergeSort);for(let n=0;n<this._items.length;++n)this._items[n].seq=n;const t=this._sort();return r(t,"merge created a dependencies error"),this.nodes}sort(){const e=this._sort();return r(e,"sort created a dependencies error"),this.nodes}_sort(){const e={},t=Object.create(null),n=Object.create(null);for(const a of this._items){const r=a.seq,i=a.group;n[i]=n[i]||[],n[i].push(r),e[r]=a.before;for(const e of a.after)t[e]=t[e]||[],t[e].push(r)}for(const a in e){const t=[];for(const r in e[a]){const i=e[a][r];n[i]=n[i]||[],t.push(...n[i])}e[a]=t}for(const a in t)if(n[a])for(const r of n[a])e[r].push(...t[a]);const r={};for(const a in e){const t=e[a];for(const e of t)r[e]=r[e]||[],r[e].push(a)}const i={},o=[];for(let a=0;a<this._items.length;++a){let e=a;if(r[a]){e=null;for(let t=0;t<this._items.length;++t){if(!0===i[t])continue;r[t]||(r[t]=[]);const n=r[t].length;let o=0;for(let e=0;e<n;++e)i[r[t][e]]&&++o;if(o===n){e=t;break}}}null!==e&&(i[e]=!0,o.push(e))}if(o.length!==this._items.length)return!1;const s={};for(const a of this._items)s[a.seq]=a;this._items=[],this.nodes=[];for(const a of o){const e=s[a];this.nodes.push(e.node),this._items.push(e)}return!0}},i.mergeSort=(e,t)=>e.sort===t.sort?0:e.sort<t.sort?-1:1},5380:(e,t,n)=>{const r=n(443),i=n(2178),o={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:r.URL||URL};t.analyze=function(e,t={}){if(!e)return i.code("DOMAIN_NON_EMPTY_STRING");if("string"!=typeof e)throw new Error("Invalid input: domain must be a string");if(e.length>256)return i.code("DOMAIN_TOO_LONG");if(o.nonAsciiRx.test(e)){if(!1===t.allowUnicode)return i.code("DOMAIN_INVALID_UNICODE_CHARS");e=e.normalize("NFC")}if(o.domainControlRx.test(e))return i.code("DOMAIN_INVALID_CHARS");e=o.punycode(e),t.allowFullyQualified&&"."===e[e.length-1]&&(e=e.slice(0,-1));const n=t.minDomainSegments||o.minDomainSegments,r=e.split(".");if(r.length<n)return i.code("DOMAIN_SEGMENTS_COUNT");if(t.maxDomainSegments&&r.length>t.maxDomainSegments)return i.code("DOMAIN_SEGMENTS_COUNT_MAX");const s=t.tlds;if(s){const e=r[r.length-1].toLowerCase();if(s.deny&&s.deny.has(e)||s.allow&&!s.allow.has(e))return i.code("DOMAIN_FORBIDDEN_TLDS")}for(let a=0;a<r.length;++a){const e=r[a];if(!e.length)return i.code("DOMAIN_EMPTY_SEGMENT");if(e.length>63)return i.code("DOMAIN_LONG_SEGMENT");if(a<r.length-1){if(!o.domainSegmentRx.test(e))return i.code("DOMAIN_INVALID_CHARS")}else if(!o.tldSegmentRx.test(e))return i.code("DOMAIN_INVALID_TLDS_CHARS")}return null},t.isValid=function(e,n){return!t.analyze(e,n)},o.punycode=function(e){e.includes("%")&&(e=e.replace(/%/g,"%25"));try{return new o.URL("http://".concat(e)).host}catch(t){return e}}},1745:(e,t,n)=>{const r=n(9848),i=n(5380),o=n(2178),s={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(r.TextEncoder||TextEncoder)};t.analyze=function(e,t){return s.email(e,t)},t.isValid=function(e,t){return!s.email(e,t)},s.email=function(e,t={}){if("string"!=typeof e)throw new Error("Invalid input: email must be a string");if(!e)return o.code("EMPTY_STRING");const n=!s.nonAsciiRx.test(e);if(!n){if(!1===t.allowUnicode)return o.code("FORBIDDEN_UNICODE");e=e.normalize("NFC")}const r=e.split("@");if(2!==r.length)return r.length>2?o.code("MULTIPLE_AT_CHAR"):o.code("MISSING_AT_CHAR");const[a,c]=r;if(!a)return o.code("EMPTY_LOCAL");if(!t.ignoreLength){if(e.length>254)return o.code("ADDRESS_TOO_LONG");if(s.encoder.encode(a).length>64)return o.code("LOCAL_TOO_LONG")}return s.local(a,n)||i.analyze(c,t)},s.local=function(e,t){const n=e.split(".");for(const r of n){if(!r.length)return o.code("EMPTY_LOCAL_SEGMENT");if(t){if(!s.atextRx.test(r))return o.code("INVALID_LOCAL_CHARS")}else for(const e of r){if(s.atextRx.test(e))continue;const t=s.binary(e);if(!s.atomRx.test(t))return o.code("INVALID_LOCAL_CHARS")}}},s.binary=function(e){return Array.from(s.encoder.encode(e)).map(e=>String.fromCharCode(e)).join("")},s.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,s.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(e,t)=>{t.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},t.code=function(e){return{code:e,error:t.codes[e]}}},9959:(e,t,n)=>{const r=n(375),i=n(5752);t.regex=function(e={}){r(void 0===e.cidr||"string"==typeof e.cidr,"options.cidr must be a string");const t=e.cidr?e.cidr.toLowerCase():"optional";r(["required","optional","forbidden"].includes(t),"options.cidr must be one of required, optional, forbidden"),r(void 0===e.version||"string"==typeof e.version||Array.isArray(e.version),"options.version must be a string or an array of string");let n=e.version||["ipv4","ipv6","ipvfuture"];Array.isArray(n)||(n=[n]),r(n.length>=1,"options.version must have at least 1 version specified");for(let i=0;i<n.length;++i)r("string"==typeof n[i],"options.version must only contain strings"),n[i]=n[i].toLowerCase(),r(["ipv4","ipv6","ipvfuture"].includes(n[i]),"options.version contains unknown version "+n[i]+" - must be one of ipv4, ipv6, ipvfuture");n=Array.from(new Set(n));const o="(?:".concat(n.map(e=>{if("forbidden"===t)return i.ip[e];const n="\\/".concat("ipv4"===e?i.ip.v4Cidr:i.ip.v6Cidr);return"required"===t?"".concat(i.ip[e]).concat(n):"".concat(i.ip[e],"(?:").concat(n,")?")}).join("|"),")"),s=new RegExp("^".concat(o,"$"));return{cidr:t,versions:n,regex:s,raw:o}}},5752:(e,t,n)=>{const r=n(375),i=n(6064),o={generate:function(){const e={},t="\\dA-Fa-f",n="["+t+"]",r="\\w-\\.~",i="!\\$&'\\(\\)\\*\\+,;=",o="%"+t,s=r+o+i+":@",a="["+s+"]",c="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";e.ipv4address="(?:"+c+"\\.){3}"+c;const l=n+"{1,4}",u="(?:"+l+":"+l+"|"+e.ipv4address+")",d="(?:"+l+":){6}"+u,f="::(?:"+l+":){5}"+u,p="(?:"+l+")?::(?:"+l+":){4}"+u,h="(?:(?:"+l+":){0,1}"+l+")?::(?:"+l+":){3}"+u,m="(?:(?:"+l+":){0,2}"+l+")?::(?:"+l+":){2}"+u,v="(?:(?:"+l+":){0,3}"+l+")?::"+l+":"+u,g="(?:(?:"+l+":){0,4}"+l+")?::"+u,b="(?:(?:"+l+":){0,5}"+l+")?::"+l,y="(?:(?:"+l+":){0,6}"+l+")?::";e.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",e.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",e.ipv6address="(?:"+d+"|"+f+"|"+p+"|"+h+"|"+m+"|"+v+"|"+g+"|"+b+"|"+y+")",e.ipvFuture="v"+n+"+\\.["+r+i+":]+",e.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",e.schemeRegex=new RegExp(e.scheme);const w="["+r+o+i+":]*",S="["+r+o+i+"]{1,255}",_="(?:\\[(?:"+e.ipv6address+"|"+e.ipvFuture+")\\]|"+e.ipv4address+"|"+S+")",x="(?:"+w+"@)?"+_+"(?::\\d*)?",k="(?:"+w+"@)?("+_+")(?::\\d*)?",O=a+"*",C=a+"+",E="(?:\\/"+O+")*",j="\\/(?:"+C+E+")?",T=C+E,I="["+r+o+i+"@]+"+E,R="(?:\\/\\/\\/"+O+E+")";return e.hierPart="(?:(?:\\/\\/"+x+E+")|"+j+"|"+T+"|"+R+")",e.hierPartCapture="(?:(?:\\/\\/"+k+E+")|"+j+"|"+T+")",e.relativeRef="(?:(?:\\/\\/"+x+E+")|"+j+"|"+I+"|)",e.relativeRefCapture="(?:(?:\\/\\/"+k+E+")|"+j+"|"+I+"|)",e.query="["+s+"\\/\\?]*(?=#|$)",e.queryWithSquareBrackets="["+s+"\\[\\]\\/\\?]*(?=#|$)",e.fragment="["+s+"\\/\\?]*",e}};o.rfc3986=o.generate(),t.ip={v4Cidr:o.rfc3986.ipv4Cidr,v6Cidr:o.rfc3986.ipv6Cidr,ipv4:o.rfc3986.ipv4address,ipv6:o.rfc3986.ipv6address,ipvfuture:o.rfc3986.ipvFuture},o.createRegex=function(e){const t=o.rfc3986,n="(?:\\?"+(e.allowQuerySquareBrackets?t.queryWithSquareBrackets:t.query)+")?(?:#"+t.fragment+")?",s=e.domain?t.relativeRefCapture:t.relativeRef;if(e.relativeOnly)return o.wrap(s+n);let a="";if(e.scheme){r(e.scheme instanceof RegExp||"string"==typeof e.scheme||Array.isArray(e.scheme),"scheme must be a RegExp, String, or Array");const n=[].concat(e.scheme);r(n.length>=1,"scheme must have at least 1 scheme specified");const o=[];for(let e=0;e<n.length;++e){const s=n[e];r(s instanceof RegExp||"string"==typeof s,"scheme at position "+e+" must be a RegExp or String"),s instanceof RegExp?o.push(s.source.toString()):(r(t.schemeRegex.test(s),"scheme at position "+e+" must be a valid scheme"),o.push(i(s)))}a=o.join("|")}const c="(?:"+(a?"(?:"+a+")":t.scheme)+":"+(e.domain?t.hierPartCapture:t.hierPart)+")",l=e.allowRelative?"(?:"+c+"|"+s+")":c;return o.wrap(l+n,a)},o.wrap=function(e,t){return{raw:e="(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])".concat(e),regex:new RegExp("^".concat(e,"$")),scheme:t}},o.uriRegex=o.createRegex({}),t.regex=function(e={}){return e.scheme||e.allowRelative||e.relativeOnly||e.allowQuerySquareBrackets||e.domain?o.createRegex(e):o.uriRegex}},1447:(e,t)=>{const n={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};t.Parser=class{constructor(e,t={}){if(!t[n.settings]&&t.constants)for(const n in t.constants){const e=t.constants[n];if(null!==e&&!["boolean","number","string"].includes(typeof e))throw new Error("Formula constant ".concat(n," contains invalid ").concat(typeof e," value type"))}this.settings=t[n.settings]?t:Object.assign({[n.settings]:!0,constants:{},functions:{}},t),this.single=null,this._parts=null,this._parse(e)}_parse(e){let r=[],i="",o=0,s=!1;const a=e=>{if(o)throw new Error("Formula missing closing parenthesis");const a=r.length?r[r.length-1]:null;if(s||i||e){if(a&&"reference"===a.type&&")"===e)return a.type="function",a.value=this._subFormula(i,a.value),void(i="");if(")"===e){const e=new t.Parser(i,this.settings);r.push({type:"segment",value:e})}else if(s){if("]"===s)return r.push({type:"reference",value:i}),void(i="");r.push({type:"literal",value:i})}else if(n.operatorCharacters.includes(i))a&&"operator"===a.type&&n.operators.includes(a.value+i)?a.value+=i:r.push({type:"operator",value:i});else if(i.match(n.numberRx))r.push({type:"constant",value:parseFloat(i)});else if(void 0!==this.settings.constants[i])r.push({type:"constant",value:this.settings.constants[i]});else{if(!i.match(n.tokenRx))throw new Error("Formula contains invalid token: ".concat(i));r.push({type:"reference",value:i})}i=""}};for(const t of e)s?t===s?(a(),s=!1):i+=t:o?"("===t?(i+=t,++o):")"===t?(--o,o?i+=t:a(t)):i+=t:t in n.literals?s=n.literals[t]:"("===t?(a(),++o):n.operatorCharacters.includes(t)?(a(),i=t,a()):" "!==t?i+=t:a();a(),r=r.map((e,t)=>"operator"!==e.type||"-"!==e.value||t&&"operator"!==r[t-1].type?e:{type:"operator",value:"n"});let c=!1;for(const t of r){if("operator"===t.type){if(n.operatorsPrefix.includes(t.value))continue;if(!c)throw new Error("Formula contains an operator in invalid position");if(!n.operators.includes(t.value))throw new Error("Formula contains an unknown operator ".concat(t.value))}else if(c)throw new Error("Formula missing expected operator");c=!c}if(!c)throw new Error("Formula contains invalid trailing operator");1===r.length&&["reference","literal","constant"].includes(r[0].type)&&(this.single={type:"reference"===r[0].type?"reference":"value",value:r[0].value}),this._parts=r.map(e=>{if("operator"===e.type)return n.operatorsPrefix.includes(e.value)?e:e.value;if("reference"!==e.type)return e.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(e.value))throw new Error("Formula contains invalid reference ".concat(e.value));return this.settings.reference?this.settings.reference(e.value):n.reference(e.value)})}_subFormula(e,r){const i=this.settings.functions[r];if("function"!=typeof i)throw new Error("Formula contains unknown function ".concat(r));let o=[];if(e){let t="",i=0,s=!1;const a=()=>{if(!t)throw new Error("Formula contains function ".concat(r," with invalid arguments ").concat(e));o.push(t),t=""};for(let r=0;r<e.length;++r){const o=e[r];s?(t+=o,o===s&&(s=!1)):o in n.literals&&!i?(t+=o,s=n.literals[o]):","!==o||i?(t+=o,"("===o?++i:")"===o&&--i):a()}a()}return o=o.map(e=>new t.Parser(e,this.settings)),function(e){const t=[];for(const n of o)t.push(n.evaluate(e));return i.call(e,...t)}}evaluate(e){const t=this._parts.slice();for(let r=t.length-2;r>=0;--r){const i=t[r];if(i&&"operator"===i.type){const o=t[r+1];t.splice(r+1,1);const s=n.evaluate(o,e);t[r]=n.single(i.value,s)}}return n.operatorsOrder.forEach(r=>{for(let i=1;i<t.length-1;)if(r.includes(t[i])){const r=t[i],o=n.evaluate(t[i-1],e),s=n.evaluate(t[i+1],e);t.splice(i,2);const a=n.calculate(r,o,s);t[i-1]=0===a?0:a}else i+=2}),n.evaluate(t[0],e)}},t.Parser.prototype[n.symbol]=!0,n.reference=function(e){return function(t){return t&&void 0!==t[e]?t[e]:null}},n.evaluate=function(e,t){return null===e?null:"function"==typeof e?e(t):e[n.symbol]?e.evaluate(t):e},n.single=function(e,t){if("!"===e)return!t;const n=-t;return 0===n?0:n},n.calculate=function(e,t,r){if("??"===e)return n.exists(t)?t:r;if("string"==typeof t||"string"==typeof r){if("+"===e)return(t=n.exists(t)?t:"")+(n.exists(r)?r:"")}else switch(e){case"^":return Math.pow(t,r);case"*":return t*r;case"/":return t/r;case"%":return t%r;case"+":return t+r;case"-":return t-r}switch(e){case"<":return t<r;case"<=":return t<=r;case">":return t>r;case">=":return t>=r;case"==":return t===r;case"!=":return t!==r;case"&&":return t&&r;case"||":return t||r}return null},n.exists=function(e){return null!=e}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:e=>{e.exports=JSON.parse('{"version":"17.13.0"}')}},t={},function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(5107);var e,t})})(qr);var ei=qr.exports;const ti=m(ei);let ni;const ri=32e3,ii=1e3;class oi extends pe{constructor(e,t,n,r){if(super(),ni=n,!t)throw ni.error("Token generator is required to construct this module."),new Error("Token generator is required to construct this module.");this.webRTCPeer=new gr,this.signaling=null,this.autoReconnect=r,this.reconnectionInterval=ii,this.alreadyDisconnected=!1,this.firstReconnection=!0,this.stopReconnection=!1,this.isReconnecting=!1,this.tokenGenerator=t,this.options=null}getRTCPeerConnection(){return this.webRTCPeer?this.webRTCPeer.getRTCPeer():null}stop(){var e;ni.info("Stopping"),this.webRTCPeer.closeRTCPeer(),null==(e=this.signaling)||e.close(),this.signaling=null,this.stopReconnection=!0,this.webRTCPeer=new gr}isActive(){const e=this.webRTCPeer.getRTCPeerStatus();return ni.info("Broadcast status: ",e||"not_established"),"connected"===e}setReconnect(){this.signaling.on("migrate",()=>this.replaceConnection()),this.autoReconnect&&(this.signaling.on(Pr.connectionError,()=>{(this.firstReconnection||!this.alreadyDisconnected)&&(this.firstReconnection=!1,this.reconnect({error:new Error("Signaling error: wsConnectionError")}))}),this.webRTCPeer.on(mr.connectionStateChange,e=>{V.setConnectionState(e),"connected"===e&&V.setConnectionTime(new Date),("failed"===e||"disconnected"===e&&this.alreadyDisconnected)&&this.firstReconnection?(this.firstReconnection=!1,this.reconnect({error:new Error("Connection state change: RTCPeerConnectionState disconnected")})):"disconnected"===e?(this.alreadyDisconnected=!0,setTimeout(()=>this.reconnect({error:new Error("Connection state change: RTCPeerConnectionState disconnected")}),1500)):this.alreadyDisconnected=!1}))}async reconnect(e){try{ni.info("Attempting to reconnect..."),!this.isActive()&&!this.stopReconnection&&!this.isReconnecting&&(this.stop(),this.emit("reconnect",{timeout:si(this.reconnectionInterval),error:null!=e&&e.error?null==e?void 0:e.error:new Error("Attempting to reconnect")}),this.isReconnecting=!0,await this.connect(this.options),this.alreadyDisconnected=!1,this.reconnectionInterval=ii,this.firstReconnection=!0,this.isReconnecting=!1)}catch(t){this.isReconnecting=!1,this.reconnectionInterval=si(this.reconnectionInterval),ni.error("Reconnection failed, retrying in ".concat(this.reconnectionInterval,"ms. "),t),setTimeout(()=>this.reconnect({error:t}),this.reconnectionInterval)}}}const si=e=>e<ri?2*e:e,ai=window.RTCRtpSender&&!!RTCRtpSender.prototype.createEncodedStreams&&window.RTCRtpReceiver&&!!RTCRtpReceiver.prototype.createEncodedStreams,ci="RTCRtpScriptTransform"in window,li="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NsYXNzIHd7Y29uc3RydWN0b3IodCl7dGhpcy5kYXRhPXQsdGhpcy5iaXRPZmZzZXQ9MH1yZWFkQml0cyh0KXtpZih0aGlzLmJpdE9mZnNldCt0PnRoaXMuZGF0YS5sZW5ndGgqOCl0aHJvdyBuZXcgRXJyb3IoIkF0dGVtcHRlZCB0byByZWFkIHBhc3QgdGhlIGVuZCBvZiB0aGUgYml0c3RyZWFtIik7bGV0IGU9MDtmb3IobGV0IGk9MDtpPHQ7aSsrKXtjb25zdCBzPU1hdGguZmxvb3IodGhpcy5iaXRPZmZzZXQvOCksYT03LXRoaXMuYml0T2Zmc2V0JTgscj10aGlzLmRhdGFbc10+PmEmMTtlfD1yPDx0LTEtaSx0aGlzLmJpdE9mZnNldCsrfXJldHVybiBlfXNraXAodCl7dGhpcy5iaXRPZmZzZXQrPXR9cmVhZEV4cEdvbG9tYlVuc2lnbmVkKCl7bGV0IHQ9LTE7Zm9yKGxldCBlPTA7ZT09PTA7dCsrKWU9dGhpcy5yZWFkQml0cygxKTtyZXR1cm4oMTw8dCktMSt0aGlzLnJlYWRCaXRzKHQpfXJlYWRFeHBHb2xvbWJTaWduZWQoKXtjb25zdCB0PXRoaXMucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7cmV0dXJuIHQlMj09PTA/LSh0LzIpOih0KzEpLzJ9fWNvbnN0IF89e1NMSUNFX05PTl9JRFI6MSxTTElDRV9QQVJUSVRJT05fQToyLFNMSUNFX0lEUjo1LFNFSV9IMjY0OjYsU0VJX0gyNjVfUFJFRklYOjM5LFNFSV9IMjY1X1NVRkZJWDo0MCxTUFNfSDI2NDo3LFNQU19IMjY1OjMzLFBQU19IMjY0OjgsUFBTX0gyNjU6MzR9LEg9e1BJQ19USU1JTkc6MSxVU0VSX0RBVEFfVU5SRUdJU1RFUkVEOjV9LGg9e0xFR0FDWToxLE5FVzoyLFRJTUVDT0RFOjMsT1RIRVI6NH0sUj0iNmU5Y2ZkMmEtNTkwNy00OWZmLWIzNjMtODk3OGE2ZTgzNDBlIixOPSI5YTIxZjNiZS0zMWYwLTRiNzgtYjBiZS1jN2Y3ZGJiOTcyNTAiLEE9ImQ0MGUzOGVhLWQ0MTktNGM2Mi05NGVkLTIwYWMzN2I0ZTRmYSI7Y2xhc3Mgentjb25zdHJ1Y3Rvcih0PSJIMjY0Iil7dGhpcy5zcHM9bmV3IE1hcCx0aGlzLnBwcz1uZXcgTWFwLHRoaXMuYWN0aXZlU1BTPW51bGwsdGhpcy5jb2RlYz10fWNvbGxlY3RQUFModCl7dGhpcy5jb2RlYz09PSJIMjY0Ij90aGlzLmNvbGxlY3RIMjY0UFBTKHQpOnRoaXMuY29sbGVjdEgyNjVQUFModCl9Y29sbGVjdFNQUyh0KXt0aGlzLmNvZGVjPT09IkgyNjQiP3RoaXMuY29sbGVjdEgyNjRTUFModCk6dGhpcy5jb2xsZWN0SDI2NVNQUyh0KX1jb2xsZWN0SDI2NFNQUyh0KXtjb25zdCBlPW5ldyB3KHQpLGk9ZS5yZWFkQml0cyg4KSxzPVsxMDAsMTEwLDEyMiwyNDQsNDQsODMsODYsMTE4LDEyOCwxMzgsMTM5LDEzNCwxMzVdO2Uuc2tpcCg4KSxlLnNraXAoOCk7Y29uc3QgYT1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2lmKGE+MzF8fGE8MCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgc2VxX3BhcmFtZXRlcl9zZXRfaWQiKTtpZihzLmluY2x1ZGVzKGkpKXtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7aWYobz09PTMmJmUuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5za2lwKDEpLGUucmVhZEJpdHMoMSkpe2NvbnN0IG09byE9PTM/ODoxMjtmb3IobGV0IHA9MDtwPG07cCsrKWlmKGUucmVhZEJpdHMoMSkpe2NvbnN0IEU9cDw2PzE2OjY0O2xldCBkPTgsdT04O2ZvcihsZXQgST0wO0k8RTtJKyspe2lmKHUhPT0wKXtjb25zdCBsPWUucmVhZEV4cEdvbG9tYlNpZ25lZCgpO3U9KGQrbCsyNTYpJTI1Nn1kPXU9PT0wP2Q6dX19fX1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2NvbnN0IHI9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihyPT09MCllLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2Vsc2UgaWYocj09PTEpe2Uuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJTaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJTaWduZWQoKTtjb25zdCBvPWUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCk7Zm9yKGxldCBmPTA7ZjxvO2YrKyllLnJlYWRFeHBHb2xvbWJTaWduZWQoKX1lLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUuc2tpcCgxKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkQml0cygxKT09PTAmJmUuc2tpcCgxKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSYmKGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpLGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCkpO2xldCBjO2lmKGUucmVhZEJpdHMoMSkpe2xldCBmPWZ1bmN0aW9uKGQpe2NvbnN0IHU9ZC5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtkLnNraXAoNCksZC5za2lwKDQpO2ZvcihsZXQgVT0wO1U8PXU7VSsrKWQucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZC5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxkLnNraXAoMSk7ZC5za2lwKDUpO2NvbnN0IEk9ZC5yZWFkQml0cyg1KSxsPWQucmVhZEJpdHMoNSksRz1kLnJlYWRCaXRzKDUpO3JldHVybntjcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxOkksZHBiX291dHB1dF9kZWxheV9sZW5ndGhfbWludXMxOmwsdGltZV9vZmZzZXRfbGVuZ3RoOkd9fTtlLnJlYWRCaXRzKDEpJiZlLnJlYWRCaXRzKDgpPT09MjU1JiYoZS5za2lwKDE2KSxlLnNraXAoMTYpKSxlLnJlYWRCaXRzKDEpJiZlLnNraXAoMSksZS5yZWFkQml0cygxKSYmKGUuc2tpcCgzKSxlLnNraXAoMSksZS5yZWFkQml0cygxKSYmZS5za2lwKDI0KSksZS5yZWFkQml0cygxKSYmKGUucmVhZEV4cEdvbG9tYlVuc2lnbmVkKCksZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSk7Y29uc3Qgbz1lLnJlYWRCaXRzKDEpP3tudW1fdW5pdHNfaW5fdGljazplLnJlYWRCaXRzKDMyKSx0aW1lX3NjYWxlOmUucmVhZEJpdHMoMzIpLGZpeGVkX2ZyYW1lX3JhdGVfZmxhZzplLnJlYWRCaXRzKDEpfTp2b2lkIDAsbT1lLnJlYWRCaXRzKDEpP2YoZSk6dm9pZCAwLHA9ZS5yZWFkQml0cygxKT9mKGUpOnZvaWQgMDsobXx8cCkmJmUuc2tpcCgxKTtjb25zdCBFPWUucmVhZEJpdHMoMSk7Yz17dGltaW5nX2luZm86byxuYWxfaHJkX3BhcmFtZXRlcnM6bSx2Y2xfaHJkX3BhcmFtZXRlcnM6cCxwaWNfc3RydWN0X3ByZXNlbnRfZmxhZzpFfX10aGlzLnNwcy5zZXQoYSx7dnVpX3BhcmFtZXRlcnM6Y30pfWNvbGxlY3RIMjY1U1BTKHQpe31jb2xsZWN0SDI2NFBQUyh0KXtjb25zdCBlPW5ldyB3KHQpLGk9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTtpZihpPjI1NXx8aTwwKXRocm93IG5ldyBFcnJvcigiSW52YWxpZCBwaWNfcGFyYW1ldGVyX3NldF9pZCIpO2NvbnN0IHM9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKTt0aGlzLnBwcy5zZXQoaSx7c2VxX3BhcmFtZXRlcl9zZXRfaWQ6c30pfWNvbGxlY3RIMjY1UFBTKHQpe31maW5kQWN0aXZlU1BTKHQpe2NvbnN0IGU9bmV3IHcodCk7ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxlLnJlYWRFeHBHb2xvbWJVbnNpZ25lZCgpO2NvbnN0IGk9ZS5yZWFkRXhwR29sb21iVW5zaWduZWQoKSxzPXRoaXMucHBzLmdldChpKTtpZihzKXtjb25zdCBhPXRoaXMuc3BzLmdldChzLnNlcV9wYXJhbWV0ZXJfc2V0X2lkKTtpZihhKXt0aGlzLmFjdGl2ZVNQUz1hO3JldHVybn19dGhyb3cgbmV3IEVycm9yKCJDYW5ub3QgZmluZCB0aGUgYWN0aXZlIFNQUyIpfX1jb25zdCBnPW5ldyB6O2Z1bmN0aW9uIEMobix0KXtmb3IoO3Q8bi5ieXRlTGVuZ3RoLTQ7KXtpZihuW3RdPT09MCYmblt0KzFdPT09MCYmKG5bdCsyXT09PTF8fG5bdCsyXT09PTAmJm5bdCszXT09PTEpKXJldHVybiB0O3QrPTF9cmV0dXJuLTF9ZnVuY3Rpb24gUChuKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KG4uYnl0ZUxlbmd0aCk7bGV0IGU9MCxpPTA7Zm9yKGxldCBzPTI7czxuLmJ5dGVMZW5ndGg7cysrKW5bc109PT0zJiZuW3MtMV09PT0wJiZuW3MtMl09PT0wJiYodC5zZXQobi5zdWJhcnJheShpLHMpLGUpLGUrPXMtaSxpPXMrMSk7cmV0dXJuIGk8bi5ieXRlTGVuZ3RoJiZ0LnNldChuLnN1YmFycmF5KGkpLGUpLHR9ZnVuY3Rpb24gVyhuLHQpe2xldCBlPTA7Y29uc3QgaT10PT09IkgyNjQiPzE6MixzPVtdO2Zvcig7ZTxuLmJ5dGVMZW5ndGgtNDspe2NvbnN0IGE9QyhuLGUpO2lmKGE+PWUpe2NvbnN0IHI9blthKzJdPT09MT8zOjQsYz1DKG4sYStyK2kpO2lmKGM+YSlzLnB1c2gobi5zdWJhcnJheShhLGMpKSxlPWM7ZWxzZXtzLnB1c2gobi5zdWJhcnJheShhKSk7YnJlYWt9fWVsc2UgYnJlYWt9cmV0dXJuIHN9ZnVuY3Rpb24gRihuLHQpe2xldCBlPSEwO3JldHVybiBXKG4sdCkuZmlsdGVyKGk9Pntjb25zdCBzPWlbMl09PT0xPzM6NCxhPXQ9PT0iSDI2NCI/MToyLHI9aVtzXSxjPXQ9PT0iSDI2NCI/ciYzMTpyPj4xJjYzO2lmKGUpc3dpdGNoKGMpe2Nhc2UgXy5QUFNfSDI2NDpjYXNlIF8uUFBTX0gyNjU6Zy5jb2xsZWN0UFBTKFAoaS5zdWJhcnJheShzK2EpKSk7YnJlYWs7Y2FzZSBfLlNQU19IMjY0OmNhc2UgXy5TUFNfSDI2NTpnLmNvbGxlY3RTUFMoUChpLnN1YmFycmF5KHMrYSkpKTticmVhaztjYXNlIF8uU0xJQ0VfSURSOmNhc2UgXy5TTElDRV9OT05fSURSOmNhc2UgXy5TTElDRV9QQVJUSVRJT05fQTp0cnl7Zy5maW5kQWN0aXZlU1BTKFAoaS5zdWJhcnJheShzK2EpKSksZT0hMX1jYXRjaChvKXtjb25zb2xlLmluZm8oIkZhaWxlZCB0byBmaW5kIGFjdGl2ZSBTUFMuIFdpbGwgbm90IGJlIGFibGUgdG8gZXh0cmFjdCBQSUMgdGltaW5nIG1ldGFkYXRhIil9YnJlYWt9cmV0dXJuW18uU0VJX0gyNjQsXy5TRUlfSDI2NV9QUkVGSVgsXy5TRUlfSDI2NV9TVUZGSVhdLmluY2x1ZGVzKGMpfSl9ZnVuY3Rpb24gcShuKXtsZXQgdD0wLGU9MDtmb3IoO25bZV09PT0yNTU7KXQrPTI1NSxlKys7dCs9bltlXSxlKys7bGV0IGk9MDtmb3IoO25bZV09PT0yNTU7KWkrPTI1NSxlKys7cmV0dXJuIGkrPW5bZV0sZSsrLHt0eXBlOnQsY29udGVudDpuLnN1YmFycmF5KGUsZStpKX19ZnVuY3Rpb24gVihuKXtjb25zdCB0PW5ldyBVaW50OEFycmF5KFQoTikpLGU9bmV3IFVpbnQ4QXJyYXkoVChSKSksaT1uZXcgVWludDhBcnJheShUKEEpKTtyZXR1cm4gdC5ldmVyeSgocyxhKT0+cz09PW5bYV0pP2guVElNRUNPREU6ZS5ldmVyeSgocyxhKT0+cz09PW5bYV0pP2guTEVHQUNZOmkuZXZlcnkoKHMsYSk9PnM9PT1uW2FdKT9oLk5FVzpoLk9USEVSfWZ1bmN0aW9uIFkobix0KXtsZXQgZT0wO24udXVpZD10LnN1YmFycmF5KGUsZSsxNiksZSs9MTY7Y29uc3QgaT1WKG4udXVpZCkscz10LnN1YmFycmF5KGUpO3N3aXRjaChpKXtjYXNlIGguTEVHQUNZOmNhc2UgaC5PVEhFUjpuLnVucmVnaXN0ZXJlZD1zO2JyZWFrO2Nhc2UgaC5USU1FQ09ERTpuLnRpbWVjb2RlPUQocyk7YnJlYWs7Y2FzZSBoLk5FVzp7bGV0IGE9MDtjb25zdCByPUwoRGF0ZS5ub3coKSkubGVuZ3RoLGM9cy5zdWJhcnJheShhLHIpO2ErPXI7Y29uc3Qgbz1zLnN1YmFycmF5KGEpO24udGltZWNvZGU9RChjKSxuLnVucmVnaXN0ZXJlZD1vO2JyZWFrfX19ZnVuY3Rpb24gRChuKXtjb25zdCB0PW4ucmVkdWNlKChhLHIpPT4oYTw8QmlnSW50KDgpKStCaWdJbnQociksQmlnSW50KDApKSxlPU51bWJlcih0KSxpPW5ldyBEYXRlKGUpO3JldHVybiBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoaS50b0lTT1N0cmluZygpKX1mdW5jdGlvbiBqKG4sdCl7dmFyIGYsbSxwLEUsZDtpZighZy5hY3RpdmVTUFMpe2NvbnNvbGUud2FybigiQ2Fubm90IGZpbmQgdGhlIGFjdGl2ZSBTUFMiKTtyZXR1cm59Y29uc3QgZT0oZj1nLmFjdGl2ZVNQUy52dWlfcGFyYW1ldGVycy5uYWxfaHJkX3BhcmFtZXRlcnMpIT1udWxsP2Y6Zy5hY3RpdmVTUFMudnVpX3BhcmFtZXRlcnMudmNsX2hyZF9wYXJhbWV0ZXJzLGk9e2NwYl9kcGJfZGVsYXlzX3ByZXNlbnRfZmxhZzplPzE6MCxjcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxOihtPWU9PW51bGw/dm9pZCAwOmUuY3BiX3JlbW92YWxfZGVsYXlfbGVuZ3RoX21pbnVzMSkhPW51bGw/bToyMyxkcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czE6KHA9ZT09bnVsbD92b2lkIDA6ZS5kcGJfb3V0cHV0X2RlbGF5X2xlbmd0aF9taW51czEpIT1udWxsP3A6MjMsdGltZV9vZmZzZXRfbGVuZ3RoOmU/KEU9ZS50aW1lX29mZnNldF9sZW5ndGgpIT1udWxsP0U6MjQ6dm9pZCAwLHBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnOihkPWcuYWN0aXZlU1BTLnZ1aV9wYXJhbWV0ZXJzLnBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnKSE9bnVsbD9kOjB9O2lmKCFpLnBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnKXtjb25zb2xlLndhcm4oInBpY19zdHJ1Y3RfcHJlc2VudF9mbGFnIGlzIG5vdCBwcmVzZW50Iik7cmV0dXJufWNvbnN0IHM9bmV3IHcodCk7aS5jcGJfZHBiX2RlbGF5c19wcmVzZW50X2ZsYWcmJihzLnNraXAoaS5jcGJfcmVtb3ZhbF9kZWxheV9sZW5ndGhfbWludXMxKzEpLHMuc2tpcChpLmRwYl9vdXRwdXRfZGVsYXlfbGVuZ3RoX21pbnVzMSsxKSk7Y29uc3QgYT1bMSwxLDEsMiwyLDMsMywyLDNdLHI9cy5yZWFkQml0cyg0KTtpZihyPj1hLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoIkludmFsaWQgcGljX3N0cnVjdCIpO2NvbnN0IGM9YVtyXSxvPVtdO2ZvcihsZXQgdT0wO3U8Yzt1KyspaWYocy5yZWFkQml0cygxKSl7Y29uc3QgbD17fTtzLnNraXAoMikscy5za2lwKDEpLHMuc2tpcCg1KTtjb25zdCBHPXMucmVhZEJpdHMoMSk7aWYocy5za2lwKDIpLGwubl9mcmFtZXM9cy5yZWFkQml0cyg4KSxHPyhsLnNlY29uZHNfdmFsdWU9cy5yZWFkQml0cyg2KSxsLm1pbnV0ZXNfdmFsdWU9cy5yZWFkQml0cyg2KSxsLmhvdXJzX3ZhbHVlPXMucmVhZEJpdHMoNSkpOnMucmVhZEJpdHMoMSkmJihsLnNlY29uZHNfdmFsdWU9cy5yZWFkQml0cyg2KSxzLnJlYWRCaXRzKDEpJiYobC5taW51dGVzX3ZhbHVlPXMucmVhZEJpdHMoNikscy5yZWFkQml0cygxKSYmKGwuaG91cnNfdmFsdWU9cy5yZWFkQml0cyg1KSkpKSxpLnRpbWVfb2Zmc2V0X2xlbmd0aCl0cnl7bC50aW1lX29mZnNldD1zLnJlYWRCaXRzKGkudGltZV9vZmZzZXRfbGVuZ3RoKX1jYXRjaChVKXtjb25zb2xlLmVycm9yKCJGYWlsZWQgdG8gcmVhZCB0aW1lX29mZnNldCIsVSksbC50aW1lX29mZnNldD0wfWVsc2UgbC50aW1lX29mZnNldD0wO28ucHVzaChsKX1uLnNlaVBpY1RpbWluZ1RpbWVDb2RlQXJyYXk9b31mdW5jdGlvbiBYKG4sdCl7aWYodCE9PSJIMjY0IiYmdCE9PSJIMjY1Iil0aHJvdyBuZXcgRXJyb3IoIlVuc3VwcG9ydGVkIGNvZGVjICIuY29uY2F0KHQpKTtjb25zdCBlPXt9O3JldHVybiBnLmNvZGVjPXQsRihuZXcgVWludDhBcnJheShuLmRhdGEpLHQpLmZvckVhY2goaT0+e2NvbnN0IHM9aVsyXT09PTE/Mzo0LGE9dD09PSJIMjY0Ij8xOjIscj1QKGkuc3ViYXJyYXkocythKSksYz1xKHIpO3N3aXRjaChjLnR5cGUpe2Nhc2UgSC5QSUNfVElNSU5HOmooZSxjLmNvbnRlbnQpO2JyZWFrO2Nhc2UgSC5VU0VSX0RBVEFfVU5SRUdJU1RFUkVEOlkoZSxjLmNvbnRlbnQpO2JyZWFrfX0pLGV9ZnVuY3Rpb24gJChuKXtyZXR1cm4vXlswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSQvLnRlc3Qobil9ZnVuY3Rpb24gVChuKXtyZXR1cm4gbi5yZXBsYWNlKC8tL2csIiIpLm1hdGNoKC8uezEsMn0vZykubWFwKHQ9PnBhcnNlSW50KHQsMTYpKX1mdW5jdGlvbiBKKG4sdCxlKXtjb25zdCBpPW5ldyBVaW50OEFycmF5KFQobikpLHM9TChlKSxhPW5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShKU09OLnN0cmluZ2lmeSh0KSkscj1uZXcgVWludDhBcnJheShpLmxlbmd0aCtzLmxlbmd0aCthLmxlbmd0aCk7cmV0dXJuIHIuc2V0KGkpLHIuc2V0KHMsaS5sZW5ndGgpLHIuc2V0KGEscy5sZW5ndGgraS5sZW5ndGgpLHJ9ZnVuY3Rpb24gSyhuKXtjb25zdCB0PVtdLGU9TWF0aC5mbG9vcihuLmJ5dGVMZW5ndGgvMjU1KSxpPW4uYnl0ZUxlbmd0aCUyNTU7Zm9yKGxldCBzPTA7czxlO3MrKyl0LnB1c2goMjU1KTtyZXR1cm4gdC5wdXNoKGkpLG5ldyBVaW50OEFycmF5KFs1LC4uLnRdKX1mdW5jdGlvbiBaKG4pe2NvbnN0IHQ9W107Zm9yKGxldCBlPTA7ZTxuLmJ5dGVMZW5ndGg7ZSsrKWUrMjxuLmJ5dGVMZW5ndGgmJlswLDEsMiwzXS5pbmNsdWRlcyhuW2UrMl0pJiZuW2VdPT09MCYmbltlKzFdPT09MD8odC5wdXNoKG5bZV0pLHQucHVzaChuW2UrMV0pLGUrPTIsdC5wdXNoKDMpKTp0LnB1c2gobltlXSk7cmV0dXJuIHQucHVzaCgxMjgpLG5ldyBVaW50OEFycmF5KHQpfWZ1bmN0aW9uIEwobil7Y29uc3QgdD1bXTtpZighaXNOYU4obikpe2NvbnN0IGU9QmlnSW50KG4pO2ZvcihsZXQgaT0wO2k8TWF0aC5jZWlsKE1hdGguZmxvb3IoTWF0aC5sb2cyKG5ldyBOdW1iZXIobikpKzEpLzgpO2krKyl0LnVuc2hpZnQobmV3IE51bWJlcihlPj5CaWdJbnQoOCppKSZCaWdJbnQoMjU1KSkpfXJldHVybiBuZXcgVWludDhBcnJheSh0KX1mdW5jdGlvbiBRKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KXtjb25zdCBpPVswLDAsMCwxXSxzPVsxMDJdLGE9SihuLHQsZSkscj1LKGEpLGM9WihhKSxvPW5ldyBVaW50OEFycmF5KGkubGVuZ3RoK3MubGVuZ3RoK3IubGVuZ3RoK2MubGVuZ3RoKTtyZXR1cm4gby5zZXQoaSksby5zZXQocyxpLmxlbmd0aCksby5zZXQocixpLmxlbmd0aCtzLmxlbmd0aCksby5zZXQoYyxpLmxlbmd0aCtzLmxlbmd0aCtyLmxlbmd0aCksb31mdW5jdGlvbiBlZSh7dXVpZDpuLHBheWxvYWQ6dCx0aW1lY29kZTplfSxpKXtpZihuPT09IiJ8fHQ9PT0iIil0aHJvdyBuZXcgRXJyb3IoInV1aWQgYW5kIHBheWxvYWQgY2Fubm90IGJlIGVtcHR5Iik7JChuKXx8KGNvbnNvbGUud2FybigiSW52YWxpZCBVVUlELiBVc2luZyBkZWZhdWx0IFVVSUQuIiksbj1BLGU9RGF0ZS5ub3coKSk7Y29uc3Qgcz1RKHt1dWlkOm4scGF5bG9hZDp0LHRpbWVjb2RlOmV9KSxhPW5ldyBEYXRhVmlldyhpLmRhdGEpLHI9bmV3IEFycmF5QnVmZmVyKGkuZGF0YS5ieXRlTGVuZ3RoK3MuYnl0ZUxlbmd0aCksYz1uZXcgRGF0YVZpZXcocik7Zm9yKGxldCBvPTA7bzxpLmRhdGEuYnl0ZUxlbmd0aDtvKyspYy5zZXRVaW50OChvLGEuZ2V0VWludDgobykpO2ZvcihsZXQgbz0wO288cy5ieXRlTGVuZ3RoO28rKyljLnNldFVpbnQ4KGkuZGF0YS5ieXRlTGVuZ3RoK28sc1tvXSk7aS5kYXRhPXJ9Y29uc3QgdGU9MmUzLHk9W107bGV0IFM9IiIsaz17fTtjb25zdCBiPXt9O2xldCB4PVtdO2Z1bmN0aW9uIHYobil7cmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe3N0YXJ0KCl7fSxmbHVzaCgpe30sYXN5bmMgdHJhbnNmb3JtKHQsZSl7dmFyIGkscztpZih0IGluc3RhbmNlb2YgUlRDRW5jb2RlZFZpZGVvRnJhbWUpe2NvbnN0IGE9KChpPWtbdC5nZXRNZXRhZGF0YSgpLnBheWxvYWRUeXBlXSk9PW51bGw/dm9pZCAwOmkudG9VcHBlckNhc2UoKSl8fChTPT1udWxsP3ZvaWQgMDpTLnRvVXBwZXJDYXNlKCkpO2lmKGE9PT0iSDI2NCIpe2NvbnN0IHI9WCh0LGEpOyhyLnRpbWVjb2RlfHxyLnVucmVnaXN0ZXJlZHx8KChzPXIuc2VpUGljVGltaW5nVGltZUNvZGVBcnJheSk9PW51bGw/dm9pZCAwOnMubGVuZ3RoKT4wKSYmc2VsZi5wb3N0TWVzc2FnZSh7bWlkOm4sbWV0YWRhdGE6cn0pfX1lLmVucXVldWUodCl9fSl9ZnVuY3Rpb24gTygpe09iamVjdC5rZXlzKGIpLnNvcnQoKS5qb2luKCk9PT14LnNvcnQoKS5qb2luKCkmJih5LnNoaWZ0KCkseD1bXSl9ZnVuY3Rpb24gbmUobil7Y29uc3QgdD1uZXcgRGF0ZSgpLmdldFRpbWUoKTtiW25dPXQsT2JqZWN0LmtleXMoYikuZmlsdGVyKGk9PnQtYltpXT50ZSkuZm9yRWFjaChpPT57ZGVsZXRlIGJbaV0sZGVsZXRlIHhbaV19KSxPKCl9ZnVuY3Rpb24gTSgpe3JldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtzdGFydCgpe30sZmx1c2goKXt9LGFzeW5jIHRyYW5zZm9ybShuLHQpe2lmKG4gaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgaT1uLmdldE1ldGFkYXRhKCkuc3luY2hyb25pemF0aW9uU291cmNlO2lmKG5lKGkpLCF4LmluY2x1ZGVzKGkpJiZ5Lmxlbmd0aCl0cnl7aWYoIS8oaDI2WzRdKS8udGVzdChTKSl0aHJvdyBuZXcgRXJyb3IoIlNlbmRpbmcgbWV0YWRhdGEgaXMgbm90IHN1cHBvcnRlZCB3aXRoIGFueSBvdGhlciBjb2RlYyBvdGhlciB0aGFuIEguMjY0Iik7eVswXS51dWlkPT09QSYmKHlbMF0udGltZWNvZGU9RGF0ZS5ub3coKSksZWUoeVswXSxuKSx4LnB1c2goaSl9Y2F0Y2gocyl7Y29uc29sZS5lcnJvcihzKX1maW5hbGx5e08oKX19dC5lbnF1ZXVlKG4pfX0pfWZ1bmN0aW9uIEIoe3JlYWRhYmxlOm4sd3JpdGFibGU6dH0sZSl7bi5waXBlVGhyb3VnaChlKS5waXBlVG8odCl9YWRkRXZlbnRMaXN0ZW5lcigicnRjdHJhbnNmb3JtIixuPT57bGV0IHQ7aWYobi50cmFuc2Zvcm1lci5vcHRpb25zLm5hbWU9PT0ic2VuZGVyVHJhbnNmb3JtIilTPW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlYyx0PU0oKTtlbHNlIGlmKG4udHJhbnNmb3JtZXIub3B0aW9ucy5uYW1lPT09InJlY2VpdmVyVHJhbnNmb3JtIilrPW4udHJhbnNmb3JtZXIub3B0aW9ucy5wYXlsb2FkVHlwZUNvZGVjfHx7fSxTPW4udHJhbnNmb3JtZXIub3B0aW9ucy5jb2RlY3x8IiIsdD12KG4udHJhbnNmb3JtZXIub3B0aW9ucy5taWQpO2Vsc2UgcmV0dXJuO0Iobi50cmFuc2Zvcm1lcix0KX0pLGFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLG49Pntjb25zdHthY3Rpb246dH09bi5kYXRhO3N3aXRjaCh0KXtjYXNlImluc2VydGFibGUtc3RyZWFtcy1zZW5kZXIiOlM9bi5kYXRhLmNvZGVjLEIobi5kYXRhLE0oKSk7YnJlYWs7Y2FzZSJpbnNlcnRhYmxlLXN0cmVhbXMtcmVjZWl2ZXIiOms9bi5kYXRhLnBheWxvYWRUeXBlQ29kZWN8fHt9LFM9bi5kYXRhLmNvZGVjfHwiIixCKG4uZGF0YSx2KG4uZGF0YS5taWQpKTticmVhaztjYXNlIm1ldGFkYXRhLXNlaS11c2VyLWRhdGEtdW5yZWdpc3RlcmVkIjp5LnB1c2goe3V1aWQ6bi5kYXRhLnV1aWQscGF5bG9hZDpuLmRhdGEucGF5bG9hZH0pO2JyZWFrfX0pfSkoKTsK",ui=e=>Uint8Array.from(atob(e),e=>e.charCodeAt(0)),di=typeof window<"u"&&window.Blob&&new Blob([ui(li)],{type:"text/javascript;charset=utf-8"});function fi(e){let t;try{if(t=di&&(window.URL||window.webkitURL).createObjectURL(di),!t)throw"";const n=new Worker(t,{name:null==e?void 0:e.name});return n.addEventListener("error",()=>{(window.URL||window.webkitURL).revokeObjectURL(t)}),n}catch(n){return new Worker("data:text/javascript;base64,"+li,{name:null==e?void 0:e.name})}finally{t&&(window.URL||window.webkitURL).revokeObjectURL(t)}}const pi=W.get("Publish"),hi={mediaStream:null,bandwidth:0,metadata:!1,disableVideo:!1,disableAudio:!1,codec:ur.H264,simulcast:!1,scalabilityMode:null,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}};class mi extends oi{constructor(e,t,n=!0){e&&pi.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),super(null,t,pi,n)}async connect(e=hi){const t=ti.object({sourceId:ti.string(),stereo:ti.boolean(),dtx:ti.boolean(),absCaptureTime:ti.boolean(),dependencyDescriptor:ti.boolean(),mediaStream:ti.alternatives().try(ti.array().items(ti.object()),ti.object()),bandwidth:ti.number(),metadata:ti.boolean(),disableVideo:ti.boolean(),disableAudio:ti.boolean(),codec:ti.string().valid(...Object.values(ur)),simulcast:ti.boolean(),scalabilityMode:ti.string(),peerConfig:ti.object(),record:ti.boolean(),events:ti.array().items(ti.string().valid("active","inactive","viewercount")),priority:ti.number()}),{error:n,value:r}=t.validate(e);n&&pi.warn(n,r),this.options=f(d(d({},hi),e),{peerConfig:d(d({},hi.peerConfig),e.peerConfig),setSDPToPeer:!1}),this.options.metadata=this.options.metadata&&this.options.codec===ur.H264&&!this.options.disableVideo,await this.initConnection({migrate:!1})}async reconnect(e){var t,n;this.options.mediaStream=null!=(n=null==(t=this.webRTCPeer)?void 0:t.getTracks())?n:this.options.mediaStream,super.reconnect(e)}async replaceConnection(){var e,t;pi.info("Migrating current connection"),this.options.mediaStream=null!=(t=null==(e=this.webRTCPeer)?void 0:e.getTracks())?t:this.options.mediaStream,await this.initConnection({migrate:!0})}async record(){var e;this.recordingAvailable?(this.options.record=!0,await(null==(e=this.signaling)?void 0:e.cmd("record")),pi.info("Broadcaster start recording")):pi.error("Record not available")}async unrecord(){var e;this.recordingAvailable?(this.options.record=!1,await(null==(e=this.signaling)?void 0:e.cmd("unrecord")),pi.info("Broadcaster stop recording")):pi.error("Unrecord not available")}stop(){var e;super.stop(),null==(e=this.worker)||e.terminate(),this.worker=null}async initConnection(e){var t,n;let r,i;if(pi.debug("Broadcast option values: ",this.options),this.stopReconnection=!1,!this.options.mediaStream)throw pi.error("Error while broadcasting. MediaStream required"),new Error("MediaStream required");if(!e.migrate&&this.isActive())throw pi.warn("Broadcast currently working"),new Error("Broadcast currently working");try{i=await this.tokenGenerator(),this.options.peerConfig.iceServers=null==i?void 0:i.iceServers,this.options.peerConfig.encodedInsertableStreams=this.options.metadata}catch(v){throw pi.error("Error generating token."),v instanceof Nr&&(401!==v.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),v}if(!i)throw pi.error("Error while broadcasting. Publisher data required"),new Error("Publisher data required");const o=Kr(i.jwt);if(this.streamName=o.millicast.streamName,this.recordingAvailable=o[Qr.atob("bWlsbGljYXN0")].record,this.options.record&&!this.recordingAvailable)throw pi.error("Error while broadcasting. Record option detected but recording is not available"),new Error("Record option detected but recording is not available");const s=new Ar({streamName:this.streamName,url:"".concat(i.urls[0],"?token=").concat(i.jwt)}),a=e.migrate?new gr:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig,hr.Publisher),null==(t=this.stopReemitingWebRTCPeerInstanceEvents)||t.call(this),null==(n=this.stopReemitingSignalingInstanceEvents)||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=ye(a,this,[mr.connectionStateChange]),this.stopReemitingSignalingInstanceEvents=ye(s,this,[Pr.broadcastEvent]);const c=a.getRTCLocalSDP(this.options),l=s.connect();r=await Promise.all([c,l]);const u=r[0];this.options.metadata&&(this.worker||(this.worker=new fi),this.getRTCPeerConnection().getSenders().forEach(e=>{if(ci)e.transform=new RTCRtpScriptTransform(this.worker,{name:"senderTransform",codec:this.options.codec});else if(ai){const{readable:t,writable:n}=e.createEncodedStreams();this.worker.postMessage({action:"insertable-streams-sender",codec:this.options.codec,readable:t,writable:n},[t,n])}}));let d=this.signaling;this.signaling=s;const f=this.signaling.publish(u,this.options),p=a.peer.setLocalDescription(a.sessionDescription);r=await Promise.all([f,p]);let h=r[0];!this.options.disableVideo&&this.options.bandwidth>0&&(h=a.updateBandwidthRestriction(h,this.options.bandwidth)),await a.setRTCRemoteSDP(h),pi.info("Broadcasting to streamName: ",this.streamName);let m=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(mr.connectionStateChange,e=>{var t,n;["connected","disconnected","failed","closed"].includes(e)&&(null==(t=null==d?void 0:d.close)||t.call(d),null==(n=null==m?void 0:m.closeRTCPeer)||n.call(m),d=m=null)})}sendMetadata(e,t=fr){var n;if(null!=(n=this.options)&&n.metadata&&this.worker)this.worker.postMessage({action:"metadata-sei-user-data-unregistered",uuid:t,payload:e});else{let e="Could not send metadata due to:";this.options?this.options.metadata?this.worker||(e+="\n- Stream not being published."):(e+="\n- Metadata option is not enabled.",this.options.codec!==ur.H264&&(e+="\n- Incompatible codec. Only H264 available."),this.options.disableVideo&&(e+="\n- Video disabled.")):e+="\n- Stream not being published.",pi.warn(e)}}}const vi=W.get("View"),gi={metadata:!1,disableVideo:!1,disableAudio:!1,peerConfig:{autoInitStats:!0,statsIntervalMs:1e3}};class bi extends oi{constructor(e,t,n=null,r=!0){e&&vi.warn("The streamName property has been deprecated. In a future release, this will be removed. Please do not rely on this value. Instead, set via token generator"),super(null,t,vi,r),this.payloadTypeCodec={},this.tracksMidValues={},n&&this.on(mr.track,e=>{n.srcObject=e.streams[0]})}async connect(e=gi){this.options=f(d(d({},gi),e),{peerConfig:d(d({},gi.peerConfig),e.peerConfig),setSDPToPeer:!1}),await this.initConnection({migrate:!1})}async select(e={}){vi.debug("Viewer select layer values: ",e),await this.signaling.cmd("select",{layer:e}),vi.info("Connected to streamName: ",this.streamName)}async addRemoteTrack(e,t){return vi.info("Viewer adding remote % track",e),this.webRTCPeer.addRemoteTrack(e,t)}async project(e,t){for(const n of t){if(!n.trackId&&!n.media)throw vi.error("Error in projection mapping, trackId or mediaId must be set"),new Error("Error in projection mapping, trackId or mediaId must be set");const e=this.webRTCPeer.getRTCPeer();if(n.mediaId&&!e.getTransceivers().find(e=>e.mid===n.mediaId.toString()))throw vi.error("Error in projection mapping, ".concat(n.mediaId," mid not found in local transceivers")),new Error("Error in projection mapping, ".concat(n.mediaId," mid not found in local transceivers"))}vi.debug("Viewer project source: layer mappings: ",e,t),await this.signaling.cmd("project",{sourceId:e,mapping:t}),vi.info("Projection done")}async unproject(e){vi.debug("Viewer unproject mediaIds: ",e),await this.signaling.cmd("unproject",{mediaIds:e}),vi.info("Unprojection done")}async replaceConnection(){vi.info("Migrating current connection"),await this.initConnection({migrate:!0})}stop(){var e;super.stop(),null==(e=this.worker)||e.terminate(),this.worker=null,this.payloadTypeCodec={},this.tracksMidValues={}}async initConnection(e){var t,n;let r,i;if(vi.debug("Viewer connect options values: ",this.options),this.stopReconnection=!1,!e.migrate&&this.isActive())throw vi.warn("Viewer currently subscribed"),new Error("Viewer currently subscribed");try{i=await this.tokenGenerator(),this.options.peerConfig.iceServers=null==i?void 0:i.iceServers,this.options.metadata&&(this.options.peerConfig.encodedInsertableStreams=ai)}catch(b){throw vi.error("Error generating token."),b instanceof Nr&&(401!==b.status&&this.autoReconnect?this.reconnect():this.stopReconnection=!0),b}if(!i)throw vi.error("Error while subscribing. Subscriber data required"),new Error("Subscriber data required");const o=Kr(i.jwt);this.streamName=o.millicast.streamName;const s=new Ar({streamName:this.streamName,url:"".concat(i.urls[0],"?token=").concat(i.jwt)}),a=e.migrate?new gr:this.webRTCPeer;await a.createRTCPeer(this.options.peerConfig),null==(t=this.stopReemitingWebRTCPeerInstanceEvents)||t.call(this),null==(n=this.stopReemitingSignalingInstanceEvents)||n.call(this),this.stopReemitingWebRTCPeerInstanceEvents=ye(a,this,Object.values(mr)),this.stopReemitingSignalingInstanceEvents=ye(s,this,[Pr.broadcastEvent]),this.options.metadata&&(this.worker||(this.worker=new fi),a.on("track",e=>{var t,n,r;if(this.tracksMidValues[null==(t=e.transceiver)?void 0:t.mid]=e.track,ci)e.receiver.transform=new RTCRtpScriptTransform(this.worker,{name:"receiverTransform",payloadTypeCodec:d({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(n=e.transceiver)?void 0:n.mid});else if(ai){const{readable:t,writable:n}=e.receiver.createEncodedStreams();this.worker.postMessage({action:"insertable-streams-receiver",payloadTypeCodec:d({},this.payloadTypeCodec),codec:this.options.metadata&&"h264",mid:null==(r=e.transceiver)?void 0:r.mid,readable:t,writable:n},[t,n])}}),this.worker.onmessage=e=>{const t=new TextDecoder,n=e.data.metadata;if(n.mid=e.data.mid,n.track=this.tracksMidValues[e.data.mid],n.uuid){const e=n.uuid;n.uuid=e.reduce((e,t)=>e+t.toString(16).padStart(2,"0"),""),n.uuid=n.uuid.replace(/(.{8})(.{4})(.{4})(.{4})(.{12})/,"$1-$2-$3-$4-$5")}if(n.timecode&&(n.timecode=new Date(t.decode(n.timecode))),n.unregistered){const e=t.decode(n.unregistered);try{const t=JSON.parse(e);n.unregistered=t}catch(r){vi.info("The content could not be converted to JSON, returning raw bytes instead")}}this.emit("metadata",n),this.emit("onMetadata",n)});const c=a.getRTCLocalSDP(f(d({},this.options),{stereo:!0})),l=s.connect();r=await Promise.all([c,l]);const u=r[0];let p=this.signaling;this.signaling=s;const h=this.signaling.subscribe(u,f(d({},this.options),{vad:this.options.multiplexedAudioTracks>0})),m=a.peer.setLocalDescription(a.sessionDescription);r=await Promise.all([h,m]);const v=r[0];this.payloadTypeCodec=cr.getCodecPayloadType(v),await a.setRTCRemoteSDP(v),vi.info("Connected to streamName: ",this.streamName);let g=this.webRTCPeer;this.webRTCPeer=a,this.setReconnect(),e.migrate&&this.webRTCPeer.on(mr.connectionStateChange,e=>{var t,n;"connected"===e?setTimeout(()=>{var e,t;null==(e=null==p?void 0:p.close)||e.call(p),null==(t=null==g?void 0:g.closeRTCPeer)||t.call(g),p=g=null,vi.info("Current connection migrated")},1e3):["disconnected","failed","closed"].includes(e)&&(null==(t=null==p?void 0:p.close)||t.call(p),null==(n=null==g?void 0:g.closeRTCPeer)||n.call(g),p=g=null)})}}e.Director=zr,e.Logger=W,e.PeerConnection=gr,e.Publish=mi,e.Signaling=Ar,e.View=bi,Object.defineProperty(e,Symbol.toStringTag,{value:"Module"})}))}).call(this,n("c8ba"),n("4362"))},e01a:function(e,t,n){"use strict";var r=n("23e7"),i=n("83ab"),o=n("da84"),s=n("e330"),a=n("1a2d"),c=n("1626"),l=n("3a9b"),u=n("577e"),d=n("edd0"),f=n("e893"),p=o.Symbol,h=p&&p.prototype;if(i&&c(p)&&(!("description"in h)||void 0!==p().description)){var m={},v=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=l(h,this)?new p(e):void 0===e?p():p(e);return""===e&&(m[t]=!0),t};f(v,p),v.prototype=h,h.constructor=v;var g="Symbol(description detection)"===String(p("description detection")),b=s(h.valueOf),y=s(h.toString),w=/^Symbol\((.*)\)[^)]+$/,S=s("".replace),_=s("".slice);d(h,"description",{configurable:!0,get:function(){var e=b(this);if(a(m,e))return"";var t=y(e),n=g?_(t,7,-1):S(t,w,"$1");return""===n?void 0:n}}),r({global:!0,constructor:!0,forced:!0},{Symbol:v})}},e065:function(e,t,n){"use strict";var r=n("428f"),i=n("1a2d"),o=n("e538"),s=n("9bf2").f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||s(t,e,{value:o.f(e)})}},e163:function(e,t,n){"use strict";var r=n("1a2d"),i=n("1626"),o=n("7b0b"),s=n("f772"),a=n("e177"),c=s("IE_PROTO"),l=Object,u=l.prototype;e.exports=a?l.getPrototypeOf:function(e){var t=o(e);if(r(t,c))return t[c];var n=t.constructor;return i(n)&&t instanceof n?n.prototype:t instanceof l?u:null}},e177:function(e,t,n){"use strict";var r=n("d039");e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},e25e:function(e,t,n){"use strict";var r=n("23e7"),i=n("c20d");r({global:!0,forced:parseInt!==i},{parseInt:i})},e260:function(e,t,n){"use strict";var r=n("fc6a"),i=n("44d2"),o=n("3f8c"),s=n("69f3"),a=n("9bf2").f,c=n("c6d2"),l=n("4754"),u=n("c430"),d=n("83ab"),f="Array Iterator",p=s.set,h=s.getterFor(f);e.exports=c(Array,"Array",(function(e,t){p(this,{type:f,target:r(e),index:0,kind:t})}),(function(){var e=h(this),t=e.target,n=e.index++;if(!t||n>=t.length)return e.target=void 0,l(void 0,!0);switch(e.kind){case"keys":return l(n,!1);case"values":return l(t[n],!1)}return l([n,t[n]],!1)}),"values");var m=o.Arguments=o.Array;if(i("keys"),i("values"),i("entries"),!u&&d&&"values"!==m.name)try{a(m,"name",{value:"values"})}catch(v){}},e267:function(e,t,n){"use strict";var r=n("e330"),i=n("e8b5"),o=n("1626"),s=n("c6b6"),a=n("577e"),c=r([].push);e.exports=function(e){if(o(e))return e;if(i(e)){for(var t=e.length,n=[],r=0;r<t;r++){var l=e[r];"string"==typeof l?c(n,l):"number"!=typeof l&&"Number"!==s(l)&&"String"!==s(l)||c(n,a(l))}var u=n.length,d=!0;return function(e,t){if(d)return d=!1,t;if(i(this))return t;for(var r=0;r<u;r++)if(n[r]===e)return t}}}},e330:function(e,t,n){"use strict";var r=n("40d5"),i=Function.prototype,o=i.call,s=r&&i.bind.bind(o,o);e.exports=r?s:function(e){return function(){return o.apply(e,arguments)}}},e391:function(e,t,n){"use strict";var r=n("577e");e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:r(e)}},e444:function(e,t,n){},e538:function(e,t,n){"use strict";var r=n("b622");t.f=r},e5cb:function(e,t,n){"use strict";var r=n("d066"),i=n("1a2d"),o=n("9112"),s=n("3a9b"),a=n("d2bb"),c=n("e893"),l=n("aeb0"),u=n("7156"),d=n("e391"),f=n("ab36"),p=n("6f19"),h=n("83ab"),m=n("c430");e.exports=function(e,t,n,v){var g="stackTraceLimit",b=v?2:1,y=e.split("."),w=y[y.length-1],S=r.apply(null,y);if(S){var _=S.prototype;if(!m&&i(_,"cause")&&delete _.cause,!n)return S;var x=r("Error"),k=t((function(e,t){var n=d(v?t:e,void 0),r=v?new S(e):new S;return void 0!==n&&o(r,"message",n),p(r,k,r.stack,2),this&&s(_,this)&&u(r,this,k),arguments.length>b&&f(r,arguments[b]),r}));if(k.prototype=_,"Error"!==w?a?a(k,x):c(k,x,{name:!0}):h&&g in S&&(l(k,S,g),l(k,S,"prepareStackTrace")),c(k,S),!m)try{_.name!==w&&o(_,"name",w),_.constructor=k}catch(O){}return k}}},e667:function(e,t,n){"use strict";e.exports=function(e){try{return{error:!1,value:e()}}catch(t){return{error:!0,value:t}}}},e6cf:function(e,t,n){"use strict";n("5e7e"),n("14e5"),n("cc98"),n("3529"),n("f22b"),n("7149")},e893:function(e,t,n){"use strict";var r=n("1a2d"),i=n("56ef"),o=n("06cf"),s=n("9bf2");e.exports=function(e,t,n){for(var a=i(t),c=s.f,l=o.f,u=0;u<a.length;u++){var d=a[u];r(e,d)||n&&r(n,d)||c(e,d,l(t,d))}}},e8b5:function(e,t,n){"use strict";var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"===r(e)}},e902:function(e,t,n){},e95a:function(e,t,n){"use strict";var r=n("b622"),i=n("3f8c"),o=r("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||s[o]===e)}},e9c4:function(e,t,n){"use strict";var r=n("23e7"),i=n("d066"),o=n("2ba4"),s=n("c65b"),a=n("e330"),c=n("d039"),l=n("1626"),u=n("d9b5"),d=n("f36a"),f=n("e267"),p=n("04f8"),h=String,m=i("JSON","stringify"),v=a(/./.exec),g=a("".charAt),b=a("".charCodeAt),y=a("".replace),w=a(1..toString),S=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,k=!p||c((function(){var e=i("Symbol")("stringify detection");return"[null]"!==m([e])||"{}"!==m({a:e})||"{}"!==m(Object(e))})),O=c((function(){return'"\\udf06\\ud834"'!==m("\udf06\ud834")||'"\\udead"'!==m("\udead")})),C=function(e,t){var n=d(arguments),r=f(t);if(l(r)||void 0!==e&&!u(e))return n[1]=function(e,t){if(l(r)&&(t=s(r,this,h(e),t)),!u(t))return t},o(m,null,n)},E=function(e,t,n){var r=g(n,t-1),i=g(n,t+1);return v(_,e)&&!v(x,i)||v(x,e)&&!v(_,r)?"\\u"+w(b(e,0),16):e};m&&r({target:"JSON",stat:!0,arity:3,forced:k||O},{stringify:function(e,t,n){var r=d(arguments),i=o(k?C:m,null,r);return O&&"string"==typeof i?y(i,S,E):i}})},eb1d:function(e,t,n){"use strict";var r=n("c430"),i=n("da84"),o=n("d039"),s=n("512c");e.exports=r||!o((function(){if(!(s&&s<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete i[e]}}))},edd0:function(e,t,n){"use strict";var r=n("13d2"),i=n("9bf2");e.exports=function(e,t,n){return n.get&&r(n.get,t,{getter:!0}),n.set&&r(n.set,t,{setter:!0}),i.f(e,t,n)}},efec:function(e,t,n){"use strict";var r=n("1a2d"),i=n("cb2d"),o=n("51eb"),s=n("b622"),a=s("toPrimitive"),c=Date.prototype;r(c,a)||i(c,a,o)},f069:function(e,t,n){"use strict";var r=n("59ed"),i=TypeError,o=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw new i("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new o(e)}},f098:function(e,t,n){"use strict";n("1323")},f22b:function(e,t,n){"use strict";var r=n("23e7"),i=n("f069"),o=n("4738").CONSTRUCTOR;r({target:"Promise",stat:!0,forced:o},{reject:function(e){var t=i.f(this),n=t.reject;return n(e),t.promise}})},f36a:function(e,t,n){"use strict";var r=n("e330");e.exports=r([].slice)},f45e:function(e,t,n){},f5b2:function(e,t,n){"use strict";var r=n("23e7"),i=n("6547").codeAt;r({target:"String",proto:!0},{codePointAt:function(e){return i(this,e)}})},f5df:function(e,t,n){"use strict";var r=n("00ee"),i=n("1626"),o=n("c6b6"),s=n("b622"),a=s("toStringTag"),c=Object,l="Arguments"===o(function(){return arguments}()),u=function(e,t){try{return e[t]}catch(n){}};e.exports=r?o:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=u(t=c(e),a))?n:l?o(t):"Object"===(r=o(t))&&i(t.callee)?"Arguments":r}},f63a:function(e,t,n){"use strict";n("d463")},f772:function(e,t,n){"use strict";var r=n("5692"),i=n("90e3"),o=r("keys");e.exports=function(e){return o[e]||(o[e]=i(e))}},fb15:function(e,t,n){"use strict";if(n.r(t),"undefined"!==typeof window){var r=window.document.currentScript,i=r&&r.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);i&&(n.p=i[1])}n("4de4"),n("d3b7");var o=n("8bbf");function s(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("VideoPlayerContainer");return Object(o["openBlock"])(),Object(o["createBlock"])(a,{class:"ml-viewer",id:"viewer-container"})}n("a4d3"),n("e01a"),n("b636"),n("d28b"),n("944a"),n("d9e2"),n("d401"),n("4160"),n("e260"),n("14d9"),n("26e9"),n("fb6a"),n("0c47"),n("23dc"),n("3410"),n("131a"),n("e6cf"),n("3ca3"),n("159b"),n("ddb0");function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function c(){
/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */
c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var o=t&&t.prototype instanceof y?t:y,s=Object.create(o.prototype),a=new V(r||[]);return i(s,"_invoke",{value:j(e,n,a)}),s}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",v="executing",g="completed",b={};function y(){}function w(){}function S(){}var _={};d(_,s,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(P([])));k&&k!==n&&r.call(k,s)&&(_=k);var O=S.prototype=y.prototype=Object.create(_);function C(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,o,s,c){var l=p(e[i],e,o);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,s,c)}),(function(e){n("throw",e,s,c)})):t.resolve(d).then((function(e){u.value=e,s(u)}),(function(e){return n("throw",e,s,c)}))}c(l.arg)}var o;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return o=o?o.then(i,i):i()}})}function j(t,n,r){var i=h;return function(o,s){if(i===v)throw new Error("Generator is already running");if(i===g){if("throw"===o)throw s;return{value:e,done:!0}}for(r.method=o,r.arg=s;;){var a=r.delegate;if(a){var c=T(a,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===h)throw i=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=v;var l=p(t,n,r);if("normal"===l.type){if(i=r.done?g:m,l.arg===b)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=g,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator["return"]&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var o=p(i,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var s=o.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function R(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function V(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function P(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=S,i(O,"constructor",{value:S,configurable:!0}),i(S,"constructor",{value:w,configurable:!0}),w.displayName=d(S,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,S):(e.__proto__=S,d(e,u,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},C(E.prototype),d(E.prototype,l,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var s=new E(f(e,n,r,i),o);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},C(O),d(O,u,"Generator"),d(O,s,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=P,V.prototype={constructor:V,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(R),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return a.type="throw",a.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var s=this.tryEntries[o],a=s.completion;if("root"===s.tryLoc)return i("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return i(s.catchLoc,!0);if(this.prev<s.finallyLoc)return i(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return i(s.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return i(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var s=o?o.completion:{};return s.type=e,s.arg=t,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),R(n),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;R(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:P(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}},t}function l(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function s(e){l(o,r,i,s,a,"next",e)}function a(e){l(o,r,i,s,a,"throw",e)}s(void 0)}))}}n("cca6");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var f=function(e){return Object(o["pushScopeId"])("data-v-c5a460c4"),e=e(),Object(o["popScopeId"])(),e},p={key:0,class:"overlay spinner-container"},h=f((function(){return Object(o["createElementVNode"])("div",{class:"spinner-border text-light",role:"status"},[Object(o["createElementVNode"])("span",{class:"sr-only"},"Loading...")],-1)})),m=[h],v=f((function(){return Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",{class:"d-flex justify-content-center"},[Object(o["createElementVNode"])("i",{class:"ml-viewer-bi-volume-mute-fill pb-0"})]),Object(o["createElementVNode"])("p",{class:"text-center tap-text"},"Tap to unmute")],-1)})),g=[v],b=["id"],y={key:0,id:"controls",class:"controls"},w={class:"row"},S={class:"col-6 text-left"},_={class:"col-6 text-right"},x={key:1,class:"overlay d-flex flex-row justify-content-center align-items-center"},k={class:"d-flex flex-column ml-3"},O=f((function(){return Object(o["createElementVNode"])("h3",null,"Casting to",-1)})),C={class:"font-weight-bold"};function E(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("VideoPlayerMedia"),c=Object(o["resolveComponent"])("VideoPlayerControlsUserCount"),l=Object(o["resolveComponent"])("VideoPlayerControlsBadge"),u=Object(o["resolveComponent"])("VideoPlayerControlsContainer"),d=Object(o["resolveComponent"])("VideoPlayerSideVideoSources");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"container-fluid align-container",onMousemove:t[4]||(t[4]=function(){return s.showControls&&s.showControls.apply(s,arguments)})},[e.isLoading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,m)):Object(o["createCommentVNode"])("",!0),e.autoPlayMuted&&e.isLive?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,onClick:t[0]||(t[0]=function(){return s.tapUnmute&&s.tapUnmute.apply(s,arguments)}),class:"overlay tap-unmute d-flex align-items-center justify-content-center"},g)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["mx-0",e.videoSources.length>1&&e.isGrid&&e.isSplittedView?"grid-container":"list-container"]),id:e.videoSources.length>1&&!e.isGrid&&e.isSplittedView?"lcontainer":""},[Object(o["createElementVNode"])("div",{id:"vplayer",ref:"player",class:Object(o["normalizeClass"])(["player",{show:i.show,"limit-screen":e.videoSources.length>1&&e.isSplittedView&&!e.isGrid,"grid-player":e.videoSources.length>1&&e.isSplittedView&&e.isGrid,"video-full-screen":e.isMainVideoFullScreen&&e.isGrid}]),style:Object(o["normalizeStyle"])({cursor:e.isGrid?"pointer":""}),onDblclick:t[2]||(t[2]=function(){return e.toggleFullscreen&&e.toggleFullscreen.apply(e,arguments)})},[Object(o["createElementVNode"])("div",{id:"main-source",onClick:t[1]||(t[1]=function(){return s.handleWholeScreen&&s.handleWholeScreen.apply(s,arguments)}),style:Object(o["normalizeStyle"])({height:e.isSplittedView?"":"100%"})},[Object(o["createVNode"])(a,{ref:"element"},null,512)],4),e.viewer.controls?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",y,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["gradient-top controls-top container-fluid pt-3",{hide:!i.show}])},[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("div",S,[s.showButton("userCount")?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",_,[s.showButton("liveBadge")?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0})):Object(o["createCommentVNode"])("",!0)])])],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])([{hide:!i.show},"gradient-bottom controls-bottom container-fluid pb-3"])},[Object(o["createVNode"])(u,{isConnected:i.cast.isConnected,showButton:s.showButton,currentTime:s.currentTime,streamId:e.viewer.streamId},null,8,["isConnected","showButton","currentTime","streamId"])],2)])):Object(o["createCommentVNode"])("",!0),i.cast.device?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",x,[Object(o["createElementVNode"])("div",k,[O,Object(o["createElementVNode"])("h1",C,Object(o["toDisplayString"])(i.cast.device.friendlyName),1)])])):Object(o["createCommentVNode"])("",!0)],38),e.videoSources.length>1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:Object(o["normalizeClass"])({"side-panel overflow-auto sc1":!e.isGrid,"hide-sidebar":!e.isSplittedView}),style:Object(o["normalizeStyle"])(e.isGrid?"display: contents":"scroll-snap-type: y mandatory"),onMousemove:t[3]||(t[3]=function(){return s.showControls&&s.showControls.apply(s,arguments)})},[Object(o["createVNode"])(d,{class:Object(o["normalizeClass"])(e.isGrid?"side-sources":"")},null,8,["class"])],38)):Object(o["createCommentVNode"])("",!0)],10,b)],32)}n("caad"),n("2532");var j=["poster"],T=["poster"],I={key:2};function R(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[e.isMigrating||"player"===e.currentElementRef?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[s.displayAudioOnly?(Object(o["openBlock"])(),Object(o["createElementBlock"])("audio",{key:0,playsinline:"",id:"player",ref:"player",class:Object(o["normalizeClass"])({"display: none;":"player2"===e.currentElementRef})},null,2)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",{key:1,playsinline:"",id:"player",ref:"player",poster:e.viewer.placeholderImg,class:Object(o["normalizeClass"])({"display: none;":"player2"===e.currentElementRef}),style:Object(o["normalizeStyle"])(e.isSplittedView?"border-radius: 0.25rem":"border-radius: 0")},null,14,j))],64)):Object(o["createCommentVNode"])("",!0),e.isMigrating||"player2"===e.currentElementRef?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[s.displayAudioOnly?(Object(o["openBlock"])(),Object(o["createElementBlock"])("audio",{key:0,playsinline:"",id:"player2",ref:"player2",class:Object(o["normalizeClass"])({"display: none;":"player"===e.currentElementRef})},null,2)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("video",{key:1,playsinline:"",id:"player2",ref:"player2",poster:e.viewer.placeholderImg,class:Object(o["normalizeClass"])({"display: none;":"player"===e.currentElementRef}),style:Object(o["normalizeStyle"])(e.isSplittedView?"border-radius: 0.25rem":"border-radius: 0")},null,14,T))],64)):Object(o["createCommentVNode"])("",!0),e.videoSources.length>1&&e.isSplittedView&&!e.fullscreen&&e.viewer.showLabels?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",I,Object(o["toDisplayString"])(this.mainLabel),1)):Object(o["createCommentVNode"])("",!0)],64)}n("7db0"),n("c975"),n("e25e"),n("ac1f"),n("00b4");var V=n("e014"),P=(n("466d"),n("abc5"));const A="devtools-plugin:setup",M="plugin:settings:set";var L=n("5134");class N{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const n={};if(e.settings)for(const s in e.settings){const t=e.settings[s];n[s]=t.defaultValue}const r="__vue-devtools-plugin-settings__"+e.id;let i=Object.assign({},n);try{const e=localStorage.getItem(r),t=JSON.parse(e);Object.assign(i,t)}catch(o){}this.fallbacks={getSettings(){return i},setSettings(e){try{localStorage.setItem(r,JSON.stringify(e))}catch(o){}i=e},now(){return Object(L["a"])()}},t&&t.on(M,(e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)}),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise(n=>{this.targetQueue.push({method:t,args:e,resolve:n})})})}async setRealTarget(e){this.target=e;for(const t of this.onQueue)this.target.on[t.method](...t.args);for(const t of this.targetQueue)t.resolve(await this.target[t.method](...t.args))}}function D(e,t){const n=e,r=Object(P["b"])(),i=Object(P["a"])(),o=P["c"]&&n.enableEarlyProxy;if(!i||!r.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&o){const e=o?new N(n,i):null,s=r.__VUE_DEVTOOLS_PLUGINS__=r.__VUE_DEVTOOLS_PLUGINS__||[];s.push({pluginDescriptor:n,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else i.emit(A,e,t)}
/*!
 * vuex v4.1.0
 * (c) 2022 Evan You
 * @license MIT
 */var B="store";function F(e,t){Object.keys(e).forEach((function(n){return t(e[n],n)}))}function U(e){return null!==e&&"object"===typeof e}function z(e){return e&&"function"===typeof e.then}function W(e,t){if(!e)throw new Error("[vuex] "+t)}function Z(e,t){return function(){return e(t)}}function G(e,t,n){return t.indexOf(e)<0&&(n&&n.prepend?t.unshift(e):t.push(e)),function(){var n=t.indexOf(e);n>-1&&t.splice(n,1)}}function $(e,t){e._actions=Object.create(null),e._mutations=Object.create(null),e._wrappedGetters=Object.create(null),e._modulesNamespaceMap=Object.create(null);var n=e.state;Y(e,n,[],e._modules.root,!0),X(e,n,t)}function X(e,t,n){var r=e._state,i=e._scope;e.getters={},e._makeLocalGettersCache=Object.create(null);var s=e._wrappedGetters,a={},c={},l=Object(o["effectScope"])(!0);l.run((function(){F(s,(function(t,n){a[n]=Z(t,e),c[n]=Object(o["computed"])((function(){return a[n]()})),Object.defineProperty(e.getters,n,{get:function(){return c[n].value},enumerable:!0})}))})),e._state=Object(o["reactive"])({data:t}),e._scope=l,e.strict&&ee(e),r&&n&&e._withCommit((function(){r.data=null})),i&&i.stop()}function Y(e,t,n,r,i){var o=!n.length,s=e._modules.getNamespace(n);if(r.namespaced&&(e._modulesNamespaceMap[s]&&console.error("[vuex] duplicate namespace "+s+" for the namespaced module "+n.join("/")),e._modulesNamespaceMap[s]=r),!o&&!i){var a=te(t,n.slice(0,-1)),c=n[n.length-1];e._withCommit((function(){c in a&&console.warn('[vuex] state field "'+c+'" was overridden by a module with the same name at "'+n.join(".")+'"'),a[c]=r.state}))}var l=r.context=H(e,s,n);r.forEachMutation((function(t,n){var r=s+n;J(e,r,t,l)})),r.forEachAction((function(t,n){var r=t.root?n:s+n,i=t.handler||t;Q(e,r,i,l)})),r.forEachGetter((function(t,n){var r=s+n;q(e,r,t,l)})),r.forEachChild((function(r,o){Y(e,t,n.concat(o),r,i)}))}function H(e,t,n){var r=""===t,i={dispatch:r?e.dispatch:function(n,r,i){var o=ne(n,r,i),s=o.payload,a=o.options,c=o.type;if(a&&a.root||(c=t+c,e._actions[c]))return e.dispatch(c,s);console.error("[vuex] unknown local action type: "+o.type+", global type: "+c)},commit:r?e.commit:function(n,r,i){var o=ne(n,r,i),s=o.payload,a=o.options,c=o.type;a&&a.root||(c=t+c,e._mutations[c])?e.commit(c,s,a):console.error("[vuex] unknown local mutation type: "+o.type+", global type: "+c)}};return Object.defineProperties(i,{getters:{get:r?function(){return e.getters}:function(){return K(e,t)}},state:{get:function(){return te(e.state,n)}}}),i}function K(e,t){if(!e._makeLocalGettersCache[t]){var n={},r=t.length;Object.keys(e.getters).forEach((function(i){if(i.slice(0,r)===t){var o=i.slice(r);Object.defineProperty(n,o,{get:function(){return e.getters[i]},enumerable:!0})}})),e._makeLocalGettersCache[t]=n}return e._makeLocalGettersCache[t]}function J(e,t,n,r){var i=e._mutations[t]||(e._mutations[t]=[]);i.push((function(t){n.call(e,r.state,t)}))}function Q(e,t,n,r){var i=e._actions[t]||(e._actions[t]=[]);i.push((function(t){var i=n.call(e,{dispatch:r.dispatch,commit:r.commit,getters:r.getters,state:r.state,rootGetters:e.getters,rootState:e.state},t);return z(i)||(i=Promise.resolve(i)),e._devtoolHook?i.catch((function(t){throw e._devtoolHook.emit("vuex:error",t),t})):i}))}function q(e,t,n,r){e._wrappedGetters[t]?console.error("[vuex] duplicate getter key: "+t):e._wrappedGetters[t]=function(e){return n(r.state,r.getters,e.state,e.getters)}}function ee(e){Object(o["watch"])((function(){return e._state.data}),(function(){W(e._committing,"do not mutate vuex store state outside mutation handlers.")}),{deep:!0,flush:"sync"})}function te(e,t){return t.reduce((function(e,t){return e[t]}),e)}function ne(e,t,n){return U(e)&&e.type&&(n=t,t=e,e=e.type),W("string"===typeof e,"expects string as the type, but found "+typeof e+"."),{type:e,payload:t,options:n}}var re="vuex bindings",ie="vuex:mutations",oe="vuex:actions",se="vuex",ae=0;function ce(e,t){D({id:"org.vuejs.vuex",app:e,label:"Vuex",homepage:"https://next.vuex.vuejs.org/",logo:"https://vuejs.org/images/icons/favicon-96x96.png",packageName:"vuex",componentStateTypes:[re]},(function(n){n.addTimelineLayer({id:ie,label:"Vuex Mutations",color:le}),n.addTimelineLayer({id:oe,label:"Vuex Actions",color:le}),n.addInspector({id:se,label:"Vuex",icon:"storage",treeFilterPlaceholder:"Filter stores..."}),n.on.getInspectorTree((function(n){if(n.app===e&&n.inspectorId===se)if(n.filter){var r=[];me(r,t._modules.root,n.filter,""),n.rootNodes=r}else n.rootNodes=[he(t._modules.root,"")]})),n.on.getInspectorState((function(n){if(n.app===e&&n.inspectorId===se){var r=n.nodeId;K(t,r),n.state=ve(be(t._modules,r),"root"===r?t.getters:t._makeLocalGettersCache,r)}})),n.on.editInspectorState((function(n){if(n.app===e&&n.inspectorId===se){var r=n.nodeId,i=n.path;"root"!==r&&(i=r.split("/").filter(Boolean).concat(i)),t._withCommit((function(){n.set(t._state.data,i,n.state.value)}))}})),t.subscribe((function(e,t){var r={};e.payload&&(r.payload=e.payload),r.state=t,n.notifyComponentUpdate(),n.sendInspectorTree(se),n.sendInspectorState(se),n.addTimelineEvent({layerId:ie,event:{time:Date.now(),title:e.type,data:r}})})),t.subscribeAction({before:function(e,t){var r={};e.payload&&(r.payload=e.payload),e._id=ae++,e._time=Date.now(),r.state=t,n.addTimelineEvent({layerId:oe,event:{time:e._time,title:e.type,groupId:e._id,subtitle:"start",data:r}})},after:function(e,t){var r={},i=Date.now()-e._time;r.duration={_custom:{type:"duration",display:i+"ms",tooltip:"Action duration",value:i}},e.payload&&(r.payload=e.payload),r.state=t,n.addTimelineEvent({layerId:oe,event:{time:Date.now(),title:e.type,groupId:e._id,subtitle:"end",data:r}})}})}))}var le=8702998,ue=6710886,de=16777215,fe={label:"namespaced",textColor:de,backgroundColor:ue};function pe(e){return e&&"root"!==e?e.split("/").slice(-2,-1)[0]:"Root"}function he(e,t){return{id:t||"root",label:pe(t),tags:e.namespaced?[fe]:[],children:Object.keys(e._children).map((function(n){return he(e._children[n],t+n+"/")}))}}function me(e,t,n,r){r.includes(n)&&e.push({id:r||"root",label:r.endsWith("/")?r.slice(0,r.length-1):r||"Root",tags:t.namespaced?[fe]:[]}),Object.keys(t._children).forEach((function(i){me(e,t._children[i],n,r+i+"/")}))}function ve(e,t,n){t="root"===n?t:t[n];var r=Object.keys(t),i={state:Object.keys(e.state).map((function(t){return{key:t,editable:!0,value:e.state[t]}}))};if(r.length){var o=ge(t);i.getters=Object.keys(o).map((function(e){return{key:e.endsWith("/")?pe(e):e,editable:!1,value:ye((function(){return o[e]}))}}))}return i}function ge(e){var t={};return Object.keys(e).forEach((function(n){var r=n.split("/");if(r.length>1){var i=t,o=r.pop();r.forEach((function(e){i[e]||(i[e]={_custom:{value:{},display:e,tooltip:"Module",abstract:!0}}),i=i[e]._custom.value})),i[o]=ye((function(){return e[n]}))}else t[n]=ye((function(){return e[n]}))})),t}function be(e,t){var n=t.split("/").filter((function(e){return e}));return n.reduce((function(e,r,i){var o=e[r];if(!o)throw new Error('Missing module "'+r+'" for path "'+t+'".');return i===n.length-1?o:o._children}),"root"===t?e:e.root._children)}function ye(e){try{return e()}catch(t){return t}}var we=function(e,t){this.runtime=t,this._children=Object.create(null),this._rawModule=e;var n=e.state;this.state=("function"===typeof n?n():n)||{}},Se={namespaced:{configurable:!0}};Se.namespaced.get=function(){return!!this._rawModule.namespaced},we.prototype.addChild=function(e,t){this._children[e]=t},we.prototype.removeChild=function(e){delete this._children[e]},we.prototype.getChild=function(e){return this._children[e]},we.prototype.hasChild=function(e){return e in this._children},we.prototype.update=function(e){this._rawModule.namespaced=e.namespaced,e.actions&&(this._rawModule.actions=e.actions),e.mutations&&(this._rawModule.mutations=e.mutations),e.getters&&(this._rawModule.getters=e.getters)},we.prototype.forEachChild=function(e){F(this._children,e)},we.prototype.forEachGetter=function(e){this._rawModule.getters&&F(this._rawModule.getters,e)},we.prototype.forEachAction=function(e){this._rawModule.actions&&F(this._rawModule.actions,e)},we.prototype.forEachMutation=function(e){this._rawModule.mutations&&F(this._rawModule.mutations,e)},Object.defineProperties(we.prototype,Se);var _e=function(e){this.register([],e,!1)};function xe(e,t,n){if(Ee(e,n),t.update(n),n.modules)for(var r in n.modules){if(!t.getChild(r))return void console.warn("[vuex] trying to add a new module '"+r+"' on hot reloading, manual reload is needed");xe(e.concat(r),t.getChild(r),n.modules[r])}}_e.prototype.get=function(e){return e.reduce((function(e,t){return e.getChild(t)}),this.root)},_e.prototype.getNamespace=function(e){var t=this.root;return e.reduce((function(e,n){return t=t.getChild(n),e+(t.namespaced?n+"/":"")}),"")},_e.prototype.update=function(e){xe([],this.root,e)},_e.prototype.register=function(e,t,n){var r=this;void 0===n&&(n=!0),Ee(e,t);var i=new we(t,n);if(0===e.length)this.root=i;else{var o=this.get(e.slice(0,-1));o.addChild(e[e.length-1],i)}t.modules&&F(t.modules,(function(t,i){r.register(e.concat(i),t,n)}))},_e.prototype.unregister=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1],r=t.getChild(n);r?r.runtime&&t.removeChild(n):console.warn("[vuex] trying to unregister module '"+n+"', which is not registered")},_e.prototype.isRegistered=function(e){var t=this.get(e.slice(0,-1)),n=e[e.length-1];return!!t&&t.hasChild(n)};var ke={assert:function(e){return"function"===typeof e},expected:"function"},Oe={assert:function(e){return"function"===typeof e||"object"===typeof e&&"function"===typeof e.handler},expected:'function or object with "handler" function'},Ce={getters:ke,mutations:ke,actions:Oe};function Ee(e,t){Object.keys(Ce).forEach((function(n){if(t[n]){var r=Ce[n];F(t[n],(function(t,i){W(r.assert(t),je(e,n,i,t,r.expected))}))}}))}function je(e,t,n,r,i){var o=t+" should be "+i+' but "'+t+"."+n+'"';return e.length>0&&(o+=' in module "'+e.join(".")+'"'),o+=" is "+JSON.stringify(r)+".",o}function Te(e){return new Ie(e)}var Ie=function e(t){var n=this;void 0===t&&(t={}),W("undefined"!==typeof Promise,"vuex requires a Promise polyfill in this browser."),W(this instanceof e,"store must be called with the new operator.");var r=t.plugins;void 0===r&&(r=[]);var i=t.strict;void 0===i&&(i=!1);var o=t.devtools;this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new _e(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._makeLocalGettersCache=Object.create(null),this._scope=null,this._devtools=o;var s=this,a=this,c=a.dispatch,l=a.commit;this.dispatch=function(e,t){return c.call(s,e,t)},this.commit=function(e,t,n){return l.call(s,e,t,n)},this.strict=i;var u=this._modules.root.state;Y(this,u,[],this._modules.root),X(this,u),r.forEach((function(e){return e(n)}))},Re={state:{configurable:!0}};Ie.prototype.install=function(e,t){e.provide(t||B,this),e.config.globalProperties.$store=this;var n=void 0===this._devtools||this._devtools;n&&ce(e,this)},Re.state.get=function(){return this._state.data},Re.state.set=function(e){W(!1,"use store.replaceState() to explicit replace store state.")},Ie.prototype.commit=function(e,t,n){var r=this,i=ne(e,t,n),o=i.type,s=i.payload,a=i.options,c={type:o,payload:s},l=this._mutations[o];l?(this._withCommit((function(){l.forEach((function(e){e(s)}))})),this._subscribers.slice().forEach((function(e){return e(c,r.state)})),a&&a.silent&&console.warn("[vuex] mutation type: "+o+". Silent option has been removed. Use the filter functionality in the vue-devtools")):console.error("[vuex] unknown mutation type: "+o)},Ie.prototype.dispatch=function(e,t){var n=this,r=ne(e,t),i=r.type,o=r.payload,s={type:i,payload:o},a=this._actions[i];if(a){try{this._actionSubscribers.slice().filter((function(e){return e.before})).forEach((function(e){return e.before(s,n.state)}))}catch(l){console.warn("[vuex] error in before action subscribers: "),console.error(l)}var c=a.length>1?Promise.all(a.map((function(e){return e(o)}))):a[0](o);return new Promise((function(e,t){c.then((function(t){try{n._actionSubscribers.filter((function(e){return e.after})).forEach((function(e){return e.after(s,n.state)}))}catch(l){console.warn("[vuex] error in after action subscribers: "),console.error(l)}e(t)}),(function(e){try{n._actionSubscribers.filter((function(e){return e.error})).forEach((function(t){return t.error(s,n.state,e)}))}catch(l){console.warn("[vuex] error in error action subscribers: "),console.error(l)}t(e)}))}))}console.error("[vuex] unknown action type: "+i)},Ie.prototype.subscribe=function(e,t){return G(e,this._subscribers,t)},Ie.prototype.subscribeAction=function(e,t){var n="function"===typeof e?{before:e}:e;return G(n,this._actionSubscribers,t)},Ie.prototype.watch=function(e,t,n){var r=this;return W("function"===typeof e,"store.watch only accepts a function."),Object(o["watch"])((function(){return e(r.state,r.getters)}),t,Object.assign({},n))},Ie.prototype.replaceState=function(e){var t=this;this._withCommit((function(){t._state.data=e}))},Ie.prototype.registerModule=function(e,t,n){void 0===n&&(n={}),"string"===typeof e&&(e=[e]),W(Array.isArray(e),"module path must be a string or an Array."),W(e.length>0,"cannot register the root module by using registerModule."),this._modules.register(e,t),Y(this,this.state,e,this._modules.get(e),n.preserveState),X(this,this.state)},Ie.prototype.unregisterModule=function(e){var t=this;"string"===typeof e&&(e=[e]),W(Array.isArray(e),"module path must be a string or an Array."),this._modules.unregister(e),this._withCommit((function(){var n=te(t.state,e.slice(0,-1));delete n[e[e.length-1]]})),$(this)},Ie.prototype.hasModule=function(e){return"string"===typeof e&&(e=[e]),W(Array.isArray(e),"module path must be a string or an Array."),this._modules.isRegistered(e)},Ie.prototype.hotUpdate=function(e){this._modules.update(e),$(this,!0)},Ie.prototype._withCommit=function(e){var t=this._committing;this._committing=!0,e(),this._committing=t},Object.defineProperties(Ie.prototype,Re);var Ve=De((function(e,t){var n={};return Ne(t)||console.error("[vuex] mapState: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=this.$store.state,n=this.$store.getters;if(e){var r=Be(this.$store,"mapState",e);if(!r)return;t=r.context.state,n=r.context.getters}return"function"===typeof i?i.call(this,t,n):t[i]},n[r].vuex=!0})),n})),Pe=De((function(e,t){var n={};return Ne(t)||console.error("[vuex] mapMutations: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.commit;if(e){var o=Be(this.$store,"mapMutations",e);if(!o)return;r=o.context.commit}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n})),Ae=De((function(e,t){var n={};return Ne(t)||console.error("[vuex] mapGetters: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var r=t.key,i=t.val;i=e+i,n[r]=function(){if(!e||Be(this.$store,"mapGetters",e)){if(i in this.$store.getters)return this.$store.getters[i];console.error("[vuex] unknown getter: "+i)}},n[r].vuex=!0})),n})),Me=De((function(e,t){var n={};return Ne(t)||console.error("[vuex] mapActions: mapper parameter must be either an Array or an Object"),Le(t).forEach((function(t){var r=t.key,i=t.val;n[r]=function(){var t=[],n=arguments.length;while(n--)t[n]=arguments[n];var r=this.$store.dispatch;if(e){var o=Be(this.$store,"mapActions",e);if(!o)return;r=o.context.dispatch}return"function"===typeof i?i.apply(this,[r].concat(t)):r.apply(this.$store,[i].concat(t))}})),n}));function Le(e){return Ne(e)?Array.isArray(e)?e.map((function(e){return{key:e,val:e}})):Object.keys(e).map((function(t){return{key:t,val:e[t]}})):[]}function Ne(e){return Array.isArray(e)||U(e)}function De(e){return function(t,n){return"string"!==typeof t?(n=t,t=""):"/"!==t.charAt(t.length-1)&&(t+="/"),e(t,n)}}function Be(e,t,n){var r=e._modulesNamespaceMap[n];return r||console.error("[vuex] module namespace not found in "+t+"(): "+n),r}n("c740"),n("a434"),n("b64b"),n("07ac"),n("5319");var Fe={videoSources:[],audioSources:[],selectedVideoSource:{name:"none"},selectedAudioSource:{name:"none"},isAudioOnly:!1,audioFollowsVideo:!1,animate:!1,stream:null,sourceRemoteTracks:[],sourceSideTracks:[],mainLabel:"Main",transceiverSourceState:{},trackIdMidMap:{},trackMId:{0:"0"},mainSourceVideo:null,startedAsMain:null},Ue={namespaced:!0,state:Fe,mutations:{setSelectedSource:function(e,t){var n=t.kind,r=t.selectedSource;"video"===n?e.selectedVideoSource=r:"audio"===n&&(e.selectedAudioSource=r)},setSources:function(e,t){var n=t.kind,r=t.sources;if("video"===n){e.videoSources=r;var i=r[0];"0"!==(null===i||void 0===i?void 0:i.mid)&&(!e.startedAsMain||null!==i&&void 0!==i&&i.mid)||(i.mid="0",e.transceiverSourceState["0"]=i)}else"audio"===n&&(e.audioSources=r)},removeSource:function(e,t){var n=t.kind,r=t.sourceId;if("video"===n){var i=e.videoSources.findIndex((function(e){return e.sourceId===r}));-1!==i&&e.videoSources.splice(i,1)}else if("audio"===n){var o=e.audioSources.findIndex((function(e){return e.sourceId===r}));-1!==o&&e.audioSources.splice(o,1)}},removeSourceAndUpdateMain:function(e,t){var n=t.sourceId,r=e.videoSources.findIndex((function(e){return e.sourceId===n})),i=e.videoSources.findIndex((function(e){return null===e.sourceId}));-1!==r&&(e.videoSources.splice(r,1),e.videoSources[i].sourceId=n,e.videoSources[i].name=n)},setStream:function(e,t){e.stream=t},setIsAudioOnly:function(e,t){e.isAudioOnly=t},setAudioFollowsVideo:function(e,t){e.audioFollowsVideo=t},setAnimate:function(e,t){e.animate=t},addTrackIdMidMapping:function(e,t){e.trackIdMidMap[t.mid]=t.trackId},setTrackMId:function(e,t){var n=t.key,r=t.value;e.trackMId[n]=r},resetTrackMId:function(e,t){e.trackMId={0:t}},addSourceRemoteTrack:function(e,t){e.sourceRemoteTracks.push(t);var n=e.videoSources.findIndex((function(e){return e.sourceId===t.sourceId}));if(-1!==n){var r=t.transceiver.mid;e.videoSources[n].mid=r,e.transceiverSourceState[r]=e.videoSources[n]}},addSourceSideTrack:function(e,t){e.sourceSideTracks.push(t)},replaceSourceSideTrack:function(e,t){var n=t.what,r=t.where;e.sourceSideTracks[r]=n},updateMainMediaTraks:function(e,t){var n=t.what,r=t.sourceId,i=e.sourceSideTracks.findIndex((function(e){return e.sourceId===r})),o=e.sourceSideTracks.findIndex((function(e){return null===e.sourceId}));e.sourceSideTracks[o]=n,-1!==i&&e.sourceSideTracks.splice(i,1)},replaceSourceRemoteTrack:function(e,t){var n=t.sourceRemoteTrack,r=t.remoteTrackIndex;e.sourceRemoteTracks[r]=n;var i,o,s=e.videoSources.findIndex((function(e){return e.sourceId===n.sourceId}));-1!==s&&(e.videoSources[s].mid=null===(i=n.transceiver)||void 0===i?void 0:i.mid,e.transceiverSourceState[null===(o=n.transceiver)||void 0===o?void 0:o.mid]=e.videoSources[s])},removeSourceRemoteTrack:function(e,t){var n=e.sourceRemoteTracks.findIndex((function(e){return e.sourceId===t}));-1!==n&&e.sourceRemoteTracks.splice(n,1)},removeSourceSideTrack:function(e,t){var n=e.sourceSideTracks.findIndex((function(e){return e.sourceId===t}));-1!==n&&e.sourceSideTracks.splice(n,1)},removeTransceiverSourceState:function(e,t){var n=t.sourceId,r=t.replace,i=Object.values(e.transceiverSourceState).find((function(e){return e.sourceId===n}));if(!n&&r){var o=Object.values(e.transceiverSourceState).find((function(e){return e.sourceId===r.sourceId}));e.transceiverSourceState[i.mid]=d({},e.transceiverSourceState[o.mid]),e.transceiverSourceState[i.mid].mid=i.mid,delete e.transceiverSourceState[o.mid],delete e.trackIdMidMap[o.mid]}else delete e.transceiverSourceState[i.mid],delete e.trackIdMidMap[i.mid]},setMainLabel:function(e,t){e.mainLabel=t},updateTransceiverSourceState:function(e,t){var n=t.source,r=e.transceiverSourceState[e.videoSources[0].mid],i=Object.keys(e.transceiverSourceState).find((function(t){return e.transceiverSourceState[t].mid===n.mid})),o=e.transceiverSourceState[i];e.transceiverSourceState[e.videoSources[0].mid]=d(d({},o),{},{mid:e.videoSources[0].mid}),e.transceiverSourceState[i]=d(d({},r),{},{mid:i})},setMainSourceVideo:function(e,t){e.mainSourceVideo=t},setStartedAsMain:function(e,t){e.startedAsMain=t}},getters:{getVideoSources:function(e){return e.videoSources},getAudioSources:function(e){return e.audioSources},getStartedAsMain:function(e){return e.startedAsMain},getVideoHasMain:function(e){return-1!==e.videoSources.findIndex((function(e){return null===e.sourceId}))},getAudioHasMain:function(e){return-1!==e.audioSources.findIndex((function(e){return null===e.sourceId}))},getSelectedVideoSource:function(e){return e.selectedVideoSource},getTransceiverSourceState:function(e){return e.transceiverSourceState},getTrackIdMidMap:function(e){return e.trackIdMidMap}}},ze={medias:{active:[],inactive:[],layers:[]},selectedQuality:{name:"Auto"},mainTransceiverMedias:{active:[],inactive:[],layers:[]}},We={namespaced:!0,state:ze,mutations:{setMainTransceiverMedias:function(e,t){e.mainTransceiverMedias=t},setMedias:function(e,t){e.medias=t},setSelectedQuality:function(e,t){e.selectedQuality=t},selectQuality:function(e,t){e.selectedQuality=t}},getters:{getActiveMedias:function(e){return e.medias},getActiveMainTransceiverMedias:function(e){var t;return null===(t=e.mainTransceiverMedias)||void 0===t?void 0:t.active}}},Ze={video:null,playing:!1,muted:!1,player:null,srcObject:null,pip:null,autoPlayMuted:!1,volume:"1",isMobile:!1,dropup:"",fullscreen:!1,isLive:!1,isLoading:!0,isMainVideoFullScreen:!1,trackWarning:!1,castOptions:{},castAvailable:!1,castIsConnected:!1,castDevice:{},viewerCount:null,reconnection:{status:!1,error:null,timeout:null},currentElementRef:"player",isMigrating:!1,viewerMigratingEvent:!1,migrateListenerIsSet:!1,isSplittedView:!1,previousSplitState:!1,isGrid:!1,isSelectingLayer:!1,hideToast:!1,selectingLayerTimeouts:null},Ge={namespaced:!0,state:Ze,mutations:{setVideo:function(e,t){e.video=t},setPlaying:function(e,t){e.isMigrating||(e.playing=t)},setPip:function(e,t){e.pip=t},stopVideo:function(e){e.player.stop(),e.player.currentTime=null},setSrcObject:function(e,t){e.srcObject=t},setStateSrcObject:function(e,t){null!==t&&(e.srcObject=t)},setCurrentElementRef:function(e,t){e.currentElementRef=t},setVideoVolume:function(e,t){e.video.volume=t},setVideoMuted:function(e,t){e.video.muted=t,e.muted=t},setVideoAutoplay:function(e,t){e.video.autoplay=t},setVideoSource:function(e,t){e.video.srcObject=t},setAutoPlayMuted:function(e,t){e.autoPlayMuted=t},setDropup:function(e,t){e.dropup=t!=e.dropup?t:""},setMobile:function(e,t){e.isMobile=t},setIsLive:function(e,t){!t&&document.pictureInPictureElement&&document.exitPictureInPicture(),e.isLive=t},setIsLoading:function(e,t){e.isLoading=t,e.castOptions.loading=t},setIsMainVideoFullScreen:function(e,t){e.isMainVideoFullScreen=t},toggleFullscreen:function(e){e.fullscreen=!e.fullscreen},setTrackWarning:function(e,t){e.trackWarning=t},setCastOptions:function(e,t){e.castOptions=t},setCastDevice:function(e,t){e.castDevice=t},setCastAvailable:function(e,t){e.castAvailable=t},setCastIsConnected:function(e,t){e.castIsConnected=t},setViewerCount:function(e,t){e.viewerCount=t},handleReconnection:function(e,t){var n=t.error,r=t.timeout;e.reconnection.error=n,e.reconnection.timeout=r,e.reconnection.status=!0,setTimeout((function(){e.reconnection.status=!1,e.reconnection.error=null,e.reconnection.timeout=null}),r)},setIsMigrating:function(e,t){e.isMigrating=t},setViewerMigratingEvent:function(e,t){e.viewerMigratingEvent=t},setMigrateListenerIsSet:function(e,t){e.migrateListenerIsSet=t},setIsSplittedView:function(e,t){e.isSplittedView=t},setPreviousSplitState:function(e,t){e.isMigrating||(e.previousSplitState=t)},setIsGrid:function(e,t){e.isGrid=t},setIsSelectingLayer:function(e,t){e.isSelectingLayer=t},setHideToastError:function(e,t){e.hideToast=t},setSelectingLayerTimeout:function(e,t){e.selectingLayerTimeouts=t}},getters:{}},$e={millicastView:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null},trackEvent:{audio:{track:null,transceiver:[null]},video:{track:null,transceiver:[null]}}},Xe={namespaced:!0,state:$e,mutations:{setMillicastView:function(e,t){e.millicastView=t}}},Ye=["play","volume","pip","fullscreen","cast","liveBadge","userCount","settings"],He={audioOnly:!1,autoplay:!0,videoOnly:!1,controls:!0,directorUrl:null,hideButtons:[],muted:!0,placeholderImg:null,streamId:null,token:null,forcePlayoutDelay:!1,multisource:!1,audioFollowsVideo:!1,animate:!1,maxHeight:null,layout:null,showLabels:!0,startingQuality:null,hideToast:null,mainLabel:null,metadata:!1};function Ke(e){var t=e.streamId,n=e.audioOnly,r=e.videoOnly,i=e.token,o=e.image,s=e.directorUrl,a=e.hideButtons,c=e.autoplay,l=e.muted,u=e.noDelay,f=e.multisource,p=e.audioFollowsVideo,h=e.animate,m=e.maxHeight,v=e.layout,g=e.showLabels,b=e.startingQuality,y=e.hideToast,w=e.mainLabel,S=e.forcePlayoutDelayMin,_=e.forcePlayoutDelayMax,x=e.metadata,k={};k.streamId=t,k.videoOnly=null!==r&&void 0!==r&&r,k.audioOnly=null!==n&&void 0!==n&&n,k.token=i,k.placeholderImg=o,k.directorUrl=s,k.hideButtons=null!==a&&void 0!==a?a:[],k.autoplay=null===c||void 0===c||c,k.muted=null!==l&&void 0!==l&&l,k.multisource=null!==f&&void 0!==f&&f,k.audioFollowsVideo=null!==p&&void 0!==p&&p,k.animate=null!==h&&void 0!==h&&h,k.maxHeight=m,k.layout=v,k.showLabels=g,k.metadata=x,f&&rt.commit("Controls/setIsSplittedView",!0),p&&rt.commit("Sources/setAudioFollowsVideo",!0),h&&rt.commit("Sources/setAnimate",!0),u&&(k.forcePlayoutDelay={min:0,max:0}),k.layout&&"grid"===k.layout&&rt.commit("Controls/setIsGrid",!0),null!==b&&(k.startingQuality=b,rt.commit("Controls/setIsSelectingLayer",!0)),null!==y&&(k.hideToast=y,rt.commit("Controls/setHideToastError",y)),w&&(k.mainLabel=w,rt.commit("Sources/setMainLabel",k.mainLabel)),S&&_&&parseInt(S)&&parseInt(_)&&(k.forcePlayoutDelay={min:parseInt(S),max:parseInt(_)}),rt.commit("Params/setViewerOptions",d(d({},He),k))}var Je={NODE_ENV:"",VUE_APP_TURN_ENDPOINT:"",VUE_APP_LIVEWS_ENDPOINT:"",VUE_APP_DIRECTOR_ENDPOINT:"",VUE_APP_PUBLIC_PATH:"",VUE_APP_REPORT_URL:"",VUE_APP_CHROMECAST_ID:""};function Qe(e){var t,n,r,i,o,s,a,c={NODE_ENV:null!==(t=null===e||void 0===e?void 0:e.NODE_ENV)&&void 0!==t?t:Object({NODE_ENV:"production",VUE_APP_DEFAULT_CHROMECAST_ID:"EC3A02DA",VUE_APP_DEFAULT_DIRECTOR_ENDPOINT:"https://director.millicast.com/",VUE_APP_DEFAULT_LIVEWS_ENDPOINT:"",VUE_APP_DEFAULT_PUBLIC_PATH:"/",VUE_APP_DEFAULT_REPORT_URL:"https://playback-report.millicast.com",VUE_APP_DEFAULT_TURN_ENDPOINT:"",BASE_URL:"/"}).DEFAULT_NODE_ENV,VUE_APP_TURN_ENDPOINT:null!==(n=null===e||void 0===e?void 0:e.VUE_APP_TURN_ENDPOINT)&&void 0!==n?n:"",VUE_APP_LIVEWS_ENDPOINT:null!==(r=null===e||void 0===e?void 0:e.VUE_APP_LIVEWS_ENDPOINT)&&void 0!==r?r:"",VUE_APP_DIRECTOR_ENDPOINT:null!==(i=null===e||void 0===e?void 0:e.VUE_APP_DIRECTOR_ENDPOINT)&&void 0!==i?i:"https://director.millicast.com/",VUE_APP_PUBLIC_PATH:null!==(o=null===e||void 0===e?void 0:e.VUE_APP_PUBLIC_PATH)&&void 0!==o?o:"/",VUE_APP_REPORT_URL:null!==(s=null===e||void 0===e?void 0:e.VUE_APP_REPORT_URL)&&void 0!==s?s:"https://playback-report.millicast.com",VUE_APP_CHROMECAST_ID:null!==(a=null===e||void 0===e?void 0:e.VUE_APP_CHROMECAST_ID)&&void 0!==a?a:"EC3A02DA"};rt.commit("Params/setEnvironmentOptions",d(d({},Je),c))}var qe={viewer:He,environment:Je},et={namespaced:!0,state:qe,mutations:{setViewerOptions:function(e,t){e.viewer=t},setEnvironmentOptions:function(e,t){e.environment=t}}},tt={type:"",message:"",showError:!1},nt={namespaced:!0,state:tt,mutations:{setMessage:function(e,t){e.message=t},setType:function(e,t){e.type=t},setShowError:function(e,t){e.showError=t}}},rt=Te({state:{sources:[]},mutations:{},actions:{},modules:{Sources:Ue,Layers:We,Controls:Ge,ViewConnection:Xe,Params:et,Errors:nt}}),it=rt.state,ot=function(){var e;return null===(e=it.Params.viewer.streamId)||void 0===e||null===(e=e.match(/^(.*?)\/.*$/))||void 0===e?void 0:e[1]},st=function(){var e;return null===(e=it.Params.viewer.streamId)||void 0===e||null===(e=e.match(/^.*?\/(.*)$/))||void 0===e?void 0:e[1]},at=(n("99af"),n("12a8"),n("25f0"),new Blob([new Uint8Array([255,227,24,196,0,0,0,3,72,1,64,0,0,4,132,16,31,227,192,225,76,255,67,12,255,221,27,255,228,97,73,63,255,195,131,69,192,232,223,255,255,207,102,239,255,255,255,101,158,206,70,20,59,255,254,95,70,149,66,4,16,128,0,2,2,32,240,138,255,36,106,183,255,227,24,196,59,11,34,62,80,49,135,40,0,253,29,191,209,200,141,71,7,255,252,152,74,15,130,33,185,6,63,255,252,195,70,203,86,53,15,255,255,247,103,76,121,64,32,47,255,34,227,194,209,138,76,65,77,69,51,46,57,55,170,170,170,170,170,170,170,170,170,170,255,227,24,196,73,13,153,210,100,81,135,56,0,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170,170])],{type:"audio/mpeg"})),ct=new Blob([new Uint8Array([0,0,0,28,102,116,121,112,105,115,111,109,0,0,2,0,105,115,111,109,105,115,111,50,109,112,52,49,0,0,0,8,102,114,101,101,0,0,2,239,109,100,97,116,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,33,16,5,32,164,27,255,192,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,55,167,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,112,0,0,2,194,109,111,111,118,0,0,0,108,109,118,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,232,0,0,0,47,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,1,236,116,114,97,107,0,0,0,92,116,107,104,100,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,47,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,36,101,100,116,115,0,0,0,28,101,108,115,116,0,0,0,0,0,0,0,1,0,0,0,47,0,0,0,0,0,1,0,0,0,0,1,100,109,100,105,97,0,0,0,32,109,100,104,100,0,0,0,0,0,0,0,0,0,0,0,0,0,0,172,68,0,0,8,0,85,196,0,0,0,0,0,45,104,100,108,114,0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0,0,0,1,15,109,105,110,102,0,0,0,16,115,109,104,100,0,0,0,0,0,0,0,0,0,0,0,36,100,105,110,102,0,0,0,28,100,114,101,102,0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1,0,0,0,211,115,116,98,108,0,0,0,103,115,116,115,100,0,0,0,0,0,0,0,1,0,0,0,87,109,112,52,97,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,2,0,16,0,0,0,0,172,68,0,0,0,0,0,51,101,115,100,115,0,0,0,0,3,128,128,128,34,0,2,0,4,128,128,128,20,64,21,0,0,0,0,1,244,0,0,1,243,249,5,128,128,128,2,18,16,6,128,128,128,1,2,0,0,0,24,115,116,116,115,0,0,0,0,0,0,0,1,0,0,0,2,0,0,4,0,0,0,0,28,115,116,115,99,0,0,0,0,0,0,0,1,0,0,0,1,0,0,0,2,0,0,0,1,0,0,0,28,115,116,115,122,0,0,0,0,0,0,0,0,0,0,0,2,0,0,1,115,0,0,1,116,0,0,0,20,115,116,99,111,0,0,0,0,0,0,0,1,0,0,0,44,0,0,0,98,117,100,116,97,0,0,0,90,109,101,116,97,0,0,0,0,0,0,0,33,104,100,108,114,0,0,0,0,0,0,0,0,109,100,105,114,97,112,112,108,0,0,0,0,0,0,0,0,0,0,0,0,45,105,108,115,116,0,0,0,37,169,116,111,111,0,0,0,29,100,97,116,97,0,0,0,1,0,0,0,0,76,97,118,102,53,54,46,52,48,46,49,48,49])],{type:"video/mp4"});function lt(e){return Object.assign({muted:!1,timeout:250,inline:!1},e)}function ut(e,t){var n=e.muted,r=e.timeout,i=e.inline,o=t(),s=o.element,a=o.source,c=void 0,l=void 0,u=void 0;return s.muted=n,!0===n&&s.setAttribute("muted","muted"),!0===i&&s.setAttribute("playsinline","playsinline"),s.src=a,new Promise((function(e){c=s.play(),l=setTimeout((function(){u(!1,new Error("Timeout "+r+" ms has been reached"))}),r),u=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;s.remove(),s.srcObject=null,clearTimeout(l),e({result:t,error:n})},void 0!==c?c.then((function(){return u(!0)})).catch((function(e){return u(!1,e)})):u(!0)}))}function dt(e){return e=lt(e),ut(e,(function(){return{element:document.createElement("video"),source:URL.createObjectURL(ct)}}))}function ft(e){return e=lt(e),ut(e,(function(){return{element:document.createElement("audio"),source:URL.createObjectURL(at)}}))}var pt={audio:ft,video:dt},ht=pt,mt=rt.commit,vt=rt.state,gt=function(){bt(),yt(),wt()},bt=function(){var e;(vt.Params.environment.VUE_APP_DIRECTOR_ENDPOINT||vt.Params.viewer.directorUrl)&&V["Director"].setEndpoint(null!==(e=vt.Params.viewer.directorUrl)&&void 0!==e?e:vt.Params.environment.VUE_APP_DIRECTOR_ENDPOINT)},yt=function(){vt.Params.environment.VUE_APP_LIVEWS_ENDPOINT&&V["Director"].setLiveDomain(vt.Params.environment.VUE_APP_LIVEWS_ENDPOINT)},wt=function(){vt.Params.environment.VUE_APP_TURN_ENDPOINT&&V["PeerConnection"].setTurnServerLocation(vt.Params.environment.VUE_APP_TURN_ENDPOINT)},St=function(e,t){if(!t||!e)throw new Error("Stream ID not provided.");gt();var n=function(){var n=V["Director"].getSubscriber(t,e,vt.Params.viewer.token);return n.catch((function(e){var t="".concat(e);if(!t.includes("stream not being published")){var n=t.replace("FetchError: ","");mt("Errors/setMessage",n),mt("Errors/setType","SubscriberError"),mt("Errors/setShowError",!0)}})),n},r=new V["View"](t,n);window.millicastView=r,window.__defineGetter__("peer",(function(){return r.getRTCPeerConnection()})),mt("ViewConnection/setMillicastView",r)},_t=function(){var e=u(c().mark((function e(){var t,n,r,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=vt.ViewConnection.millicastView,!t.isActive()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,e.next=6,Ot();case 6:return n={events:["active","inactive","layers","viewercount"],absCaptureTime:!0},vt.Params.viewer.audioOnly&&(n.disableVideo=!0),vt.Params.viewer.videoOnly&&(n.disableAudio=!0),vt.Params.viewer.forcePlayoutDelay&&(n.forcePlayoutDelay=vt.Params.viewer.forcePlayoutDelay),vt.Params.viewer.metadata&&(n.metadata=vt.Params.viewer.metadata),e.next=13,t.connect(n);case 13:jt(),e.next=26;break;case 16:if(e.prev=16,e.t0=e["catch"](3),i=null===(r=e.t0.response)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.message,mt("Controls/setIsLoading",!1),mt("Controls/setIsLive",!1),t.reconnect(),i){e.next=24;break}return e.abrupt("return");case 24:if(i.toLowerCase().includes("stream not being published")){e.next=26;break}throw new Error("".concat(i.charAt(0).toUpperCase()).concat(i.slice(1)));case 26:case"end":return e.stop()}}),e,null,[[3,16]])})));return function(){return e.apply(this,arguments)}}(),xt=function(){var e=vt.ViewConnection.millicastView;e.on("track",function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("video"===(null===(n=t.track)||void 0===n?void 0:n.kind)&&mt("Sources/addTrackIdMidMapping",{trackId:null===(r=t.track)||void 0===r?void 0:r.id,mid:null===(i=t.transceiver)||void 0===i?void 0:i.mid}),!t.streams.length){e.next=5;break}return e.next=4,kt(t.streams[0]);case 4:mt("Sources/setStream",t.streams[0]);case 5:vt.ViewConnection.trackEvent[t.track.kind].transceiver[0]?vt.ViewConnection.trackEvent[t.track.kind].transceiver.push(t.transceiver):vt.ViewConnection.trackEvent[t.track.kind].transceiver[0]=t.transceiver,vt.ViewConnection.trackEvent[t.track.kind].track=!0;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),vt.Params.viewer.metadata&&e.on("metadata",(function(e){var t=new CustomEvent("metadata",{detail:{metadata:e}});window.dispatchEvent(t)}))},kt=function(){var e=u(c().mark((function e(t){var n,r,i;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=vt.Controls.video,jt(),mt("Controls/setSrcObject",t),!n.srcObject||n.srcObject.id===t.id||vt.Controls.viewerMigratingEvent){e.next=5;break}return e.abrupt("return");case 5:if(!n.srcObject||n.srcObject.id===t.id||!vt.Controls.viewerMigratingEvent){e.next=24;break}return mt("Controls/setPreviousSplitState",vt.Controls.isSplittedView),mt("Controls/setIsMigrating",!0),mt("Controls/setIsSplittedView",!1),e.next=11,Object(o["nextTick"])();case 11:r="player"===vt.Controls.currentElementRef?"player2":"player",i=document.getElementById(r),i.srcObject=t,i.autoplay=vt.Controls.playing,i.muted=vt.Controls.muted,ll(),al(i),i.onloadedmetadata=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:mt("Controls/setVideo",i),mt("Controls/setCurrentElementRef",r),mt("Controls/setIsMigrating",!1),mt("Controls/setIsSplittedView",vt.Controls.previousSplitState),document.pictureInPictureElement&&i.requestPictureInPicture();case 5:case"end":return e.stop()}}),e)}))),mt("Controls/setViewerMigratingEvent",!1),mt("Controls/setMigrateListenerIsSet",!1),jt(),e.next=25;break;case 24:sl({videoPlayer:n,srcObject:t});case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ot=function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(mt("Controls/setVideoAutoplay",vt.Params.viewer.autoplay),!vt.Params.viewer.autoplay){e.next=8;break}return e.next=4,ht.video({muted:vt.Params.viewer.muted});case 4:t=e.sent,n=vt.Params.viewer.muted?vt.Params.viewer.muted:!t.result,mt("Controls/setVideoMuted",n),mt("Controls/setAutoPlayMuted",n);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ct=function(){var e;vt.ViewConnection.eventListeners.reconnect=null!==(e=vt.ViewConnection.eventListeners.reconnect)&&void 0!==e?e:vt.ViewConnection.millicastView.on("reconnect",(function(e){var t=e.timeout,n=e.error,r=null===n||void 0===n?void 0:n.toString().toLowerCase();null!==r&&void 0!==r&&r.toLowerCase().includes("stream not being published")?(mt("Controls/setIsLoading",!1),mt("Controls/setIsLive",!1)):(mt("Controls/setPreviousSplitState",vt.Controls.isSplittedView),mt("Controls/setVideoSource",null),mt("Controls/setSrcObject",null),mt("Controls/setIsSplittedView",!1),mt("Controls/setViewerMigratingEvent",!1),mt("Controls/setMigrateListenerIsSet",!1),mt("Controls/handleReconnection",{timeout:t,error:n}))}))},Et=function(){var e;null===(e=vt.ViewConnection.millicastView)||void 0===e||e.stop(),mt("Controls/setVideoSource",null),mt("Controls/setSrcObject",null)},jt=function(){vt.Controls.viewerMigratingEvent||vt.Controls.migrateListenerIsSet||!vt.ViewConnection.millicastView.signaling||setTimeout((function(){vt.ViewConnection.millicastView.signaling.on("migrate",(function(){mt("Controls/setViewerMigratingEvent",!0)})),mt("Controls/setMigrateListenerIsSet",!0)}),50)},Tt=(n("a630"),n("d81d"),n("45fc"),n("3c65"),n("a9e3"),rt.commit),It=rt.state,Rt=null,Vt=null,Pt=null,At=function(){var e=u(c().mark((function e(){var t,n;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Pt){e.next=6;break}return e.next=3,new Promise((function(e){return setTimeout(e,20)}));case 3:Pt=It.Params.environment.VUE_APP_CHROMECAST_ID,e.next=0;break;case 6:t=function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=window,r=n.cast,e.t0=t,e.next=e.t0===r.framework.CastState.NO_DEVICES_AVAILABLE?4:e.t0===r.framework.CastState.NOT_CONNECTED?6:e.t0===r.framework.CastState.CONNECTED?8:11;break;case 4:return Tt("Controls/setCastAvailable",!1),e.abrupt("break",12);case 6:return Tt("Controls/setCastAvailable",!0),e.abrupt("break",12);case 8:return e.next=10,Mt();case 10:return e.abrupt("break",12);case 11:return e.abrupt("break",12);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n=function(e){var t=window,n=t.cast;switch(e.sessionState){case n.framework.SessionState.SESSION_ENDED:Vt=null,fl(),Tt("Controls/setCastIsConnected",!1);break;default:break}},window["__onGCastApiAvailable"]=function(){var e=u(c().mark((function e(r){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:r&&setTimeout(u(c().mark((function e(){var r,i,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,window.cast.framework.CastContext.getInstance();case 2:if(Rt=e.sent,!window.chrome.cast||!window.chrome.cast.AutoJoinPolicy){e.next=12;break}return Rt.setOptions({autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.PAGE_SCOPED,receiverApplicationId:Pt}),r=window.cast.framework.CastContextEventType,i=r.CAST_STATE_CHANGED,o=r.SESSION_STATE_CHANGED,e.next=8,Rt.addEventListener(i,function(){var e=u(c().mark((function e(n){var r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.castState,e.next=3,t(r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.next=10,Rt.addEventListener(o,(function(e){return n(e)}));case 10:e.next=13;break;case 12:Tt("Controls/setCastAvailable",!1);case 13:case"end":return e.stop()}}),e)}))),20);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Mt=function(){var e=u(c().mark((function e(){var t,n,r,i,o,s,a,l,u,d,f,p;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=window,s=o.chrome,a=It.Controls.castOptions,l=a.streamId,u=a.token,d={audioSource:It.Sources.selectedAudioSource,videoSource:It.Sources.selectedVideoSource,audioMediaId:null!==(t=null===(n=It.ViewConnection.trackEvent)||void 0===n||null===(n=n.audio)||void 0===n?void 0:n.transceiver.mid)&&void 0!==t?t:null,videoMediaId:null!==(r=null===(i=It.ViewConnection.trackEvent)||void 0===i||null===(i=i.video)||void 0===i?void 0:i.transceiver.mid)&&void 0!==r?r:null},e.next=5,Rt.getCurrentSession();case 5:Vt=e.sent,f=new s.cast.media.MediaInfo(l,""),f.customData={streamId:l,token:u,multiSourceOptions:d},f.streamType=s.cast.media.StreamType.LIVE,p=new s.cast.media.LoadRequest(f),Vt.loadMedia(p).then((function(){pl(),Tt("Controls/setCastDevice",Vt.getCastDevice()),Tt("Controls/setCastIsConnected",!0)})).catch((function(e){console.log(e)}));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Lt(e){if(Array.isArray(e))return e}function Nt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Dt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bt(e,t){if(e){if("string"===typeof e)return Dt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Dt(e,t):void 0}}function Ft(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ut(e){return Lt(e)||Nt(e)||Bt(e)||Ft()}n("13d5"),n("4e82"),n("4fad"),n("c1f9");var zt=rt.commit,Wt=rt.state,Zt=["bps","kbps","mbps","gbps"],Gt={2:["High","Low"],3:["High","Medium","Low"]},$t=[],Xt=function(e){var t,n=e.data,r=[],i=[],o={0:n.medias[0]},s=Object.values(o),a=Object.entries(n.medias),c=Ut(a),l=c.slice(1),u=Object.fromEntries(l);if(zt("Layers/setMedias",n.medias),Jt(u),s.forEach((function(e){var t,n,o,s,a;1===(null===e||void 0===e?void 0:e.active.length)&&(null===e||void 0===e||null===(t=e.active[0])||void 0===t?void 0:t.layers.length)>1?(null===(n=e.active[0])||void 0===n||null===(n=n.layers)||void 0===n||n.forEach((function(t){r.some((function(e){return e.spatialLayerId===t.spatialLayerId}))||(t.id=e.active[0].id,t.selectId=t.spatialLayerId,t.disabled=!t.bitrate,r.push(t))})),null===(o=e.inactive[0])||void 0===o||null===(o=o.layers)||void 0===o||o.forEach((function(e){i.some((function(t){return t.spatialLayerId===e.spatialLayerId}))||i.push(e)}))):(null===e||void 0===e||null===(s=e.active)||void 0===s||s.forEach((function(e){r.some((function(t){return t.id===e.id}))||(e.selectId=e.id,e.disabled=!e.bitrate,r.push(e))})),null===e||void 0===e||null===(a=e.inactive)||void 0===a||a.forEach((function(e){i.some((function(t){return t.id===e.id}))||i.push(e)})))})),r.sort((function(e,t){return t.bitrate-e.bitrate})),r.length>=2){r.sort((function(e,t){return t.height-e.height}));var d=Gt[r.length]||[];r.forEach((function(e,t){e.name=e.height?"".concat(e.height,"p"):d[t]||Kt(e.bitrate)})),r.unshift({name:"Auto"})}r.length!=(null===(t=Wt.Layers.mainTransceiverMedias)||void 0===t?void 0:t.active.length)&&zt("Layers/setSelectedQuality",{name:"Auto"}),zt("Layers/setMainTransceiverMedias",{active:r,inactive:i})},Yt=function(){zt("Layers/setMainTransceiverMedias",{active:[],inactive:[]}),zt("Layers/setSelectedQuality",{name:"Auto"})},Ht=function(e){var t,n={};n.encodingId=e.id,n.encodingId||null===e.spatialLayerId||(n.spatialLayerId=parseInt(e.spatialLayerId));var r=Wt.Sources.selectedVideoSource,i=Wt.Layers.medias[r.mid].layers,o=i.find((function(t){return t.simulcastIdx===e.simulcastIdx}));null===(t=Wt.ViewConnection.millicastView)||void 0===t||t.project(r.sourceId,[{mediaId:r.mid,layer:o,media:"video",promote:!o}]),zt("Layers/selectQuality",e)},Kt=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t/1e3;return r<1||r>1&&n+1>Zt.length?"".concat(Math.round(100*t)/100," ").concat(Zt[n]):r>1?e(r,n+1):void 0},Jt=function(e){var t=Wt.Controls,n=t.isSplittedView,r=t.isGrid;if(n&&!r){var i=Object.keys($t),o=Object.keys(e),s=o.filter((function(e){return!i.includes(e)})),a=s.reduce((function(t,n){var r,i=(null===(r=e[n])||void 0===r?void 0:r.active.length)>0?e[n].active:null;return null!=i&&(t[n]=i),t}),{}),c=Object.keys(a);if(0===c.length)return;var l=Wt.Sources.transceiverSourceState;c.reduce((function(e,t){return e.push(l[t]),e}),[]),$t=e}},Qt=function(e){e||($t=[])};function qt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function en(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}
/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/Object(o["watch"])((function(){return Wt.Controls.isSplittedView}),Qt,{deep:!0});var tn,nn,rn,on,sn,an,cn,ln,un,dn,fn,pn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},hn={duration:.5,overwrite:!1,delay:0},mn=1e8,vn=1/mn,gn=2*Math.PI,bn=gn/4,yn=0,wn=Math.sqrt,Sn=Math.cos,_n=Math.sin,xn=function(e){return"string"===typeof e},kn=function(e){return"function"===typeof e},On=function(e){return"number"===typeof e},Cn=function(e){return"undefined"===typeof e},En=function(e){return"object"===typeof e},jn=function(e){return!1!==e},Tn=function(){return"undefined"!==typeof window},In=function(e){return kn(e)||xn(e)},Rn="function"===typeof ArrayBuffer&&ArrayBuffer.isView||function(){},Vn=Array.isArray,Pn=/(?:-?\.?\d|\.)+/gi,An=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Mn=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,Ln=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,Nn=/[+-]=-?[.\d]+/,Dn=/[^,'"\[\]\s]+/gi,Bn=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Fn={},Un={},zn=function(e){return(Un=br(e,Fn))&&No},Wn=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},Zn=function(e,t){return!t&&console.warn(e)},Gn=function(e,t){return e&&(Fn[e]=t)&&Un&&(Un[e]=t)||Fn},$n=function(){return 0},Xn={suppressEvents:!0,isStart:!0,kill:!1},Yn={suppressEvents:!0,kill:!1},Hn={suppressEvents:!0},Kn={},Jn=[],Qn={},qn={},er={},tr=30,nr=[],rr="",ir=function(e){var t,n,r=e[0];if(En(r)||kn(r)||(e=[e]),!(t=(r._gsap||{}).harness)){n=nr.length;while(n--&&!nr[n].targetTest(r));t=nr[n]}n=e.length;while(n--)e[n]&&(e[n]._gsap||(e[n]._gsap=new $i(e[n],t)))||e.splice(n,1);return e},or=function(e){return e._gsap||ir(ti(e))[0]._gsap},sr=function(e,t,n){return(n=e[t])&&kn(n)?e[t]():Cn(n)&&e.getAttribute&&e.getAttribute(t)||n},ar=function(e,t){return(e=e.split(",")).forEach(t)||e},cr=function(e){return Math.round(1e5*e)/1e5||0},lr=function(e){return Math.round(1e7*e)/1e7||0},ur=function(e,t){var n=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),"+"===n?e+r:"-"===n?e-r:"*"===n?e*r:e/r},dr=function(e,t){for(var n=t.length,r=0;e.indexOf(t[r])<0&&++r<n;);return r<n},fr=function(){var e,t,n=Jn.length,r=Jn.slice(0);for(Qn={},Jn.length=0,e=0;e<n;e++)t=r[e],t&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},pr=function(e,t,n,r){Jn.length&&!nn&&fr(),e.render(t,n,r||nn&&t<0&&(e._initted||e._startAt)),Jn.length&&!nn&&fr()},hr=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Dn).length<2?t:xn(e)?e.trim():e},mr=function(e){return e},vr=function(e,t){for(var n in t)n in e||(e[n]=t[n]);return e},gr=function(e){return function(t,n){for(var r in n)r in t||"duration"===r&&e||"ease"===r||(t[r]=n[r])}},br=function(e,t){for(var n in t)e[n]=t[n];return e},yr=function e(t,n){for(var r in n)"__proto__"!==r&&"constructor"!==r&&"prototype"!==r&&(t[r]=En(n[r])?e(t[r]||(t[r]={}),n[r]):n[r]);return t},wr=function(e,t){var n,r={};for(n in e)n in t||(r[n]=e[n]);return r},Sr=function(e){var t=e.parent||on,n=e.keyframes?gr(Vn(e.keyframes)):vr;if(jn(e.inherit))while(t)n(e,t.vars.defaults),t=t.parent||t._dp;return e},_r=function(e,t){var n=e.length,r=n===t.length;while(r&&n--&&e[n]===t[n]);return n<0},xr=function(e,t,n,r,i){void 0===n&&(n="_first"),void 0===r&&(r="_last");var o,s=e[r];if(i){o=t[i];while(s&&s[i]>o)s=s._prev}return s?(t._next=s._next,s._next=t):(t._next=e[n],e[n]=t),t._next?t._next._prev=t:e[r]=t,t._prev=s,t.parent=t._dp=e,t},kr=function(e,t,n,r){void 0===n&&(n="_first"),void 0===r&&(r="_last");var i=t._prev,o=t._next;i?i._next=o:e[n]===t&&(e[n]=o),o?o._prev=i:e[r]===t&&(e[r]=i),t._next=t._prev=t.parent=null},Or=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Cr=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0)){var n=e;while(n)n._dirty=1,n=n.parent}return e},Er=function(e){var t=e.parent;while(t&&t.parent)t._dirty=1,t.totalDuration(),t=t.parent;return e},jr=function(e,t,n,r){return e._startAt&&(nn?e._startAt.revert(Yn):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},Tr=function e(t){return!t||t._ts&&e(t.parent)},Ir=function(e){return e._repeat?Rr(e._tTime,e=e.duration()+e._rDelay)*e:0},Rr=function(e,t){var n=Math.floor(e/=t);return e&&n===e?n-1:n},Vr=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},Pr=function(e){return e._end=lr(e._start+(e._tDur/Math.abs(e._ts||e._rts||vn)||0))},Ar=function(e,t){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=lr(n._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),Pr(e),n._dirty||Cr(n,e)),e},Mr=function(e,t){var n;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(n=Vr(e.rawTime(),t),(!t._dur||Hr(0,t.totalDuration(),n)-t._tTime>vn)&&t.render(n,!0)),Cr(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration()){n=e;while(n._dp)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp}e._zTime=-vn}},Lr=function(e,t,n,r){return t.parent&&Or(t),t._start=lr((On(n)?n:n||e!==on?$r(e,n,t):e._time)+t._delay),t._end=lr(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),xr(e,t,"_first","_last",e._sort?"_start":0),Fr(t)||(e._recent=t),r||Mr(e,t),e._ts<0&&Ar(e,e._tTime),e},Nr=function(e,t){return(Fn.ScrollTrigger||Wn("scrollTrigger",t))&&Fn.ScrollTrigger.create(t,e)},Dr=function(e,t,n,r,i){return to(e,t,i),e._initted?!n&&e._pt&&!nn&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&un!==Ri.frame?(Jn.push(e),e._lazy=[i,r],1):void 0:1},Br=function e(t){var n=t.parent;return n&&n._ts&&n._initted&&!n._lock&&(n.rawTime()<0||e(n))},Fr=function(e){var t=e.data;return"isFromStart"===t||"isStart"===t},Ur=function(e,t,n,r){var i,o,s,a=e.ratio,c=t<0||!t&&(!e._start&&Br(e)&&(e._initted||!Fr(e))||(e._ts<0||e._dp._ts<0)&&!Fr(e))?0:1,l=e._rDelay,u=0;if(l&&e._repeat&&(u=Hr(0,e._tDur,t),o=Rr(u,l),e._yoyo&&1&o&&(c=1-c),o!==Rr(e._tTime,l)&&(a=1-c,e.vars.repeatRefresh&&e._initted&&e.invalidate())),c!==a||nn||r||e._zTime===vn||!t&&e._zTime){if(!e._initted&&Dr(e,t,r,n,u))return;s=e._zTime,e._zTime=t||(n?vn:0),n||(n=t&&!s),e.ratio=c,e._from&&(c=1-c),e._time=0,e._tTime=u,i=e._pt;while(i)i.r(c,i.d),i=i._next;t<0&&jr(e,t,n,!0),e._onUpdate&&!n&&bi(e,"onUpdate"),u&&e._repeat&&!n&&e.parent&&bi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===c&&(c&&Or(e,1),n||nn||(bi(e,c?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},zr=function(e,t,n){var r;if(n>t){r=e._first;while(r&&r._start<=n){if("isPause"===r.data&&r._start>t)return r;r=r._next}}else{r=e._last;while(r&&r._start>=n){if("isPause"===r.data&&r._start<t)return r;r=r._prev}}},Wr=function(e,t,n,r){var i=e._repeat,o=lr(t)||0,s=e._tTime/e._tDur;return s&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=i?i<0?1e10:lr(o*(i+1)+e._rDelay*i):o,s>0&&!r&&Ar(e,e._tTime=e._tDur*s),e.parent&&Pr(e),n||Cr(e.parent,e),e},Zr=function(e){return e instanceof Yi?Cr(e):Wr(e,e._dur)},Gr={_start:0,endTime:$n,totalDuration:$n},$r=function e(t,n,r){var i,o,s,a=t.labels,c=t._recent||Gr,l=t.duration()>=mn?c.endTime(!1):t._dur;return xn(n)&&(isNaN(n)||n in a)?(o=n.charAt(0),s="%"===n.substr(-1),i=n.indexOf("="),"<"===o||">"===o?(i>=0&&(n=n.replace(/=/,"")),("<"===o?c._start:c.endTime(c._repeat>=0))+(parseFloat(n.substr(1))||0)*(s?(i<0?c:r).totalDuration()/100:1)):i<0?(n in a||(a[n]=l),a[n]):(o=parseFloat(n.charAt(i-1)+n.substr(i+1)),s&&r&&(o=o/100*(Vn(r)?r[0]:r).totalDuration()),i>1?e(t,n.substr(0,i-1),r)+o:l+o)):null==n?l:+n},Xr=function(e,t,n){var r,i,o=On(t[1]),s=(o?2:1)+(e<2?0:1),a=t[s];if(o&&(a.duration=t[1]),a.parent=n,e){r=a,i=n;while(i&&!("immediateRender"in r))r=i.vars.defaults||{},i=jn(i.vars.inherit)&&i.parent;a.immediateRender=jn(r.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new co(t[0],a,t[s+1])},Yr=function(e,t){return e||0===e?t(e):t},Hr=function(e,t,n){return n<e?e:n>t?t:n},Kr=function(e,t){return xn(e)&&(t=Bn.exec(e))?t[1]:""},Jr=function(e,t,n){return Yr(n,(function(n){return Hr(e,t,n)}))},Qr=[].slice,qr=function(e,t){return e&&En(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&En(e[0]))&&!e.nodeType&&e!==sn},ei=function(e,t,n){return void 0===n&&(n=[]),e.forEach((function(e){var r;return xn(e)&&!t||qr(e,1)?(r=n).push.apply(r,ti(e)):n.push(e)}))||n},ti=function(e,t,n){return rn&&!t&&rn.selector?rn.selector(e):!xn(e)||n||!an&&Vi()?Vn(e)?ei(e,n):qr(e)?Qr.call(e,0):e?[e]:[]:Qr.call((t||cn).querySelectorAll(e),0)},ni=function(e){return e=ti(e)[0]||Zn("Invalid scope")||{},function(t){var n=e.current||e.nativeElement||e;return ti(t,n.querySelectorAll?n:n===e?Zn("Invalid scope")||cn.createElement("div"):e)}},ri=function(e){return e.sort((function(){return.5-Math.random()}))},ii=function(e){if(kn(e))return e;var t=En(e)?e:{each:e},n=Ui(t.ease),r=t.from||0,i=parseFloat(t.base)||0,o={},s=r>0&&r<1,a=isNaN(r)||s,c=t.axis,l=r,u=r;return xn(r)?l=u={center:.5,edges:.5,end:1}[r]||0:!s&&a&&(l=r[0],u=r[1]),function(e,s,d){var f,p,h,m,v,g,b,y,w,S=(d||t).length,_=o[S];if(!_){if(w="auto"===t.grid?0:(t.grid||[1,mn])[1],!w){b=-mn;while(b<(b=d[w++].getBoundingClientRect().left)&&w<S);w<S&&w--}for(_=o[S]=[],f=a?Math.min(w,S)*l-.5:r%w,p=w===mn?0:a?S*u/w-.5:r/w|0,b=0,y=mn,g=0;g<S;g++)h=g%w-f,m=p-(g/w|0),_[g]=v=c?Math.abs("y"===c?m:h):wn(h*h+m*m),v>b&&(b=v),v<y&&(y=v);"random"===r&&ri(_),_.max=b-y,_.min=y,_.v=S=(parseFloat(t.amount)||parseFloat(t.each)*(w>S?S-1:c?"y"===c?S/w:w:Math.max(w,S/w))||0)*("edges"===r?-1:1),_.b=S<0?i-S:i,_.u=Kr(t.amount||t.each)||0,n=n&&S<0?Bi(n):n}return S=(_[e]-_.min)/_.max||0,lr(_.b+(n?n(S):S)*_.v)+_.u}},oi=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var r=lr(Math.round(parseFloat(n)/e)*e*t);return(r-r%1)/t+(On(n)?0:Kr(n))}},si=function(e,t){var n,r,i=Vn(e);return!i&&En(e)&&(n=i=e.radius||mn,e.values?(e=ti(e.values),(r=!On(e[0]))&&(n*=n)):e=oi(e.increment)),Yr(t,i?kn(e)?function(t){return r=e(t),Math.abs(r-t)<=n?r:t}:function(t){var i,o,s=parseFloat(r?t.x:t),a=parseFloat(r?t.y:0),c=mn,l=0,u=e.length;while(u--)r?(i=e[u].x-s,o=e[u].y-a,i=i*i+o*o):i=Math.abs(e[u]-s),i<c&&(c=i,l=u);return l=!n||c<=n?e[l]:t,r||l===t||On(t)?l:l+Kr(t)}:oi(e))},ai=function(e,t,n,r){return Yr(Vn(e)?!t:!0===n?!!(n=0):!r,(function(){return Vn(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(r=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(t-e+.99*n))/n)*n*r)/r}))},ci=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce((function(e,t){return t(e)}),e)}},li=function(e,t){return function(n){return e(parseFloat(n))+(t||Kr(n))}},ui=function(e,t,n){return mi(e,t,0,1,n)},di=function(e,t,n){return Yr(n,(function(n){return e[~~t(n)]}))},fi=function e(t,n,r){var i=n-t;return Vn(t)?di(t,e(0,t.length),n):Yr(r,(function(e){return(i+(e-t)%i)%i+t}))},pi=function e(t,n,r){var i=n-t,o=2*i;return Vn(t)?di(t,e(0,t.length-1),n):Yr(r,(function(e){return e=(o+(e-t)%o)%o||0,t+(e>i?o-e:e)}))},hi=function(e){var t,n,r,i,o=0,s="";while(~(t=e.indexOf("random(",o)))r=e.indexOf(")",t),i="["===e.charAt(t+7),n=e.substr(t+7,r-t-7).match(i?Dn:Pn),s+=e.substr(o,t-o)+ai(i?n:+n[0],i?0:+n[1],+n[2]||1e-5),o=r+1;return s+e.substr(o,e.length-o)},mi=function(e,t,n,r,i){var o=t-e,s=r-n;return Yr(i,(function(t){return n+((t-e)/o*s||0)}))},vi=function e(t,n,r,i){var o=isNaN(t+n)?0:function(e){return(1-e)*t+e*n};if(!o){var s,a,c,l,u,d=xn(t),f={};if(!0===r&&(i=1)&&(r=null),d)t={p:t},n={p:n};else if(Vn(t)&&!Vn(n)){for(c=[],l=t.length,u=l-2,a=1;a<l;a++)c.push(e(t[a-1],t[a]));l--,o=function(e){e*=l;var t=Math.min(u,~~e);return c[t](e-t)},r=n}else i||(t=br(Vn(t)?[]:{},t));if(!c){for(s in n)Qi.call(f,t,s,"get",n[s]);o=function(e){return bo(e,f)||(d?t.p:t)}}}return Yr(r,o)},gi=function(e,t,n){var r,i,o,s=e.labels,a=mn;for(r in s)i=s[r]-t,i<0===!!n&&i&&a>(i=Math.abs(i))&&(o=r,a=i);return o},bi=function(e,t,n){var r,i,o,s=e.vars,a=s[t],c=rn,l=e._ctx;if(a)return r=s[t+"Params"],i=s.callbackScope||e,n&&Jn.length&&fr(),l&&(rn=l),o=r?a.apply(i,r):a.call(i),rn=c,o},yi=function(e){return Or(e),e.scrollTrigger&&e.scrollTrigger.kill(!!nn),e.progress()<1&&bi(e,"onInterrupt"),e},wi=[],Si=function(e){if(e)if(e=!e.name&&e["default"]||e,Tn()||e.headless){var t=e.name,n=kn(e),r=t&&!n&&e.init?function(){this._props=[]}:e,i={init:$n,render:bo,add:Qi,kill:wo,modifier:yo,rawVars:0},o={targetTest:0,get:0,getSetter:ho,aliases:{},register:0};if(Vi(),e!==r){if(qn[t])return;vr(r,vr(wr(e,i),o)),br(r.prototype,br(i,wr(e,o))),qn[r.prop=t]=r,e.targetTest&&(nr.push(r),Kn[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}Gn(t,r),e.register&&e.register(No,r,xo)}else wi.push(e)},_i=255,xi={aqua:[0,_i,_i],lime:[0,_i,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_i],navy:[0,0,128],white:[_i,_i,_i],olive:[128,128,0],yellow:[_i,_i,0],orange:[_i,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_i,0,0],pink:[_i,192,203],cyan:[0,_i,_i],transparent:[_i,_i,_i,0]},ki=function(e,t,n){return e+=e<0?1:e>1?-1:0,(6*e<1?t+(n-t)*e*6:e<.5?n:3*e<2?t+(n-t)*(2/3-e)*6:t)*_i+.5|0},Oi=function(e,t,n){var r,i,o,s,a,c,l,u,d,f,p=e?On(e)?[e>>16,e>>8&_i,e&_i]:0:xi.black;if(!p){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),xi[e])p=xi[e];else if("#"===e.charAt(0)){if(e.length<6&&(r=e.charAt(1),i=e.charAt(2),o=e.charAt(3),e="#"+r+r+i+i+o+o+(5===e.length?e.charAt(4)+e.charAt(4):"")),9===e.length)return p=parseInt(e.substr(1,6),16),[p>>16,p>>8&_i,p&_i,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),p=[e>>16,e>>8&_i,e&_i]}else if("hsl"===e.substr(0,3))if(p=f=e.match(Pn),t){if(~e.indexOf("="))return p=e.match(An),n&&p.length<4&&(p[3]=1),p}else s=+p[0]%360/360,a=+p[1]/100,c=+p[2]/100,i=c<=.5?c*(a+1):c+a-c*a,r=2*c-i,p.length>3&&(p[3]*=1),p[0]=ki(s+1/3,r,i),p[1]=ki(s,r,i),p[2]=ki(s-1/3,r,i);else p=e.match(Pn)||xi.transparent;p=p.map(Number)}return t&&!f&&(r=p[0]/_i,i=p[1]/_i,o=p[2]/_i,l=Math.max(r,i,o),u=Math.min(r,i,o),c=(l+u)/2,l===u?s=a=0:(d=l-u,a=c>.5?d/(2-l-u):d/(l+u),s=l===r?(i-o)/d+(i<o?6:0):l===i?(o-r)/d+2:(r-i)/d+4,s*=60),p[0]=~~(s+.5),p[1]=~~(100*a+.5),p[2]=~~(100*c+.5)),n&&p.length<4&&(p[3]=1),p},Ci=function(e){var t=[],n=[],r=-1;return e.split(ji).forEach((function(e){var i=e.match(Mn)||[];t.push.apply(t,i),n.push(r+=i.length+1)})),t.c=n,t},Ei=function(e,t,n){var r,i,o,s,a="",c=(e+a).match(ji),l=t?"hsla(":"rgba(",u=0;if(!c)return e;if(c=c.map((function(e){return(e=Oi(e,t,1))&&l+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"})),n&&(o=Ci(e),r=n.c,r.join(a)!==o.c.join(a)))for(i=e.replace(ji,"1").split(Mn),s=i.length-1;u<s;u++)a+=i[u]+(~r.indexOf(u)?c.shift()||l+"0,0,0,0)":(o.length?o:c.length?c:n).shift());if(!i)for(i=e.split(ji),s=i.length-1;u<s;u++)a+=i[u]+c[u];return a+i[s]},ji=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in xi)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),Ti=/hsl[a]?\(/,Ii=function(e){var t,n=e.join(" ");if(ji.lastIndex=0,ji.test(n))return t=Ti.test(n),e[1]=Ei(e[1],t),e[0]=Ei(e[0],t,Ci(e[1])),!0},Ri=function(){var e,t,n,r,i,o,s=Date.now,a=500,c=33,l=s(),u=l,d=1e3/240,f=d,p=[],h=function n(h){var m,v,g,b,y=s()-u,w=!0===h;if((y>a||y<0)&&(l+=y-c),u+=y,g=u-l,m=g-f,(m>0||w)&&(b=++r.frame,i=g-1e3*r.time,r.time=g/=1e3,f+=m+(m>=d?4:d-m),v=1),w||(e=t(n)),v)for(o=0;o<p.length;o++)p[o](g,i,b,h)};return r={time:0,frame:0,tick:function(){h(!0)},deltaRatio:function(e){return i/(1e3/(e||60))},wake:function(){ln&&(!an&&Tn()&&(sn=an=window,cn=sn.document||{},Fn.gsap=No,(sn.gsapVersions||(sn.gsapVersions=[])).push(No.version),zn(Un||sn.GreenSockGlobals||!sn.gsap&&sn||{}),wi.forEach(Si)),n="undefined"!==typeof requestAnimationFrame&&requestAnimationFrame,e&&r.sleep(),t=n||function(e){return setTimeout(e,f-1e3*r.time+1|0)},fn=1,h(2))},sleep:function(){(n?cancelAnimationFrame:clearTimeout)(e),fn=0,t=$n},lagSmoothing:function(e,t){a=e||1/0,c=Math.min(t||33,a)},fps:function(e){d=1e3/(e||240),f=1e3*r.time+d},add:function(e,t,n){var i=t?function(t,n,o,s){e(t,n,o,s),r.remove(i)}:e;return r.remove(e),p[n?"unshift":"push"](i),Vi(),i},remove:function(e,t){~(t=p.indexOf(e))&&p.splice(t,1)&&o>=t&&o--},_listeners:p},r}(),Vi=function(){return!fn&&Ri.wake()},Pi={},Ai=/^[\d.\-M][\d.\-,\s]/,Mi=/["']/g,Li=function(e){for(var t,n,r,i={},o=e.substr(1,e.length-3).split(":"),s=o[0],a=1,c=o.length;a<c;a++)n=o[a],t=a!==c-1?n.lastIndexOf(","):n.length,r=n.substr(0,t),i[s]=isNaN(r)?r.replace(Mi,"").trim():+r,s=n.substr(t+1).trim();return i},Ni=function(e){var t=e.indexOf("(")+1,n=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<n?e.indexOf(")",n+1):n)},Di=function(e){var t=(e+"").split("("),n=Pi[t[0]];return n&&t.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Li(t[1])]:Ni(e).split(",").map(hr)):Pi._CE&&Ai.test(e)?Pi._CE("",e):n},Bi=function(e){return function(t){return 1-e(1-t)}},Fi=function e(t,n){var r,i=t._first;while(i)i instanceof Yi?e(i,n):!i.vars.yoyoEase||i._yoyo&&i._repeat||i._yoyo===n||(i.timeline?e(i.timeline,n):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=n)),i=i._next},Ui=function(e,t){return e&&(kn(e)?e:Pi[e]||Di(e))||t},zi=function(e,t,n,r){void 0===n&&(n=function(e){return 1-t(1-e)}),void 0===r&&(r=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var i,o={easeIn:t,easeOut:n,easeInOut:r};return ar(e,(function(e){for(var t in Pi[e]=Fn[e]=o,Pi[i=e.toLowerCase()]=n,o)Pi[i+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=Pi[e+"."+t]=o[t]})),o},Wi=function(e){return function(t){return t<.5?(1-e(1-2*t))/2:.5+e(2*(t-.5))/2}},Zi=function e(t,n,r){var i=n>=1?n:1,o=(r||(t?.3:.45))/(n<1?n:1),s=o/gn*(Math.asin(1/i)||0),a=function(e){return 1===e?1:i*Math.pow(2,-10*e)*_n((e-s)*o)+1},c="out"===t?a:"in"===t?function(e){return 1-a(1-e)}:Wi(a);return o=gn/o,c.config=function(n,r){return e(t,n,r)},c},Gi=function e(t,n){void 0===n&&(n=1.70158);var r=function(e){return e?--e*e*((n+1)*e+n)+1:0},i="out"===t?r:"in"===t?function(e){return 1-r(1-e)}:Wi(r);return i.config=function(n){return e(t,n)},i};ar("Linear,Quad,Cubic,Quart,Quint,Strong",(function(e,t){var n=t<5?t+1:t;zi(e+",Power"+(n-1),t?function(e){return Math.pow(e,n)}:function(e){return e},(function(e){return 1-Math.pow(1-e,n)}),(function(e){return e<.5?Math.pow(2*e,n)/2:1-Math.pow(2*(1-e),n)/2}))})),Pi.Linear.easeNone=Pi.none=Pi.Linear.easeIn,zi("Elastic",Zi("in"),Zi("out"),Zi()),function(e,t){var n=1/t,r=2*n,i=2.5*n,o=function(o){return o<n?e*o*o:o<r?e*Math.pow(o-1.5/t,2)+.75:o<i?e*(o-=2.25/t)*o+.9375:e*Math.pow(o-2.625/t,2)+.984375};zi("Bounce",(function(e){return 1-o(1-e)}),o)}(7.5625,2.75),zi("Expo",(function(e){return e?Math.pow(2,10*(e-1)):0})),zi("Circ",(function(e){return-(wn(1-e*e)-1)})),zi("Sine",(function(e){return 1===e?1:1-Sn(e*bn)})),zi("Back",Gi("in"),Gi("out"),Gi()),Pi.SteppedEase=Pi.steps=Fn.SteppedEase={config:function(e,t){void 0===e&&(e=1);var n=1/e,r=e+(t?0:1),i=t?1:0,o=1-vn;return function(e){return((r*Hr(0,o,e)|0)+i)*n}}},hn.ease=Pi["quad.out"],ar("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",(function(e){return rr+=e+","+e+"Params,"}));var $i=function(e,t){this.id=yn++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:sr,this.set=t?t.getSetter:ho},Xi=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,Wr(this,+e.duration,1,1),this.data=e.data,rn&&(this._ctx=rn,rn.data.push(this)),fn||Ri.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(this._repeat>0?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,Wr(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(Vi(),!arguments.length)return this._tTime;var n=this._dp;if(n&&n.smoothChildTiming&&this._ts){Ar(this,e),!n._dp||n.parent||Mr(n,this);while(n&&n.parent)n.parent._time!==n._start+(n._ts>=0?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&e<this._tDur||this._ts<0&&e>0||!this._tDur&&!e)&&Lr(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===vn||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),pr(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+Ir(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+Ir(this),t):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},t.iteration=function(e,t){var n=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*n,t):this._repeat?Rr(this._tTime,n)+1:1},t.timeScale=function(e,t){if(!arguments.length)return this._rts===-vn?0:this._rts;if(this._rts===e)return this;var n=this.parent&&this._ts?Vr(this.parent._time,this):this._tTime;return this._rts=+e||0,this._ts=this._ps||e===-vn?0:this._rts,this.totalTime(Hr(-Math.abs(this._delay),this._tDur,n),!1!==t),Pr(this),Er(this)},t.paused=function(e){return arguments.length?(this._ps!==e&&(this._ps=e,e?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Vi(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==vn&&(this._tTime-=vn)))),this):this._ps},t.startTime=function(e){if(arguments.length){this._start=e;var t=this.parent||this._dp;return t&&(t._sort||!this.parent)&&Lr(t,this,e-this._delay),this}return this._start},t.endTime=function(e){return this._start+(jn(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Vr(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){void 0===e&&(e=Hn);var t=nn;return nn=e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),nn=t,this},t.globalTime=function(e){var t=this,n=arguments.length?e:t.rawTime();while(t)n=t._start+n/(Math.abs(t._ts)||1),t=t._dp;return!this.parent&&this._sat?this._sat.globalTime(e):n},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,Zr(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){if(arguments.length){var t=this._time;return this._rDelay=e,Zr(this),t?this.time(t):this}return this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime($r(this,e),jn(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,jn(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-vn:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-vn,this},t.isActive=function(){var e,t=this.parent||this._dp,n=this._start;return!(t&&!(this._ts&&this._initted&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<this.endTime(!0)-vn))},t.eventCallback=function(e,t,n){var r=this.vars;return arguments.length>1?(t?(r[e]=t,n&&(r[e+"Params"]=n),"onUpdate"===e&&(this._onUpdate=t)):delete r[e],this):r[e]},t.then=function(e){var t=this;return new Promise((function(n){var r=kn(e)?e:mr,i=function(){var e=t.then;t.then=null,kn(r)&&(r=r(t))&&(r.then||r===t)&&(t.then=e),n(r),t.then=e};t._initted&&1===t.totalProgress()&&t._ts>=0||!t._tTime&&t._ts<0?i():t._prom=i}))},t.kill=function(){yi(this)},e}();vr(Xi.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-vn,_prom:0,_ps:!1,_rts:1});var Yi=function(e){function t(t,n){var r;return void 0===t&&(t={}),r=e.call(this,t)||this,r.labels={},r.smoothChildTiming=!!t.smoothChildTiming,r.autoRemoveChildren=!!t.autoRemoveChildren,r._sort=jn(t.sortChildren),on&&Lr(t.parent||on,qt(r),n),t.reversed&&r.reverse(),t.paused&&r.paused(!0),t.scrollTrigger&&Nr(qt(r),t.scrollTrigger),r}en(t,e);var n=t.prototype;return n.to=function(e,t,n){return Xr(0,arguments,this),this},n.from=function(e,t,n){return Xr(1,arguments,this),this},n.fromTo=function(e,t,n,r){return Xr(2,arguments,this),this},n.set=function(e,t,n){return t.duration=0,t.parent=this,Sr(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new co(e,t,$r(this,n),1),this},n.call=function(e,t,n){return Lr(this,co.delayedCall(0,e,t),n)},n.staggerTo=function(e,t,n,r,i,o,s){return n.duration=t,n.stagger=n.stagger||r,n.onComplete=o,n.onCompleteParams=s,n.parent=this,new co(e,n,$r(this,i)),this},n.staggerFrom=function(e,t,n,r,i,o,s){return n.runBackwards=1,Sr(n).immediateRender=jn(n.immediateRender),this.staggerTo(e,t,n,r,i,o,s)},n.staggerFromTo=function(e,t,n,r,i,o,s,a){return r.startAt=n,Sr(r).immediateRender=jn(r.immediateRender),this.staggerTo(e,t,r,i,o,s,a)},n.render=function(e,t,n){var r,i,o,s,a,c,l,u,d,f,p,h,m=this._time,v=this._dirty?this.totalDuration():this._tDur,g=this._dur,b=e<=0?0:lr(e),y=this._zTime<0!==e<0&&(this._initted||!g);if(this!==on&&b>v&&e>=0&&(b=v),b!==this._tTime||n||y){if(m!==this._time&&g&&(b+=this._time-m,e+=this._time-m),r=b,d=this._start,u=this._ts,c=!u,y&&(g||(m=this._zTime),(e||!t)&&(this._zTime=e)),this._repeat){if(p=this._yoyo,a=g+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*a+e,t,n);if(r=lr(b%a),b===v?(s=this._repeat,r=g):(s=~~(b/a),s&&s===b/a&&(r=g,s--),r>g&&(r=g)),f=Rr(this._tTime,a),!m&&this._tTime&&f!==s&&this._tTime-f*a-this._dur<=0&&(f=s),p&&1&s&&(r=g-r,h=1),s!==f&&!this._lock){var w=p&&1&f,S=w===(p&&1&s);if(s<f&&(w=!w),m=w?0:b%g?g:b,this._lock=1,this.render(m||(h?0:lr(s*a)),t,!g)._lock=0,this._tTime=b,!t&&this.parent&&bi(this,"onRepeat"),this.vars.repeatRefresh&&!h&&(this.invalidate()._lock=1),m&&m!==this._time||c!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(g=this._dur,v=this._tDur,S&&(this._lock=2,m=w?g:-1e-4,this.render(m,!0),this.vars.repeatRefresh&&!h&&this.invalidate()),this._lock=0,!this._ts&&!c)return this;Fi(this,h)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=zr(this,lr(m),lr(r)),l&&(b-=r-(r=l._start))),this._tTime=b,this._time=r,this._act=!u,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,m=0),!m&&r&&!t&&!s&&(bi(this,"onStart"),this._tTime!==b))return this;if(r>=m&&e>=0){i=this._first;while(i){if(o=i._next,(i._act||r>=i._start)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(r-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(r-i._start)*i._ts,t,n),r!==this._time||!this._ts&&!c){l=0,o&&(b+=this._zTime=-vn);break}}i=o}}else{i=this._last;var _=e<0?e:r;while(i){if(o=i._prev,(i._act||_<=i._end)&&i._ts&&l!==i){if(i.parent!==this)return this.render(e,t,n);if(i.render(i._ts>0?(_-i._start)*i._ts:(i._dirty?i.totalDuration():i._tDur)+(_-i._start)*i._ts,t,n||nn&&(i._initted||i._startAt)),r!==this._time||!this._ts&&!c){l=0,o&&(b+=this._zTime=_?-vn:vn);break}}i=o}}if(l&&!t&&(this.pause(),l.render(r>=m?0:-vn)._zTime=r>=m?1:-1,this._ts))return this._start=d,Pr(this),this.render(e,t,n);this._onUpdate&&!t&&bi(this,"onUpdate",!0),(b===v&&this._tTime>=this.totalDuration()||!b&&m)&&(d!==this._start&&Math.abs(u)===Math.abs(this._ts)||this._lock||((e||!g)&&(b===v&&this._ts>0||!b&&this._ts<0)&&Or(this,1),t||e<0&&!m||!b&&!m&&v||(bi(this,b===v&&e>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(b<v&&this.timeScale()>0)&&this._prom())))}return this},n.add=function(e,t){var n=this;if(On(t)||(t=$r(this,t,e)),!(e instanceof Xi)){if(Vn(e))return e.forEach((function(e){return n.add(e,t)})),this;if(xn(e))return this.addLabel(e,t);if(!kn(e))return this;e=co.delayedCall(0,e)}return this!==e?Lr(this,e,t):this},n.getChildren=function(e,t,n,r){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===r&&(r=-mn);var i=[],o=this._first;while(o)o._start>=r&&(o instanceof co?t&&i.push(o):(n&&i.push(o),e&&i.push.apply(i,o.getChildren(!0,t,n)))),o=o._next;return i},n.getById=function(e){var t=this.getChildren(1,1,1),n=t.length;while(n--)if(t[n].vars.id===e)return t[n]},n.remove=function(e){return xn(e)?this.removeLabel(e):kn(e)?this.killTweensOf(e):(kr(this,e),e===this._recent&&(this._recent=this._last),Cr(this))},n.totalTime=function(t,n){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=lr(Ri.time-(this._ts>0?t/this._ts:(this.totalDuration()-t)/-this._ts))),e.prototype.totalTime.call(this,t,n),this._forcing=0,this):this._tTime},n.addLabel=function(e,t){return this.labels[e]=$r(this,t),this},n.removeLabel=function(e){return delete this.labels[e],this},n.addPause=function(e,t,n){var r=co.delayedCall(0,t||$n,n);return r.data="isPause",this._hasPause=1,Lr(this,r,$r(this,e))},n.removePause=function(e){var t=this._first;e=$r(this,e);while(t)t._start===e&&"isPause"===t.data&&Or(t),t=t._next},n.killTweensOf=function(e,t,n){var r=this.getTweensOf(e,n),i=r.length;while(i--)Hi!==r[i]&&r[i].kill(e,t);return this},n.getTweensOf=function(e,t){var n,r=[],i=ti(e),o=this._first,s=On(t);while(o)o instanceof co?dr(o._targets,i)&&(s?(!Hi||o._initted&&o._ts)&&o.globalTime(0)<=t&&o.globalTime(o.totalDuration())>t:!t||o.isActive())&&r.push(o):(n=o.getTweensOf(i,t)).length&&r.push.apply(r,n),o=o._next;return r},n.tweenTo=function(e,t){t=t||{};var n,r=this,i=$r(r,e),o=t,s=o.startAt,a=o.onStart,c=o.onStartParams,l=o.immediateRender,u=co.to(r,vr({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:i,overwrite:"auto",duration:t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale())||vn,onStart:function(){if(r.pause(),!n){var e=t.duration||Math.abs((i-(s&&"time"in s?s.time:r._time))/r.timeScale());u._dur!==e&&Wr(u,e,0,1).render(u._time,!0,!0),n=1}a&&a.apply(u,c||[])}},t));return l?u.render(0):u},n.tweenFromTo=function(e,t,n){return this.tweenTo(t,vr({startAt:{time:$r(this,e)}},n))},n.recent=function(){return this._recent},n.nextLabel=function(e){return void 0===e&&(e=this._time),gi(this,$r(this,e))},n.previousLabel=function(e){return void 0===e&&(e=this._time),gi(this,$r(this,e),1)},n.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+vn)},n.shiftChildren=function(e,t,n){void 0===n&&(n=0);var r,i=this._first,o=this.labels;while(i)i._start>=n&&(i._start+=e,i._end+=e),i=i._next;if(t)for(r in o)o[r]>=n&&(o[r]+=e);return Cr(this)},n.invalidate=function(t){var n=this._first;this._lock=0;while(n)n.invalidate(t),n=n._next;return e.prototype.invalidate.call(this,t)},n.clear=function(e){void 0===e&&(e=!0);var t,n=this._first;while(n)t=n._next,this.remove(n),n=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),Cr(this)},n.totalDuration=function(e){var t,n,r,i=0,o=this,s=o._last,a=mn;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-e:e));if(o._dirty){r=o.parent;while(s)t=s._prev,s._dirty&&s.totalDuration(),n=s._start,n>a&&o._sort&&s._ts&&!o._lock?(o._lock=1,Lr(o,s,n-s._delay,1)._lock=0):a=n,n<0&&s._ts&&(i-=n,(!r&&!o._dp||r&&r.smoothChildTiming)&&(o._start+=n/o._ts,o._time-=n,o._tTime-=n),o.shiftChildren(-n,!1,-Infinity),a=0),s._end>i&&s._ts&&(i=s._end),s=t;Wr(o,o===on&&o._time>i?o._time:i,1,1),o._dirty=0}return o._tDur},t.updateRoot=function(e){if(on._ts&&(pr(on,Vr(e,on)),un=Ri.frame),Ri.frame>=tr){tr+=pn.autoSleep||120;var t=on._first;if((!t||!t._ts)&&pn.autoSleep&&Ri._listeners.length<2){while(t&&!t._ts)t=t._next;t||Ri.sleep()}}},t}(Xi);vr(Yi.prototype,{_lock:0,_hasPause:0,_forcing:0});var Hi,Ki,Ji=function(e,t,n,r,i,o,s){var a,c,l,u,d,f,p,h,m=new xo(this._pt,e,t,0,1,go,null,i),v=0,g=0;m.b=n,m.e=r,n+="",r+="",(p=~r.indexOf("random("))&&(r=hi(r)),o&&(h=[n,r],o(h,e,t),n=h[0],r=h[1]),c=n.match(Ln)||[];while(a=Ln.exec(r))u=a[0],d=r.substring(v,a.index),l?l=(l+1)%5:"rgba("===d.substr(-5)&&(l=1),u!==c[g++]&&(f=parseFloat(c[g-1])||0,m._pt={_next:m._pt,p:d||1===g?d:",",s:f,c:"="===u.charAt(1)?ur(f,u)-f:parseFloat(u)-f,m:l&&l<4?Math.round:0},v=Ln.lastIndex);return m.c=v<r.length?r.substring(v,r.length):"",m.fp=s,(Nn.test(r)||p)&&(m.e=0),this._pt=m,m},Qi=function(e,t,n,r,i,o,s,a,c,l){kn(r)&&(r=r(i||0,e,o));var u,d=e[t],f="get"!==n?n:kn(d)?c?e[t.indexOf("set")||!kn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():d,p=kn(d)?c?fo:uo:lo;if(xn(r)&&(~r.indexOf("random(")&&(r=hi(r)),"="===r.charAt(1)&&(u=ur(f,r)+(Kr(f)||0),(u||0===u)&&(r=u))),!l||f!==r||Ki)return isNaN(f*r)||""===r?(!d&&!(t in e)&&Wn(t,r),Ji.call(this,e,t,f,r,p,a||pn.stringFilter,c)):(u=new xo(this._pt,e,t,+f||0,r-(f||0),"boolean"===typeof d?vo:mo,0,p),c&&(u.fp=c),s&&u.modifier(s,this,e),this._pt=u)},qi=function(e,t,n,r,i){if(kn(e)&&(e=oo(e,i,t,n,r)),!En(e)||e.style&&e.nodeType||Vn(e)||Rn(e))return xn(e)?oo(e,i,t,n,r):e;var o,s={};for(o in e)s[o]=oo(e[o],i,t,n,r);return s},eo=function(e,t,n,r,i,o){var s,a,c,l;if(qn[e]&&!1!==(s=new qn[e]).init(i,s.rawVars?t[e]:qi(t[e],r,i,o,n),n,r,o)&&(n._pt=a=new xo(n._pt,i,e,0,1,s.render,s,0,s.priority),n!==dn)){c=n._ptLookup[n._targets.indexOf(i)],l=s._props.length;while(l--)c[s._props[l]]=a}return s},to=function e(t,n,r){var i,o,s,a,c,l,u,d,f,p,h,m,v,g=t.vars,b=g.ease,y=g.startAt,w=g.immediateRender,S=g.lazy,_=g.onUpdate,x=g.runBackwards,k=g.yoyoEase,O=g.keyframes,C=g.autoRevert,E=t._dur,j=t._startAt,T=t._targets,I=t.parent,R=I&&"nested"===I.data?I.vars.targets:T,V="auto"===t._overwrite&&!tn,P=t.timeline;if(P&&(!O||!b)&&(b="none"),t._ease=Ui(b,hn.ease),t._yEase=k?Bi(Ui(!0===k?b:k,hn.ease)):0,k&&t._yoyo&&!t._repeat&&(k=t._yEase,t._yEase=t._ease,t._ease=k),t._from=!P&&!!g.runBackwards,!P||O&&!g.stagger){if(d=T[0]?or(T[0]).harness:0,m=d&&g[d.prop],i=wr(g,Kn),j&&(j._zTime<0&&j.progress(1),n<0&&x&&w&&!C?j.render(-1,!0):j.revert(x&&E?Yn:Xn),j._lazy=0),y){if(Or(t._startAt=co.set(T,vr({data:"isStart",overwrite:!1,parent:I,immediateRender:!0,lazy:!j&&jn(S),startAt:null,delay:0,onUpdate:_&&function(){return bi(t,"onUpdate")},stagger:0},y))),t._startAt._dp=0,t._startAt._sat=t,n<0&&(nn||!w&&!C)&&t._startAt.revert(Yn),w&&E&&n<=0&&r<=0)return void(n&&(t._zTime=n))}else if(x&&E&&!j)if(n&&(w=!1),s=vr({overwrite:!1,data:"isFromStart",lazy:w&&!j&&jn(S),immediateRender:w,stagger:0,parent:I},i),m&&(s[d.prop]=m),Or(t._startAt=co.set(T,s)),t._startAt._dp=0,t._startAt._sat=t,n<0&&(nn?t._startAt.revert(Yn):t._startAt.render(-1,!0)),t._zTime=n,w){if(!n)return}else e(t._startAt,vn,vn);for(t._pt=t._ptCache=0,S=E&&jn(S)||S&&!E,o=0;o<T.length;o++){if(c=T[o],u=c._gsap||ir(T)[o]._gsap,t._ptLookup[o]=p={},Qn[u.id]&&Jn.length&&fr(),h=R===T?o:R.indexOf(c),d&&!1!==(f=new d).init(c,m||i,t,h,R)&&(t._pt=a=new xo(t._pt,c,f.name,0,1,f.render,f,0,f.priority),f._props.forEach((function(e){p[e]=a})),f.priority&&(l=1)),!d||m)for(s in i)qn[s]&&(f=eo(s,i,t,h,c,R))?f.priority&&(l=1):p[s]=a=Qi.call(t,c,s,"get",i[s],h,R,0,g.stringFilter);t._op&&t._op[o]&&t.kill(c,t._op[o]),V&&t._pt&&(Hi=t,on.killTweensOf(c,p,t.globalTime(n)),v=!t.parent,Hi=0),t._pt&&S&&(Qn[u.id]=1)}l&&_o(t),t._onInit&&t._onInit(t)}t._onUpdate=_,t._initted=(!t._op||t._pt)&&!v,O&&n<=0&&P.render(mn,!0,!0)},no=function(e,t,n,r,i,o,s,a){var c,l,u,d,f=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!f){f=e._ptCache[t]=[],u=e._ptLookup,d=e._targets.length;while(d--){if(c=u[d][t],c&&c.d&&c.d._pt){c=c.d._pt;while(c&&c.p!==t&&c.fp!==t)c=c._next}if(!c)return Ki=1,e.vars[t]="+=0",to(e,s),Ki=0,a?Zn(t+" not eligible for reset"):1;f.push(c)}}d=f.length;while(d--)l=f[d],c=l._pt||l,c.s=!r&&0!==r||i?c.s+(r||0)+o*c.c:r,c.c=n-c.s,l.e&&(l.e=cr(n)+Kr(l.e)),l.b&&(l.b=c.s+Kr(l.b))},ro=function(e,t){var n,r,i,o,s=e[0]?or(e[0]).harness:0,a=s&&s.aliases;if(!a)return t;for(r in n=br({},t),a)if(r in n){o=a[r].split(","),i=o.length;while(i--)n[o[i]]=n[r]}return n},io=function(e,t,n,r){var i,o,s=t.ease||r||"power1.inOut";if(Vn(t))o=n[e]||(n[e]=[]),t.forEach((function(e,n){return o.push({t:n/(t.length-1)*100,v:e,e:s})}));else for(i in t)o=n[i]||(n[i]=[]),"ease"===i||o.push({t:parseFloat(e),v:t[i],e:s})},oo=function(e,t,n,r,i){return kn(e)?e.call(t,n,r,i):xn(e)&&~e.indexOf("random(")?hi(e):e},so=rr+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",ao={};ar(so+",id,stagger,delay,duration,paused,scrollTrigger",(function(e){return ao[e]=1}));var co=function(e){function t(t,n,r,i){var o;"number"===typeof n&&(r.duration=n,n=r,r=null),o=e.call(this,i?n:Sr(n))||this;var s,a,c,l,u,d,f,p,h=o.vars,m=h.duration,v=h.delay,g=h.immediateRender,b=h.stagger,y=h.overwrite,w=h.keyframes,S=h.defaults,_=h.scrollTrigger,x=h.yoyoEase,k=n.parent||on,O=(Vn(t)||Rn(t)?On(t[0]):"length"in n)?[t]:ti(t);if(o._targets=O.length?ir(O):Zn("GSAP target "+t+" not found. https://gsap.com",!pn.nullTargetWarn)||[],o._ptLookup=[],o._overwrite=y,w||b||In(m)||In(v)){if(n=o.vars,s=o.timeline=new Yi({data:"nested",defaults:S||{},targets:k&&"nested"===k.data?k.vars.targets:O}),s.kill(),s.parent=s._dp=qt(o),s._start=0,b||In(m)||In(v)){if(l=O.length,f=b&&ii(b),En(b))for(u in b)~so.indexOf(u)&&(p||(p={}),p[u]=b[u]);for(a=0;a<l;a++)c=wr(n,ao),c.stagger=0,x&&(c.yoyoEase=x),p&&br(c,p),d=O[a],c.duration=+oo(m,qt(o),a,d,O),c.delay=(+oo(v,qt(o),a,d,O)||0)-o._delay,!b&&1===l&&c.delay&&(o._delay=v=c.delay,o._start+=v,c.delay=0),s.to(d,c,f?f(a,d,O):0),s._ease=Pi.none;s.duration()?m=v=0:o.timeline=0}else if(w){Sr(vr(s.vars.defaults,{ease:"none"})),s._ease=Ui(w.ease||n.ease||"none");var C,E,j,T=0;if(Vn(w))w.forEach((function(e){return s.to(O,e,">")})),s.duration();else{for(u in c={},w)"ease"===u||"easeEach"===u||io(u,w[u],c,w.easeEach);for(u in c)for(C=c[u].sort((function(e,t){return e.t-t.t})),T=0,a=0;a<C.length;a++)E=C[a],j={ease:E.e,duration:(E.t-(a?C[a-1].t:0))/100*m},j[u]=E.v,s.to(O,j,T),T+=j.duration;s.duration()<m&&s.to({},{duration:m-s.duration()})}}m||o.duration(m=s.duration())}else o.timeline=0;return!0!==y||tn||(Hi=qt(o),on.killTweensOf(O),Hi=0),Lr(k,qt(o),r),n.reversed&&o.reverse(),n.paused&&o.paused(!0),(g||!m&&!w&&o._start===lr(k._time)&&jn(g)&&Tr(qt(o))&&"nested"!==k.data)&&(o._tTime=-vn,o.render(Math.max(0,-v)||0)),_&&Nr(qt(o),_),o}en(t,e);var n=t.prototype;return n.render=function(e,t,n){var r,i,o,s,a,c,l,u,d,f=this._time,p=this._tDur,h=this._dur,m=e<0,v=e>p-vn&&!m?p:e<vn?0:e;if(h){if(v!==this._tTime||!e||n||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(r=v,u=this.timeline,this._repeat){if(s=h+this._rDelay,this._repeat<-1&&m)return this.totalTime(100*s+e,t,n);if(r=lr(v%s),v===p?(o=this._repeat,r=h):(o=~~(v/s),o&&o===lr(v/s)&&(r=h,o--),r>h&&(r=h)),c=this._yoyo&&1&o,c&&(d=this._yEase,r=h-r),a=Rr(this._tTime,s),r===f&&!n&&this._initted&&o===a)return this._tTime=v,this;o!==a&&(u&&this._yEase&&Fi(u,c),this.vars.repeatRefresh&&!c&&!this._lock&&this._time!==s&&this._initted&&(this._lock=n=1,this.render(lr(s*o),!0).invalidate()._lock=0))}if(!this._initted){if(Dr(this,m?e:r,n,t,v))return this._tTime=0,this;if(f!==this._time&&(!n||!this.vars.repeatRefresh||o===a))return this;if(h!==this._dur)return this.render(e,t,n)}if(this._tTime=v,this._time=r,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=l=(d||this._ease)(r/h),this._from&&(this.ratio=l=1-l),r&&!f&&!t&&!o&&(bi(this,"onStart"),this._tTime!==v))return this;i=this._pt;while(i)i.r(l,i.d),i=i._next;u&&u.render(e<0?e:u._dur*u._ease(r/this._dur),t,n)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(m&&jr(this,e,t,n),bi(this,"onUpdate")),this._repeat&&o!==a&&this.vars.onRepeat&&!t&&this.parent&&bi(this,"onRepeat"),v!==this._tDur&&v||this._tTime!==v||(m&&!this._onUpdate&&jr(this,e,!0,!0),(e||!h)&&(v===this._tDur&&this._ts>0||!v&&this._ts<0)&&Or(this,1),t||m&&!f||!(v||f||c)||(bi(this,v===p?"onComplete":"onReverseComplete",!0),this._prom&&!(v<p&&this.timeScale()>0)&&this._prom()))}}else Ur(this,e,t,n);return this},n.targets=function(){return this._targets},n.invalidate=function(t){return(!t||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(t),e.prototype.invalidate.call(this,t)},n.resetTo=function(e,t,n,r,i){fn||Ri.wake(),this._ts||this.play();var o,s=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||to(this,s),o=this._ease(s/this._dur),no(this,e,t,n,r,o,s,i)?this.resetTo(e,t,n,r,1):(Ar(this,0),this.parent||xr(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},n.kill=function(e,t){if(void 0===t&&(t="all"),!e&&(!t||"all"===t))return this._lazy=this._pt=0,this.parent?yi(this):this;if(this.timeline){var n=this.timeline.totalDuration();return this.timeline.killTweensOf(e,t,Hi&&!0!==Hi.vars.overwrite)._first||yi(this),this.parent&&n!==this.timeline.totalDuration()&&Wr(this,this._dur*this.timeline._tDur/n,0,1),this}var r,i,o,s,a,c,l,u=this._targets,d=e?ti(e):u,f=this._ptLookup,p=this._pt;if((!t||"all"===t)&&_r(u,d))return"all"===t&&(this._pt=0),yi(this);r=this._op=this._op||[],"all"!==t&&(xn(t)&&(a={},ar(t,(function(e){return a[e]=1})),t=a),t=ro(u,t)),l=u.length;while(l--)if(~d.indexOf(u[l]))for(a in i=f[l],"all"===t?(r[l]=t,s=i,o={}):(o=r[l]=r[l]||{},s=t),s)c=i&&i[a],c&&("kill"in c.d&&!0!==c.d.kill(a)||kr(this,c,"_pt"),delete i[a]),"all"!==o&&(o[a]=1);return this._initted&&!this._pt&&p&&yi(this),this},t.to=function(e,n){return new t(e,n,arguments[2])},t.from=function(e,t){return Xr(1,arguments)},t.delayedCall=function(e,n,r,i){return new t(n,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:n,onReverseComplete:n,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},t.fromTo=function(e,t,n){return Xr(2,arguments)},t.set=function(e,n){return n.duration=0,n.repeatDelay||(n.repeat=0),new t(e,n)},t.killTweensOf=function(e,t,n){return on.killTweensOf(e,t,n)},t}(Xi);vr(co.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),ar("staggerTo,staggerFrom,staggerFromTo",(function(e){co[e]=function(){var t=new Yi,n=Qr.call(arguments,0);return n.splice("staggerFromTo"===e?5:4,0,0),t[e].apply(t,n)}}));var lo=function(e,t,n){return e[t]=n},uo=function(e,t,n){return e[t](n)},fo=function(e,t,n,r){return e[t](r.fp,n)},po=function(e,t,n){return e.setAttribute(t,n)},ho=function(e,t){return kn(e[t])?uo:Cn(e[t])&&e.setAttribute?po:lo},mo=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},vo=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},go=function(e,t){var n=t._pt,r="";if(!e&&t.b)r=t.b;else if(1===e&&t.e)r=t.e;else{while(n)r=n.p+(n.m?n.m(n.s+n.c*e):Math.round(1e4*(n.s+n.c*e))/1e4)+r,n=n._next;r+=t.c}t.set(t.t,t.p,r,t)},bo=function(e,t){var n=t._pt;while(n)n.r(e,n.d),n=n._next},yo=function(e,t,n,r){var i,o=this._pt;while(o)i=o._next,o.p===r&&o.modifier(e,t,n),o=i},wo=function(e){var t,n,r=this._pt;while(r)n=r._next,r.p===e&&!r.op||r.op===e?kr(this,r,"_pt"):r.dep||(t=1),r=n;return!t},So=function(e,t,n,r){r.mSet(e,t,r.m.call(r.tween,n,r.mt),r)},_o=function(e){var t,n,r,i,o=e._pt;while(o){t=o._next,n=r;while(n&&n.pr>o.pr)n=n._next;(o._prev=n?n._prev:i)?o._prev._next=o:r=o,(o._next=n)?n._prev=o:i=o,o=t}e._pt=r},xo=function(){function e(e,t,n,r,i,o,s,a,c){this.t=t,this.s=r,this.c=i,this.p=n,this.r=o||mo,this.d=s||this,this.set=a||lo,this.pr=c||0,this._next=e,e&&(e._prev=this)}var t=e.prototype;return t.modifier=function(e,t,n){this.mSet=this.mSet||this.set,this.set=So,this.m=e,this.mt=n,this.tween=t},e}();ar(rr+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",(function(e){return Kn[e]=1})),Fn.TweenMax=Fn.TweenLite=co,Fn.TimelineLite=Fn.TimelineMax=Yi,on=new Yi({sortChildren:!1,defaults:hn,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),pn.stringFilter=Ii;var ko=[],Oo={},Co=[],Eo=0,jo=0,To=function(e){return(Oo[e]||Co).map((function(e){return e()}))},Io=function(){var e=Date.now(),t=[];e-Eo>2&&(To("matchMediaInit"),ko.forEach((function(e){var n,r,i,o,s=e.queries,a=e.conditions;for(r in s)n=sn.matchMedia(s[r]).matches,n&&(i=1),n!==a[r]&&(a[r]=n,o=1);o&&(e.revert(),i&&t.push(e))})),To("matchMediaRevert"),t.forEach((function(e){return e.onMatch(e,(function(t){return e.add(null,t)}))})),Eo=e,To("matchMedia"))},Ro=function(){function e(e,t){this.selector=t&&ni(t),this.data=[],this._r=[],this.isReverted=!1,this.id=jo++,e&&this.add(e)}var t=e.prototype;return t.add=function(e,t,n){kn(e)&&(n=t,t=e,e=kn);var r=this,i=function(){var e,i=rn,o=r.selector;return i&&i!==r&&i.data.push(r),n&&(r.selector=ni(n)),rn=r,e=t.apply(r,arguments),kn(e)&&r._r.push(e),rn=i,r.selector=o,r.isReverted=!1,e};return r.last=i,e===kn?i(r,(function(e){return r.add(null,e)})):e?r[e]=i:i},t.ignore=function(e){var t=rn;rn=null,e(this),rn=t},t.getTweens=function(){var t=[];return this.data.forEach((function(n){return n instanceof e?t.push.apply(t,n.getTweens()):n instanceof co&&!(n.parent&&"nested"===n.parent.data)&&t.push(n)})),t},t.clear=function(){this._r.length=this.data.length=0},t.kill=function(e,t){var n=this;if(e?function(){var t,r=n.getTweens(),i=n.data.length;while(i--)t=n.data[i],"isFlip"===t.data&&(t.revert(),t.getChildren(!0,!0,!1).forEach((function(e){return r.splice(r.indexOf(e),1)})));r.map((function(e){return{g:e._dur||e._delay||e._sat&&!e._sat.vars.immediateRender?e.globalTime(0):-1/0,t:e}})).sort((function(e,t){return t.g-e.g||-1/0})).forEach((function(t){return t.t.revert(e)})),i=n.data.length;while(i--)t=n.data[i],t instanceof Yi?"nested"!==t.data&&(t.scrollTrigger&&t.scrollTrigger.revert(),t.kill()):!(t instanceof co)&&t.revert&&t.revert(e);n._r.forEach((function(t){return t(e,n)})),n.isReverted=!0}():this.data.forEach((function(e){return e.kill&&e.kill()})),this.clear(),t){var r=ko.length;while(r--)ko[r].id===this.id&&ko.splice(r,1)}},t.revert=function(e){this.kill(e||{})},e}(),Vo=function(){function e(e){this.contexts=[],this.scope=e,rn&&rn.data.push(this)}var t=e.prototype;return t.add=function(e,t,n){En(e)||(e={matches:e});var r,i,o,s=new Ro(0,n||this.scope),a=s.conditions={};for(i in rn&&!s.selector&&(s.selector=rn.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e,e)"all"===i?o=1:(r=sn.matchMedia(e[i]),r&&(ko.indexOf(s)<0&&ko.push(s),(a[i]=r.matches)&&(o=1),r.addListener?r.addListener(Io):r.addEventListener("change",Io)));return o&&t(s,(function(e){return s.add(null,e)})),this},t.revert=function(e){this.kill(e||{})},t.kill=function(e){this.contexts.forEach((function(t){return t.kill(e,!0)}))},e}(),Po={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){return Si(e)}))},timeline:function(e){return new Yi(e)},getTweensOf:function(e,t){return on.getTweensOf(e,t)},getProperty:function(e,t,n,r){xn(e)&&(e=ti(e)[0]);var i=or(e||{}).get,o=n?mr:hr;return"native"===n&&(n=""),e?t?o((qn[t]&&qn[t].get||i)(e,t,n,r)):function(t,n,r){return o((qn[t]&&qn[t].get||i)(e,t,n,r))}:e},quickSetter:function(e,t,n){if(e=ti(e),e.length>1){var r=e.map((function(e){return No.quickSetter(e,t,n)})),i=r.length;return function(e){var t=i;while(t--)r[t](e)}}e=e[0]||{};var o=qn[t],s=or(e),a=s.harness&&(s.harness.aliases||{})[t]||t,c=o?function(t){var r=new o;dn._pt=0,r.init(e,n?t+n:t,dn,0,[e]),r.render(1,r),dn._pt&&bo(1,dn)}:s.set(e,a);return o?c:function(t){return c(e,a,n?t+n:t,s,1)}},quickTo:function(e,t,n){var r,i=No.to(e,br((r={},r[t]="+=0.1",r.paused=!0,r),n||{})),o=function(e,n,r){return i.resetTo(t,e,n,r)};return o.tween=i,o},isTweening:function(e){return on.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ui(e.ease,hn.ease)),yr(hn,e||{})},config:function(e){return yr(pn,e||{})},registerEffect:function(e){var t=e.name,n=e.effect,r=e.plugins,i=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach((function(e){return e&&!qn[e]&&!Fn[e]&&Zn(t+" effect requires "+e+" plugin.")})),er[t]=function(e,t,r){return n(ti(e),vr(t||{},i),r)},o&&(Yi.prototype[t]=function(e,n,r){return this.add(er[t](e,En(n)?n:(r=n)&&{},this),r)})},registerEase:function(e,t){Pi[e]=Ui(t)},parseEase:function(e,t){return arguments.length?Ui(e,t):Pi},getById:function(e){return on.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var n,r,i=new Yi(e);i.smoothChildTiming=jn(e.smoothChildTiming),on.remove(i),i._dp=0,i._time=i._tTime=on._time,n=on._first;while(n)r=n._next,!t&&!n._dur&&n instanceof co&&n.vars.onComplete===n._targets[0]||Lr(i,n,n._start-n._delay),n=r;return Lr(on,i,0),i},context:function(e,t){return e?new Ro(e,t):rn},matchMedia:function(e){return new Vo(e)},matchMediaRefresh:function(){return ko.forEach((function(e){var t,n,r=e.conditions;for(n in r)r[n]&&(r[n]=!1,t=1);t&&e.revert()}))||Io()},addEventListener:function(e,t){var n=Oo[e]||(Oo[e]=[]);~n.indexOf(t)||n.push(t)},removeEventListener:function(e,t){var n=Oo[e],r=n&&n.indexOf(t);r>=0&&n.splice(r,1)},utils:{wrap:fi,wrapYoyo:pi,distribute:ii,random:ai,snap:si,normalize:ui,getUnit:Kr,clamp:Jr,splitColor:Oi,toArray:ti,selector:ni,mapRange:mi,pipe:ci,unitize:li,interpolate:vi,shuffle:ri},install:zn,effects:er,ticker:Ri,updateRoot:Yi.updateRoot,plugins:qn,globalTimeline:on,core:{PropTween:xo,globals:Gn,Tween:co,Timeline:Yi,Animation:Xi,getCache:or,_removeLinkedListItem:kr,reverting:function(){return nn},context:function(e){return e&&rn&&(rn.data.push(e),e._ctx=rn),rn},suppressOverwrites:function(e){return tn=e}}};ar("to,from,fromTo,delayedCall,set,killTweensOf",(function(e){return Po[e]=co[e]})),Ri.add(Yi.updateRoot),dn=Po.to({},{duration:0});var Ao=function(e,t){var n=e._pt;while(n&&n.p!==t&&n.op!==t&&n.fp!==t)n=n._next;return n},Mo=function(e,t){var n,r,i,o=e._targets;for(n in t){r=o.length;while(r--)i=e._ptLookup[r][n],i&&(i=i.d)&&(i._pt&&(i=Ao(i,n)),i&&i.modifier&&i.modifier(t[n],e,o[r],n))}},Lo=function(e,t){return{name:e,rawVars:1,init:function(e,n,r){r._onInit=function(e){var r,i;if(xn(n)&&(r={},ar(n,(function(e){return r[e]=1})),n=r),t){for(i in r={},n)r[i]=t(n[i]);n=r}Mo(e,n)}}}},No=Po.registerPlugin({name:"attr",init:function(e,t,n,r,i){var o,s,a;for(o in this.tween=n,t)a=e.getAttribute(o)||"",s=this.add(e,"setAttribute",(a||0)+"",t[o],r,i,0,0,o),s.op=o,s.b=a,this._props.push(o)},render:function(e,t){var n=t._pt;while(n)nn?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",init:function(e,t){var n=t.length;while(n--)this.add(e,n,e[n]||0,t[n],0,0,0,0,0,1)}},Lo("roundProps",oi),Lo("modifiers"),Lo("snap",si))||Po;co.version=Yi.version=No.version="3.12.5",ln=1,Tn()&&Vi();Pi.Power0,Pi.Power1,Pi.Power2,Pi.Power3,Pi.Power4,Pi.Linear,Pi.Quad,Pi.Cubic,Pi.Quart,Pi.Quint,Pi.Strong,Pi.Elastic,Pi.Back,Pi.SteppedEase,Pi.Bounce,Pi.Sine,Pi.Expo,Pi.Circ;
/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Do,Bo,Fo,Uo,zo,Wo,Zo,Go,$o=function(){return"undefined"!==typeof window},Xo={},Yo=180/Math.PI,Ho=Math.PI/180,Ko=Math.atan2,Jo=1e8,Qo=/([A-Z])/g,qo=/(left|right|width|margin|padding|x)/i,es=/[\s,\(]\S/,ts={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},ns=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},rs=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},is=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},os=function(e,t){var n=t.s+t.c*e;t.set(t.t,t.p,~~(n+(n<0?-.5:.5))+t.u,t)},ss=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},as=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},cs=function(e,t,n){return e.style[t]=n},ls=function(e,t,n){return e.style.setProperty(t,n)},us=function(e,t,n){return e._gsap[t]=n},ds=function(e,t,n){return e._gsap.scaleX=e._gsap.scaleY=n},fs=function(e,t,n,r,i){var o=e._gsap;o.scaleX=o.scaleY=n,o.renderTransform(i,o)},ps=function(e,t,n,r,i){var o=e._gsap;o[t]=n,o.renderTransform(i,o)},hs="transform",ms=hs+"Origin",vs=function e(t,n){var r=this,i=this.target,o=i.style,s=i._gsap;if(t in Xo&&o){if(this.tfm=this.tfm||{},"transform"===t)return ts.transform.split(",").forEach((function(t){return e.call(r,t,n)}));if(t=ts[t]||t,~t.indexOf(",")?t.split(",").forEach((function(e){return r.tfm[e]=As(i,e)})):this.tfm[t]=s.x?s[t]:As(i,t),t===ms&&(this.tfm.zOrigin=s.zOrigin),this.props.indexOf(hs)>=0)return;s.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(ms,n,"")),t=hs}(o||n)&&this.props.push(t,n,o[t])},gs=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},bs=function(){var e,t,n=this.props,r=this.target,i=r.style,o=r._gsap;for(e=0;e<n.length;e+=3)n[e+1]?r[n[e]]=n[e+2]:n[e+2]?i[n[e]]=n[e+2]:i.removeProperty("--"===n[e].substr(0,2)?n[e]:n[e].replace(Qo,"-$1").toLowerCase());if(this.tfm){for(t in this.tfm)o[t]=this.tfm[t];o.svg&&(o.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),e=Zo(),e&&e.isStart||i[hs]||(gs(i),o.zOrigin&&i[ms]&&(i[ms]+=" "+o.zOrigin+"px",o.zOrigin=0,o.renderTransform()),o.uncache=1)}},ys=function(e,t){var n={target:e,props:[],revert:bs,save:vs};return e._gsap||No.core.getCache(e),t&&t.split(",").forEach((function(e){return n.save(e)})),n},ws=function(e,t){var n=Bo.createElementNS?Bo.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Bo.createElement(e);return n&&n.style?n:Bo.createElement(e)},Ss=function e(t,n,r){var i=getComputedStyle(t);return i[n]||i.getPropertyValue(n.replace(Qo,"-$1").toLowerCase())||i.getPropertyValue(n)||!r&&e(t,xs(n)||n,1)||""},_s="O,Moz,ms,Ms,Webkit".split(","),xs=function(e,t,n){var r=t||zo,i=r.style,o=5;if(e in i&&!n)return e;e=e.charAt(0).toUpperCase()+e.substr(1);while(o--&&!(_s[o]+e in i));return o<0?null:(3===o?"ms":o>=0?_s[o]:"")+e},ks=function(){$o()&&window.document&&(Do=window,Bo=Do.document,Fo=Bo.documentElement,zo=ws("div")||{style:{}},ws("div"),hs=xs(hs),ms=hs+"Origin",zo.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Go=!!xs("perspective"),Zo=No.core.reverting,Uo=1)},Os=function e(t){var n,r=ws("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),i=this.parentNode,o=this.nextSibling,s=this.style.cssText;if(Fo.appendChild(r),r.appendChild(this),this.style.display="block",t)try{n=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(a){}else this._gsapBBox&&(n=this._gsapBBox());return i&&(o?i.insertBefore(this,o):i.appendChild(this)),Fo.removeChild(r),this.style.cssText=s,n},Cs=function(e,t){var n=t.length;while(n--)if(e.hasAttribute(t[n]))return e.getAttribute(t[n])},Es=function(e){var t;try{t=e.getBBox()}catch(n){t=Os.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===Os||(t=Os.call(e,!0)),!t||t.width||t.x||t.y?t:{x:+Cs(e,["x","cx","x1"])||0,y:+Cs(e,["y","cy","y1"])||0,width:0,height:0}},js=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Es(e))},Ts=function(e,t){if(t){var n,r=e.style;t in Xo&&t!==ms&&(t=hs),r.removeProperty?(n=t.substr(0,2),"ms"!==n&&"webkit"!==t.substr(0,6)||(t="-"+t),r.removeProperty("--"===n?t:t.replace(Qo,"-$1").toLowerCase())):r.removeAttribute(t)}},Is=function(e,t,n,r,i,o){var s=new xo(e._pt,t,n,0,1,o?as:ss);return e._pt=s,s.b=r,s.e=i,e._props.push(n),s},Rs={deg:1,rad:1,turn:1},Vs={grid:1,flex:1},Ps=function e(t,n,r,i){var o,s,a,c,l=parseFloat(r)||0,u=(r+"").trim().substr((l+"").length)||"px",d=zo.style,f=qo.test(n),p="svg"===t.tagName.toLowerCase(),h=(p?"client":"offset")+(f?"Width":"Height"),m=100,v="px"===i,g="%"===i;if(i===u||!l||Rs[i]||Rs[u])return l;if("px"!==u&&!v&&(l=e(t,n,r,"px")),c=t.getCTM&&js(t),(g||"%"===u)&&(Xo[n]||~n.indexOf("adius")))return o=c?t.getBBox()[f?"width":"height"]:t[h],cr(g?l/o*m:l/100*o);if(d[f?"width":"height"]=m+(v?u:i),s=~n.indexOf("adius")||"em"===i&&t.appendChild&&!p?t:t.parentNode,c&&(s=(t.ownerSVGElement||{}).parentNode),s&&s!==Bo&&s.appendChild||(s=Bo.body),a=s._gsap,a&&g&&a.width&&f&&a.time===Ri.time&&!a.uncache)return cr(l/a.width*m);if(!g||"height"!==n&&"width"!==n)(g||"%"===u)&&!Vs[Ss(s,"display")]&&(d.position=Ss(t,"position")),s===t&&(d.position="static"),s.appendChild(zo),o=zo[h],s.removeChild(zo),d.position="absolute";else{var b=t.style[n];t.style[n]=m+i,o=t[h],b?t.style[n]=b:Ts(t,n)}return f&&g&&(a=or(s),a.time=Ri.time,a.width=s[h]),cr(v?o*l/m:o&&l?m/o*l:0)},As=function(e,t,n,r){var i;return Uo||ks(),t in ts&&"transform"!==t&&(t=ts[t],~t.indexOf(",")&&(t=t.split(",")[0])),Xo[t]&&"transform"!==t?(i=$s(e,r),i="transformOrigin"!==t?i[t]:i.svg?i.origin:Xs(Ss(e,ms))+" "+i.zOrigin+"px"):(i=e.style[t],(!i||"auto"===i||r||~(i+"").indexOf("calc("))&&(i=Bs[t]&&Bs[t](e,t,n)||Ss(e,t)||sr(e,t)||("opacity"===t?1:0))),n&&!~(i+"").trim().indexOf(" ")?Ps(e,t,i,n)+n:i},Ms=function(e,t,n,r){if(!n||"none"===n){var i=xs(t,e,1),o=i&&Ss(e,i,1);o&&o!==n?(t=i,n=o):"borderColor"===t&&(n=Ss(e,"borderTopColor"))}var s,a,c,l,u,d,f,p,h,m,v,g,b=new xo(this._pt,e.style,t,0,1,go),y=0,w=0;if(b.b=n,b.e=r,n+="",r+="","auto"===r&&(d=e.style[t],e.style[t]=r,r=Ss(e,t)||r,d?e.style[t]=d:Ts(e,t)),s=[n,r],Ii(s),n=s[0],r=s[1],c=n.match(Mn)||[],g=r.match(Mn)||[],g.length){while(a=Mn.exec(r))f=a[0],h=r.substring(y,a.index),u?u=(u+1)%5:"rgba("!==h.substr(-5)&&"hsla("!==h.substr(-5)||(u=1),f!==(d=c[w++]||"")&&(l=parseFloat(d)||0,v=d.substr((l+"").length),"="===f.charAt(1)&&(f=ur(l,f)+v),p=parseFloat(f),m=f.substr((p+"").length),y=Mn.lastIndex-m.length,m||(m=m||pn.units[t]||v,y===r.length&&(r+=m,b.e+=m)),v!==m&&(l=Ps(e,t,d,m)||0),b._pt={_next:b._pt,p:h||1===w?h:",",s:l,c:p-l,m:u&&u<4||"zIndex"===t?Math.round:0});b.c=y<r.length?r.substring(y,r.length):""}else b.r="display"===t&&"none"===r?as:ss;return Nn.test(r)&&(b.e=0),this._pt=b,b},Ls={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Ns=function(e){var t=e.split(" "),n=t[0],r=t[1]||"50%";return"top"!==n&&"bottom"!==n&&"left"!==r&&"right"!==r||(e=n,n=r,r=e),t[0]=Ls[n]||n,t[1]=Ls[r]||r,t.join(" ")},Ds=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var n,r,i,o=t.t,s=o.style,a=t.u,c=o._gsap;if("all"===a||!0===a)s.cssText="",r=1;else{a=a.split(","),i=a.length;while(--i>-1)n=a[i],Xo[n]&&(r=1,n="transformOrigin"===n?ms:hs),Ts(o,n)}r&&(Ts(o,hs),c&&(c.svg&&o.removeAttribute("transform"),$s(o,1),c.uncache=1,gs(s)))}},Bs={clearProps:function(e,t,n,r,i){if("isFromStart"!==i.data){var o=e._pt=new xo(e._pt,t,n,0,0,Ds);return o.u=r,o.pr=-10,o.tween=i,e._props.push(n),1}}},Fs=[1,0,0,1,0,0],Us={},zs=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},Ws=function(e){var t=Ss(e,hs);return zs(t)?Fs:t.substr(7).match(An).map(cr)},Zs=function(e,t){var n,r,i,o,s=e._gsap||or(e),a=e.style,c=Ws(e);return s.svg&&e.getAttribute("transform")?(i=e.transform.baseVal.consolidate().matrix,c=[i.a,i.b,i.c,i.d,i.e,i.f],"1,0,0,1,0,0"===c.join(",")?Fs:c):(c!==Fs||e.offsetParent||e===Fo||s.svg||(i=a.display,a.display="block",n=e.parentNode,n&&e.offsetParent||(o=1,r=e.nextElementSibling,Fo.appendChild(e)),c=Ws(e),i?a.display=i:Ts(e,"display"),o&&(r?n.insertBefore(e,r):n?n.appendChild(e):Fo.removeChild(e))),t&&c.length>6?[c[0],c[1],c[4],c[5],c[12],c[13]]:c)},Gs=function(e,t,n,r,i,o){var s,a,c,l,u=e._gsap,d=i||Zs(e,!0),f=u.xOrigin||0,p=u.yOrigin||0,h=u.xOffset||0,m=u.yOffset||0,v=d[0],g=d[1],b=d[2],y=d[3],w=d[4],S=d[5],_=t.split(" "),x=parseFloat(_[0])||0,k=parseFloat(_[1])||0;n?d!==Fs&&(a=v*y-g*b)&&(c=x*(y/a)+k*(-b/a)+(b*S-y*w)/a,l=x*(-g/a)+k*(v/a)-(v*S-g*w)/a,x=c,k=l):(s=Es(e),x=s.x+(~_[0].indexOf("%")?x/100*s.width:x),k=s.y+(~(_[1]||_[0]).indexOf("%")?k/100*s.height:k)),r||!1!==r&&u.smooth?(w=x-f,S=k-p,u.xOffset=h+(w*v+S*b)-w,u.yOffset=m+(w*g+S*y)-S):u.xOffset=u.yOffset=0,u.xOrigin=x,u.yOrigin=k,u.smooth=!!r,u.origin=t,u.originIsAbsolute=!!n,e.style[ms]="0px 0px",o&&(Is(o,u,"xOrigin",f,x),Is(o,u,"yOrigin",p,k),Is(o,u,"xOffset",h,u.xOffset),Is(o,u,"yOffset",m,u.yOffset)),e.setAttribute("data-svg-origin",x+" "+k)},$s=function(e,t){var n=e._gsap||new $i(e);if("x"in n&&!t&&!n.uncache)return n;var r,i,o,s,a,c,l,u,d,f,p,h,m,v,g,b,y,w,S,_,x,k,O,C,E,j,T,I,R,V,P,A,M=e.style,L=n.scaleX<0,N="px",D="deg",B=getComputedStyle(e),F=Ss(e,ms)||"0";return r=i=o=c=l=u=d=f=p=0,s=a=1,n.svg=!(!e.getCTM||!js(e)),B.translate&&("none"===B.translate&&"none"===B.scale&&"none"===B.rotate||(M[hs]=("none"!==B.translate?"translate3d("+(B.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==B.rotate?"rotate("+B.rotate+") ":"")+("none"!==B.scale?"scale("+B.scale.split(" ").join(",")+") ":"")+("none"!==B[hs]?B[hs]:"")),M.scale=M.rotate=M.translate="none"),v=Zs(e,n.svg),n.svg&&(n.uncache?(E=e.getBBox(),F=n.xOrigin-E.x+"px "+(n.yOrigin-E.y)+"px",C=""):C=!t&&e.getAttribute("data-svg-origin"),Gs(e,C||F,!!C||n.originIsAbsolute,!1!==n.smooth,v)),h=n.xOrigin||0,m=n.yOrigin||0,v!==Fs&&(w=v[0],S=v[1],_=v[2],x=v[3],r=k=v[4],i=O=v[5],6===v.length?(s=Math.sqrt(w*w+S*S),a=Math.sqrt(x*x+_*_),c=w||S?Ko(S,w)*Yo:0,d=_||x?Ko(_,x)*Yo+c:0,d&&(a*=Math.abs(Math.cos(d*Ho))),n.svg&&(r-=h-(h*w+m*_),i-=m-(h*S+m*x))):(A=v[6],V=v[7],T=v[8],I=v[9],R=v[10],P=v[11],r=v[12],i=v[13],o=v[14],g=Ko(A,R),l=g*Yo,g&&(b=Math.cos(-g),y=Math.sin(-g),C=k*b+T*y,E=O*b+I*y,j=A*b+R*y,T=k*-y+T*b,I=O*-y+I*b,R=A*-y+R*b,P=V*-y+P*b,k=C,O=E,A=j),g=Ko(-_,R),u=g*Yo,g&&(b=Math.cos(-g),y=Math.sin(-g),C=w*b-T*y,E=S*b-I*y,j=_*b-R*y,P=x*y+P*b,w=C,S=E,_=j),g=Ko(S,w),c=g*Yo,g&&(b=Math.cos(g),y=Math.sin(g),C=w*b+S*y,E=k*b+O*y,S=S*b-w*y,O=O*b-k*y,w=C,k=E),l&&Math.abs(l)+Math.abs(c)>359.9&&(l=c=0,u=180-u),s=cr(Math.sqrt(w*w+S*S+_*_)),a=cr(Math.sqrt(O*O+A*A)),g=Ko(k,O),d=Math.abs(g)>2e-4?g*Yo:0,p=P?1/(P<0?-P:P):0),n.svg&&(C=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!zs(Ss(e,hs)),C&&e.setAttribute("transform",C))),Math.abs(d)>90&&Math.abs(d)<270&&(L?(s*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(a*=-1,d+=d<=0?180:-180)),t=t||n.uncache,n.x=r-((n.xPercent=r&&(!t&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-r)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+N,n.y=i-((n.yPercent=i&&(!t&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-i)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+N,n.z=o+N,n.scaleX=cr(s),n.scaleY=cr(a),n.rotation=cr(c)+D,n.rotationX=cr(l)+D,n.rotationY=cr(u)+D,n.skewX=d+D,n.skewY=f+D,n.transformPerspective=p+N,(n.zOrigin=parseFloat(F.split(" ")[2])||!t&&n.zOrigin||0)&&(M[ms]=Xs(F)),n.xOffset=n.yOffset=0,n.force3D=pn.force3D,n.renderTransform=n.svg?ea:Go?qs:Hs,n.uncache=0,n},Xs=function(e){return(e=e.split(" "))[0]+" "+e[1]},Ys=function(e,t,n){var r=Kr(t);return cr(parseFloat(t)+parseFloat(Ps(e,"x",n+"px",r)))+r},Hs=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,qs(e,t)},Ks="0deg",Js="0px",Qs=") ",qs=function(e,t){var n=t||this,r=n.xPercent,i=n.yPercent,o=n.x,s=n.y,a=n.z,c=n.rotation,l=n.rotationY,u=n.rotationX,d=n.skewX,f=n.skewY,p=n.scaleX,h=n.scaleY,m=n.transformPerspective,v=n.force3D,g=n.target,b=n.zOrigin,y="",w="auto"===v&&e&&1!==e||!0===v;if(b&&(u!==Ks||l!==Ks)){var S,_=parseFloat(l)*Ho,x=Math.sin(_),k=Math.cos(_);_=parseFloat(u)*Ho,S=Math.cos(_),o=Ys(g,o,x*S*-b),s=Ys(g,s,-Math.sin(_)*-b),a=Ys(g,a,k*S*-b+b)}m!==Js&&(y+="perspective("+m+Qs),(r||i)&&(y+="translate("+r+"%, "+i+"%) "),(w||o!==Js||s!==Js||a!==Js)&&(y+=a!==Js||w?"translate3d("+o+", "+s+", "+a+") ":"translate("+o+", "+s+Qs),c!==Ks&&(y+="rotate("+c+Qs),l!==Ks&&(y+="rotateY("+l+Qs),u!==Ks&&(y+="rotateX("+u+Qs),d===Ks&&f===Ks||(y+="skew("+d+", "+f+Qs),1===p&&1===h||(y+="scale("+p+", "+h+Qs),g.style[hs]=y||"translate(0, 0)"},ea=function(e,t){var n,r,i,o,s,a=t||this,c=a.xPercent,l=a.yPercent,u=a.x,d=a.y,f=a.rotation,p=a.skewX,h=a.skewY,m=a.scaleX,v=a.scaleY,g=a.target,b=a.xOrigin,y=a.yOrigin,w=a.xOffset,S=a.yOffset,_=a.forceCSS,x=parseFloat(u),k=parseFloat(d);f=parseFloat(f),p=parseFloat(p),h=parseFloat(h),h&&(h=parseFloat(h),p+=h,f+=h),f||p?(f*=Ho,p*=Ho,n=Math.cos(f)*m,r=Math.sin(f)*m,i=Math.sin(f-p)*-v,o=Math.cos(f-p)*v,p&&(h*=Ho,s=Math.tan(p-h),s=Math.sqrt(1+s*s),i*=s,o*=s,h&&(s=Math.tan(h),s=Math.sqrt(1+s*s),n*=s,r*=s)),n=cr(n),r=cr(r),i=cr(i),o=cr(o)):(n=m,o=v,r=i=0),(x&&!~(u+"").indexOf("px")||k&&!~(d+"").indexOf("px"))&&(x=Ps(g,"x",u,"px"),k=Ps(g,"y",d,"px")),(b||y||w||S)&&(x=cr(x+b-(b*n+y*i)+w),k=cr(k+y-(b*r+y*o)+S)),(c||l)&&(s=g.getBBox(),x=cr(x+c/100*s.width),k=cr(k+l/100*s.height)),s="matrix("+n+","+r+","+i+","+o+","+x+","+k+")",g.setAttribute("transform",s),_&&(g.style[hs]=s)},ta=function(e,t,n,r,i){var o,s,a=360,c=xn(i),l=parseFloat(i)*(c&&~i.indexOf("rad")?Yo:1),u=l-r,d=r+u+"deg";return c&&(o=i.split("_")[1],"short"===o&&(u%=a,u!==u%(a/2)&&(u+=u<0?a:-a)),"cw"===o&&u<0?u=(u+a*Jo)%a-~~(u/a)*a:"ccw"===o&&u>0&&(u=(u-a*Jo)%a-~~(u/a)*a)),e._pt=s=new xo(e._pt,t,n,r,u,rs),s.e=d,s.u="deg",e._props.push(n),s},na=function(e,t){for(var n in t)e[n]=t[n];return e},ra=function(e,t,n){var r,i,o,s,a,c,l,u,d=na({},n._gsap),f="perspective,force3D,transformOrigin,svgOrigin",p=n.style;for(i in d.svg?(o=n.getAttribute("transform"),n.setAttribute("transform",""),p[hs]=t,r=$s(n,1),Ts(n,hs),n.setAttribute("transform",o)):(o=getComputedStyle(n)[hs],p[hs]=t,r=$s(n,1),p[hs]=o),Xo)o=d[i],s=r[i],o!==s&&f.indexOf(i)<0&&(l=Kr(o),u=Kr(s),a=l!==u?Ps(n,i,o,u):parseFloat(o),c=parseFloat(s),e._pt=new xo(e._pt,r,i,a,c-a,ns),e._pt.u=u||0,e._props.push(i));na(r,d)};ar("padding,margin,Width,Radius",(function(e,t){var n="Top",r="Right",i="Bottom",o="Left",s=(t<3?[n,r,i,o]:[n+o,n+r,i+r,i+o]).map((function(n){return t<2?e+n:"border"+n+e}));Bs[t>1?"border"+e:e]=function(e,t,n,r,i){var o,a;if(arguments.length<4)return o=s.map((function(t){return As(e,t,n)})),a=o.join(" "),5===a.split(o[0]).length?o[0]:a;o=(r+"").split(" "),a={},s.forEach((function(e,t){return a[e]=o[t]=o[t]||o[(t-1)/2|0]})),e.init(t,a,i)}}));var ia={name:"css",register:ks,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,n,r,i){var o,s,a,c,l,u,d,f,p,h,m,v,g,b,y,w,S=this._props,_=e.style,x=n.vars.startAt;for(d in Uo||ks(),this.styles=this.styles||ys(e),w=this.styles.props,this.tween=n,t)if("autoRound"!==d&&(s=t[d],!qn[d]||!eo(d,t,n,r,e,i)))if(l=typeof s,u=Bs[d],"function"===l&&(s=s.call(n,r,e,i),l=typeof s),"string"===l&&~s.indexOf("random(")&&(s=hi(s)),u)u(this,e,d,s,n)&&(y=1);else if("--"===d.substr(0,2))o=(getComputedStyle(e).getPropertyValue(d)+"").trim(),s+="",ji.lastIndex=0,ji.test(o)||(f=Kr(o),p=Kr(s)),p?f!==p&&(o=Ps(e,d,o,p)+p):f&&(s+=f),this.add(_,"setProperty",o,s,r,i,0,0,d),S.push(d),w.push(d,0,_[d]);else if("undefined"!==l){if(x&&d in x?(o="function"===typeof x[d]?x[d].call(n,r,e,i):x[d],xn(o)&&~o.indexOf("random(")&&(o=hi(o)),Kr(o+"")||"auto"===o||(o+=pn.units[d]||Kr(As(e,d))||""),"="===(o+"").charAt(1)&&(o=As(e,d))):o=As(e,d),c=parseFloat(o),h="string"===l&&"="===s.charAt(1)&&s.substr(0,2),h&&(s=s.substr(2)),a=parseFloat(s),d in ts&&("autoAlpha"===d&&(1===c&&"hidden"===As(e,"visibility")&&a&&(c=0),w.push("visibility",0,_.visibility),Is(this,_,"visibility",c?"inherit":"hidden",a?"inherit":"hidden",!a)),"scale"!==d&&"transform"!==d&&(d=ts[d],~d.indexOf(",")&&(d=d.split(",")[0]))),m=d in Xo,m)if(this.styles.save(d),v||(g=e._gsap,g.renderTransform&&!t.parseTransform||$s(e,t.parseTransform),b=!1!==t.smoothOrigin&&g.smooth,v=this._pt=new xo(this._pt,_,hs,0,1,g.renderTransform,g,0,-1),v.dep=1),"scale"===d)this._pt=new xo(this._pt,g,"scaleY",g.scaleY,(h?ur(g.scaleY,h+a):a)-g.scaleY||0,ns),this._pt.u=0,S.push("scaleY",d),d+="X";else{if("transformOrigin"===d){w.push(ms,0,_[ms]),s=Ns(s),g.svg?Gs(e,s,0,b,0,this):(p=parseFloat(s.split(" ")[2])||0,p!==g.zOrigin&&Is(this,g,"zOrigin",g.zOrigin,p),Is(this,_,d,Xs(o),Xs(s)));continue}if("svgOrigin"===d){Gs(e,s,1,b,0,this);continue}if(d in Us){ta(this,g,d,c,h?ur(c,h+s):s);continue}if("smoothOrigin"===d){Is(this,g,"smooth",g.smooth,s);continue}if("force3D"===d){g[d]=s;continue}if("transform"===d){ra(this,s,e);continue}}else d in _||(d=xs(d)||d);if(m||(a||0===a)&&(c||0===c)&&!es.test(s)&&d in _)f=(o+"").substr((c+"").length),a||(a=0),p=Kr(s)||(d in pn.units?pn.units[d]:f),f!==p&&(c=Ps(e,d,o,p)),this._pt=new xo(this._pt,m?g:_,d,c,(h?ur(c,h+a):a)-c,m||"px"!==p&&"zIndex"!==d||!1===t.autoRound?ns:os),this._pt.u=p||0,f!==p&&"%"!==p&&(this._pt.b=o,this._pt.r=is);else if(d in _)Ms.call(this,e,d,o,h?h+s:s);else if(d in e)this.add(e,d,o||e[d],h?h+s:s,r,i);else if("parseTransform"!==d){Wn(d,s);continue}m||(d in _?w.push(d,0,_[d]):w.push(d,1,o||e[d])),S.push(d)}y&&_o(this)},render:function(e,t){if(t.tween._time||!Zo()){var n=t._pt;while(n)n.r(e,n.d),n=n._next}else t.styles.revert()},get:As,aliases:ts,getSetter:function(e,t,n){var r=ts[t];return r&&r.indexOf(",")<0&&(t=r),t in Xo&&t!==ms&&(e._gsap.x||As(e,"x"))?n&&Wo===n?"scale"===t?ds:us:(Wo=n||{})&&("scale"===t?fs:ps):e.style&&!Cn(e.style[t])?cs:~t.indexOf("-")?ls:ho(e,t)},core:{_removeProperty:Ts,_getMatrix:Zs}};No.utils.checkPrefix=xs,No.core.getStyleSaver=ys,function(e,t,n,r){var i=ar(e+","+t+","+n,(function(e){Xo[e]=1}));ar(t,(function(e){pn.units[e]="deg",Us[e]=1})),ts[i[13]]=e+","+t,ar(r,(function(e){var t=e.split(":");ts[t[1]]=i[t[0]]}))}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY"),ar("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",(function(e){pn.units[e]="px"})),No.registerPlugin(ia);var oa,sa,aa,ca,la,ua,da,fa,pa,ha=No.registerPlugin(ia)||No,ma=(ha.core.Tween,"transform"),va=ma+"Origin",ga=function(e){var t=e.ownerDocument||e;!(ma in e.style)&&"msTransform"in e.style&&(ma="msTransform",va=ma+"Origin");while(t.parentNode&&(t=t.parentNode));if(sa=window,da=new Ia,t){oa=t,aa=t.documentElement,ca=t.body,fa=oa.createElementNS("http://www.w3.org/2000/svg","g"),fa.style.transform="none";var n=t.createElement("div"),r=t.createElement("div"),i=t&&(t.body||t.firstElementChild);i&&i.appendChild&&(i.appendChild(n),n.appendChild(r),n.setAttribute("style","position:static;transform:translate3d(0,0,1px)"),pa=r.offsetParent!==n,i.removeChild(n))}return t},ba=function(e){var t,n;while(e&&e!==ca)n=e._gsap,n&&n.uncache&&n.get(e,"x"),n&&!n.scaleX&&!n.scaleY&&n.renderTransform&&(n.scaleX=n.scaleY=1e-4,n.renderTransform(1,n),t?t.push(n):t=[n]),e=e.parentNode;return t},ya=[],wa=[],Sa=function(){return sa.pageYOffset||oa.scrollTop||aa.scrollTop||ca.scrollTop||0},_a=function(){return sa.pageXOffset||oa.scrollLeft||aa.scrollLeft||ca.scrollLeft||0},xa=function(e){return e.ownerSVGElement||("svg"===(e.tagName+"").toLowerCase()?e:null)},ka=function e(t){return"fixed"===sa.getComputedStyle(t).position||(t=t.parentNode,t&&1===t.nodeType?e(t):void 0)},Oa=function e(t,n){if(t.parentNode&&(oa||ga(t))){var r=xa(t),i=r?r.getAttribute("xmlns")||"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",o=r?n?"rect":"g":"div",s=2!==n?0:100,a=3===n?100:0,c="position:absolute;display:block;pointer-events:none;margin:0;padding:0;",l=oa.createElementNS?oa.createElementNS(i.replace(/^https/,"http"),o):oa.createElement(o);return n&&(r?(ua||(ua=e(t)),l.setAttribute("width",.01),l.setAttribute("height",.01),l.setAttribute("transform","translate("+s+","+a+")"),ua.appendChild(l)):(la||(la=e(t),la.style.cssText=c),l.style.cssText=c+"width:0.1px;height:0.1px;top:"+a+"px;left:"+s+"px",la.appendChild(l))),l}throw"Need document and parent."},Ca=function(e){for(var t=new Ia,n=0;n<e.numberOfItems;n++)t.multiply(e.getItem(n).matrix);return t},Ea=function(e){var t,n=e.getCTM();return n||(t=e.style[ma],e.style[ma]="none",e.appendChild(fa),n=fa.getCTM(),e.removeChild(fa),t?e.style[ma]=t:e.style.removeProperty(ma.replace(/([A-Z])/g,"-$1").toLowerCase())),n||da.clone()},ja=function(e,t){var n,r,i,o,s,a,c=xa(e),l=e===c,u=c?ya:wa,d=e.parentNode;if(e===sa)return e;if(u.length||u.push(Oa(e,1),Oa(e,2),Oa(e,3)),n=c?ua:la,c)l?(i=Ea(e),o=-i.e/i.a,s=-i.f/i.d,r=da):e.getBBox?(i=e.getBBox(),r=e.transform?e.transform.baseVal:{},r=r.numberOfItems?r.numberOfItems>1?Ca(r):r.getItem(0).matrix:da,o=r.a*i.x+r.c*i.y,s=r.b*i.x+r.d*i.y):(r=new Ia,o=s=0),t&&"g"===e.tagName.toLowerCase()&&(o=s=0),(l?c:d).appendChild(n),n.setAttribute("transform","matrix("+r.a+","+r.b+","+r.c+","+r.d+","+(r.e+o)+","+(r.f+s)+")");else{if(o=s=0,pa){r=e.offsetParent,i=e;while(i&&(i=i.parentNode)&&i!==r&&i.parentNode)(sa.getComputedStyle(i)[ma]+"").length>4&&(o=i.offsetLeft,s=i.offsetTop,i=0)}if(a=sa.getComputedStyle(e),"absolute"!==a.position&&"fixed"!==a.position){r=e.offsetParent;while(d&&d!==r)o+=d.scrollLeft||0,s+=d.scrollTop||0,d=d.parentNode}i=n.style,i.top=e.offsetTop-s+"px",i.left=e.offsetLeft-o+"px",i[ma]=a[ma],i[va]=a[va],i.position="fixed"===a.position?"fixed":"absolute",e.parentNode.appendChild(n)}return n},Ta=function(e,t,n,r,i,o,s){return e.a=t,e.b=n,e.c=r,e.d=i,e.e=o,e.f=s,e},Ia=function(){function e(e,t,n,r,i,o){void 0===e&&(e=1),void 0===t&&(t=0),void 0===n&&(n=0),void 0===r&&(r=1),void 0===i&&(i=0),void 0===o&&(o=0),Ta(this,e,t,n,r,i,o)}var t=e.prototype;return t.inverse=function(){var e=this.a,t=this.b,n=this.c,r=this.d,i=this.e,o=this.f,s=e*r-t*n||1e-10;return Ta(this,r/s,-t/s,-n/s,e/s,(n*o-r*i)/s,-(e*o-t*i)/s)},t.multiply=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f,a=e.a,c=e.c,l=e.b,u=e.d,d=e.e,f=e.f;return Ta(this,a*t+l*r,a*n+l*i,c*t+u*r,c*n+u*i,o+d*t+f*r,s+d*n+f*i)},t.clone=function(){return new e(this.a,this.b,this.c,this.d,this.e,this.f)},t.equals=function(e){var t=this.a,n=this.b,r=this.c,i=this.d,o=this.e,s=this.f;return t===e.a&&n===e.b&&r===e.c&&i===e.d&&o===e.e&&s===e.f},t.apply=function(e,t){void 0===t&&(t={});var n=e.x,r=e.y,i=this.a,o=this.b,s=this.c,a=this.d,c=this.e,l=this.f;return t.x=n*i+r*s+c||0,t.y=n*o+r*a+l||0,t},e}();
/*!
 * matrix 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/function Ra(e,t,n,r){if(!e||!e.parentNode||(oa||ga(e)).documentElement===e)return new Ia;var i=ba(e),o=xa(e),s=o?ya:wa,a=ja(e,n),c=s[0].getBoundingClientRect(),l=s[1].getBoundingClientRect(),u=s[2].getBoundingClientRect(),d=a.parentNode,f=!r&&ka(e),p=new Ia((l.left-c.left)/100,(l.top-c.top)/100,(u.left-c.left)/100,(u.top-c.top)/100,c.left+(f?0:_a()),c.top+(f?0:Sa()));if(d.removeChild(a),i){c=i.length;while(c--)l=i[c],l.scaleX=l.scaleY=0,l.renderTransform(1,l)}return t?p.inverse():p}
/*!
 * Flip 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Va,Pa,Aa,Ma,La,Na,Da,Ba,Fa=1,Ua=function(e,t){return e.actions.forEach((function(e){return e.vars[t]&&e.vars[t](e)}))},za={},Wa=180/Math.PI,Za=Math.PI/180,Ga={},$a={},Xa={},Ya=function(e){return"string"===typeof e?e.split(" ").join("").split(","):e},Ha=Ya("onStart,onUpdate,onComplete,onReverseComplete,onInterrupt"),Ka=Ya("transform,transformOrigin,width,height,position,top,left,opacity,zIndex,maxWidth,maxHeight,minWidth,minHeight"),Ja=function(e){return Va(e)[0]||console.warn("Element not found:",e)},Qa=function(e){return Math.round(1e4*e)/1e4||0},qa=function(e,t,n){return e.forEach((function(e){return e.classList[n](t)}))},ec={zIndex:1,kill:1,simple:1,spin:1,clearProps:1,targets:1,toggleClass:1,onComplete:1,onUpdate:1,onInterrupt:1,onStart:1,delay:1,repeat:1,repeatDelay:1,yoyo:1,scale:1,fade:1,absolute:1,props:1,onEnter:1,onLeave:1,custom:1,paused:1,nested:1,prune:1,absoluteOnLeave:1},tc={zIndex:1,simple:1,clearProps:1,scale:1,absolute:1,fitChild:1,getVars:1,props:1},nc=function(e){return e.replace(/([A-Z])/g,"-$1").toLowerCase()},rc=function(e,t){var n,r={};for(n in e)t[n]||(r[n]=e[n]);return r},ic={},oc=function(e){var t=ic[e]=Ya(e);return Xa[e]=t.concat(Ka),t},sc=function(e){var t=e._gsap||Pa.core.getCache(e);return t.gmCache===Pa.ticker.frame?t.gMatrix:(t.gmCache=Pa.ticker.frame,t.gMatrix=Ra(e,!0,!1,!0))},ac=function e(t,n,r){void 0===r&&(r=0);var i=t.parentNode,o=1e3*Math.pow(10,r)*(n?-1:1),s=n?900*-o:0;while(t)s+=o,t=t.previousSibling;return i?s+e(i,n,r+1):s},cc=function(e,t,n){return e.forEach((function(e){return e.d=ac(n?e.element:e.t,t)})),e.sort((function(e,t){return e.d-t.d})),e},lc=function(e,t){var n,r,i=e.element.style,o=e.css=e.css||[],s=t.length;while(s--)n=t[s],r=i[n]||i.getPropertyValue(n),o.push(r?n:$a[n]||($a[n]=nc(n)),r);return i},uc=function(e){var t=e.css,n=e.element.style,r=0;for(e.cache.uncache=1;r<t.length;r+=2)t[r+1]?n[t[r]]=t[r+1]:n.removeProperty(t[r]);!t[t.indexOf("transform")+1]&&n.translate&&(n.removeProperty("translate"),n.removeProperty("scale"),n.removeProperty("rotate"))},dc=function(e,t){e.forEach((function(e){return e.a.cache.uncache=1})),t||e.finalStates.forEach(uc)},fc="paddingTop,paddingRight,paddingBottom,paddingLeft,gridArea,transition".split(","),pc=function(e,t,n){var r,i,o,s=e.element,a=e.width,c=e.height,l=e.uncache,u=e.getProp,d=s.style,f=4;if("object"!==typeof t&&(t=e),Aa&&1!==n)return Aa._abs.push({t:s,b:e,a:e,sd:0}),Aa._final.push((function(){return(e.cache.uncache=1)&&uc(e)})),s;i="none"===u("display"),e.isVisible&&!i||(i&&(lc(e,["display"]).display=t.display),e.matrix=t.matrix,e.width=a=e.width||t.width,e.height=c=e.height||t.height),lc(e,fc),o=window.getComputedStyle(s);while(f--)d[fc[f]]=o[fc[f]];if(d.gridArea="1 / 1 / 1 / 1",d.transition="none",d.position="absolute",d.width=a+"px",d.height=c+"px",d.top||(d.top="0px"),d.left||(d.left="0px"),l)r=new Ac(s);else if(r=rc(e,Ga),r.position="absolute",e.simple){var p=s.getBoundingClientRect();r.matrix=new Ia(1,0,0,1,p.left+_a(),p.top+Sa())}else r.matrix=Ra(s,!1,!1,!0);return r=xc(r,e,!0),e.x=Na(r.x,.01),e.y=Na(r.y,.01),s},hc=function(e,t){return!0!==t&&(t=Va(t),e=e.filter((function(e){if(-1!==t.indexOf((e.sd<0?e.b:e.a).element))return!0;e.t._gsap.renderTransform(1),e.b.isVisible&&(e.t.style.width=e.b.width+"px",e.t.style.height=e.b.height+"px")}))),e},mc=function(e){return cc(e,!0).forEach((function(e){return(e.a.isVisible||e.b.isVisible)&&pc(e.sd<0?e.b:e.a,e.b,1)}))},vc=function(e,t){return t&&e.idLookup[gc(t).id]||e.elementStates[0]},gc=function(e,t,n,r){return e instanceof Ac?e:e instanceof Pc?vc(e,r):new Ac("string"===typeof e?Ja(e)||console.warn(e+" not found"):e,t,n)},bc=function(e,t){var n=Pa.getProperty(e.element,null,"native"),r=e.props={},i=t.length;while(i--)r[t[i]]=(n(t[i])+"").trim();return r.zIndex&&(r.zIndex=parseFloat(r.zIndex)||0),e},yc=function(e,t){var n,r=e.style||e;for(n in t)r[n]=t[n]},wc=function(e){var t=e.getAttribute("data-flip-id");return t||e.setAttribute("data-flip-id",t="auto-"+Fa++),t},Sc=function(e){return e.map((function(e){return e.element}))},_c=function(e,t,n){return e&&t.length&&n.add(e(Sc(t),n,new Pc(t,0,!0)),0)},xc=function(e,t,n,r,i,o){var s,a,c,l,u,d,f,p=e.element,h=e.cache,m=e.parent,v=e.x,g=e.y,b=t.width,y=t.height,w=t.scaleX,S=t.scaleY,_=t.rotation,x=t.bounds,k=o&&Da&&Da(p,"transform"),O=e,C=t.matrix,E=C.e,j=C.f,T=e.bounds.width!==x.width||e.bounds.height!==x.height||e.scaleX!==w||e.scaleY!==S||e.rotation!==_,I=!T&&e.simple&&t.simple&&!i;return I||!m?(w=S=1,_=s=0):(u=sc(m),d=u.clone().multiply(t.ctm?t.matrix.clone().multiply(t.ctm):t.matrix),_=Qa(Math.atan2(d.b,d.a)*Wa),s=Qa(Math.atan2(d.c,d.d)*Wa+_)%360,w=Math.sqrt(Math.pow(d.a,2)+Math.pow(d.b,2)),S=Math.sqrt(Math.pow(d.c,2)+Math.pow(d.d,2))*Math.cos(s*Za),i&&(i=Va(i)[0],l=Pa.getProperty(i),f=i.getBBox&&"function"===typeof i.getBBox&&i.getBBox(),O={scaleX:l("scaleX"),scaleY:l("scaleY"),width:f?f.width:Math.ceil(parseFloat(l("width","px"))),height:f?f.height:parseFloat(l("height","px"))}),h.rotation=_+"deg",h.skewX=s+"deg"),n?(w*=b!==O.width&&O.width?b/O.width:1,S*=y!==O.height&&O.height?y/O.height:1,h.scaleX=w,h.scaleY=S):(b=Na(b*w/O.scaleX,0),y=Na(y*S/O.scaleY,0),p.style.width=b+"px",p.style.height=y+"px"),r&&yc(p,t.props),I||!m?(v+=E-e.matrix.e,g+=j-e.matrix.f):T||m!==t.parent?(h.renderTransform(1,h),d=Ra(i||p,!1,!1,!0),a=u.apply({x:d.e,y:d.f}),c=u.apply({x:E,y:j}),v+=c.x-a.x,g+=c.y-a.y):(u.e=u.f=0,c=u.apply({x:E-e.matrix.e,y:j-e.matrix.f}),v+=c.x,g+=c.y),v=Na(v,.02),g=Na(g,.02),!o||o instanceof Ac?(h.x=v+"px",h.y=g+"px",h.renderTransform(1,h)):k&&k.revert(),o&&(o.x=v,o.y=g,o.rotation=_,o.skewX=s,n?(o.scaleX=w,o.scaleY=S):(o.width=b,o.height=y)),o||h},kc=function(e,t){return e instanceof Pc?e:new Pc(e,t)},Oc=function(e,t,n){var r=e.idLookup[n],i=e.alt[n];return!i.isVisible||(t.getElementState(i.element)||i).isVisible&&r.isVisible?r:i},Cc=[],Ec="width,height,overflowX,overflowY".split(","),jc=function(e){if(e!==Ba){var t=La.style,n=La.clientWidth===window.outerWidth,r=La.clientHeight===window.outerHeight,i=4;if(e&&(n||r)){while(i--)Cc[i]=t[Ec[i]];n&&(t.width=La.clientWidth+"px",t.overflowY="hidden"),r&&(t.height=La.clientHeight+"px",t.overflowX="hidden"),Ba=e}else if(Ba){while(i--)Cc[i]?t[Ec[i]]=Cc[i]:t.removeProperty(nc(Ec[i]));Ba=e}}},Tc=function(e,t,n,r){e instanceof Pc&&t instanceof Pc||console.warn("Not a valid state object."),n=n||{};var i,o,s,a,c,l,u,d,f,p,h,m,v,g,b,y=n,w=y.clearProps,S=y.onEnter,_=y.onLeave,x=y.absolute,k=y.absoluteOnLeave,O=y.custom,C=y.delay,E=y.paused,j=y.repeat,T=y.repeatDelay,I=y.yoyo,R=y.toggleClass,V=y.nested,P=y.zIndex,A=y.scale,M=y.fade,L=y.stagger,N=y.spin,D=y.prune,B=("props"in n?n:e).props,F=rc(n,ec),U=Pa.timeline({delay:C,paused:E,repeat:j,repeatDelay:T,yoyo:I,data:"isFlip"}),z=F,W=[],Z=[],G=[],$=[],X=!0===N?1:N||0,Y="function"===typeof N?N:function(){return X},H=e.interrupted||t.interrupted,K=U[1!==r?"to":"from"];for(o in t.idLookup)h=t.alt[o]?Oc(t,e,o):t.idLookup[o],c=h.element,p=e.idLookup[o],e.alt[o]&&c===p.element&&(e.alt[o].isVisible||!h.isVisible)&&(p=e.alt[o]),p?(l={t:c,b:p,a:h,sd:p.element===c?0:h.isVisible?1:-1},G.push(l),l.sd&&(l.sd<0&&(l.b=h,l.a=p),H&&lc(l.b,B?Xa[B]:Ka),M&&G.push(l.swap={t:p.element,b:l.b,a:l.a,sd:-l.sd,swap:l})),c._flip=p.element._flip=Aa?Aa.timeline:U):h.isVisible&&(G.push({t:c,b:rc(h,{isVisible:1}),a:h,sd:0,entering:1}),c._flip=Aa?Aa.timeline:U);(B&&(ic[B]||oc(B)).forEach((function(e){return F[e]=function(t){return G[t].a.props[e]}})),G.finalStates=f=[],m=function(){for(cc(G),jc(!0),a=0;a<G.length;a++)l=G[a],v=l.a,g=l.b,!D||v.isDifferent(g)||l.entering?(c=l.t,V&&!(l.sd<0)&&a&&(v.matrix=Ra(c,!1,!1,!0)),g.isVisible&&v.isVisible?(l.sd<0?(u=new Ac(c,B,e.simple),xc(u,v,A,0,0,u),u.matrix=Ra(c,!1,!1,!0),u.css=l.b.css,l.a=v=u,M&&(c.style.opacity=H?g.opacity:v.opacity),L&&$.push(c)):l.sd>0&&M&&(c.style.opacity=H?v.opacity-g.opacity:"0"),xc(v,g,A,B)):g.isVisible!==v.isVisible&&(g.isVisible?v.isVisible||(g.css=v.css,Z.push(g),G.splice(a--,1),x&&V&&xc(v,g,A,B)):(v.isVisible&&W.push(v),G.splice(a--,1))),A||(c.style.maxWidth=Math.max(v.width,g.width)+"px",c.style.maxHeight=Math.max(v.height,g.height)+"px",c.style.minWidth=Math.min(v.width,g.width)+"px",c.style.minHeight=Math.min(v.height,g.height)+"px"),V&&R&&c.classList.add(R)):G.splice(a--,1),f.push(v);var t;if(R&&(t=f.map((function(e){return e.element})),V&&t.forEach((function(e){return e.classList.remove(R)}))),jc(!1),A?(F.scaleX=function(e){return G[e].a.scaleX},F.scaleY=function(e){return G[e].a.scaleY}):(F.width=function(e){return G[e].a.width+"px"},F.height=function(e){return G[e].a.height+"px"},F.autoRound=n.autoRound||!1),F.x=function(e){return G[e].a.x+"px"},F.y=function(e){return G[e].a.y+"px"},F.rotation=function(e){return G[e].a.rotation+(N?360*Y(e,d[e],d):0)},F.skewX=function(e){return G[e].a.skewX},d=G.map((function(e){return e.t})),(P||0===P)&&(F.modifiers={zIndex:function(){return P}},F.zIndex=P,F.immediateRender=!1!==n.immediateRender),M&&(F.opacity=function(e){return G[e].sd<0?0:G[e].sd>0?G[e].a.opacity:"+=0"}),$.length){L=Pa.utils.distribute(L);var r=d.slice($.length);F.stagger=function(e,t){return L(~$.indexOf(t)?d.indexOf(G[e].swap.t):e,t,r)}}if(Ha.forEach((function(e){return n[e]&&U.eventCallback(e,n[e],n[e+"Params"])})),O&&d.length)for(o in z=rc(F,ec),"scale"in O&&(O.scaleX=O.scaleY=O.scale,delete O.scale),O)i=rc(O[o],tc),i[o]=F[o],!("duration"in i)&&"duration"in F&&(i.duration=F.duration),i.stagger=F.stagger,K.call(U,d,i,0),delete z[o];(d.length||Z.length||W.length)&&(R&&U.add((function(){return qa(t,R,U._zTime<0?"remove":"add")}),0)&&!E&&qa(t,R,"add"),d.length&&K.call(U,d,z,0)),_c(S,W,U),_c(_,Z,U);var p=Aa&&Aa.timeline;p&&(p.add(U,0),Aa._final.push((function(){return dc(G,!w)}))),s=U.duration(),U.call((function(){var e=U.time()>=s;e&&!p&&dc(G,!w),R&&qa(t,R,e?"remove":"add")}))},k&&(x=G.filter((function(e){return!e.sd&&!e.a.isVisible&&e.b.isVisible})).map((function(e){return e.a.element}))),Aa)?(x&&(b=Aa._abs).push.apply(b,hc(G,x)),Aa._run.push(m)):(x&&mc(hc(G,x)),m());var J=Aa?Aa.timeline:U;return J.revert=function(){return Rc(J,1,1)},J},Ic=function e(t){t.vars.onInterrupt&&t.vars.onInterrupt.apply(t,t.vars.onInterruptParams||[]),t.getChildren(!0,!1,!0).forEach(e)},Rc=function(e,t,n){if(e&&e.progress()<1&&(!e.paused()||n))return t&&(Ic(e),t<2&&e.progress(1),e.kill()),!0},Vc=function(e){var t,n=e.idLookup={},r=e.alt={},i=e.elementStates,o=i.length;while(o--)t=i[o],n[t.id]?r[t.id]=t:n[t.id]=t},Pc=function(){function e(e,t,n){if(this.props=t&&t.props,this.simple=!(!t||!t.simple),n)this.targets=Sc(e),this.elementStates=e,Vc(this);else{this.targets=Va(e);var r=t&&(!1===t.kill||t.batch&&!t.kill);Aa&&!r&&Aa._kill.push(this),this.update(r||!!Aa)}}var t=e.prototype;return t.update=function(e){var t=this;return this.elementStates=this.targets.map((function(e){return new Ac(e,t.props,t.simple)})),Vc(this),this.interrupt(e),this.recordInlineStyles(),this},t.clear=function(){return this.targets.length=this.elementStates.length=0,Vc(this),this},t.fit=function(e,t,n){for(var r,i,o=cc(this.elementStates.slice(0),!1,!0),s=(e||this).idLookup,a=0;a<o.length;a++)r=o[a],n&&(r.matrix=Ra(r.element,!1,!1,!0)),i=s[r.id],i&&xc(r,i,t,!0,0,r),r.matrix=Ra(r.element,!1,!1,!0);return this},t.getProperty=function(e,t){var n=this.getElementState(e)||Ga;return(t in n?n:n.props||Ga)[t]},t.add=function(e){var t,n,r,i=e.targets.length,o=this.idLookup,s=this.alt;while(i--)n=e.elementStates[i],r=o[n.id],r&&(n.element===r.element||s[n.id]&&s[n.id].element===n.element)?(t=this.elementStates.indexOf(n.element===r.element?r:s[n.id]),this.targets.splice(t,1,e.targets[i]),this.elementStates.splice(t,1,n)):(this.targets.push(e.targets[i]),this.elementStates.push(n));return e.interrupted&&(this.interrupted=!0),e.simple||(this.simple=!1),Vc(this),this},t.compare=function(e){var t,n,r,i,o,s,a,c,l=e.idLookup,u=this.idLookup,d=[],f=[],p=[],h=[],m=[],v=e.alt,g=this.alt,b=function(e,t,n){return(e.isVisible!==t.isVisible?e.isVisible?p:h:e.isVisible?f:d).push(n)&&m.push(n)},y=function(e,t,n){return m.indexOf(n)<0&&b(e,t,n)};for(r in l)o=v[r],s=g[r],t=o?Oc(e,this,r):l[r],i=t.element,n=u[r],s?(c=n.isVisible||!s.isVisible&&i===n.element?n:s,a=!o||t.isVisible||o.isVisible||c.element!==o.element?t:o,a.isVisible&&c.isVisible&&a.element!==c.element?((a.isDifferent(c)?f:d).push(a.element,c.element),m.push(a.element,c.element)):b(a,c,a.element),o&&a.element===o.element&&(o=l[r]),y(a.element!==n.element&&o?o:a,n,n.element),y(o&&o.element===s.element?o:a,s,s.element),o&&y(o,s.element===o.element?s:n,o.element)):(n?n.isDifferent(t)?b(t,n,i):d.push(i):p.push(i),o&&y(o,n,o.element));for(r in u)l[r]||(h.push(u[r].element),g[r]&&h.push(g[r].element));return{changed:f,unchanged:d,enter:p,leave:h}},t.recordInlineStyles=function(){var e=Xa[this.props]||Ka,t=this.elementStates.length;while(t--)lc(this.elementStates[t],e)},t.interrupt=function(e){var t=this,n=[];this.targets.forEach((function(r){var i=r._flip,o=Rc(i,e?0:1);e&&o&&n.indexOf(i)<0&&i.add((function(){return t.updateVisibility()})),o&&n.push(i)})),!e&&n.length&&this.updateVisibility(),this.interrupted||(this.interrupted=!!n.length)},t.updateVisibility=function(){this.elementStates.forEach((function(e){var t=e.element.getBoundingClientRect();e.isVisible=!!(t.width||t.height||t.top||t.left),e.uncache=1}))},t.getElementState=function(e){return this.elementStates[this.targets.indexOf(Ja(e))]},t.makeAbsolute=function(){return cc(this.elementStates.slice(0),!0,!0).map(pc)},e}(),Ac=function(){function e(e,t,n){this.element=e,this.update(t,n)}var t=e.prototype;return t.isDifferent=function(e){var t=this.bounds,n=e.bounds;return t.top!==n.top||t.left!==n.left||t.width!==n.width||t.height!==n.height||!this.matrix.equals(e.matrix)||this.opacity!==e.opacity||this.props&&e.props&&JSON.stringify(this.props)!==JSON.stringify(e.props)},t.update=function(e,t){var n=this,r=n.element,i=Pa.getProperty(r),o=Pa.core.getCache(r),s=r.getBoundingClientRect(),a=r.getBBox&&"function"===typeof r.getBBox&&"svg"!==r.nodeName.toLowerCase()&&r.getBBox(),c=t?new Ia(1,0,0,1,s.left+_a(),s.top+Sa()):Ra(r,!1,!1,!0);n.getProp=i,n.element=r,n.id=wc(r),n.matrix=c,n.cache=o,n.bounds=s,n.isVisible=!!(s.width||s.height||s.left||s.top),n.display=i("display"),n.position=i("position"),n.parent=r.parentNode,n.x=i("x"),n.y=i("y"),n.scaleX=o.scaleX,n.scaleY=o.scaleY,n.rotation=i("rotation"),n.skewX=i("skewX"),n.opacity=i("opacity"),n.width=a?a.width:Na(i("width","px"),.04),n.height=a?a.height:Na(i("height","px"),.04),e&&bc(n,ic[e]||oc(e)),n.ctm=r.getCTM&&"svg"===r.nodeName.toLowerCase()&&Ea(r).inverse(),n.simple=t||1===Qa(c.a)&&!Qa(c.b)&&!Qa(c.c)&&1===Qa(c.d),n.uncache=0},e}(),Mc=function(){function e(e,t){this.vars=e,this.batch=t,this.states=[],this.timeline=t.timeline}var t=e.prototype;return t.getStateById=function(e){var t=this.states.length;while(t--)if(this.states[t].idLookup[e])return this.states[t]},t.kill=function(){this.batch.remove(this)},e}(),Lc=function(){function e(e){this.id=e,this.actions=[],this._kill=[],this._final=[],this._abs=[],this._run=[],this.data={},this.state=new Pc,this.timeline=Pa.timeline()}var t=e.prototype;return t.add=function(e){var t=this.actions.filter((function(t){return t.vars===e}));return t.length?t[0]:(t=new Mc("function"===typeof e?{animate:e}:e,this),this.actions.push(t),t)},t.remove=function(e){var t=this.actions.indexOf(e);return t>=0&&this.actions.splice(t,1),this},t.getState=function(e){var t=this,n=Aa,r=Ma;return Aa=this,this.state.clear(),this._kill.length=0,this.actions.forEach((function(n){n.vars.getState&&(n.states.length=0,Ma=n,n.state=n.vars.getState(n)),e&&n.states.forEach((function(e){return t.state.add(e)}))})),Ma=r,Aa=n,this.killConflicts(),this},t.animate=function(){var e,t,n=this,r=Aa,i=this.timeline,o=this.actions.length;Aa=this,i.clear(),this._abs.length=this._final.length=this._run.length=0,this.actions.forEach((function(e){e.vars.animate&&e.vars.animate(e);var t,n,r=e.vars.onEnter,i=e.vars.onLeave,o=e.targets;o&&o.length&&(r||i)&&(t=new Pc,e.states.forEach((function(e){return t.add(e)})),n=t.compare(Nc.getState(o)),n.enter.length&&r&&r(n.enter),n.leave.length&&i&&i(n.leave))})),mc(this._abs),this._run.forEach((function(e){return e()})),t=i.duration(),e=this._final.slice(0),i.add((function(){t<=i.time()&&(e.forEach((function(e){return e()})),Ua(n,"onComplete"))})),Aa=r;while(o--)this.actions[o].vars.once&&this.actions[o].kill();return Ua(this,"onStart"),i.restart(),this},t.loadState=function(e){e||(e=function(){return 0});var t=[];return this.actions.forEach((function(n){if(n.vars.loadState){var r,i=function i(o){o&&(n.targets=o),r=t.indexOf(i),~r&&(t.splice(r,1),t.length||e())};t.push(i),n.vars.loadState(i)}})),t.length||e(),this},t.setState=function(){return this.actions.forEach((function(e){return e.targets=e.vars.setState&&e.vars.setState(e)})),this},t.killConflicts=function(e){return this.state.interrupt(e),this._kill.forEach((function(t){return t.interrupt(e)})),this},t.run=function(e,t){var n=this;return this!==Aa&&(e||this.getState(t),this.loadState((function(){n._killed||(n.setState(),n.animate())}))),this},t.clear=function(e){this.state.clear(),e||(this.actions.length=0)},t.getStateById=function(e){var t,n=this.actions.length;while(n--)if(t=this.actions[n].getStateById(e),t)return t;return this.state.idLookup[e]&&this.state},t.kill=function(){this._killed=1,this.clear(),delete za[this.id]},e}(),Nc=function(){function e(){}return e.getState=function(t,n){var r=kc(t,n);return Ma&&Ma.states.push(r),n&&n.batch&&e.batch(n.batch).state.add(r),r},e.from=function(e,t){return t=t||{},"clearProps"in t||(t.clearProps=!0),Tc(e,kc(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,-1)},e.to=function(e,t){return Tc(e,kc(t.targets||e.targets,{props:t.props||e.props,simple:t.simple,kill:!!t.kill}),t,1)},e.fromTo=function(e,t,n){return Tc(e,t,n)},e.fit=function(e,t,n){var r=n?rc(n,tc):{},i=n||r,o=i.absolute,s=i.scale,a=i.getVars,c=i.props,l=i.runBackwards,u=i.onComplete,d=i.simple,f=n&&n.fitChild&&Ja(n.fitChild),p=gc(t,c,d,e),h=gc(e,0,d,p),m=c?Xa[c]:Ka,v=Pa.context();return c&&yc(r,p.props),lc(h,m),l&&("immediateRender"in r||(r.immediateRender=!0),r.onComplete=function(){uc(h),u&&u.apply(this,arguments)}),o&&pc(h,p),r=xc(h,p,s||f,c,f,r.duration||a?r:0),v&&!a&&v.add((function(){return function(){return uc(h)}})),a?r:r.duration?Pa.to(h.element,r):null},e.makeAbsolute=function(e,t){return(e instanceof Pc?e:new Pc(e,t)).makeAbsolute()},e.batch=function(e){return e||(e="default"),za[e]||(za[e]=new Lc(e))},e.killFlipsOf=function(e,t){(e instanceof Pc?e.targets:Va(e)).forEach((function(e){return e&&Rc(e._flip,!1!==t?1:2)}))},e.isFlipping=function(t){var n=e.getByTarget(t);return!!n&&n.isActive()},e.getByTarget=function(e){return(Ja(e)||Ga)._flip},e.getElementState=function(e,t){return new Ac(Ja(e),t)},e.convertCoordinates=function(e,t,n){var r=Ra(t,!0,!0).multiply(Ra(e));return n?r.apply(n):r},e.register=function(e){if(La="undefined"!==typeof document&&document.body,La){Pa=e,ga(La),Va=Pa.utils.toArray,Da=Pa.core.getStyleSaver;var t=Pa.utils.snap(.1);Na=function(e,n){return t(parseFloat(e)+n)}}},e}();Nc.version="3.12.5","undefined"!==typeof window&&window.gsap&&window.gsap.registerPlugin(Nc);var Dc=rt.commit,Bc=rt.state,Fc=rt.getters,Uc=function(e){var t=e.sourceId||null;e.tracks.forEach((function(e){"video"===e.media&&(zc(t),Zc("video",t,e.trackId),1===Bc.Sources.videoSources.length&&Dc("Sources/setIsAudioOnly",!1)),"audio"===e.media&&(Zc("audio",t,e.trackId),1===Bc.Sources.audioSources.length&&Dc("Sources/setIsAudioOnly",!Bc.Sources.videoSources.length))})),Wc()?setTimeout(Gc,1e3):Bc.Controls.trackWarning&&Dc("Controls/setTrackWarning",!1)},zc=function(){var e=u(c().mark((function e(t){var n,r,i,o,s,a;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t||Fc["Sources/getStartedAsMain"],Fc["Sources/getVideoHasMain"]||!t||Fc["Sources/getStartedAsMain"]){e.next=6;break}return Dc("Sources/setStartedAsMain",t),Dc("Sources/setMainLabel",t),Bc.ViewConnection.millicastView.project(t,[{trackId:"video",mediaId:"0",media:"video"}]),e.abrupt("return");case 6:if(t){e.next=13;break}if(Bc.ViewConnection.millicastView.project(null,[{trackId:"video",mediaId:"0",media:"video"}]),Dc("Sources/setStartedAsMain",t),0!==Bc.Sources.videoSources.length){e.next=11;break}return e.abrupt("return");case 11:r=Bc.Sources.sourceSideTracks.findIndex((function(e){return e.sourceId===n})),r>=0&&(i=Bc.Sources.sourceSideTracks[r],o={name:Bc.Params.viewer.mainLabel,sourceId:null,trackId:"video",mid:"0"},i.sourceId=null,i.transceiver=o);case 13:s=Bc.Sources.sourceRemoteTracks.findIndex((function(e){return e.sourceId===n})),a=new MediaStream,setTimeout(u(c().mark((function e(){var t,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Bc.ViewConnection.millicastView.addRemoteTrack("video",[a]);case 2:t=e.sent,r={transceiver:t,mediaStream:a,sourceId:n},-1!==s?Dc("Sources/replaceSourceRemoteTrack",{what:r,where:s}):(Dc("Sources/addSourceRemoteTrack",r),Dc("Sources/addSourceSideTrack",r));case 5:case"end":return e.stop()}}),e)}))),50);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wc=function(){return!Fc["Sources/getVideoHasMain"]&&Bc.Sources.videoSources.length||!Fc["Sources/getAudioHasMain"]&&Bc.Sources.audioSources.length},Zc=function(e,t,n){var r=null===t?"video"===e?"0":"1":null,i={name:null===t?Bc.Params.viewer.mainLabel:t,sourceId:t,trackId:n,mid:r},o="video"===e?Bc.Sources.videoSources:Bc.Sources.audioSources,s=Array.from(o);if(!s.some((function(e){return e.sourceId===i.sourceId}))){if(null===i.sourceId){s.unshift(i);var a="video"===e?Bc.Sources.selectedVideoSource:Bc.Sources.selectedAudioSource;if(a.name!==Bc.Params.viewer.mainLabel&&("auido"!==e&&"none"!==Bc.Sources.selectedVideoSource.name||(Dc("Sources/setSelectedSource",{kind:e,selectedSource:i}),Yc({kind:e,source:i})),"video"===e)){var c=Kc("0");if(0==c)Dc("Sources/setMainLabel",Bc.Params.viewer.mainLabel),Dc("Sources/setSelectedSource",{kind:e,selectedSource:i}),Yc({kind:e,source:i});else{var l=document.getElementById("sideLabel".concat(c));l.textContent=Bc.Params.viewer.mainLabel}}}else"auido"!==e&&"none"!==Bc.Sources.selectedAudioSource.name&&Fc["Sources/getStartedAsMain"]!==i.name||(Dc("Sources/setSelectedSource",{kind:e,selectedSource:i}),Yc({kind:e,source:i})),s.push(i);Dc("Sources/setSources",{kind:e,sources:s})}},Gc=function(){Wc()&&!Bc.Sources.trackWarning&&(""===Bc.Controls.dropup&&Dc("Controls/setDropup","settings"),Dc("Controls/setTrackWarning",!0))},$c=function(e){var t;null!==(t=Bc.Layers.mainTransceiverMedias)&&void 0!==t&&t.active.length&&Ht({name:"Auto"});var n=Bc.Sources.videoSources.findIndex((function(t){return t.sourceId===e})),r=Bc.Sources.audioSources.findIndex((function(t){return t.sourceId===e}));-1!==n&&(Xc("video",e),Bc.Sources.videoSources.length||Dc("Sources/setIsAudioOnly",!0)),-1!==r&&Xc("audio",e)},Xc=function(){var e=u(c().mark((function e(t,n){var r,i,o,s,a,l,u,f,p;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r="video"===t?Bc.Sources.selectedVideoSource:Bc.Sources.selectedAudioSource,i="video"===t?Bc.Sources.videoSources:Bc.Sources.audioSources,i=i.filter((function(e){return e.sourceId!==n})),"video"!==t){e.next=30;break}if(s=d({},i[0]),a=r.sourceId===n,l=s.name===Bc.Sources.mainLabel,u=!n&&l,u&&(s=d({},i[1])),!(Object.keys(s).length>0)){e.next=26;break}if(!a){e.next=25;break}if(n){e.next=21;break}el(s.sourceId,Bc.Sources.selectedVideoSource.mid,Bc.Sources.selectedVideoSource.trackId),Dc("Sources/setMainLabel",s.name),Dc("Sources/setSelectedSource",{kind:t,selectedSource:s}),s.mid="0",f=d(d({},Bc.Sources.transceiverSourceState[s.mid]),{},{mid:"0"}),o={mediaStream:Bc.Sources.stream,sourceId:s.sourceId,transceiver:f},Dc("Sources/updateMainMediaTraks",{what:o,sourceId:s.sourceId}),e.next=23;break;case 21:return e.next=23,Qc(s,!1);case 23:e.next=26;break;case 25:n||(el(s.sourceId,"0",Bc.Sources.selectedVideoSource.trackId),p=d(d({},Bc.Sources.transceiverSourceState[s.mid]),{},{mid:"0"}),o={mediaStream:Bc.Sources.stream,sourceId:s.sourceId,transceiver:p},Dc("Sources/updateMainMediaTraks",{what:o,sourceId:s.sourceId}));case 26:Dc("Sources/setStartedAsMain",s.sourceId),o||Dc("Sources/removeSourceSideTrack",n||s.sourceId),Dc("Sources/removeSourceRemoteTrack",n||s.sourceId),Dc("Sources/removeTransceiverSourceState",{sourceId:n,replace:o});case 30:o?Dc("Sources/removeSourceAndUpdateMain",{sourceId:o.sourceId}):Dc("Sources/removeSource",{kind:t,sourceId:n});case 31:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Yc=function(){var e=u(c().mark((function e(t){var n,r,i,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.kind,r=t.source,i=null,o=null,"audio"!==n){e.next=11;break}if(i=Bc.ViewConnection.trackEvent.audio.track,o=Bc.Sources.selectedVideoSource,o=Bc.Sources.selectedAudioSource,!r||"none"===(null===r||void 0===r?void 0:r.name)||!i){e.next=11;break}return e.next=10,Hc({kind:n,source:r});case 10:"none"!==o.name&&Dc("Controls/setTrackWarning",!1);case 11:if(Dc("Sources/setSelectedSource",{kind:n,selectedSource:r}),!r||"none"===(null===r||void 0===r?void 0:r.name)||!i){e.next=16;break}return e.next=15,Hc({kind:n,source:r});case 15:"none"!==o.name&&Dc("Controls/setTrackWarning",!1);case 16:Dc("Sources/setSelectedSource",{kind:n,selectedSource:r});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Hc=function(){var e=u(c().mark((function e(t){var n,r,i,o,s,a,l,u,f;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(r=t.kind,i=t.source,o=null===i||void 0===i?void 0:i.sourceId,s=null,a=null,s=Bc.Sources.audioSources,a=null===(n=Bc.ViewConnection.trackEvent)||void 0===n||null===(n=n.audio)||void 0===n?void 0:n.transceiver,!Bc.Controls.castIsConnected){e.next=10;break}Mt(),e.next=14;break;case 10:if(null===o&&!s.length){e.next=14;break}return f=null!==(l=null===(u=a)||void 0===u?void 0:u.mid)&&void 0!==l?l:"1",e.next=14,Bc.ViewConnection.millicastView.project(o,[d(d({trackId:i.trackId,mediaId:f},"video"===r&&{promote:!0}),{},{media:r})]);case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kc=function(e){for(var t in Bc.Sources.trackMId)if(Bc.Sources.trackMId[t]===e)return t;return null},Jc=function(){var e=u(c().mark((function e(t){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(Bc.Controls.isMainVideoFullScreen){e.next=3;break}return e.next=3,Qc(t,!1);case 3:Dc("Controls/setIsMainVideoFullScreen",!Bc.Controls.isMainVideoFullScreen);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Qc=function(){var e=u(c().mark((function e(t,n){var r,i,o,s,a,l,u,d,f,p,h,m,v,g,b;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=Kc(t.mid),l=t.mid,u=Bc.Sources.selectedVideoSource.mid,Dc("Sources/setTrackMId",{key:0,value:t.mid}),Dc("Sources/setTrackMId",{key:a,value:Bc.Sources.selectedVideoSource.mid||"0"}),d=document.getElementById("sideLabel".concat(a)),f=Bc.Sources.sourceSideTracks.findIndex((function(e){return e.sourceId===t.sourceId})),p="0"===u?{mediaStream:Bc.Sources.stream,sourceId:null,transceiver:Bc.Sources.transceiverSourceState[0]}:Bc.Sources.sourceRemoteTracks.find((function(e){return e.sourceId===Bc.Sources.selectedVideoSource.sourceId})),Dc("Sources/replaceSourceSideTrack",{what:p,where:f}),d.textContent=Bc.Sources.selectedVideoSource.name||Bc.Params.viewer.mainLabel,u in Bc.Layers.medias&&(h=Bc.Layers.medias[u].layers.slice(-1)[0]),l in Bc.Layers.medias&&void 0!==(null===(r=Bc.Layers.selectedQuality)||void 0===r?void 0:r.simulcastIdx)&&(v=Bc.Layers.medias[l],Dc("Layers/setMainTransceiverMedias",v),g=v.layers.find((function(e){return e.simulcastIdx===Bc.Layers.selectedQuality.simulcastIdx})),m={encodingId:null===g||void 0===g?void 0:g.encodingId,spatialLayerId:null===g||void 0===g?void 0:g.spatialLayerId,temporalLayerId:null===g||void 0===g?void 0:g.temporalLayerId}),b={encodingId:null===(i=h)||void 0===i?void 0:i.encodingId,spatialLayerId:null===(o=h)||void 0===o?void 0:o.spatialLayerId,temporalLayerId:null===(s=h)||void 0===s?void 0:s.temporalLayerId},Bc.Controls.isGrid||(el(t.sourceId,l,t.trackId,m,!m),el(Bc.Sources.selectedVideoSource.sourceId,u,Bc.Sources.selectedVideoSource.trackId,b,!1)),e.next=16,qc("sidePlayer".concat(a),n);case 16:return e.next=18,Yc({kind:"video",source:t});case 18:return e.next=20,Dc("Sources/setMainLabel",t.name);case 20:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),qc=function(){var e=u(c().mark((function e(t){var n,r,i,o,s,a,l,u,d,f,p,h=arguments;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n=h.length>1&&void 0!==h[1]?h[1]:Bc.Sources.animate,ha.registerPlugin(Nc),r="player",i=document.getElementById("main-source"),o=i.querySelector("video"),s=document.getElementById(t),a=Nc.getState(o),l=Nc.getState(s),u=s.parentElement,u.insertBefore(o,s.nextSibling),d=document.getElementById("main-source"),f=d.querySelector("span"),d.insertBefore(s,f),o.id=o.ref=t,s.id=s.ref=r,sl({videoPlayer:s,srcObject:s.srcObject}),p=n?.8:0,Nc.from(a,{duration:p,ease:"power1.inOut"}),Nc.from(l,{duration:p,ease:"power1.inOut"});case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),el=function(){var e=u(c().mark((function e(t,n,r,i,o){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Bc.ViewConnection.millicastView.project(t,[{mediaId:n,media:"video",layer:i,promote:o}]);case 2:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),tl=function(){var e=u(c().mark((function e(t){var n,r,i,s,a,l,u,d,f,p,h,m,v,g,b;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=t.remoteTrack,i=t.index,e.next=3,Object(o["nextTick"])();case 3:s=i||(null===(n=r.transceiver)||void 0===n?void 0:n.mid),null!=i&&(u=Bc.Sources.sourceRemoteTracks[i],s=null===(a=u.transceiver)||void 0===a?void 0:a.mid,d="sideLabel".concat(s),f=document.getElementById(d),f.textContent=r.sourceId||Bc.Params.viewer.mainLabel,Dc("Sources/setTrackMId",{key:s,value:null===r||void 0===r||null===(l=r.transceiver)||void 0===l?void 0:l.mid}),p=document.getElementById("videoText".concat(s)),h=p.querySelector("video"),h.id="sidePlayer".concat(s)),m=Bc.Params.viewer.maxHeight?Number(Bc.Params.viewer.maxHeight):null,v="sidePlayer".concat(s),g=document.getElementById(v),g.srcObject=r.mediaStream,null==i&&el(r.sourceId,null!==(b=s)&&void 0!==b?b:null,Bc.Sources.transceiverSourceState[s].trackId,m?{maxHeight:m}:null),g.muted=!0,g.autoPlay=!0,g.playsInline=!0,g.play();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nl=function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=Bc.ViewConnection.millicastView.webRTCPeer.peer.getTransceivers().splice(2).map((function(e){return e.mid})),Bc.ViewConnection.millicastView.unproject(t);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),rl=rt.commit,il=rt.state,ol=null,sl=function(e){var t=e.videoPlayer,n=e.srcObject,r=e.volume,i=e.muted,o=e.autoplay;il.Controls.video&&cl(il.Controls.video),t&&(rl("Controls/setVideo",t),rl("Controls/setCurrentElementRef",t.id)),n&&rl("Controls/setVideoSource",n),r&&rl("Controls/setVideoVolume",r),i&&rl("Controls/setVideoMuted",i),o&&rl("Controls/setVideoAutoplay",o),al(il.Controls.video)},al=function(e){e.onplay=function(){return rl("Controls/setPlaying",!0)},e.addEventListener("emptied",ul),e.addEventListener("pause",ul),e.onenterpictureinpicture=function(){return rl("Controls/setPip",!0)},e.onleavepictureinpicture=function(){return rl("Controls/setPip",!1)}},cl=function(e){e.onplay=function(){},e.removeEventListener("emptied",ul),e.removeEventListener("pause",ul),e.onenterpictureinpicture=function(){},e.onleavepictureinpicture=function(){}},ll=function(){il.Controls.video.removeEventListener("emptied",ul),il.Controls.video.removeEventListener("pause",ul)},ul=function(){rl("Controls/setPlaying",!1)},dl=function(){window.Version=Object({NODE_ENV:"production",VUE_APP_DEFAULT_CHROMECAST_ID:"EC3A02DA",VUE_APP_DEFAULT_DIRECTOR_ENDPOINT:"https://director.millicast.com/",VUE_APP_DEFAULT_LIVEWS_ENDPOINT:"",VUE_APP_DEFAULT_PUBLIC_PATH:"/",VUE_APP_DEFAULT_REPORT_URL:"https://playback-report.millicast.com",VUE_APP_DEFAULT_TURN_ENDPOINT:"",BASE_URL:"/"}).PACKAGE_VERSION,window.Logger=V["Logger"];var e=ot(),t=st();St(e,t),hl()},fl=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:_t();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),pl=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:Et();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),hl=function(){xt(),ml()},ml=function(){var e,t=il.ViewConnection.millicastView;il.ViewConnection.eventListeners.broadcastEvent=null!==(e=il.ViewConnection.eventListeners.broadcastEvent)&&void 0!==e?e:t.on("broadcastEvent",(function(e){var t=e.name;switch(t){case"active":vl(e);break;case"stopped":gl(e);break;case"inactive":bl(e);break;case"layers":yl(e);break;case"viewercount":wl(e);break;default:break}}))},vl=function(e){if(Uc(e.data),rl("Controls/setIsLive",!0),il.Controls.isSelectingLayer||rl("Controls/setIsLoading",!1),Ct(),il.Controls.video.srcObject||rl("Controls/setVideoSource",il.Controls.srcObject),null!=ol){var t=setTimeout((function(){console.warn("Starting quality selected, but no layer event available."),rl("Controls/setIsLoading",!1)}),5e3);ol=t}},gl=function(){rl("Controls/setIsLoading",!1),rl("Controls/setIsLive",!1)},bl=function(e){var t,n=e.data,r=il.Sources.selectedVideoSource,i=il.Sources.selectedAudioSource,o=(null===r.sourceId||null===i.sourceId)&&null===n.sourceId;$c(null!==(t=null===n||void 0===n?void 0:n.sourceId)&&void 0!==t?t:null),e.data.streamId||rl("Controls/setUserCount",null),il.Sources.videoSources.length+il.Sources.audioSources.length===0?(Yt(),rl("Controls/setTrackWarning",!1),rl("Controls/setIsLive",!1),rl("Controls/setPlaying",!1),rl("Controls/setVideoSource",null)):o&&(""===il.Controls.dropup&&rl("Controls/setDropup","settings"),rl("Controls/setTrackWarning",o))},yl=function(e){var t,n=il.Sources.selectedVideoSource;n.mid in e.data.medias?Xt(e):Yt();var r=null===(t=il.Layers.mainTransceiverMedias)||void 0===t?void 0:t.active;if(0===r.length)return console.warn("No active layers available, will wait for next event. Switching to Auto until then."),null!=ol&&clearTimeout(ol),ol=null,void rl("Controls/setIsLoading",!1);if(il.Controls.isSelectingLayer&&null!==il.Params.viewer.startingQuality){var i,o={},s=il.Params.viewer.startingQuality,a=["auto","high","medium","low"].indexOf(s.toLowerCase());if(/^\d{3,4}$/.test(s))o=r.find((function(e){return e.height===parseInt(s)})),console.log("Selected media, height:",null===(i=o)||void 0===i?void 0:i.id);else if(a>=0){var c;o="low"===s.toLowerCase()?r[r.length-1]:r[a],console.log("Selected media, level:",null===(c=o)||void 0===c?void 0:c.id)}else console.warn("Not valid starting quality, switching to Auto"),o={name:"Auto"};void 0==o&&(console.warn("Not valid starting quality, switching to Auto"),o={name:"Auto"}),setTimeout((function(){Sl(o),null!=ol&&clearTimeout(ol),ol=null,rl("Controls/setIsSelectingLayer",!1),rl("Controls/setIsLoading",!1)}),1500)}},wl=function(e){rl("Controls/setViewerCount",e.data.viewercount)},Sl=function(e){Ht(e)},_l=function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.kind,r=t.source,e.next=3,Yc({kind:n,source:r});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xl=function(){var e=u(c().mark((function e(t){var n,r;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.remoteTrack,r=t.index,e.next=3,tl({remoteTrack:n,index:r});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kl=function(){var e=u(c().mark((function e(t,n,r,i,o){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:el(t,n,r,i,o);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Ol=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:nl();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Cl=function(){var e=u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:At();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function El(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n("8172"),n("efec");function jl(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Tl(e){var t=jl(e,"string");return"symbol"==a(t)?t:String(t)}function Il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tl(r.key),r)}}function Rl(e,t,n){return t&&Il(e.prototype,t),n&&Il(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var Vl=Object.defineProperty,Pl=Object.getOwnPropertySymbols,Al=Object.prototype.hasOwnProperty,Ml=Object.prototype.propertyIsEnumerable,Ll=(e,t,n)=>t in e?Vl(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Nl=(e,t)=>{for(var n in t||(t={}))Al.call(t,n)&&Ll(e,n,t[n]);if(Pl)for(var n of Pl(t))Ml.call(t,n)&&Ll(e,n,t[n]);return e},Dl=e=>"function"===typeof e,Bl=e=>"string"===typeof e,Fl=e=>Bl(e)&&e.trim().length>0,Ul=e=>"number"===typeof e,zl=e=>"undefined"===typeof e,Wl=e=>"object"===typeof e&&null!==e,Zl=e=>Kl(e,"tag")&&Fl(e.tag),Gl=e=>window.TouchEvent&&e instanceof TouchEvent,$l=e=>Kl(e,"component")&&Yl(e.component),Xl=e=>Dl(e)||Wl(e),Yl=e=>!zl(e)&&(Bl(e)||Xl(e)||$l(e)),Hl=e=>Wl(e)&&["height","width","right","left","top","bottom"].every(t=>Ul(e[t])),Kl=(e,t)=>(Wl(e)||Dl(e))&&t in e,Jl=(e=>()=>e++)(0);function Ql(e){return Gl(e)?e.targetTouches[0].clientX:e.clientX}function ql(e){return Gl(e)?e.targetTouches[0].clientY:e.clientY}var eu,tu,nu,ru=e=>{zl(e.remove)?e.parentNode&&e.parentNode.removeChild(e):e.remove()},iu=e=>$l(e)?iu(e.component):Zl(e)?Object(o["defineComponent"])({render(){return e}}):"string"===typeof e?e:Object(o["toRaw"])(Object(o["unref"])(e)),ou=e=>{if("string"===typeof e)return e;const t=Kl(e,"props")&&Wl(e.props)?e.props:{},n=Kl(e,"listeners")&&Wl(e.listeners)?e.listeners:{};return{component:iu(e),props:t,listeners:n}},su=()=>"undefined"!==typeof window,au=class{constructor(){this.allHandlers={}}getHandlers(e){return this.allHandlers[e]||[]}on(e,t){const n=this.getHandlers(e);n.push(t),this.allHandlers[e]=n}off(e,t){const n=this.getHandlers(e);n.splice(n.indexOf(t)>>>0,1)}emit(e,t){const n=this.getHandlers(e);n.forEach(e=>e(t))}},cu=e=>["on","off","emit"].every(t=>Kl(e,t)&&Dl(e[t]));(function(e){e["SUCCESS"]="success",e["ERROR"]="error",e["WARNING"]="warning",e["INFO"]="info",e["DEFAULT"]="default"})(eu||(eu={})),function(e){e["TOP_LEFT"]="top-left",e["TOP_CENTER"]="top-center",e["TOP_RIGHT"]="top-right",e["BOTTOM_LEFT"]="bottom-left",e["BOTTOM_CENTER"]="bottom-center",e["BOTTOM_RIGHT"]="bottom-right"}(tu||(tu={})),function(e){e["ADD"]="add",e["DISMISS"]="dismiss",e["UPDATE"]="update",e["CLEAR"]="clear",e["UPDATE_DEFAULTS"]="update_defaults"}(nu||(nu={}));var lu="Vue-Toastification",uu={type:{type:String,default:eu.DEFAULT},classNames:{type:[String,Array],default:()=>[]},trueBoolean:{type:Boolean,default:!0}},du={type:uu.type,customIcon:{type:[String,Boolean,Object,Function],default:!0}},fu={component:{type:[String,Object,Function,Boolean],default:"button"},classNames:uu.classNames,showOnHover:{type:Boolean,default:!1},ariaLabel:{type:String,default:"close"}},pu={timeout:{type:[Number,Boolean],default:5e3},hideProgressBar:{type:Boolean,default:!1},isRunning:{type:Boolean,default:!1}},hu={transition:{type:[Object,String],default:lu+"__bounce"}},mu={position:{type:String,default:tu.TOP_RIGHT},draggable:uu.trueBoolean,draggablePercent:{type:Number,default:.6},pauseOnFocusLoss:uu.trueBoolean,pauseOnHover:uu.trueBoolean,closeOnClick:uu.trueBoolean,timeout:pu.timeout,hideProgressBar:pu.hideProgressBar,toastClassName:uu.classNames,bodyClassName:uu.classNames,icon:du.customIcon,closeButton:fu.component,closeButtonClassName:fu.classNames,showCloseButtonOnHover:fu.showOnHover,accessibility:{type:Object,default:()=>({toastRole:"alert",closeButtonLabel:"close"})},rtl:{type:Boolean,default:!1},eventBus:{type:Object,required:!1,default:()=>new au}},vu={id:{type:[String,Number],required:!0,default:0},type:uu.type,content:{type:[String,Object,Function],required:!0,default:""},onClick:{type:Function,default:void 0},onClose:{type:Function,default:void 0}},gu={container:{type:[Object,Function],default:()=>document.body},newestOnTop:uu.trueBoolean,maxToasts:{type:Number,default:20},transition:hu.transition,toastDefaults:Object,filterBeforeCreate:{type:Function,default:e=>e},filterToasts:{type:Function,default:e=>e},containerClassName:uu.classNames,onMounted:Function,shareAppContext:[Boolean,Object]},bu={CORE_TOAST:mu,TOAST:vu,CONTAINER:gu,PROGRESS_BAR:pu,ICON:du,TRANSITION:hu,CLOSE_BUTTON:fu},yu=Object(o["defineComponent"])({name:"VtProgressBar",props:bu.PROGRESS_BAR,data(){return{hasClass:!0}},computed:{style(){return{animationDuration:this.timeout+"ms",animationPlayState:this.isRunning?"running":"paused",opacity:this.hideProgressBar?0:1}},cpClass(){return this.hasClass?lu+"__progress-bar":""}},watch:{timeout(){this.hasClass=!1,this.$nextTick(()=>this.hasClass=!0)}},mounted(){this.$el.addEventListener("animationend",this.animationEnded)},beforeUnmount(){this.$el.removeEventListener("animationend",this.animationEnded)},methods:{animationEnded(){this.$emit("close-toast")}}});function wu(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{style:Object(o["normalizeStyle"])(e.style),class:Object(o["normalizeClass"])(e.cpClass)},null,6)}yu.render=wu;var Su=yu,_u=Object(o["defineComponent"])({name:"VtCloseButton",props:bu.CLOSE_BUTTON,computed:{buttonComponent(){return!1!==this.component?iu(this.component):"button"},classes(){const e=[lu+"__close-button"];return this.showOnHover&&e.push("show-on-hover"),e.concat(this.classNames)}}}),xu=Object(o["createTextVNode"])(" × ");function ku(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.buttonComponent),Object(o["mergeProps"])({"aria-label":e.ariaLabel,class:e.classes},e.$attrs),{default:Object(o["withCtx"])(()=>[xu]),_:1},16,["aria-label","class"])}_u.render=ku;var Ou=_u,Cu={},Eu={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"check-circle",class:"svg-inline--fa fa-check-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},ju=Object(o["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},null,-1),Tu=[ju];function Iu(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",Eu,Tu)}Cu.render=Iu;var Ru=Cu,Vu={},Pu={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"info-circle",class:"svg-inline--fa fa-info-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Au=Object(o["createElementVNode"])("path",{fill:"currentColor",d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},null,-1),Mu=[Au];function Lu(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",Pu,Mu)}Vu.render=Lu;var Nu=Vu,Du={},Bu={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-circle",class:"svg-inline--fa fa-exclamation-circle fa-w-16",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"},Fu=Object(o["createElementVNode"])("path",{fill:"currentColor",d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Uu=[Fu];function zu(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",Bu,Uu)}Du.render=zu;var Wu=Du,Zu={},Gu={"aria-hidden":"true",focusable:"false","data-prefix":"fas","data-icon":"exclamation-triangle",class:"svg-inline--fa fa-exclamation-triangle fa-w-18",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 576 512"},$u=Object(o["createElementVNode"])("path",{fill:"currentColor",d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},null,-1),Xu=[$u];function Yu(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",Gu,Xu)}Zu.render=Yu;var Hu=Zu,Ku=Object(o["defineComponent"])({name:"VtIcon",props:bu.ICON,computed:{customIconChildren(){return Kl(this.customIcon,"iconChildren")?this.trimValue(this.customIcon.iconChildren):""},customIconClass(){return Bl(this.customIcon)?this.trimValue(this.customIcon):Kl(this.customIcon,"iconClass")?this.trimValue(this.customIcon.iconClass):""},customIconTag(){return Kl(this.customIcon,"iconTag")?this.trimValue(this.customIcon.iconTag,"i"):"i"},hasCustomIcon(){return this.customIconClass.length>0},component(){return this.hasCustomIcon?this.customIconTag:Yl(this.customIcon)?iu(this.customIcon):this.iconTypeComponent},iconTypeComponent(){const e={[eu.DEFAULT]:Nu,[eu.INFO]:Nu,[eu.SUCCESS]:Ru,[eu.ERROR]:Hu,[eu.WARNING]:Wu};return e[this.type]},iconClasses(){const e=[lu+"__icon"];return this.hasCustomIcon?e.concat(this.customIconClass):e}},methods:{trimValue(e,t=""){return Fl(e)?e.trim():t}}});function Ju(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.component),{class:Object(o["normalizeClass"])(e.iconClasses)},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.customIconChildren),1)]),_:1},8,["class"])}Ku.render=Ju;var Qu=Ku,qu=Object(o["defineComponent"])({name:"VtToast",components:{ProgressBar:Su,CloseButton:Ou,Icon:Qu},inheritAttrs:!1,props:Object.assign({},bu.CORE_TOAST,bu.TOAST),data(){const e={isRunning:!0,disableTransitions:!1,beingDragged:!1,dragStart:0,dragPos:{x:0,y:0},dragRect:{}};return e},computed:{classes(){const e=[lu+"__toast",`${lu}__toast--${this.type}`,""+this.position].concat(this.toastClassName);return this.disableTransitions&&e.push("disable-transition"),this.rtl&&e.push(lu+"__toast--rtl"),e},bodyClasses(){const e=[`${lu}__toast-${Bl(this.content)?"body":"component-body"}`].concat(this.bodyClassName);return e},draggableStyle(){return this.dragStart===this.dragPos.x?{}:this.beingDragged?{transform:`translateX(${this.dragDelta}px)`,opacity:1-Math.abs(this.dragDelta/this.removalDistance)}:{transition:"transform 0.2s, opacity 0.2s",transform:"translateX(0)",opacity:1}},dragDelta(){return this.beingDragged?this.dragPos.x-this.dragStart:0},removalDistance(){return Hl(this.dragRect)?(this.dragRect.right-this.dragRect.left)*this.draggablePercent:0}},mounted(){this.draggable&&this.draggableSetup(),this.pauseOnFocusLoss&&this.focusSetup()},beforeUnmount(){this.draggable&&this.draggableCleanup(),this.pauseOnFocusLoss&&this.focusCleanup()},methods:{hasProp:Kl,getVueComponentFromObj:iu,closeToast(){this.eventBus.emit(nu.DISMISS,this.id)},clickHandler(){this.onClick&&this.onClick(this.closeToast),this.closeOnClick&&(this.beingDragged&&this.dragStart!==this.dragPos.x||this.closeToast())},timeoutHandler(){this.closeToast()},hoverPause(){this.pauseOnHover&&(this.isRunning=!1)},hoverPlay(){this.pauseOnHover&&(this.isRunning=!0)},focusPause(){this.isRunning=!1},focusPlay(){this.isRunning=!0},focusSetup(){addEventListener("blur",this.focusPause),addEventListener("focus",this.focusPlay)},focusCleanup(){removeEventListener("blur",this.focusPause),removeEventListener("focus",this.focusPlay)},draggableSetup(){const e=this.$el;e.addEventListener("touchstart",this.onDragStart,{passive:!0}),e.addEventListener("mousedown",this.onDragStart),addEventListener("touchmove",this.onDragMove,{passive:!1}),addEventListener("mousemove",this.onDragMove),addEventListener("touchend",this.onDragEnd),addEventListener("mouseup",this.onDragEnd)},draggableCleanup(){const e=this.$el;e.removeEventListener("touchstart",this.onDragStart),e.removeEventListener("mousedown",this.onDragStart),removeEventListener("touchmove",this.onDragMove),removeEventListener("mousemove",this.onDragMove),removeEventListener("touchend",this.onDragEnd),removeEventListener("mouseup",this.onDragEnd)},onDragStart(e){this.beingDragged=!0,this.dragPos={x:Ql(e),y:ql(e)},this.dragStart=Ql(e),this.dragRect=this.$el.getBoundingClientRect()},onDragMove(e){this.beingDragged&&(e.preventDefault(),this.isRunning&&(this.isRunning=!1),this.dragPos={x:Ql(e),y:ql(e)})},onDragEnd(){this.beingDragged&&(Math.abs(this.dragDelta)>=this.removalDistance?(this.disableTransitions=!0,this.$nextTick(()=>this.closeToast())):setTimeout(()=>{this.beingDragged=!1,Hl(this.dragRect)&&this.pauseOnHover&&this.dragRect.bottom>=this.dragPos.y&&this.dragPos.y>=this.dragRect.top&&this.dragRect.left<=this.dragPos.x&&this.dragPos.x<=this.dragRect.right?this.isRunning=!1:this.isRunning=!0}))}}}),ed=["role"];function td(e,t){const n=Object(o["resolveComponent"])("Icon"),r=Object(o["resolveComponent"])("CloseButton"),i=Object(o["resolveComponent"])("ProgressBar");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(e.classes),style:Object(o["normalizeStyle"])(e.draggableStyle),onClick:t[0]||(t[0]=(...t)=>e.clickHandler&&e.clickHandler(...t)),onMouseenter:t[1]||(t[1]=(...t)=>e.hoverPause&&e.hoverPause(...t)),onMouseleave:t[2]||(t[2]=(...t)=>e.hoverPlay&&e.hoverPlay(...t))},[e.icon?(Object(o["openBlock"])(),Object(o["createBlock"])(n,{key:0,"custom-icon":e.icon,type:e.type},null,8,["custom-icon","type"])):Object(o["createCommentVNode"])("v-if",!0),Object(o["createElementVNode"])("div",{role:e.accessibility.toastRole||"alert",class:Object(o["normalizeClass"])(e.bodyClasses)},["string"===typeof e.content?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.content),1)],2112)):(Object(o["openBlock"])(),Object(o["createBlock"])(Object(o["resolveDynamicComponent"])(e.getVueComponentFromObj(e.content)),Object(o["mergeProps"])({key:1,"toast-id":e.id},e.hasProp(e.content,"props")?e.content.props:{},Object(o["toHandlers"])(e.hasProp(e.content,"listeners")?e.content.listeners:{}),{onCloseToast:e.closeToast}),null,16,["toast-id","onCloseToast"]))],10,ed),e.closeButton?(Object(o["openBlock"])(),Object(o["createBlock"])(r,{key:1,component:e.closeButton,"class-names":e.closeButtonClassName,"show-on-hover":e.showCloseButtonOnHover,"aria-label":e.accessibility.closeButtonLabel,onClick:Object(o["withModifiers"])(e.closeToast,["stop"])},null,8,["component","class-names","show-on-hover","aria-label","onClick"])):Object(o["createCommentVNode"])("v-if",!0),e.timeout?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:2,"is-running":e.isRunning,"hide-progress-bar":e.hideProgressBar,timeout:e.timeout,onCloseToast:e.timeoutHandler},null,8,["is-running","hide-progress-bar","timeout","onCloseToast"])):Object(o["createCommentVNode"])("v-if",!0)],38)}qu.render=td;var nd=qu,rd=Object(o["defineComponent"])({name:"VtTransition",props:bu.TRANSITION,emits:["leave"],methods:{hasProp:Kl,leave(e){e instanceof HTMLElement&&(e.style.left=e.offsetLeft+"px",e.style.top=e.offsetTop+"px",e.style.width=getComputedStyle(e).width,e.style.position="absolute")}}});function id(e,t){return Object(o["openBlock"])(),Object(o["createBlock"])(o["TransitionGroup"],{tag:"div","enter-active-class":e.transition.enter?e.transition.enter:e.transition+"-enter-active","move-class":e.transition.move?e.transition.move:e.transition+"-move","leave-active-class":e.transition.leave?e.transition.leave:e.transition+"-leave-active",onLeave:e.leave},{default:Object(o["withCtx"])(()=>[Object(o["renderSlot"])(e.$slots,"default")]),_:3},8,["enter-active-class","move-class","leave-active-class","onLeave"])}rd.render=id;var od=rd,sd=Object(o["defineComponent"])({name:"VueToastification",devtools:{hide:!0},components:{Toast:nd,VtTransition:od},props:Object.assign({},bu.CORE_TOAST,bu.CONTAINER,bu.TRANSITION),data(){const e={count:0,positions:Object.values(tu),toasts:{},defaults:{}};return e},computed:{toastArray(){return Object.values(this.toasts)},filteredToasts(){return this.defaults.filterToasts(this.toastArray)}},beforeMount(){const e=this.eventBus;e.on(nu.ADD,this.addToast),e.on(nu.CLEAR,this.clearToasts),e.on(nu.DISMISS,this.dismissToast),e.on(nu.UPDATE,this.updateToast),e.on(nu.UPDATE_DEFAULTS,this.updateDefaults),this.defaults=this.$props},mounted(){this.setup(this.container)},methods:{async setup(e){Dl(e)&&(e=await e()),ru(this.$el),e.appendChild(this.$el)},setToast(e){zl(e.id)||(this.toasts[e.id]=e)},addToast(e){e.content=ou(e.content);const t=Object.assign({},this.defaults,e.type&&this.defaults.toastDefaults&&this.defaults.toastDefaults[e.type],e),n=this.defaults.filterBeforeCreate(t,this.toastArray);n&&this.setToast(n)},dismissToast(e){const t=this.toasts[e];zl(t)||zl(t.onClose)||t.onClose(),delete this.toasts[e]},clearToasts(){Object.keys(this.toasts).forEach(e=>{this.dismissToast(e)})},getPositionToasts(e){const t=this.filteredToasts.filter(t=>t.position===e).slice(0,this.defaults.maxToasts);return this.defaults.newestOnTop?t.reverse():t},updateDefaults(e){zl(e.container)||this.setup(e.container),this.defaults=Object.assign({},this.defaults,e)},updateToast({id:e,options:t,create:n}){this.toasts[e]?(t.timeout&&t.timeout===this.toasts[e].timeout&&t.timeout++,this.setToast(Object.assign({},this.toasts[e],t))):n&&this.addToast(Object.assign({},{id:e},t))},getClasses(e){const t=[lu+"__container",e];return t.concat(this.defaults.containerClassName)}}});function ad(e,t){const n=Object(o["resolveComponent"])("Toast"),r=Object(o["resolveComponent"])("VtTransition");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",null,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.positions,t=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:t},[Object(o["createVNode"])(r,{transition:e.defaults.transition,class:Object(o["normalizeClass"])(e.getClasses(t))},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.getPositionToasts(t),e=>(Object(o["openBlock"])(),Object(o["createBlock"])(n,Object(o["mergeProps"])({key:e.id},e),null,16))),128))]),_:2},1032,["transition","class"])]))),128))])}sd.render=ad;var cd=sd,ld=(e={},t=!0)=>{const n=e.eventBus=e.eventBus||new au;t&&Object(o["nextTick"])(()=>{const t=Object(o["createApp"])(cd,Nl({},e)),n=t.mount(document.createElement("div")),r=e.onMounted;if(zl(r)||r(n,t),e.shareAppContext){const n=e.shareAppContext;!0===n?console.warn(`[${lu}] App to share context with was not provided.`):(t._context.components=n._context.components,t._context.directives=n._context.directives,t._context.mixins=n._context.mixins,t._context.provides=n._context.provides,t.config.globalProperties=n.config.globalProperties)}});const r=(e,t)=>{const r=Object.assign({},{id:Jl(),type:eu.DEFAULT},t,{content:e});return n.emit(nu.ADD,r),r.id};function i(e,{content:t,options:r},i=!1){const o=Object.assign({},r,{content:t});n.emit(nu.UPDATE,{id:e,options:o,create:i})}return r.clear=()=>n.emit(nu.CLEAR,void 0),r.updateDefaults=e=>{n.emit(nu.UPDATE_DEFAULTS,e)},r.dismiss=e=>{n.emit(nu.DISMISS,e)},r.update=i,r.success=(e,t)=>r(e,Object.assign({},t,{type:eu.SUCCESS})),r.info=(e,t)=>r(e,Object.assign({},t,{type:eu.INFO})),r.error=(e,t)=>r(e,Object.assign({},t,{type:eu.ERROR})),r.warning=(e,t)=>r(e,Object.assign({},t,{type:eu.WARNING})),r},ud=()=>{const e=()=>console.warn(`[${lu}] This plugin does not support SSR!`);return new Proxy(e,{get(){return e}})};function dd(e){return su()?cu(e)?ld({eventBus:e},!1):ld(e,!0):ud()}var fd=Symbol("VueToastification"),pd=new au,hd=(e,t)=>{!0===(null==t?void 0:t.shareAppContext)&&(t.shareAppContext=e);const n=dd(Nl({eventBus:pd},t));e.provide(fd,n)},md=e=>{if(e)return dd(e);const t=Object(o["getCurrentInstance"])()?Object(o["inject"])(fd,void 0):void 0;return t||dd(pd)},vd=hd,gd={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},bd=function(){function e(){El(this,e),this.toast=md(),this.store=rt}return Rl(e,[{key:"showToast",value:function(e,t,n){this.toast=md(),this.toast.clear(),this.shouldShowError(e)&&this.showToaster(e,t,n)}},{key:"showToaster",value:function(e,t,n){switch(e){case gd.ERROR:this.toast.error(t,n);break;case gd.WARNING:this.toast.warning(t,n);break;case gd.INFO:this.toast.info(t,n);break;case gd.SUCCESS:this.toast.success(t,n);break;default:break}}},{key:"shouldShowError",value:function(e){var t,n=null===(t=this.store)||void 0===t||null===(t=t._state)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.Controls.hideToast;return!(n&&n.includes(e))}},{key:"clear",value:function(){this.toast=md(),this.toast.clear()}},{key:"updateDefaults",value:function(e){this.toast=md(),this.toast.updateDefaults(e)}}]),e}(),yd=bd,wd={name:"VideoPlayerMedia",data:function(){return{accountId:null,streamName:null,eventListeners:{reconnect:null,stats:null,broadcastEvent:null,toast:null}}},mounted:function(){var e=this;return u(c().mark((function t(){var n;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:n=document.getElementById(e.currentElementRef),sl({videoPlayer:n,srcObject:null,volume:1,muted:e.viewer.muted,autoplay:e.viewer.autoplay}),e.setMainSourceVideo(n);case 3:case"end":return t.stop()}}),t)})))()},computed:d(d(d(d(d(d(d({},Ve("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ve("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ve("Sources",{isAudioOnly:function(e){return e.isAudioOnly},stream:function(e){return e.stream},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioSources:function(e){return e.audioSources},videoSources:function(e){return e.videoSources},mainLabel:function(e){return e.mainLabel}})),Ve("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},playerMuted:function(e){return e.muted},isLive:function(e){return e.isLive},reconnection:function(e){return e.reconnection},reconnectionStatus:function(e){return e.reconnection.status},currentElementRef:function(e){return e.currentElementRef},isMigrating:function(e){return e.isMigrating},isSplittedView:function(e){return e.isSplittedView},previousSplitState:function(e){return e.previousSplitState},isGrid:function(e){return e.isGrid},fullscreen:function(e){return e.fullscreen}})),Ve("Params",{viewer:function(e){return e.viewer}})),Ae("Sources",["getVideoHasMain","getAudioHasMain"])),{},{displayAudioOnly:function(){return this.isAudioOnly&&this.isLive||null===this.viewer.placeholderImg&&!this.isLive}}),methods:d(d(d(d(d(d({},Pe("Sources",["addVideoSource","addAudioSource","setStream","setMainSourceVideo"])),Pe("Layers",["addLayers","selectQuality","deleteLayers"])),Pe("Controls",["setVideoMuted","setDropup","setTrackWarning","stopVideo","setAutoPlayMuted","userParamOptions","setIsSplittedView"])),Pe("ViewConnection",["setMillicastView"])),Me("Sources",["updateBroadcastState"])),{},{stop:function(){var e;null===(e=this.millicastView)||void 0===e||e.stop(),this.stopCurrentVideo()},stopCurrentVideo:function(){this.eventListeners.stats=null,this.stopVideo()}}),watch:{reconnectionStatus:function(e){var t,n=this;if(this.toast=new yd,this.toast.clear(),e){var r;this.setIsSplittedView(!1);var i,o="Connection lost. Retrying...";if(null!==(r=this.reconnection)&&void 0!==r&&r.timeout)t={timeout:null===(i=this.reconnection)||void 0===i?void 0:i.timeout};this.toast.showToast("warning",o,t)}else{var s=function e(t){["connected"].includes(t)&&(n.setIsSplittedView(n.previousSplitState),n.millicastView.removeListener("connectionStateChange",e),n.toast.clear())};this.millicastView.on("connectionStateChange",s)}},displayAudioOnly:function(){var e=u(c().mark((function e(){var t,n,r,i,s;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.video.srcObject,n=this.video.volume,r=this.video.muted,i=this.video.autoplay,e.next=6,Object(o["nextTick"])();case 6:s=document.getElementById(this.currentElementRef),sl({videoPlayer:s,srcObject:t,volume:n,muted:r,autoplay:i}),this.setMainSourceVideo(s);case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),viewer:function(){var e=this;return u(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,pl();case 2:return t.next=4,Object(o["nextTick"])();case 4:return dl(),t.prev=5,t.next=8,fl();case 8:setTimeout((function(){e.setAutoPlayMuted(!1)}),6e3),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](5),e.toast.showToast("error",t.t0.message);case 14:case"end":return t.stop()}}),t,null,[[5,11]])})))()}}},Sd=(n("7c34"),n("6b0d")),_d=n.n(Sd);const xd=_d()(wd,[["render",R],["__scopeId","data-v-2393125e"]]);var kd=xd,Od=["id","onClick"],Cd=["id"],Ed=["id"];function jd(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(e.isGrid?"sources":"list-side")},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.sourceRemoteTracks,(function(n,r){var a,c,l,u,d;return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:Object(o["normalizeClass"])(e.isGrid?"grid-item":"list-item"),style:"scroll-snap-align: end",key:"p"+r},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["videoText",e.isGrid?"videoGrid":""]),id:"videoText".concat(null===(a=n.transceiver)||void 0===a?void 0:a.mid),onClick:function(){var e;return i.enableClick&&s.switchProjection(null===(e=n.transceiver)||void 0===e?void 0:e.mid)},onDblclick:t[0]||(t[0]=function(){return e.toggleFullscreen&&e.toggleFullscreen.apply(e,arguments)})},[Object(o["createElementVNode"])("video",{id:"sidePlayer".concat(null===(c=n.transceiver)||void 0===c?void 0:c.mid),ref_for:!0,ref:"sidePlayer".concat(null===(l=n.transceiver)||void 0===l?void 0:l.mid),class:Object(o["normalizeClass"])(!e.isGrid&&e.isSplittedView?"hires-class":""),autoplay:"",muted:"",playsinline:""},null,10,Cd),e.viewer.showLabels?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,id:"sideLabel".concat(null===(u=n.transceiver)||void 0===u?void 0:u.mid),ref_for:!0,ref:"sideLabel".concat(null===(d=n.transceiver)||void 0===d?void 0:d.mid)},Object(o["toDisplayString"])(n.sourceId),9,Ed)):Object(o["createCommentVNode"])("",!0)],42,Od)],2)})),128))],2)}var Td={name:"VideoPlayerSideVideoSources",data:function(){return{indexSourceProjectedInMain:null,indexMainMediaSource:0,playerRef:null,enableClick:!0,toast:new yd,fullScreen:!1}},computed:d(d(d(d(d(d({},Ve("Sources",["sourceRemoteTracks","sourceSideTracks","videoSources","audioSources","transceiverSourceState","audioFollowsVideo","animate","trackMId","selectedVideoSource"])),Ve("Controls",{fullscreen:function(e){return e.fullscreen},isGrid:function(e){return e.isGrid},isSplittedView:function(e){return e.isSplittedView},currentElementRef:function(e){return e.currentElementRef}})),Ve("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ae("Sources",["getVideoHasMain","getSelectedVideoSource"])),Ve("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ve("Params",{viewer:function(e){return e.viewer}})),mounted:function(){var e=this;return u(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.sourceRemoteTracks.forEach(function(){var t=u(c().mark((function t(n){var r;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,xl({remoteTrack:n});case 2:r=n.transceiver.mid,e.setTrackMId({key:r,value:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),e.playerRef=document.getElementById("player");case 2:case"end":return t.stop()}}),t)})))()},unmounted:function(){var e=this;return u(c().mark((function t(){return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.videoSources.forEach((function(t){e.transceiverSourceState[t.mid]=t})),Ol();case 2:case"end":return t.stop()}}),t)})))()},watch:{"sourceRemoteTracks.length":{handler:function(){var e=u(c().mark((function e(t,n){var r,i,o;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t>n)){e.next=8;break}return r=t-1,e.next=4,xl({remoteTrack:this.sourceRemoteTracks[r]});case 4:i=this.sourceRemoteTracks[r].transceiver.mid,this.setTrackMId({key:i,value:i}),e.next=11;break;case 8:o=this.selectedVideoSource.mid,this.resetTrackMId(o),this.sourceSideTracks.forEach(function(){var e=u(c().mark((function e(t,n){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xl({remoteTrack:t,index:n});case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 11:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()}},methods:d(d(d(d(d({},Pe("Controls",["toggleFullscreen","setIsSplittedView"])),Pe("Sources",["setMainLabel","setPreviousMainLabel","replaceSourceRemoteTrack","setTrackMId","resetTrackMId"])),Pe("Layers",["setMainTransceiverMedias"])),Ae("Layers",["getActiveMedias","getActiveMainTransceiverMedias"])),{},{switchProjection:function(){var e=arguments,t=this;return u(c().mark((function n(){var r,i,s,a;return c().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r=e.length>0&&void 0!==e[0]?e[0]:0,n.next=3,Object(o["nextTick"])();case 3:if(i=t.trackMId[r],s=t.transceiverSourceState[i],s.mid=(null===s||void 0===s?void 0:s.mid)||0,t.isGrid?Jc(s):(t.enableClick=!1,t.playerRef=document.getElementById(t.currentElementRef),Qc(s),t.enableClick=!0),a=t.audioSources.find((function(e){return e.name===s.name})),!a||!t.audioFollowsVideo){n.next=17;break}return n.prev=9,n.next=12,_l({kind:"audio",source:a});case 12:n.next=17;break;case 14:n.prev=14,n.t0=n["catch"](9),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 17:case"end":return n.stop()}}),n,null,[[9,14]])})))()}})};n("37f8"),n("a5ba");const Id=_d()(Td,[["render",jd],["__scopeId","data-v-50622dde"]]);var Rd=Id,Vd={key:0,class:"align-middle"},Pd=["textContent"];function Ad(e,t,n,r,i,s){return e.isLoading?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("h4",Vd,[Object(o["createElementVNode"])("span",{class:Object(o["normalizeClass"])(["badge badge-secondary",{"badge-danger":e.isLive}]),textContent:Object(o["toDisplayString"])(s.text),style:{border:"0px"}},null,10,Pd)]))}var Md={name:"VideoPlayerControlsBadge",computed:d(d({},Ve("Controls",{isLive:function(e){return e.isLive},isLoading:function(e){return e.isLoading}})),{},{text:function(){return this.isLive?"LIVE":"NOT LIVE"}})};const Ld=_d()(Md,[["render",Ad]]);var Nd=Ld;function Dd(e,t,n,r,i,s){return e.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return n.click&&n.click.apply(n,arguments)})},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-fullscreen":!i.fullscreen,"ml-viewer-bi-fullscreen-exit":i.fullscreen}])},null,2),Object(o["createTextVNode"])(" Full Screen ")])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:1,class:Object(o["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-fullscreen":!i.fullscreen,"ml-viewer-bi-fullscreen-exit":i.fullscreen}]),onClick:t[1]||(t[1]=function(){return n.click&&n.click.apply(n,arguments)})},null,2))}var Bd={name:"VideoPlayerControlsFullscreen",props:{click:Function},data:function(){return{fullscreen:!1}},mounted:function(){var e,t=this;document.onfullscreenchange=function(){t.fullscreen=!!document.fullscreenElement};var n=null!==(e=document.getElementById("player"))&&void 0!==e?e:document.getElementById("player2");n.onwebkitfullscreenchange=function(){t.fullscreen=n.fullscreenElement},this.fullscreen=!!document.fullscreenElement||n.fullscreenElement},computed:d({},Ve("Controls",{isMobile:function(e){return e.isMobile}}))};const Fd=_d()(Bd,[["render",Dd]]);var Ud=Fd;function zd(e,t,n,r,i,s){return e.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2),Object(o["createTextVNode"])(" Miniplayer ")])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:1,class:"mobile-setting",onClick:t[1]||(t[1]=function(){return s.togglePip&&s.togglePip.apply(s,arguments)})},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-pip":!e.pip,"ml-viewer-bi-pip-fill":e.pip}])},null,2)]))}var Wd={name:"VideoPlayerControlsPip",computed:d({},Ve("Controls",{isMobile:function(e){return e.isMobile},pip:function(e){return e.pip},video:function(e){return e.video}})),methods:d(d({},Pe("Controls",["setPip"])),{},{togglePip:function(){var e=this;!this.pip&&this.video.srcObject&&"VIDEO"===this.video.nodeName?(this.video.requestPictureInPicture(),this.setPip(!0),this.video.addEventListener("leavepictureinpicture",(function(){e.setPip(!1),e.video.removeEventListener("leavepictureinpicture",(function(){}))}))):(document.exitPictureInPicture(),this.setPip(!1))}})};n("f63a");const Zd=_d()(Wd,[["render",zd],["__scopeId","data-v-631c1803"]]);var Gd=Zd;function $d(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{class:Object(o["normalizeClass"])(["h3 align-middle control-icon",{"ml-viewer-bi-play-fill":!e.playing,"ml-viewer-bi-pause-fill":e.playing}]),onClick:t[0]||(t[0]=function(){return s.togglePlay&&s.togglePlay.apply(s,arguments)})},null,2)}var Xd={name:"VideoPlayerControlsPlay",computed:d({},Ve("Controls",{video:function(e){return e.video},playing:function(e){return e.playing}})),methods:{togglePlay:function(){var e=u(c().mark((function e(){var t;return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.playing){e.next=5;break}return e.next=3,this.video.pause();case 3:e.next=10;break;case 5:if(null===(null===(t=this.video)||void 0===t?void 0:t.srcObject)){e.next=10;break}return e.next=8,fl();case 8:return e.next=10,this.video.play();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}};const Yd=_d()(Xd,[["render",$d]]);var Hd=Yd,Kd=function(e){return Object(o["pushScopeId"])("data-v-437a3ad6"),e=e(),Object(o["popScopeId"])(),e},Jd={class:"dropup"},Qd={key:0,class:"badge bg-light ms-2"},qd=Kd((function(){return Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-exclamation-circle-fill p-0"},null,-1)})),ef=[qd],tf={class:"dropdown-header d-flex m-0 col-12"},nf=Kd((function(){return Object(o["createElementVNode"])("h6",{class:"p-0 m-0"},"Settings",-1)})),rf={class:"p-0 ml-auto",style:{color:"#9e9e9e"}};function of(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("VideoPlayerControlsSettingsQuality"),c=Object(o["resolveComponent"])("VideoPlayerControlsSettingsLayout"),l=Object(o["resolveComponent"])("VideoPlayerControlsSettingsSplitView"),u=Object(o["resolveComponent"])("VideoPlayerControlsSettingsVideoTrack"),d=Object(o["resolveComponent"])("VideoPlayerControlsSettingsAudioTrack"),f=Object(o["resolveComponent"])("VideoPlayerControlsSettingsStats"),p=Object(o["resolveComponent"])("VideoPlayerControlsSettingsReportIssue"),h=Object(o["resolveComponent"])("VideoPlayerControlsSettingsDropdown");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[""!==e.dropup?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{key:0,to:"#viewer-container"},[Object(o["createElementVNode"])("div",{class:"backdrop",onClick:t[0]||(t[0]=function(t){return e.setDropup("")})})])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",Jd,[Object(o["createElementVNode"])("i",{class:"ml-viewer-bi-gear-fill h3 align-middle control-icon",onClick:t[1]||(t[1]=function(t){return e.setDropup("settings")})},[e.trackWarning?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Qd,ef)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",{ref:"settings",class:Object(o["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"settings"===e.dropup}]),style:{"margin-bottom":"0.9rem"}},[Object(o["createElementVNode"])("div",tf,[nf,Object(o["createElementVNode"])("div",rf,Object(o["toDisplayString"])(i.viewerVersion),1)]),e.getActiveMainTransceiverMedias.length>1?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0})):Object(o["createCommentVNode"])("",!0),e.getVideoSources.length>1&&e.isSplittedView?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1})):Object(o["createCommentVNode"])("",!0),e.getVideoSources.length>1?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:2})):Object(o["createCommentVNode"])("",!0),e.getVideoSources.length>1||!e.getVideoHasMain&&e.getVideoSources.length?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:3,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(o["createCommentVNode"])("",!0),e.getAudioSources.length>1||!e.getAudioHasMain&&e.getAudioSources.length?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:4,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["unsupportedFlagEmoji","sourceFlagEmojiToPng"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(f),Object(o["createVNode"])(p,{streamId:n.streamId},null,8,["streamId"])],2),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:i.showDropup}]),style:Object(o["normalizeStyle"])([{width:i.settingsWidth},{"margin-bottom":"0.9rem"}])},[Object(o["createVNode"])(h,{selected:i.selected,items:i.items,compare:i.compare,handleClick:i.handleClick,title:i.dropupTitle,unsupportedFlagEmoji:s.unsupportedFlagEmoji,sourceFlagEmojiToPng:s.sourceFlagEmojiToPng},null,8,["selected","items","compare","handleClick","title","unsupportedFlagEmoji","sourceFlagEmojiToPng"])],6)])],64)}function sf(e){if(Array.isArray(e))return Dt(e)}function af(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function cf(e){return sf(e)||Nt(e)||Bt(e)||af()}n("a15b"),n("f5b2");var lf=function(e){return Object(o["pushScopeId"])("data-v-7ef173a6"),e=e(),Object(o["popScopeId"])(),e},uf={class:"back-header mr-2"},df={class:"bi ml-viewer-bi-camera-video-fill"},ff={key:0,class:"badge bg-danger"},pf=["innerHTML"],hf={key:1},mf=lf((function(){return Object(o["createElementVNode"])("div",{class:"back-arrow"},[Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function vf(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("videoTracks")})},[Object(o["createElementVNode"])("span",uf,[Object(o["createElementVNode"])("i",df,["none"===this.selectedVideoSource.name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ff)):Object(o["createCommentVNode"])("",!0)]),Object(o["createTextVNode"])(" Video Source: ")]),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedVideoSource.name?"none":"",null===this.selectedVideoSource.sourceId?"main":""]])},[n.unsupportedFlagEmoji(this.selectedVideoSource.name)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,innerHTML:n.sourceFlagEmojiToPng(this.selectedVideoSource.name)},null,8,pf)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",hf,Object(o["toDisplayString"])(this.selectedVideoSource.name),1))],2),mf])}var gf={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:d({},Ve("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource}})),methods:d({},Pe("Controls",["setDropup"]))};n("d8d3");const bf=_d()(gf,[["render",vf],["__scopeId","data-v-7ef173a6"]]);var yf=bf,wf=function(e){return Object(o["pushScopeId"])("data-v-c75512c2"),e=e(),Object(o["popScopeId"])(),e},Sf={class:"back-header mr-2"},_f={class:"bi ml-viewer-bi-soundwave"},xf={key:0,class:"badge bg-danger"},kf=["innerHTML"],Of={key:1},Cf=wf((function(){return Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1)}));function Ef(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("audioTracks")})},[Object(o["createElementVNode"])("span",Sf,[Object(o["createElementVNode"])("i",_f,["none"===this.selectedAudioSource.name?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",xf)):Object(o["createCommentVNode"])("",!0)]),Object(o["createTextVNode"])(" Audio Source: ")]),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["dropdown-item-name mr-auto",["none"===this.selectedAudioSource.name?"none":"",null===this.selectedAudioSource.sourceId?"main":""]])},[n.unsupportedFlagEmoji(this.selectedAudioSource.name)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,innerHTML:n.sourceFlagEmojiToPng(this.selectedAudioSource.name)},null,8,kf)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Of,Object(o["toDisplayString"])(this.selectedAudioSource.name),1))],2),Cf])}var jf={name:"VideoPlayerControlsSettingsQuality",props:{unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:d({},Ve("Sources",{selectedAudioSource:function(e){return e.selectedAudioSource}})),methods:d({},Pe("Controls",["setDropup"]))};n("4cb6");const Tf=_d()(jf,[["render",Ef],["__scopeId","data-v-c75512c2"]]);var If=Tf,Rf=Object(o["createElementVNode"])("span",{class:"back-header mr-2"},[Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-sliders"}),Object(o["createTextVNode"])(" Video Quality: ")],-1),Vf={class:"dropdown-item-name mr-auto"},Pf=Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-right ml-auto py-0"})],-1);function Af(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"dropdown-item d-flex align-items-center pr-0 justify-content-between",onClick:t[0]||(t[0]=function(t){return e.setDropup("qualities")})},[Rf,Object(o["createElementVNode"])("div",Vf,Object(o["toDisplayString"])(this.selectedQuality.name),1),Pf])}var Mf={name:"VideoPlayerControlsSettingsQuality",computed:d({},Ve("Layers",{selectedQuality:function(e){return e.selectedQuality}})),methods:d({},Pe("Controls",["setDropup"]))};const Lf=_d()(Mf,[["render",Af]]);var Nf=Lf,Df=function(e){return Object(o["pushScopeId"])("data-v-00e40a59"),e=e(),Object(o["popScopeId"])(),e},Bf=Df((function(){return Object(o["createElementVNode"])("i",{class:"ml-viewer-bi-info-circle-fill align-middle control-icon"},null,-1)}));function Ff(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("VideoPlayerStatsTable");return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:Object(o["normalizeClass"])(["dropdown-item",{disabled:!e.isLive}]),onClick:t[0]||(t[0]=function(){return s.toggleStats&&s.toggleStats.apply(s,arguments)})},[Bf,Object(o["createTextVNode"])(" Media Stats "),i.showStats?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{key:0,to:"#vplayer"},[Object(o["createVNode"])(a,{close:s.toggleStats},null,8,["close"])])):Object(o["createCommentVNode"])("",!0)],2)}var Uf=function(e){return Object(o["pushScopeId"])("data-v-cd934d0c"),e=e(),Object(o["popScopeId"])(),e},zf={class:"table table-sm table-dark table-borderless fixed-top"},Wf={key:0,class:"d-flex align-items-center"},Zf=Uf((function(){return Object(o["createElementVNode"])("span",null,"Source:",-1)})),Gf=["value"],$f={colspan:"2",class:"text-right"},Xf=Uf((function(){return Object(o["createElementVNode"])("tr",{class:"row mx-0 text-left"},[Object(o["createElementVNode"])("th",{scope:"col",class:"col-6"},"Name"),Object(o["createElementVNode"])("th",{scope:"col",class:"col-6"},"Value")],-1)})),Yf={key:0,class:"row mx-0"},Hf=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Server Id",-1)})),Kf={class:"col-6"},Jf={key:1,class:"row mx-0"},Qf=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Stream View Id",-1)})),qf={class:"col-5 overflow-ellipsis"},ep={class:"col-1"},tp={key:2,class:"row mx-0"},np=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"RTT",-1)})),rp={class:"col-6"},ip={key:3,class:"row mx-0"},op=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Video Resolution",-1)})),sp={class:"col-6"},ap={key:4,class:"row mx-0"},cp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"FPS",-1)})),lp={class:"col-6"},up={key:5,class:"row mx-0"},dp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Video Bitrate",-1)})),fp={class:"col-6"},pp={key:6,class:"row mx-0"},hp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Audio Bitrate",-1)})),mp={class:"col-6"},vp={key:7,class:"row mx-0"},gp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Video Total Received",-1)})),bp={class:"col-6"},yp={key:8,class:"row mx-0"},wp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Audio Total Received",-1)})),Sp={class:"col-6"},_p={key:9,class:"row mx-0"},xp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Video Packet Loss",-1)})),kp={class:"col-6"},Op={key:10,class:"row mx-0"},Cp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Audio Packet Loss",-1)})),Ep={class:"col-6"},jp={key:11,class:"row mx-0"},Tp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Video Jitter",-1)})),Ip={class:"col-6"},Rp={key:12,class:"row mx-0"},Vp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Audio Jitter",-1)})),Pp={class:"col-6"},Ap={key:13,class:"row mx-0"},Mp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Capture timestamp",-1)})),Lp=["textContent"],Np={key:14,class:"row mx-0"},Dp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Capture delta time",-1)})),Bp=["textContent"],Fp={key:15,class:"row mx-0"},Up=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6"},"Codecs",-1)})),zp=["textContent"],Wp={key:16,class:"row mx-0"},Zp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6 text-break"},"Timestamp",-1)})),Gp=["textContent"],$p={key:17,class:"row mx-0"},Xp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6 text-break"},"Server",-1)})),Yp=["textContent"],Hp={key:18,class:"row mx-0"},Kp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-6 text-break"},"Cluster",-1)})),Jp=["textContent"],Qp={key:19,class:"row mx-0"},qp=Uf((function(){return Object(o["createElementVNode"])("td",{class:"col-12 center"},null,-1)})),eh=[qp],th={key:20,class:"row mx-0"},nh={class:"col-12",align:"center"};function rh(e,t,n,r,i,s){var a,c,l,u,d,f,p,h,m,v,g,b,y;return Object(o["openBlock"])(),Object(o["createElementBlock"])("table",zf,[Object(o["createElementVNode"])("thead",null,[Object(o["createElementVNode"])("tr",{class:Object(o["normalizeClass"])(["row mx-0 align-items-center",s.multiviewStatsAvailable?"justify-content-between":"justify-content-end"])},[s.multiviewStatsAvailable?(Object(o["openBlock"])(),Object(o["createElementBlock"])("th",Wf,[Zf,Object(o["withDirectives"])(Object(o["createElementVNode"])("select",{class:"ml-2 source-select","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.selectedSourceMid=e}),onChange:t[1]||(t[1]=function(){return s.handleSourceChange&&s.handleSourceChange.apply(s,arguments)})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(e.getTransceiverSourceState,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e.sourceId,value:e.mid},Object(o["toDisplayString"])(e.name),9,Gf)})),128))],544),[[o["vModelSelect"],i.selectedSourceMid]])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("th",$f,[Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-x-lg",onClick:t[2]||(t[2]=function(){return n.close&&n.close.apply(n,arguments)})})])],2),Xf]),s.hasStats?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tbody",{key:0,style:Object(o["normalizeStyle"])([e.isMobile?"overflow-x: auto;":"overflow-x: hidden;"]),class:"text-left videoStats"},[null!==(a=e.millicastView)&&void 0!==a&&null!==(a=a.signaling)&&void 0!==a&&a.subscriberId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Yf,[Hf,Object(o["createElementVNode"])("td",Kf,Object(o["toDisplayString"])(e.millicastView.signaling.subscriberId),1)])):Object(o["createCommentVNode"])("",!0),null!==(c=e.millicastView)&&void 0!==c&&null!==(c=c.signaling)&&void 0!==c&&c.streamViewId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Jf,[Qf,Object(o["createElementVNode"])("td",qf,Object(o["toDisplayString"])(e.millicastView.signaling.streamViewId),1),Object(o["createElementVNode"])("td",ep,[Object(o["createElementVNode"])("i",{class:"ml-viewer-bi-copy",onClick:t[3]||(t[3]=function(t){return s.copyText(e.millicastView.signaling.streamViewId)})})])])):Object(o["createCommentVNode"])("",!0),i.stats.currentRoundTripTime?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",tp,[np,Object(o["createElementVNode"])("td",rp,Object(o["toDisplayString"])(s.formatMilliseconds(i.stats.currentRoundTripTime)),1)])):Object(o["createCommentVNode"])("",!0),null!==(l=s.video)&&void 0!==l&&l.frameWidth&&null!==(u=s.video)&&void 0!==u&&u.frameHeight?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",ip,[op,Object(o["createElementVNode"])("td",sp,Object(o["toDisplayString"])("".concat(s.video.frameWidth,"x").concat(s.video.frameHeight)),1)])):Object(o["createCommentVNode"])("",!0),null!==(d=s.video)&&void 0!==d&&d.framesPerSecond?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",ap,[cp,Object(o["createElementVNode"])("td",lp,Object(o["toDisplayString"])(s.video.framesPerSecond),1)])):Object(o["createCommentVNode"])("",!0),null!==(f=s.video)&&void 0!==f&&f.bitrate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",up,[dp,Object(o["createElementVNode"])("td",fp,Object(o["toDisplayString"])(s.formatBitrate(s.video.bitrateBitsPerSecond)),1)])):Object(o["createCommentVNode"])("",!0),null!==(p=s.audio)&&void 0!==p&&p.bitrate?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",pp,[hp,Object(o["createElementVNode"])("td",mp,Object(o["toDisplayString"])(s.formatBitrate(s.audio.bitrateBitsPerSecond)),1)])):Object(o["createCommentVNode"])("",!0),null!==(h=s.video)&&void 0!==h&&h.totalBytesReceived?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",vp,[gp,Object(o["createElementVNode"])("td",bp,Object(o["toDisplayString"])(s.formatTotalBytes(s.video.totalBytesReceived)),1)])):Object(o["createCommentVNode"])("",!0),null!==(m=s.audio)&&void 0!==m&&m.totalBytesReceived?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",yp,[wp,Object(o["createElementVNode"])("td",Sp,Object(o["toDisplayString"])(s.formatTotalBytes(s.audio.totalBytesReceived)),1)])):Object(o["createCommentVNode"])("",!0),void 0!==(null===(v=s.video)||void 0===v?void 0:v.totalPacketsLost)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",_p,[xp,Object(o["createElementVNode"])("td",kp,Object(o["toDisplayString"])(s.video.totalPacketsLost),1)])):Object(o["createCommentVNode"])("",!0),void 0!==(null===(g=s.audio)||void 0===g?void 0:g.totalPacketsLost)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Op,[Cp,Object(o["createElementVNode"])("td",Ep,Object(o["toDisplayString"])(s.audio.totalPacketsLost),1)])):Object(o["createCommentVNode"])("",!0),void 0!==(null===(b=s.video)||void 0===b?void 0:b.jitter)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",jp,[Tp,Object(o["createElementVNode"])("td",Ip,Object(o["toDisplayString"])(s.formatMilliseconds(s.video.jitter)),1)])):Object(o["createCommentVNode"])("",!0),void 0!==(null===(y=s.audio)||void 0===y?void 0:y.jitter)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Rp,[Vp,Object(o["createElementVNode"])("td",Pp,Object(o["toDisplayString"])(s.formatMilliseconds(s.audio.jitter)),1)])):Object(o["createCommentVNode"])("",!0),s.videoCaptureTimestamp?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Ap,[Mp,Object(o["createElementVNode"])("td",{textContent:Object(o["toDisplayString"])(s.videoCaptureTimestamp),class:"col-6"},null,8,Lp)])):Object(o["createCommentVNode"])("",!0),s.videoCaptureDelta?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Np,[Dp,Object(o["createElementVNode"])("td",{textContent:Object(o["toDisplayString"])(s.videoCaptureDelta),class:"col-6"},null,8,Bp)])):Object(o["createCommentVNode"])("",!0),s.codecs?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Fp,[Up,Object(o["createElementVNode"])("td",{textContent:Object(o["toDisplayString"])(s.codecs),class:"col-6 text-break"},null,8,zp)])):Object(o["createCommentVNode"])("",!0),s.timestamp?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Wp,[Zp,Object(o["createElementVNode"])("td",{textContent:Object(o["toDisplayString"])(s.timestamp),class:"col-6"},null,8,Gp)])):Object(o["createCommentVNode"])("",!0),s.serverId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",$p,[Xp,Object(o["createElementVNode"])("td",{textContent:Object(o["toDisplayString"])(s.serverId),class:"col-6"},null,8,Yp)])):Object(o["createCommentVNode"])("",!0),s.clusterId?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Hp,[Kp,Object(o["createElementVNode"])("td",{textContent:Object(o["toDisplayString"])(s.clusterId),class:"col-6"},null,8,Jp)])):Object(o["createCommentVNode"])("",!0),e.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",Qp,eh)):Object(o["createCommentVNode"])("",!0),e.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",th,[Object(o["createElementVNode"])("td",nh,[Object(o["createElementVNode"])("a",{onClick:t[4]||(t[4]=function(){return n.close&&n.close.apply(n,arguments)}),style:{cursor:"pointer"}},"Close stats")])])):Object(o["createCommentVNode"])("",!0)],4)):Object(o["createCommentVNode"])("",!0)])}n("accc"),n("b680");var ih=["B","KB","MB","GB","TB"],oh={name:"VideoPlayerStatsTable",props:{close:Function},data:function(){return{stats:{},statsIndex:0,selectedSourceMid:null,trackIdToStatsIndexMap:{},trackIdMidMap:{}}},mounted:function(){var e,t,n,r=this;this.millicastView.webRTCPeer.initStats(),this.millicastView.webRTCPeer.on("stats",(function(e){var t,n,i,o,s;r.trackIdMidMap=r.getTrackIdMidMap,null===(t=e.video)||void 0===t||null===(t=t.inbounds)||void 0===t||t.forEach((function(e,t){e.trackIdentifier&&(r.trackIdToStatsIndexMap[e.trackIdentifier]=t)})),null===(n=window.peer)||void 0===n||null===(i=n.getReceivers)||void 0===i||null===(o=(s=i.call(n)).forEach)||void 0===o||o.call(s,(function(e){r.stats.videoSynchronizationSources="video"===e.track.kind?e.getSynchronizationSources():r.stats.videoSynchronizationSources})),r.stats=d(d({},r.stats),e)})),this.selectedSourceMid=null!==(e=null===(t=this.getTransceiverSourceState[0])||void 0===t?void 0:t.mid)&&void 0!==e?e:null===(n=Object.values(this.getTransceiverSourceState)[0])||void 0===n?void 0:n.mid},beforeUnmount:function(){this.millicastView.webRTCPeer.stopStats(),this.millicastView.webRTCPeer.removeAllListeners("stats")},methods:{closeTable:function(){this.close()},copyText:function(e){navigator.clipboard.writeText(e)},formatTotalBytes:function(e){return sh(e)},formatBitrate:function(e){return Kt(e)},formatMilliseconds:function(e){return"".concat(+(1e3*(e||0)).toFixed(2)," ms")},handleSourceChange:function(){var e,t=null!==(e=this.selectedSourceMid)&&void 0!==e?e:0,n=this.trackIdMidMap[t];this.statsIndex=this.trackIdToStatsIndexMap[n]},selectMidZero:function(){var e,t,n;this.selectedSourceMid=null!==(e=null===(t=this.getTransceiverSourceState[0])||void 0===t?void 0:t.mid)&&void 0!==e?e:null===(n=Object.values(this.getTransceiverSourceState)[0])||void 0===n?void 0:n.mid}},computed:d(d(d(d(d({},Ve("Controls",["isMobile","isSplittedView"])),Ve("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ve("Sources",["sourceRemoteTracks","videoSources"])),Ae("Sources",["getTransceiverSourceState","getTrackIdMidMap"])),{},{hasStats:function(){return Object.keys(this.stats).length>0},audio:function(){var e,t=null===(e=this.stats.audio)||void 0===e?void 0:e.inbounds;return(null===t||void 0===t?void 0:t.length)>0?t[0]:null},video:function(){var e,t=null===(e=this.stats.video)||void 0===e?void 0:e.inbounds,n=null===t||void 0===t?void 0:t.length;if(n){if(!this.selectedSourceMid)return t[0];var r=this.trackIdMidMap[this.selectedSourceMid],i=this.trackIdToStatsIndexMap[r];return t[i]}return null},codecs:function(){var e,t,n=[];return null!==(e=this.video)&&void 0!==e&&e.mimeType&&n.push(this.video.mimeType),null!==(t=this.audio)&&void 0!==t&&t.mimeType&&n.push(this.audio.mimeType),n.join()},timestamp:function(){var e,t,n,r=null!==(e=null===(t=this.video)||void 0===t?void 0:t.timestamp)&&void 0!==e?e:null===(n=this.audio)||void 0===n?void 0:n.timestamp;return r?new Date(r).toISOString():null},videoCaptureTimestamp:function(){var e,t,n;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.captureTimestamp&&null!==(t=this.stats.videoSynchronizationSources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.timestamp){var r=ah(this.stats.videoSynchronizationSources[0].captureTimestamp);n=new Date(r).toISOString()}return n},videoCaptureDelta:function(){var e,t,n;if(null!==(e=this.stats.videoSynchronizationSources)&&void 0!==e&&null!==(e=e[0])&&void 0!==e&&e.captureTimestamp&&null!==(t=this.stats.videoSynchronizationSources)&&void 0!==t&&null!==(t=t[0])&&void 0!==t&&t.timestamp){var r,i=ah(this.stats.videoSynchronizationSources[0].captureTimestamp);n=(null===(r=this.stats.videoSynchronizationSources)||void 0===r?void 0:r[0].timestamp)-i,n="".concat(n," ms")}return n},serverId:function(){var e;return null===(e=this.millicastView)||void 0===e||null===(e=e.signaling)||void 0===e?void 0:e.serverId},clusterId:function(){var e;return null===(e=this.millicastView)||void 0===e||null===(e=e.signaling)||void 0===e?void 0:e.clusterId},multiviewStatsAvailable:function(){var e=this.videoSources.length>1&&this.isSplittedView&&Object.keys(this.trackIdToStatsIndexMap).length;return e||this.selectMidZero(),e}})},sh=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=t/1024;return r<1||r>1&&n+1>ih.length?"".concat(Math.round(100*t)/100," ").concat(ih[n]):r>1?e(r,n+1):void 0},ah=function(e){return e-22089888e5};n("5333");const ch=_d()(oh,[["render",rh],["__scopeId","data-v-cd934d0c"]]);var lh=ch,uh={name:"VideoPlayerControlsSettingsStats",components:{VideoPlayerStatsTable:lh},data:function(){return{stats:{},showStats:!1}},computed:d({},Ve("Controls",["isLive"])),methods:d(d({},Pe("Controls",["setDropup"])),{},{toggleStats:function(){this.showStats=!this.showStats,this.setDropup()}})};n("778f");const dh=_d()(uh,[["render",Ff],["__scopeId","data-v-00e40a59"]]);var fh=dh,ph=Object(o["createElementVNode"])("i",{class:"ml-viewer-bi-flag-fill align-middle control-icon"},null,-1);function hh(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("VideoPlayerReportModal");return i.showReportButton?(Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:0,class:"dropdown-item",onClick:t[0]||(t[0]=function(){return s.toggleReport&&s.toggleReport.apply(s,arguments)})},[ph,Object(o["createTextVNode"])(" Report Playback Issue "),i.showReportModal?(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{key:0,to:"#vplayer"},[Object(o["createVNode"])(a,{streamId:n.streamId,close:s.toggleReport},null,8,["streamId","close"])])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0)}var mh=function(e){return Object(o["pushScopeId"])("data-v-9b9b9a64"),e=e(),Object(o["popScopeId"])(),e},vh={class:"header"},gh=mh((function(){return Object(o["createElementVNode"])("span",{class:"ml-viewer-bi-flag-fill align-middle"},null,-1)})),bh=["textContent"],yh={class:"form-group"},wh=mh((function(){return Object(o["createElementVNode"])("label",{for:"name-input"},"Name",-1)})),Sh={class:"form-group"},_h=mh((function(){return Object(o["createElementVNode"])("label",{for:"email-input"},"Email",-1)})),xh={class:"form-group"},kh=mh((function(){return Object(o["createElementVNode"])("label",{for:"description-input"},"Description",-1)}));function Oh(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("base-button"),c=Object(o["resolveComponent"])("base-modal");return Object(o["openBlock"])(),Object(o["createBlock"])(c,{toggle:n.close},{"modal-header":Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",vh,[gh,Object(o["createElementVNode"])("h3",{textContent:Object(o["toDisplayString"])(i.title)},null,8,bh)])]})),"modal-body":Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("form",{id:"reportForm",onSubmit:t[3]||(t[3]=Object(o["withModifiers"])((function(){return s.sendReport&&s.sendReport.apply(s,arguments)}),["prevent"]))},[Object(o["createElementVNode"])("div",yh,[wh,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"text",class:"form-control",id:"name-input",placeholder:"Full name","onUpdate:modelValue":t[0]||(t[0]=function(e){return i.report.name=e}),required:""},null,512),[[o["vModelText"],i.report.name]])]),Object(o["createElementVNode"])("div",Sh,[_h,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"email",class:"form-control",id:"email-input",placeholder:"name@example.com","onUpdate:modelValue":t[1]||(t[1]=function(e){return i.report.email=e}),required:""},null,512),[[o["vModelText"],i.report.email]])]),Object(o["createElementVNode"])("div",xh,[kh,Object(o["withDirectives"])(Object(o["createElementVNode"])("textarea",{class:"form-control",id:"description-input",rows:"4","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.report.description=e}),required:""},null,512),[[o["vModelText"],i.report.description]])])],32)]})),"modal-footer":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(a,{btype:"btn-secondary",onClick:n.close},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("Cancel")]})),_:1},8,["onClick"]),Object(o["createVNode"])(a,{type:"submit",btype:"btn-p",form:"reportForm",disabled:i.isLoading},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("Submit")]})),_:1},8,["disabled"])]})),_:1},8,["toggle"])}n("e9c4");var Ch={name:"VideoPlayerReportModal",props:{close:Function,streamId:String},data:function(){return{title:"Report playback issue",report:{from:"Viewer",name:"",email:"",description:"",diagnostics:{},url:""},toast:new yd,isLoading:!1}},methods:{sendReport:function(){var e=this;return u(c().mark((function t(){var n,r,i,o,s,a,l;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isLoading){t.next=2;break}return t.abrupt("return");case 2:return e.report.diagnostics=V["Logger"].diagnose(),t.prev=3,e.isLoading=!0,s={"Content-Type":"application/json"},e.report.diagnostics.serverId=null!==(n=null===(r=e.report.diagnostics)||void 0===r?void 0:r.subscriberId)&&void 0!==n?n:"NOT_CONNECTED",e.report.diagnostics.clusterId=null!==(i=null===(o=e.report.diagnostics)||void 0===o?void 0:o.clusterId)&&void 0!==i?i:"NOT_CONNECTED",t.next=10,fetch(e.reportUrl+"/reports",{method:"POST",headers:s,body:JSON.stringify(e.report)});case 10:e.toast.showToast("success","Report sent successfully",{timeout:3e3}),t.next=18;break;case 13:t.prev=13,t.t0=t["catch"](3),l="Error: couldn't send report",null!==(a=t.t0.response)&&void 0!==a&&a.data&&(l+=", "+t.t0.response.data),e.toast.showToast("error",l,{timeout:3e3});case 18:return t.prev=18,e.isLoading=!1,e.close(),t.finish(18);case 22:case"end":return t.stop()}}),t,null,[[3,13,18,22]])})))()}},computed:d(d({},Ve("ViewConnection",{millicastView:function(e){return e.millicastView}})),Ve("Params",{reportUrl:function(e){return e.environment.VUE_APP_REPORT_URL}})),mounted:function(){this.report.url=window.location.href}};n("455f");const Eh=_d()(Ch,[["render",Oh],["__scopeId","data-v-9b9b9a64"]]);var jh=Eh,Th={name:"VideoPlayerControlsSettingsReportIssue",components:{VideoPlayerReportModal:jh},props:{streamId:String},data:function(){return{showReportModal:!1,showReportButton:!1}},methods:d(d({},Pe("Controls",["setDropup"])),{},{toggleReport:function(){this.showReportModal=!this.showReportModal,this.setDropup("")}}),computed:d({},Ve("Params",{reportUrl:function(e){return this.showReportButton=!!e.environment.VUE_APP_REPORT_URL,e.environment.VUE_APP_REPORT_URL}})),watch:{reportUrl:function(e){this.showReportButton=!!e}}};const Ih=_d()(Th,[["render",hh]]);var Rh=Ih,Vh=function(e){return Object(o["pushScopeId"])("data-v-491ccd6e"),e=e(),Object(o["popScopeId"])(),e},Ph=Vh((function(){return Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-chevron-left p-0"},null,-1)})),Ah=["onClick"],Mh={class:"form-check p-0"},Lh={class:"row"},Nh={class:"col-1 mr-1"},Dh={class:"bi ml-viewer-bi-check p-0"},Bh=["innerHTML"],Fh={key:1};function Uh(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("h6",{class:"dropdown-header back-header",onClick:t[0]||(t[0]=function(t){return e.setDropup("settings")})},[Ph,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(n.title),1)]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(n.items,(function(e){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{key:e.selectId,class:Object(o["normalizeClass"])([{disabled:e.disabled},"dropdown-item"]),onClick:function(t){return s.handleSelect(e)}},[Object(o["createElementVNode"])("div",Mh,[Object(o["createElementVNode"])("div",Lh,[Object(o["createElementVNode"])("div",Nh,[Object(o["withDirectives"])(Object(o["createElementVNode"])("i",Dh,null,512),[[o["vShow"],n.compare(n.selected,e)]])]),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["item-name",[null===(null===e||void 0===e?void 0:e.sourceId)?"main":""]])},[null!==e&&void 0!==e&&e.name&&n.unsupportedFlagEmoji(null===e||void 0===e?void 0:e.name)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,innerHTML:n.sourceFlagEmojiToPng(null===e||void 0===e?void 0:e.name)},null,8,Bh)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Fh,Object(o["toDisplayString"])(null===e||void 0===e?void 0:e.name),1))],2)])])],10,Ah)})),128))],64)}var zh={name:"VideoPlayerControlsSettingsDropdown",components:{},props:{title:String,handleClick:Function,selected:Object,items:Array,compare:Function,unsupportedFlagEmoji:Function,sourceFlagEmojiToPng:Function},computed:{},methods:d(d({},Pe("Controls",["setDropup"])),{},{handleSelect:function(e){this.handleClick(e),this.setDropup("")}})};n("7442");const Wh=_d()(zh,[["render",Uh],["__scopeId","data-v-491ccd6e"]]);var Zh=Wh,Gh=Object(o["createElementVNode"])("i",{class:"ml-viewer-bi-layout-sidebar-inset-reverse align-middle control-icon"},null,-1);function $h(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(t){return e.setIsSplittedView(!e.isSplittedView)})},[Gh,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(e.isSplittedView?"Hide":"Show")+" Multi View ",1)])}var Xh={name:"VideoPlayerControlsSettingsSplitView",computed:d({},Ve("Controls",["isSplittedView"])),methods:d({},Pe("Controls",["setIsSplittedView"]))};const Yh=_d()(Xh,[["render",$h]]);var Hh=Yh;function Kh(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("a",{class:"dropdown-item",onClick:t[0]||(t[0]=function(e){return s.changeView()})},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])([e.isGrid?"bi ml-viewer-bi-grid":"bi ml-viewer-bi-grid-1x2","align-middle control-icon"])},null,2),Object(o["createTextVNode"])(" Change layout ")])}var Jh={name:"VideoPlayerControlsSettingsLayout",computed:d(d({},Ve("Controls",["isGrid"])),Ve("Sources",["transceiverSourceState","trackMId"])),methods:d(d({},Pe("Controls",["setIsGrid"])),{},{changeView:function(){var e=this.isGrid?{maxHeight:100}:void 0;for(var t in this.trackMId)if(t>0){var n=this.transceiverSourceState[this.trackMId[t]];kl(n.sourceId,n.mid,n.trackId,e,this.isGrid)}this.setIsGrid(!this.isGrid)}})};const Qh=_d()(Jh,[["render",Kh]]);var qh=Qh,em=n("9224"),tm={name:"VideoPlayerControlsSettings",components:{VideoPlayerControlsSettingsVideoTrack:yf,VideoPlayerControlsSettingsAudioTrack:If,VideoPlayerControlsSettingsQuality:Nf,VideoPlayerControlsSettingsStats:fh,VideoPlayerControlsSettingsReportIssue:Rh,VideoPlayerControlsSettingsDropdown:Zh,VideoPlayerControlsSettingsSplitView:Hh,VideoPlayerControlsSettingsLayout:qh},props:{streamId:String},data:function(){return{viewerVersion:"",showDropup:!1,settingsWidth:"0px",selected:{},items:[],dropupTitle:"",handleClick:function(){},compare:function(){},audioFollowVideoData:{mid:null,name:"AudioFollowVideo",sourceId:"AudioFollowVideo",trackId:null},toast:null,sourcesFullscreen:!1}},computed:d(d(d(d(d({},Ae("Layers",["getActiveMainTransceiverMedias","getActiveMedias"])),Ae("Sources",["getVideoSources","getAudioSources","getVideoHasMain","getAudioHasMain"])),Ve("Layers",{selectedQuality:function(e){return e.selectedQuality}})),Ve("Sources",{selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},audioFollowsVideo:function(e){return e.audioFollowsVideo},trackMId:function(e){return e.trackMId}})),Ve("Controls",{dropup:function(e){return e.dropup},trackWarning:function(e){return e.trackWarning},isSplittedView:function(e){return e.isSplittedView},isGrid:function(e){return e.isGrid}})),methods:d(d(d(d({},Pe("Controls",["setDropup","toggleFullscreen"])),Pe("Sources",["setMainLabel","setAudioFollowsVideo","setTrackMId"])),Pe("Layers",["setMainTransceiverMedias"])),{},{compareItems:function(e,t){return(null===e||void 0===e?void 0:e.name)===(null===t||void 0===t?void 0:t.name)&&((null===e||void 0===e?void 0:e.id)===(null===t||void 0===t?void 0:t.id)||"Auto"===(null===t||void 0===t?void 0:t.name))},compareSources:function(e,t){return(null===e||void 0===e?void 0:e.sourceId)===(null===t||void 0===t?void 0:t.sourceId)},setDropupSettings:function(e,t,n,r,i){this.selected=e,this.items=t,this.dropupTitle=n,this.handleClick=r,this.compare=i},unsupportedFlagEmoji:function(e){var t,n=navigator.userAgent,r=-1!==n.indexOf("Chrome"),i=null!==e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return!!r&&(t="Windows"==navigator.userAgentData.platform,i&&t)},sourceFlagEmojiToPng:function(e){var t=e.match(/[\uD83C][\uDDE6-\uDDFF][\uD83C][\uDDE6-\uDDFF]/g);return t.forEach((function(t){var n=Array.from(t,(function(e){return e.codePointAt()})).map((function(e){return String.fromCharCode(e-127397).toLowerCase()})).join("");e=e.replace(t," <img src='https://flagcdn.com/20x15/".concat(n,'.png\' alt="FlagEmoji"}>'))})),e}}),mounted:function(){this.viewerVersion=em["a"]?"v"+em["a"]:"",this.toast=new yd},watch:{dropup:function(e){var t=this;if("videoTracks"===e||"audioTracks"===e||"qualities"===e){switch(this.settingsWidth=this.$refs.settings.clientWidth+"px",e){case"videoTracks":var n=function(){var e=u(c().mark((function e(n){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Qc(n);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e["catch"](0),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}();this.setDropupSettings(this.selectedVideoSource,this.getVideoSources,"Video Source",n,this.compareSources);break;case"audioTracks":var r=function(){var e=u(c().mark((function e(n){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("AudioFollowVideo"!==n.name){e.next=4;break}t.setAudioFollowsVideo(!0),e.next=13;break;case 4:return t.setAudioFollowsVideo(!1),e.prev=5,e.next=8,_l({kind:"audio",source:n});case 8:e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](5),t.toast.showToast("error","There was an error selecting the desired source, try again",{timeout:5e3});case 13:case"end":return e.stop()}}),e,null,[[5,10]])})));return function(t){return e.apply(this,arguments)}}(),i=function(){return[t.audioFollowVideoData].concat(cf(t.getAudioSources))},o=function(){return t.audioFollowsVideo?t.audioFollowVideoData:t.selectedAudioSource};this.setDropupSettings(o(),i(),"Audio Source",r,this.compareSources);break;case"qualities":var s=function(e){Sl(e)};this.setDropupSettings(this.selectedQuality,this.getActiveMainTransceiverMedias,"Video Quality",s,this.compareItems);break}this.showDropup=!0}else this.showDropup=!1},getActiveMainTransceiverMedias:function(){"qualities"===this.dropup&&(this.items=this.getActiveMainTransceiverMedias)},getVideoSources:function(){"videoTracks"===this.dropup&&(this.items=this.getActiveMainTransceiverMedias)},getAudioSources:function(){"audioTracks"===this.dropup&&(this.items=this.getAudioSources)}}};n("6adf");const nm=_d()(tm,[["render",of],["__scopeId","data-v-437a3ad6"]]);var rm=nm,im=function(e){return Object(o["pushScopeId"])("data-v-48f1b614"),e=e(),Object(o["popScopeId"])(),e},om={key:0,class:"align-middle"},sm={class:"badge",style:{border:"0px"}},am=im((function(){return Object(o["createElementVNode"])("i",{class:"bi ml-viewer-bi-person-fill"},null,-1)}));function cm(e,t,n,r,i,s){return s.count?(Object(o["openBlock"])(),Object(o["createElementBlock"])("h4",om,[Object(o["createElementVNode"])("span",sm,[am,Object(o["createTextVNode"])(" "+Object(o["toDisplayString"])(s.count),1)])])):Object(o["createCommentVNode"])("",!0)}var lm={name:"VideoPlayerControlsUserCount",computed:d(d({},Ve("Controls",["viewerCount"])),{},{count:function(){var e;return null===(e=this.viewerCount)||void 0===e?void 0:e.toLocaleString("en")}})};n("c03e");const um=_d()(lm,[["render",cm],["__scopeId","data-v-48f1b614"]]);var dm=um,fm={class:"d-inline"};function pm(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("span",fm,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["h3 align-middle control-icon",s.volumeIcon]),onClick:t[0]||(t[0]=function(){return s.toggleMuted&&s.toggleMuted.apply(s,arguments)}),onMousemove:t[1]||(t[1]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"range",class:Object(o["normalizeClass"])(["align-middle mr-2 slider",{show:i.showVolume,volumeMobile:!0}]),id:"volumeSlider",min:"0",max:"1",step:".01","onUpdate:modelValue":t[2]||(t[2]=function(e){return i.volume=e}),onMousemove:t[3]||(t[3]=function(){return s.toggleVolumeSlider&&s.toggleVolumeSlider.apply(s,arguments)})},null,34),[[o["vModelText"],i.volume]])])}var hm={name:"VideoPlayerControlsVolume",data:function(){return{volume:1,showVolume:!1}},watch:{volume:function(e){0!==this.volume||this.muted?this.muted&&this.toggleMuted():this.toggleMuted(),this.mainSourceVideo.volume=e,this.setVideoVolume(e)}},computed:d(d(d({},Ve("Controls",{muted:function(e){return e.muted}})),Ve("Sources",{mainSourceVideo:function(e){return e.mainSourceVideo}})),{},{volumeIcon:function(){return this.muted||0===this.volume?"ml-viewer-bi-volume-mute-fill":this.volume<.1?"ml-viewer-bi-volume-off-fill":this.volume<.5?"ml-viewer-bi-volume-down-fill":"ml-viewer-bi-volume-up-fill"}}),methods:d(d({},Pe("Controls",["setVideoMuted","setVideoVolume"])),{},{toggleVolumeSlider:function(){var e=this;this.showVolumeTimeout&&clearTimeout(this.showVolumeTimeout),this.showVolume=!0,this.showVolumeTimeout=setTimeout((function(){e.showVolume=!1}),4e3)},toggleMuted:function(){this.mainSourceVideo.muted=!this.muted,this.setVideoMuted(!this.muted)}})};n("228e");const mm=_d()(hm,[["render",pm],["__scopeId","data-v-3d555b53"]]);var vm=mm,gm=function(e){return Object(o["pushScopeId"])("data-v-6e3117e0"),e=e(),Object(o["popScopeId"])(),e},bm={class:"row"},ym={key:0},wm=["textContent"],Sm={key:0,class:"col-6 text-right"},_m={key:1,class:"col-5 pl-0 pr-1 text-right"},xm={key:1,class:"dropup"},km=gm((function(){return Object(o["createElementVNode"])("div",{class:"dropdown-header d-flex m-0 col-12"},[Object(o["createElementVNode"])("h6",{class:"p-0 m-0"},"Options")],-1)}));function Om(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("VideoPlayerControlsPlay"),c=Object(o["resolveComponent"])("VideoPlayerControlsVolume"),l=Object(o["resolveComponent"])("VideoPlayerControlsSettings"),u=Object(o["resolveComponent"])("VideoPlayerControlsCast"),d=Object(o["resolveComponent"])("VideoPlayerControlsPip"),f=Object(o["resolveComponent"])("VideoPlayerControlsFullscreen");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",bm,[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])([e.isMobile?"col-7 text-left pr-0":"col-6 text-left"])},[n.isConnected?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",ym,[n.showButton("play")?(Object(o["openBlock"])(),Object(o["createBlock"])(a,{key:0})):Object(o["createCommentVNode"])("",!0),n.showButton("volume")?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1})):Object(o["createCommentVNode"])("",!0),e.isMobile?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:2,class:"h5 align-middle p-2",textContent:Object(o["toDisplayString"])(n.currentTime)},null,8,wm))]))],2),e.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_m,[n.showButton("settings")?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,streamId:n.streamId},null,8,["streamId"])):Object(o["createCommentVNode"])("",!0),n.showButton("cast")&&e.castAvailable||e.isLive&&s.pipEnabled&&n.showButton("pip")&&s.isVideoTag||n.showButton("fullscreen")?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",xm,[Object(o["createElementVNode"])("i",{class:"h3 align-middle control-icon bi ml-viewer-bi-three-dots-vertical",onClick:t[0]||(t[0]=function(t){return e.setDropup("mobile")})}),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["dropdown-menu dropdown-menu-right",{show:"mobile"===e.dropup}]),style:{"margin-bottom":"0.9rem"}},[km,n.showButton("cast")&&e.castAvailable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0})):Object(o["createCommentVNode"])("",!0),s.pipEnabled?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:1})):Object(o["createCommentVNode"])("",!0),n.showButton("fullscreen")?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:2,click:e.toggleFullscreen},null,8,["click"])):Object(o["createCommentVNode"])("",!0)],2)])):Object(o["createCommentVNode"])("",!0)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Sm,[n.showButton("settings")?(Object(o["openBlock"])(),Object(o["createBlock"])(l,{key:0,streamId:n.streamId},null,8,["streamId"])):Object(o["createCommentVNode"])("",!0),n.showButton("cast")&&e.castAvailable?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1})):Object(o["createCommentVNode"])("",!0),s.pipEnabled?(Object(o["openBlock"])(),Object(o["createBlock"])(d,{key:2})):Object(o["createCommentVNode"])("",!0),n.showButton("fullscreen")?(Object(o["openBlock"])(),Object(o["createBlock"])(f,{key:3,click:e.toggleFullscreen},null,8,["click"])):Object(o["createCommentVNode"])("",!0)]))])}var Cm=function(e){return Object(o["pushScopeId"])("data-v-f9fa5040"),e=e(),Object(o["popScopeId"])(),e},Em={key:0},jm=Cm((function(){return Object(o["createElementVNode"])("span",{class:"align-middle"},"Cast",-1)})),Tm=[jm];function Im(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("google-cast-launcher");return e.castAvailable&&!e.options.loading?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:0,class:Object(o["normalizeClass"])([e.isMobile?"dropdown-item d-flex row mx-0":"mobile-setting"]),onClick:t[0]||(t[0]=function(){return s.clickCast&&s.clickCast.apply(s,arguments)})},[Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])([e.isMobile?"":"mobile-setting"])},[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])(["align-middle control-icon",e.isMobile?"mobile-icon":"h3"])},[Object(o["createVNode"])(a,{ref:"cast"},null,512)],2)],2),e.isMobile?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Em,Tm)):Object(o["createCommentVNode"])("",!0)],2)):Object(o["createCommentVNode"])("",!0)}var Rm={name:"VideoPlayerControlsCast",computed:d({},Ve("Controls",{isMobile:function(e){return e.isMobile},castAvailable:function(e){return e.castAvailable},options:function(e){return e.castOptions}})),methods:{clickCast:function(){this.$refs.cast.click()}}};n("a706");const Vm=_d()(Rm,[["render",Im],["__scopeId","data-v-f9fa5040"]]);var Pm=Vm,Am={name:"VideoPlayer",components:{VideoPlayerControlsFullscreen:Ud,VideoPlayerControlsPip:Gd,VideoPlayerControlsPlay:Hd,VideoPlayerControlsSettings:rm,VideoPlayerControlsVolume:vm,VideoPlayerControlsCast:Pm},props:{showButton:Function,streamId:String,isConnected:Boolean,currentTime:String},data:function(){return{dropupShow:!1}},computed:d(d({},Ve("Controls",{video:function(e){return e.video},dropup:function(e){return e.dropup},isMobile:function(e){return e.isMobile},isLive:function(e){return e.isLive},castAvailable:function(e){return e.castAvailable}})),{},{isVideoTag:function(){var e;return"VIDEO"===(null===(e=this.video)||void 0===e?void 0:e.nodeName)},pipEnabled:function(){return this.showButton("pip")&&document.pictureInPictureEnabled&&this.isLive&&this.isVideoTag}}),methods:d({},Pe("Controls",["setDropup","toggleFullscreen"])),beforeMount:function(){return u(c().mark((function e(){return c().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Cl();case 2:case"end":return e.stop()}}),e)})))()}};n("d745");const Mm=_d()(Am,[["render",Om],["__scopeId","data-v-6e3117e0"]]);var Lm=Mm,Nm={name:"VideoPlayerContainer",components:{VideoPlayerMedia:kd,VideoPlayerControlsBadge:Nd,VideoPlayerControlsUserCount:dm,VideoPlayerControlsContainer:Lm,VideoPlayerSideVideoSources:Rd},data:function(){return{show:!0,timeInterval:0,secondsElapsed:0,cast:{isConnected:!1},controlsTimeout:0,mobileFullscreen:!1,toast:new yd}},mounted:function(){var e,t=this;null===(e=screen.orientation)||void 0===e||e.addEventListener("change",this.handleOrientationChange),this.controlsTimeout=setTimeout((function(){t.show=!1}),4e3),this.timeInterval=setInterval((function(){t.playing&&t.secondsElapsed++}),1e3),this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},beforeUnmount:function(){clearInterval(this.timeInterval)},computed:d(d(d(d(d({},Ve("Params",{viewer:function(e){return e.viewer}})),Ve("Errors",{type:function(e){return e.type},message:function(e){return e.message},showError:function(e){return e.showError}})),Ve("Sources",{videoSources:function(e){return e.videoSources},audioSources:function(e){return e.audioSources},selectedVideoSource:function(e){return e.selectedVideoSource},selectedAudioSource:function(e){return e.selectedAudioSource},sourceRemoteTracks:function(e){return e.sourceRemoteTracks}})),Ve("Controls",{video:function(e){return e.video},playing:function(e){return e.playing},player:function(e){return e.player},fullscreen:function(e){return e.fullscreen},dropup:function(e){return e.dropup},isLoading:function(e){return e.isLoading},isMainVideoFullScreen:function(e){return e.isMainVideoFullScreen},volume:function(e){return e.volume},playerMuted:function(e){return e.muted},castIsConnected:function(e){return e.castIsConnected},castDevice:function(e){return e.castDevice},srcObject:function(e){return e.srcObject},autoPlayMuted:function(e){return e.autoPlayMuted},isLive:function(e){return e.isLive},isSplittedView:function(e){return e.isSplittedView},hideToast:function(e){return e.hideToast},isGrid:function(e){return e.isGrid}})),{},{currentTime:function(){var e=this.secondsElapsed,t=Math.floor(e/60);return t=t>=10?t:"0"+t,e=Math.floor(e%60),e=e>=10?e:"0"+e,t+":"+e}}),methods:d(d(d(d(d({},Pe("Layers",["deleteLayers"])),Pe("Errors",["setShowError"])),Pe("Sources",["deleteSource","setMainLabel"])),Pe("Controls",["setVideo","setIsLive","setIsLoading","setIsMainVideoFullScreen","setTrackWarning","setDropup","setVideoVolume","setVideoMuted","setPlaying","setCastOptions","setAutoPlayMuted","toggleFullscreen","setIsSplittedView"])),{},{showControls:function(){this.controlsTimeout&&clearTimeout(this.controlsTimeout),this.show=!0,this.hideControls()},hideControls:function(){var e=this;this.playing&&""===this.dropup&&(this.controlsTimeout=setTimeout((function(){e.show=!1}),4e3))},showButton:function(e){var t=!this.viewer.hideButtons.includes(e);if(t&&"fullscreen"===e){var n,r,i,o=null!==(n=document.getElementById("player"))&&void 0!==n?n:document.getElementById("player2");o||(o=document.createElement("video")),t&&(t=document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||(null===(r=o)||void 0===r?void 0:r.requestFullscreen)||(null===(i=o)||void 0===i?void 0:i.webkitEnterFullscreen)),t||console.warn("Fullscreen disabled due to incompatibility with the browser.")}return t},handleOrientationChange:function(){var e=screen.orientation.type;"portrait-primary"===e&&Dm()&&!this.mobileFullscreen?this.leaveFullScreen():"landscape-primary"===e&&this.goFullScreen()},goFullScreen:function(){var e,t,n,r,i,o,s,a,c,l,u=document.getElementById("vplayer"),d=null!==(e=document.getElementById("player"))&&void 0!==e?e:document.getElementById("player2");null!==(t=null!==(n=null!==(r=null!==(i=null===u||void 0===u||null===(o=u.requestFullscreen)||void 0===o?void 0:o.call(u))&&void 0!==i?i:null===u||void 0===u||null===(s=u.webkitRequestFullscreen)||void 0===s?void 0:s.call(u))&&void 0!==r?r:null===u||void 0===u||null===(a=u.mozRequestFullScreen)||void 0===a?void 0:a.call(u))&&void 0!==n?n:null===u||void 0===u||null===(c=u.msRequestFullscreen)||void 0===c?void 0:c.call(u))&&void 0!==t||null===d||void 0===d||null===(l=d.webkitEnterFullscreen)||void 0===l||l.call(d)},leaveFullScreen:function(){var e,t,n,r,i,o,s,a,c,l,u;null!==(e=null!==(t=null!==(n=null===(r=(i=document).exitFullscreen)||void 0===r?void 0:r.call(i))&&void 0!==n?n:null===(o=(s=document).webkitExitFullscreen)||void 0===o?void 0:o.call(s))&&void 0!==t?t:null===(a=(c=document).mozCancelFullScreen)||void 0===a?void 0:a.call(c))&&void 0!==e||null===(l=(u=document).msExitFullscreen)||void 0===l||l.call(u)},tapUnmute:function(){this.setVideoMuted(!1),this.setAutoPlayMuted(!1)},handleWholeScreen:function(){var e;this.isGrid?this.setIsMainVideoFullScreen(!this.isMainVideoFullScreen):(_l({kind:"video",source:this.videoSources[0]}),this.setMainLabel(null!==(e=this.videoSources[0].sourceId)&&void 0!==e?e:this.videoSources[0].name))}}),watch:{playing:function(e){e?this.hideControls():this.showControls()},fullscreen:function(){document.pictureInPictureElement&&document.exitPictureInPicture(),Dm()?(this.mobileFullscreen=!1,this.leaveFullScreen()):(this.mobileFullscreen=!0,this.goFullScreen())},dropup:function(){this.showControls()},token:function(){this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},castIsConnected:function(e){if(e){this.setPlaying(!1),this.setIsLoading(!1);var t=this.castDevice;this.cast={isConnected:e,device:t},this.showControls()}else this.cast={isConnected:e}},viewer:function(){this.setCastOptions({streamId:this.viewer.streamId,token:this.viewer.token,loading:this.isLoading})},showError:function(e){e&&"SubscriberError"===this.type?this.toast.showToast("error",this.message):this.setShowError(!1)}}},Dm=function(){return document.fullscreenElement||document.webkitFullscreenElement};n("28ba"),n("f098");const Bm=_d()(Nm,[["render",E],["__scopeId","data-v-c5a460c4"]]);var Fm=Bm,Um=(n("cd74"),n("ab8b"),n("da96"),n("87d4")),zm={name:"App",components:{VideoPlayerContainer:Fm},props:{paramsOptions:Object},methods:d(d({},Pe("Controls",["setMobile"])),{},{updateParams:function(){var e;if(this.paramsOptions){var t,n,r,i,o,s,a,c,l,u,d,f,p,h,m,v,g,b,y,w,S,_,x,k,O,C,E,j,T,I,R,V,P,A,M,L=null!==(t=null===(n=this.paramsOptions)||void 0===n||null===(n=n.environment)||void 0===n?void 0:n.NODE_ENV)&&void 0!==t?t:"production";Ke({streamId:(null===(r=this.paramsOptions)||void 0===r?void 0:r.accountId)+"/"+(null===(i=this.paramsOptions)||void 0===i?void 0:i.streamName),audioOnly:null!==(o=null===(s=this.paramsOptions)||void 0===s?void 0:s.audioOnly)&&void 0!==o&&o,videoOnly:null!==(a=null===(c=this.paramsOptions)||void 0===c?void 0:c.videoOnly)&&void 0!==a&&a,token:null===(l=this.paramsOptions)||void 0===l?void 0:l.token,image:null===(u=this.paramsOptions)||void 0===u?void 0:u.image,directorUrl:"production"!==L?null===(d=this.paramsOptions)||void 0===d?void 0:d.directorUrl:null,hideButtons:!1===this.paramsOptions.controls?Ye:null!==(f=this.paramsOptions.hideButtons)&&void 0!==f?f:[],autoplay:null===(p=this.paramsOptions.autoplay)||void 0===p||p,muted:null!==(h=this.paramsOptions.muted)&&void 0!==h&&h,noDelay:null!==(m=null===(v=this.paramsOptions)||void 0===v?void 0:v.noDelay)&&void 0!==m&&m,multisource:null!==(g=null===(b=this.paramsOptions)||void 0===b?void 0:b.multisource)&&void 0!==g&&g,audioFollowsVideo:null!==(y=null===(w=this.paramsOptions)||void 0===w?void 0:w.audioFollowsVideo)&&void 0!==y&&y,animate:null!==(S=null===(_=this.paramsOptions)||void 0===_?void 0:_.animate)&&void 0!==S&&S,maxHeight:null!==(x=null===(k=this.paramsOptions)||void 0===k?void 0:k.maxHeight)&&void 0!==x?x:null,layout:null!==(O=null===(C=this.paramsOptions)||void 0===C?void 0:C.layout)&&void 0!==O?O:null,showLabels:null===(E=null===(j=this.paramsOptions)||void 0===j?void 0:j.showLabels)||void 0===E||E,startingQuality:null===(T=this.paramsOptions)||void 0===T?void 0:T.startingQuality,hideToast:null===(I=this.paramsOptions)||void 0===I?void 0:I.hideToast,mainLabel:null!==(R=null===(V=this.paramsOptions)||void 0===V?void 0:V.mainLabel)&&void 0!==R?R:"Main",forcePlayoutDelayMin:null===(P=this.paramsOptions)||void 0===P?void 0:P.forcePlayoutDelayMin,forcePlayoutDelayMax:null===(A=this.paramsOptions)||void 0===A?void 0:A.forcePlayoutDelayMax,metadata:null===(M=this.paramsOptions)||void 0===M?void 0:M.metadata})}Qe(null===(e=this.paramsOptions)||void 0===e?void 0:e.environment)}}),mounted:function(){var e=this;return u(c().mark((function t(){var n,r,i,o;return c().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=document.getElementById("viewer-container"),t.next=3,new yd;case 3:i=t.sent,i.updateDefaults({container:r,containerClassName:"toast-custom"}),e.updateParams(),null!==(n=e.paramsOptions)&&void 0!==n&&n.startingQuality&&i.showToast("info","Fetching starting quality layer",{timeout:1500}),Um["ElementQueries"].listen(),Um["ElementQueries"].init(),window.addEventListener("load",(function(){new Um["ResizeSensor"](r,(function(){e.setMobile(r.clientWidth<=575)}))})),o=document.createElement("script"),o.setAttribute("src","//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1"),o.async=!0,document.head.appendChild(o);case 14:case"end":return t.stop()}}),t)})))()},watch:{paramsOptions:function(){this.updateParams()}}};n("49dd");const Wm=_d()(zm,[["render",s],["__scopeId","data-v-1669af38"]]);var Zm=Wm,Gm=function(e){return Object(o["pushScopeId"])("data-v-742b9a28"),e=e(),Object(o["popScopeId"])(),e},$m={class:"modal fade show",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLabel","aria-hidden":"true",style:{display:"block"}},Xm={class:"modal-dialog modal-dialog-scrollable",role:"document"},Ym={class:"modal-content"},Hm={class:"modal-header"},Km=["textContent"],Jm=Gm((function(){return Object(o["createElementVNode"])("span",{"aria-hidden":"true"},"×",-1)})),Qm=[Jm],qm={class:"modal-body"},ev={class:"modal-footer"};function tv(e,t,n,r,i,s){var a=Object(o["resolveComponent"])("base-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$m,[(Object(o["openBlock"])(),Object(o["createBlock"])(o["Teleport"],{to:"#viewer-container"},[Object(o["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(){return n.toggle&&n.toggle.apply(n,arguments)}),class:"backdrop"})])),Object(o["createElementVNode"])("div",Xm,[Object(o["createElementVNode"])("div",Ym,[Object(o["createElementVNode"])("div",Hm,[Object(o["renderSlot"])(e.$slots,"modal-header",{},(function(){return[Object(o["createElementVNode"])("h5",{class:"modal-title",textContent:Object(o["toDisplayString"])(n.title)},null,8,Km),Object(o["createElementVNode"])("button",{type:"button",class:"close","data-dismiss":"modal","aria-label":"Close",onClick:t[1]||(t[1]=function(){return n.toggle&&n.toggle.apply(n,arguments)})},Qm)]}),!0)]),Object(o["createElementVNode"])("div",qm,[Object(o["renderSlot"])(e.$slots,"modal-body",{},void 0,!0)]),Object(o["createElementVNode"])("div",ev,[Object(o["renderSlot"])(e.$slots,"modal-footer",{},(function(){return[Object(o["createVNode"])(a,{btype:"btn-p",onClick:n.toggle},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])("OK")]})),_:1},8,["onClick"])]}),!0)])])])])}var nv={name:"BaseModal",props:{title:String,toggle:Function}};n("3143");const rv=_d()(nv,[["render",tv],["__scopeId","data-v-742b9a28"]]);var iv=rv;function ov(e,t,n,r,i,s){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{type:"button",class:Object(o["normalizeClass"])(["btn shadow-none",[n.btype]])},[Object(o["renderSlot"])(e.$slots,"default",{},void 0,!0)],2)}var sv={name:"BaseButton",props:["btype","bstyle","bcolor"]};n("b3ad");const av=_d()(sv,[["render",ov],["__scopeId","data-v-7037ab8a"]]);var cv=av,lv=function(e,t){return 0===t.filter((function(t){return t.type===e.type})).length&&e},uv={install:function(e,t){t.store?(t.store.registerModule("Controls",Ge),t.store.registerModule("Layers",We),t.store.registerModule("Errors",nt),t.store.registerModule("Params",et),t.store.registerModule("Sources",Ue),t.store.registerModule("ViewConnection",Xe)):e.use(rt),e.use(vd,{transition:"Vue-Toastification__fade",maxToasts:2,newestOnTop:!0,position:"top-center",closeOnClick:!1,closeButton:!1,pauseOnFocusLoss:!1,pauseOnHover:!1,draggable:!1,timeout:!1,filterBeforeCreate:lv}),e.component("base-modal",iv),e.component("base-button",cv),e.component("VideoPlayer",Zm)}};t["default"]=uv},fb6a:function(e,t,n){"use strict";var r=n("23e7"),i=n("e8b5"),o=n("68ee"),s=n("861d"),a=n("23cb"),c=n("07fa"),l=n("fc6a"),u=n("8418"),d=n("b622"),f=n("1dde"),p=n("f36a"),h=f("slice"),m=d("species"),v=Array,g=Math.max;r({target:"Array",proto:!0,forced:!h},{slice:function(e,t){var n,r,d,f=l(this),h=c(f),b=a(e,h),y=a(void 0===t?h:t,h);if(i(f)&&(n=f.constructor,o(n)&&(n===v||i(n.prototype))?n=void 0:s(n)&&(n=n[m],null===n&&(n=void 0)),n===v||void 0===n))return p(f,b,y);for(r=new(void 0===n?v:n)(g(y-b,0)),d=0;b<y;b++,d++)b in f&&u(r,d,f[b]);return r.length=d,r}})},fc6a:function(e,t,n){"use strict";var r=n("44ad"),i=n("1d80");e.exports=function(e){return r(i(e))}},fce3:function(e,t,n){"use strict";var r=n("d039"),i=n("da84"),o=i.RegExp;e.exports=r((function(){var e=o(".","s");return!(e.dotAll&&e.test("\n")&&"s"===e.flags)}))},fdbc:function(e,t,n){"use strict";e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(e,t,n){"use strict";var r=n("04f8");e.exports=r&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}})}));
//# sourceMappingURL=millicast-vue-viewer-plugin.umd.min.js.map